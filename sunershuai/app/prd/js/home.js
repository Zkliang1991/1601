/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__(5);


/***/ },
/* 1 */,
/* 2 */
/***/ function(module, exports) {

	eval("/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n/* Zepto v1.1.3 - zepto event ajax form ie - zeptojs.com/license */\n\n\nvar Zepto = (function() {\n  var undefined, key, $, classList, emptyArray = [], slice = emptyArray.slice, filter = emptyArray.filter,\n      document = window.document,\n      elementDisplay = {}, classCache = {},\n      cssNumber = { 'column-count': 1, 'columns': 1, 'font-weight': 1, 'line-height': 1,'opacity': 1, 'z-index': 1, 'zoom': 1 },\n      fragmentRE = /^\\s*<(\\w+|!)[^>]*>/,\n      singleTagRE = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,\n      tagExpanderRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\n      rootNodeRE = /^(?:body|html)$/i,\n      capitalRE = /([A-Z])/g,\n\n  // special attributes that should be get/set via method calls\n      methodAttributes = ['val', 'css', 'html', 'text', 'data', 'width', 'height', 'offset'],\n\n      adjacencyOperators = [ 'after', 'prepend', 'before', 'append' ],\n      table = document.createElement('table'),\n      tableRow = document.createElement('tr'),\n      containers = {\n        'tr': document.createElement('tbody'),\n        'tbody': table, 'thead': table, 'tfoot': table,\n        'td': tableRow, 'th': tableRow,\n        '*': document.createElement('div')\n      },\n      readyRE = /complete|loaded|interactive/,\n      simpleSelectorRE = /^[\\w-]*$/,\n      class2type = {},\n      toString = class2type.toString,\n      zepto = {},\n      camelize, uniq,\n      tempParent = document.createElement('div'),\n      propMap = {\n        'tabindex': 'tabIndex',\n        'readonly': 'readOnly',\n        'for': 'htmlFor',\n        'class': 'className',\n        'maxlength': 'maxLength',\n        'cellspacing': 'cellSpacing',\n        'cellpadding': 'cellPadding',\n        'rowspan': 'rowSpan',\n        'colspan': 'colSpan',\n        'usemap': 'useMap',\n        'frameborder': 'frameBorder',\n        'contenteditable': 'contentEditable'\n      },\n      isArray = Array.isArray ||\n          function(object){ return object instanceof Array }\n\n  zepto.matches = function(element, selector) {\n    if (!selector || !element || element.nodeType !== 1) return false\n    var matchesSelector = element.webkitMatchesSelector || element.mozMatchesSelector ||\n        element.oMatchesSelector || element.matchesSelector\n    if (matchesSelector) return matchesSelector.call(element, selector)\n    // fall back to performing a selector:\n    var match, parent = element.parentNode, temp = !parent\n    if (temp) (parent = tempParent).appendChild(element)\n    match = ~zepto.qsa(parent, selector).indexOf(element)\n    temp && tempParent.removeChild(element)\n    return match\n  }\n\n  function type(obj) {\n    return obj == null ? String(obj) :\n        class2type[toString.call(obj)] || \"object\"\n  }\n\n  function isFunction(value) { return type(value) == \"function\" }\n  function isWindow(obj)     { return obj != null && obj == obj.window }\n  function isDocument(obj)   { return obj != null && obj.nodeType == obj.DOCUMENT_NODE }\n  function isObject(obj)     { return type(obj) == \"object\" }\n  function isPlainObject(obj) {\n    return isObject(obj) && !isWindow(obj) && Object.getPrototypeOf(obj) == Object.prototype\n  }\n  function likeArray(obj) { return typeof obj.length == 'number' }\n\n  function compact(array) { return filter.call(array, function(item){ return item != null }) }\n  function flatten(array) { return array.length > 0 ? $.fn.concat.apply([], array) : array }\n  camelize = function(str){ return str.replace(/-+(.)?/g, function(match, chr){ return chr ? chr.toUpperCase() : '' }) }\n  function dasherize(str) {\n    return str.replace(/::/g, '/')\n        .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')\n        .replace(/([a-z\\d])([A-Z])/g, '$1_$2')\n        .replace(/_/g, '-')\n        .toLowerCase()\n  }\n  uniq = function(array){ return filter.call(array, function(item, idx){ return array.indexOf(item) == idx }) }\n\n  function classRE(name) {\n    return name in classCache ?\n        classCache[name] : (classCache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'))\n  }\n\n  function maybeAddPx(name, value) {\n    return (typeof value == \"number\" && !cssNumber[dasherize(name)]) ? value + \"px\" : value\n  }\n\n  function defaultDisplay(nodeName) {\n    var element, display\n    if (!elementDisplay[nodeName]) {\n      element = document.createElement(nodeName)\n      document.body.appendChild(element)\n      display = getComputedStyle(element, '').getPropertyValue(\"display\")\n      element.parentNode.removeChild(element)\n      display == \"none\" && (display = \"block\")\n      elementDisplay[nodeName] = display\n    }\n    return elementDisplay[nodeName]\n  }\n\n  function children(element) {\n    return 'children' in element ?\n        slice.call(element.children) :\n        $.map(element.childNodes, function(node){ if (node.nodeType == 1) return node })\n  }\n\n  // `$.zepto.fragment` takes a html string and an optional tag name\n  // to generate DOM nodes nodes from the given html string.\n  // The generated DOM nodes are returned as an array.\n  // This function can be overriden in plugins for example to make\n  // it compatible with browsers that don't support the DOM fully.\n  zepto.fragment = function(html, name, properties) {\n    var dom, nodes, container\n\n    // A special case optimization for a single tag\n    if (singleTagRE.test(html)) dom = $(document.createElement(RegExp.$1))\n\n    if (!dom) {\n      if (html.replace) html = html.replace(tagExpanderRE, \"<$1></$2>\")\n      if (name === undefined) name = fragmentRE.test(html) && RegExp.$1\n      if (!(name in containers)) name = '*'\n\n      container = containers[name]\n      container.innerHTML = '' + html\n      dom = $.each(slice.call(container.childNodes), function(){\n        container.removeChild(this)\n      })\n    }\n\n    if (isPlainObject(properties)) {\n      nodes = $(dom)\n      $.each(properties, function(key, value) {\n        if (methodAttributes.indexOf(key) > -1) nodes[key](value)\n        else nodes.attr(key, value)\n      })\n    }\n\n    return dom\n  }\n\n  // `$.zepto.Z` swaps out the prototype of the given `dom` array\n  // of nodes with `$.fn` and thus supplying all the Zepto functions\n  // to the array. Note that `__proto__` is not supported on Internet\n  // Explorer. This method can be overriden in plugins.\n  zepto.Z = function(dom, selector) {\n    dom = dom || []\n    dom.__proto__ = $.fn\n    dom.selector = selector || ''\n    return dom\n  }\n\n  // `$.zepto.isZ` should return `true` if the given object is a Zepto\n  // collection. This method can be overriden in plugins.\n  zepto.isZ = function(object) {\n    return object instanceof zepto.Z\n  }\n\n  // `$.zepto.init` is Zepto's counterpart to jQuery's `$.fn.init` and\n  // takes a CSS selector and an optional context (and handles various\n  // special cases).\n  // This method can be overriden in plugins.\n  zepto.init = function(selector, context) {\n    var dom\n    // If nothing given, return an empty Zepto collection\n    if (!selector) return zepto.Z()\n    // Optimize for string selectors\n    else if (typeof selector == 'string') {\n      selector = selector.trim()\n      // If it's a html fragment, create nodes from it\n      // Note: In both Chrome 21 and Firefox 15, DOM error 12\n      // is thrown if the fragment doesn't begin with <\n      if (selector[0] == '<' && fragmentRE.test(selector))\n        dom = zepto.fragment(selector, RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // If it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // If a function is given, call it when the DOM is ready\n    else if (isFunction(selector)) return $(document).ready(selector)\n    // If a Zepto collection is given, just return it\n    else if (zepto.isZ(selector)) return selector\n    else {\n      // normalize array if an array of nodes is given\n      if (isArray(selector)) dom = compact(selector)\n      // Wrap DOM nodes.\n      else if (isObject(selector))\n        dom = [selector], selector = null\n      // If it's a html fragment, create nodes from it\n      else if (fragmentRE.test(selector))\n        dom = zepto.fragment(selector.trim(), RegExp.$1, context), selector = null\n      // If there's a context, create a collection on that context first, and select\n      // nodes from there\n      else if (context !== undefined) return $(context).find(selector)\n      // And last but no least, if it's a CSS selector, use it to select nodes.\n      else dom = zepto.qsa(document, selector)\n    }\n    // create a new Zepto collection from the nodes found\n    return zepto.Z(dom, selector)\n  }\n\n  // `$` will be the base `Zepto` object. When calling this\n  // function just call `$.zepto.init, which makes the implementation\n  // details of selecting nodes and creating Zepto collections\n  // patchable in plugins.\n  $ = function(selector, context){\n    return zepto.init(selector, context)\n  }\n\n  function extend(target, source, deep) {\n    for (key in source)\n      if (deep && (isPlainObject(source[key]) || isArray(source[key]))) {\n        if (isPlainObject(source[key]) && !isPlainObject(target[key]))\n          target[key] = {}\n        if (isArray(source[key]) && !isArray(target[key]))\n          target[key] = []\n        extend(target[key], source[key], deep)\n      }\n      else if (source[key] !== undefined) target[key] = source[key]\n  }\n\n  // Copy all but undefined properties from one or more\n  // objects to the `target` object.\n  $.extend = function(target){\n    var deep, args = slice.call(arguments, 1)\n    if (typeof target == 'boolean') {\n      deep = target\n      target = args.shift()\n    }\n    args.forEach(function(arg){ extend(target, arg, deep) })\n    return target\n  }\n\n  // `$.zepto.qsa` is Zepto's CSS selector implementation which\n  // uses `document.querySelectorAll` and optimizes for some special cases, like `#id`.\n  // This method can be overriden in plugins.\n  zepto.qsa = function(element, selector){\n    var found,\n        maybeID = selector[0] == '#',\n        maybeClass = !maybeID && selector[0] == '.',\n        nameOnly = maybeID || maybeClass ? selector.slice(1) : selector, // Ensure that a 1 char tag name still gets checked\n        isSimple = simpleSelectorRE.test(nameOnly)\n    return (isDocument(element) && isSimple && maybeID) ?\n        ( (found = element.getElementById(nameOnly)) ? [found] : [] ) :\n        (element.nodeType !== 1 && element.nodeType !== 9) ? [] :\n            slice.call(\n                isSimple && !maybeID ?\n                    maybeClass ? element.getElementsByClassName(nameOnly) : // If it's simple, it could be a class\n                        element.getElementsByTagName(selector) : // Or a tag\n                    element.querySelectorAll(selector) // Or it's not simple, and we need to query all\n            )\n  }\n\n  function filtered(nodes, selector) {\n    return selector == null ? $(nodes) : $(nodes).filter(selector)\n  }\n\n  $.contains = function(parent, node) {\n    return parent !== node && parent.contains(node)\n  }\n\n  function funcArg(context, arg, idx, payload) {\n    return isFunction(arg) ? arg.call(context, idx, payload) : arg\n  }\n\n  function setAttribute(node, name, value) {\n    value == null ? node.removeAttribute(name) : node.setAttribute(name, value)\n  }\n\n  // access className property while respecting SVGAnimatedString\n  function className(node, value){\n    var klass = node.className,\n        svg   = klass && klass.baseVal !== undefined\n\n    if (value === undefined) return svg ? klass.baseVal : klass\n    svg ? (klass.baseVal = value) : (node.className = value)\n  }\n\n  // \"true\"  => true\n  // \"false\" => false\n  // \"null\"  => null\n  // \"42\"    => 42\n  // \"42.5\"  => 42.5\n  // \"08\"    => \"08\"\n  // JSON    => parse if valid\n  // String  => self\n  function deserializeValue(value) {\n    var num\n    try {\n      return value ?\n          value == \"true\" ||\n              ( value == \"false\" ? false :\n                  value == \"null\" ? null :\n                      !/^0/.test(value) && !isNaN(num = Number(value)) ? num :\n                          /^[\\[\\{]/.test(value) ? $.parseJSON(value) :\n                              value )\n          : value\n    } catch(e) {\n      return value\n    }\n  }\n\n  $.type = type\n  $.isFunction = isFunction\n  $.isWindow = isWindow\n  $.isArray = isArray\n  $.isPlainObject = isPlainObject\n\n  $.isEmptyObject = function(obj) {\n    var name\n    for (name in obj) return false\n    return true\n  }\n\n  $.inArray = function(elem, array, i){\n    return emptyArray.indexOf.call(array, elem, i)\n  }\n\n  $.camelCase = camelize\n  $.trim = function(str) {\n    return str == null ? \"\" : String.prototype.trim.call(str)\n  }\n\n  // plugin compatibility\n  $.uuid = 0\n  $.support = { }\n  $.expr = { }\n\n  $.map = function(elements, callback){\n    var value, values = [], i, key\n    if (likeArray(elements))\n      for (i = 0; i < elements.length; i++) {\n        value = callback(elements[i], i)\n        if (value != null) values.push(value)\n      }\n    else\n      for (key in elements) {\n        value = callback(elements[key], key)\n        if (value != null) values.push(value)\n      }\n    return flatten(values)\n  }\n\n  $.each = function(elements, callback){\n    var i, key\n    if (likeArray(elements)) {\n      for (i = 0; i < elements.length; i++)\n        if (callback.call(elements[i], i, elements[i]) === false) return elements\n    } else {\n      for (key in elements)\n        if (callback.call(elements[key], key, elements[key]) === false) return elements\n    }\n\n    return elements\n  }\n\n  $.grep = function(elements, callback){\n    return filter.call(elements, callback)\n  }\n\n  if (window.JSON) $.parseJSON = JSON.parse\n\n  // Populate the class2type map\n  $.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n    class2type[ \"[object \" + name + \"]\" ] = name.toLowerCase()\n  })\n\n  // Define methods that will be available on all\n  // Zepto collections\n  $.fn = {\n    // Because a collection acts like an array\n    // copy over these useful array functions.\n    forEach: emptyArray.forEach,\n    reduce: emptyArray.reduce,\n    push: emptyArray.push,\n    sort: emptyArray.sort,\n    indexOf: emptyArray.indexOf,\n    concat: emptyArray.concat,\n\n    // `map` and `slice` in the jQuery API work differently\n    // from their array counterparts\n    map: function(fn){\n      return $($.map(this, function(el, i){ return fn.call(el, i, el) }))\n    },\n    slice: function(){\n      return $(slice.apply(this, arguments))\n    },\n\n    ready: function(callback){\n      // need to check if document.body exists for IE as that browser reports\n      // document ready when it hasn't yet created the body element\n      if (readyRE.test(document.readyState) && document.body) callback($)\n      else document.addEventListener('DOMContentLoaded', function(){ callback($) }, false)\n      return this\n    },\n    get: function(idx){\n      return idx === undefined ? slice.call(this) : this[idx >= 0 ? idx : idx + this.length]\n    },\n    toArray: function(){ return this.get() },\n    size: function(){\n      return this.length\n    },\n    remove: function(){\n      return this.each(function(){\n        if (this.parentNode != null)\n          this.parentNode.removeChild(this)\n      })\n    },\n    each: function(callback){\n      emptyArray.every.call(this, function(el, idx){\n        return callback.call(el, idx, el) !== false\n      })\n      return this\n    },\n    filter: function(selector){\n      if (isFunction(selector)) return this.not(this.not(selector))\n      return $(filter.call(this, function(element){\n        return zepto.matches(element, selector)\n      }))\n    },\n    add: function(selector,context){\n      return $(uniq(this.concat($(selector,context))))\n    },\n    is: function(selector){\n      return this.length > 0 && zepto.matches(this[0], selector)\n    },\n    not: function(selector){\n      var nodes=[]\n      if (isFunction(selector) && selector.call !== undefined)\n        this.each(function(idx){\n          if (!selector.call(this,idx)) nodes.push(this)\n        })\n      else {\n        var excludes = typeof selector == 'string' ? this.filter(selector) :\n            (likeArray(selector) && isFunction(selector.item)) ? slice.call(selector) : $(selector)\n        this.forEach(function(el){\n          if (excludes.indexOf(el) < 0) nodes.push(el)\n        })\n      }\n      return $(nodes)\n    },\n    has: function(selector){\n      return this.filter(function(){\n        return isObject(selector) ?\n            $.contains(this, selector) :\n            $(this).find(selector).size()\n      })\n    },\n    eq: function(idx){\n      return idx === -1 ? this.slice(idx) : this.slice(idx, + idx + 1)\n    },\n    first: function(){\n      var el = this[0]\n      return el && !isObject(el) ? el : $(el)\n    },\n    last: function(){\n      var el = this[this.length - 1]\n      return el && !isObject(el) ? el : $(el)\n    },\n    find: function(selector){\n      var result, $this = this\n      if (typeof selector == 'object')\n        result = $(selector).filter(function(){\n          var node = this\n          return emptyArray.some.call($this, function(parent){\n            return $.contains(parent, node)\n          })\n        })\n      else if (this.length == 1) result = $(zepto.qsa(this[0], selector))\n      else result = this.map(function(){ return zepto.qsa(this, selector) })\n      return result\n    },\n    closest: function(selector, context){\n      var node = this[0], collection = false\n      if (typeof selector == 'object') collection = $(selector)\n      while (node && !(collection ? collection.indexOf(node) >= 0 : zepto.matches(node, selector)))\n        node = node !== context && !isDocument(node) && node.parentNode\n      return $(node)\n    },\n    parents: function(selector){\n      var ancestors = [], nodes = this\n      while (nodes.length > 0)\n        nodes = $.map(nodes, function(node){\n          if ((node = node.parentNode) && !isDocument(node) && ancestors.indexOf(node) < 0) {\n            ancestors.push(node)\n            return node\n          }\n        })\n      return filtered(ancestors, selector)\n    },\n    parent: function(selector){\n      return filtered(uniq(this.pluck('parentNode')), selector)\n    },\n    children: function(selector){\n      return filtered(this.map(function(){ return children(this) }), selector)\n    },\n    contents: function() {\n      return this.map(function() { return slice.call(this.childNodes) })\n    },\n    siblings: function(selector){\n      return filtered(this.map(function(i, el){\n        return filter.call(children(el.parentNode), function(child){ return child!==el })\n      }), selector)\n    },\n    empty: function(){\n      return this.each(function(){ this.innerHTML = '' })\n    },\n    // `pluck` is borrowed from Prototype.js\n    pluck: function(property){\n      return $.map(this, function(el){ return el[property] })\n    },\n    show: function(){\n      return this.each(function(){\n        this.style.display == \"none\" && (this.style.display = '')\n        if (getComputedStyle(this, '').getPropertyValue(\"display\") == \"none\")\n          this.style.display = defaultDisplay(this.nodeName)\n      });\n    },\n    replaceWith: function(newContent){\n      return this.before(newContent).remove()\n    },\n    wrap: function(structure){\n      var func = isFunction(structure)\n      if (this[0] && !func)\n        var dom   = $(structure).get(0),\n            clone = dom.parentNode || this.length > 1\n\n      return this.each(function(index){\n        $(this).wrapAll(\n            func ? structure.call(this, index) :\n                clone ? dom.cloneNode(true) : dom\n        )\n      })\n    },\n    wrapAll: function(structure){\n      if (this[0]) {\n        $(this[0]).before(structure = $(structure))\n        var children\n        // drill down to the inmost element\n        while ((children = structure.children()).length) structure = children.first()\n        $(structure).append(this)\n      }\n      return this\n    },\n    wrapInner: function(structure){\n      var func = isFunction(structure)\n      return this.each(function(index){\n        var self = $(this), contents = self.contents(),\n            dom  = func ? structure.call(this, index) : structure\n        contents.length ? contents.wrapAll(dom) : self.append(dom)\n      })\n    },\n    unwrap: function(){\n      this.parent().each(function(){\n        $(this).replaceWith($(this).children())\n      })\n      return this\n    },\n    clone: function(){\n      return this.map(function(){ return this.cloneNode(true) })\n    },\n    hide: function(){\n      return this.css(\"display\", \"none\")\n    },\n    toggle: function(setting){\n      return this.each(function(){\n        var el = $(this)\n            ;(setting === undefined ? el.css(\"display\") == \"none\" : setting) ? el.show() : el.hide()\n      })\n    },\n    prev: function(selector){ return $(this.pluck('previousElementSibling')).filter(selector || '*') },\n    next: function(selector){ return $(this.pluck('nextElementSibling')).filter(selector || '*') },\n    html: function(html){\n      return arguments.length === 0 ?\n          (this.length > 0 ? this[0].innerHTML : null) :\n          this.each(function(idx){\n            var originHtml = this.innerHTML\n            $(this).empty().append( funcArg(this, html, idx, originHtml) )\n          })\n    },\n    text: function(text){\n      return arguments.length === 0 ?\n          (this.length > 0 ? this[0].textContent : null) :\n          this.each(function(){ this.textContent = (text === undefined) ? '' : ''+text })\n    },\n    attr: function(name, value){\n      var result\n      return (typeof name == 'string' && value === undefined) ?\n          (this.length == 0 || this[0].nodeType !== 1 ? undefined :\n              (name == 'value' && this[0].nodeName == 'INPUT') ? this.val() :\n                  (!(result = this[0].getAttribute(name)) && name in this[0]) ? this[0][name] : result\n              ) :\n          this.each(function(idx){\n            if (this.nodeType !== 1) return\n            if (isObject(name)) for (key in name) setAttribute(this, key, name[key])\n            else setAttribute(this, name, funcArg(this, value, idx, this.getAttribute(name)))\n          })\n    },\n    removeAttr: function(name){\n      return this.each(function(){ this.nodeType === 1 && setAttribute(this, name) })\n    },\n    prop: function(name, value){\n      name = propMap[name] || name\n      return (value === undefined) ?\n          (this[0] && this[0][name]) :\n          this.each(function(idx){\n            this[name] = funcArg(this, value, idx, this[name])\n          })\n    },\n    data: function(name, value){\n      var data = this.attr('data-' + name.replace(capitalRE, '-$1').toLowerCase(), value)\n      return data !== null ? deserializeValue(data) : undefined\n    },\n    val: function(value){\n      return arguments.length === 0 ?\n          (this[0] && (this[0].multiple ?\n              $(this[0]).find('option').filter(function(){ return this.selected }).pluck('value') :\n              this[0].value)\n              ) :\n          this.each(function(idx){\n            this.value = funcArg(this, value, idx, this.value)\n          })\n    },\n    offset: function(coordinates){\n      if (coordinates) return this.each(function(index){\n        var $this = $(this),\n            coords = funcArg(this, coordinates, index, $this.offset()),\n            parentOffset = $this.offsetParent().offset(),\n            props = {\n              top:  coords.top  - parentOffset.top,\n              left: coords.left - parentOffset.left\n            }\n\n        if ($this.css('position') == 'static') props['position'] = 'relative'\n        $this.css(props)\n      })\n      if (this.length==0) return null\n      var obj = this[0].getBoundingClientRect()\n      return {\n        left: obj.left + window.pageXOffset,\n        top: obj.top + window.pageYOffset,\n        width: Math.round(obj.width),\n        height: Math.round(obj.height)\n      }\n    },\n    css: function(property, value){\n      if (arguments.length < 2) {\n        var element = this[0], computedStyle = getComputedStyle(element, '')\n        if(!element) return\n        if (typeof property == 'string')\n          return element.style[camelize(property)] || computedStyle.getPropertyValue(property)\n        else if (isArray(property)) {\n          var props = {}\n          $.each(isArray(property) ? property: [property], function(_, prop){\n            props[prop] = (element.style[camelize(prop)] || computedStyle.getPropertyValue(prop))\n          })\n          return props\n        }\n      }\n\n      var css = ''\n      if (type(property) == 'string') {\n        if (!value && value !== 0)\n          this.each(function(){ this.style.removeProperty(dasherize(property)) })\n        else\n          css = dasherize(property) + \":\" + maybeAddPx(property, value)\n      } else {\n        for (key in property)\n          if (!property[key] && property[key] !== 0)\n            this.each(function(){ this.style.removeProperty(dasherize(key)) })\n          else\n            css += dasherize(key) + ':' + maybeAddPx(key, property[key]) + ';'\n      }\n\n      return this.each(function(){ this.style.cssText += ';' + css })\n    },\n    index: function(element){\n      return element ? this.indexOf($(element)[0]) : this.parent().children().indexOf(this[0])\n    },\n    hasClass: function(name){\n      if (!name) return false\n      return emptyArray.some.call(this, function(el){\n        return this.test(className(el))\n      }, classRE(name))\n    },\n    addClass: function(name){\n      if (!name) return this\n      return this.each(function(idx){\n        classList = []\n        var cls = className(this), newName = funcArg(this, name, idx, cls)\n        newName.split(/\\s+/g).forEach(function(klass){\n          if (!$(this).hasClass(klass)) classList.push(klass)\n        }, this)\n        classList.length && className(this, cls + (cls ? \" \" : \"\") + classList.join(\" \"))\n      })\n    },\n    removeClass: function(name){\n      return this.each(function(idx){\n        if (name === undefined) return className(this, '')\n        classList = className(this)\n        funcArg(this, name, idx, classList).split(/\\s+/g).forEach(function(klass){\n          classList = classList.replace(classRE(klass), \" \")\n        })\n        className(this, classList.trim())\n      })\n    },\n    toggleClass: function(name, when){\n      if (!name) return this\n      return this.each(function(idx){\n        var $this = $(this), names = funcArg(this, name, idx, className(this))\n        names.split(/\\s+/g).forEach(function(klass){\n          (when === undefined ? !$this.hasClass(klass) : when) ?\n              $this.addClass(klass) : $this.removeClass(klass)\n        })\n      })\n    },\n    scrollTop: function(value){\n      if (!this.length) return\n      var hasScrollTop = 'scrollTop' in this[0]\n      if (value === undefined) return hasScrollTop ? this[0].scrollTop : this[0].pageYOffset\n      return this.each(hasScrollTop ?\n          function(){ this.scrollTop = value } :\n          function(){ this.scrollTo(this.scrollX, value) })\n    },\n    scrollLeft: function(value){\n      if (!this.length) return\n      var hasScrollLeft = 'scrollLeft' in this[0]\n      if (value === undefined) return hasScrollLeft ? this[0].scrollLeft : this[0].pageXOffset\n      return this.each(hasScrollLeft ?\n          function(){ this.scrollLeft = value } :\n          function(){ this.scrollTo(value, this.scrollY) })\n    },\n    position: function() {\n      if (!this.length) return\n\n      var elem = this[0],\n      // Get *real* offsetParent\n          offsetParent = this.offsetParent(),\n      // Get correct offsets\n          offset       = this.offset(),\n          parentOffset = rootNodeRE.test(offsetParent[0].nodeName) ? { top: 0, left: 0 } : offsetParent.offset()\n\n      // Subtract element margins\n      // note: when an element has margin: auto the offsetLeft and marginLeft\n      // are the same in Safari causing offset.left to incorrectly be 0\n      offset.top  -= parseFloat( $(elem).css('margin-top') ) || 0\n      offset.left -= parseFloat( $(elem).css('margin-left') ) || 0\n\n      // Add offsetParent borders\n      parentOffset.top  += parseFloat( $(offsetParent[0]).css('border-top-width') ) || 0\n      parentOffset.left += parseFloat( $(offsetParent[0]).css('border-left-width') ) || 0\n\n      // Subtract the two offsets\n      return {\n        top:  offset.top  - parentOffset.top,\n        left: offset.left - parentOffset.left\n      }\n    },\n    offsetParent: function() {\n      return this.map(function(){\n        var parent = this.offsetParent || document.body\n        while (parent && !rootNodeRE.test(parent.nodeName) && $(parent).css(\"position\") == \"static\")\n          parent = parent.offsetParent\n        return parent\n      })\n    }\n  }\n\n  // for now\n  $.fn.detach = $.fn.remove\n\n    // Generate the `width` and `height` functions\n  ;['width', 'height'].forEach(function(dimension){\n    var dimensionProperty =\n        dimension.replace(/./, function(m){ return m[0].toUpperCase() })\n\n    $.fn[dimension] = function(value){\n      var offset, el = this[0]\n      if (value === undefined) return isWindow(el) ? el['inner' + dimensionProperty] :\n          isDocument(el) ? el.documentElement['scroll' + dimensionProperty] :\n              (offset = this.offset()) && offset[dimension]\n      else return this.each(function(idx){\n        el = $(this)\n        el.css(dimension, funcArg(this, value, idx, el[dimension]()))\n      })\n    }\n  })\n\n  function traverseNode(node, fun) {\n    fun(node)\n    for (var key in node.childNodes) traverseNode(node.childNodes[key], fun)\n  }\n\n  // Generate the `after`, `prepend`, `before`, `append`,\n  // `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\n  adjacencyOperators.forEach(function(operator, operatorIndex) {\n    var inside = operatorIndex % 2 //=> prepend, append\n\n    $.fn[operator] = function(){\n      // arguments can be nodes, arrays of nodes, Zepto objects and HTML strings\n      var argType, nodes = $.map(arguments, function(arg) {\n            argType = type(arg)\n            return argType == \"object\" || argType == \"array\" || arg == null ?\n                arg : zepto.fragment(arg)\n          }),\n          parent, copyByClone = this.length > 1\n      if (nodes.length < 1) return this\n\n      return this.each(function(_, target){\n        parent = inside ? target : target.parentNode\n\n        // convert all methods to a \"before\" operation\n        target = operatorIndex == 0 ? target.nextSibling :\n            operatorIndex == 1 ? target.firstChild :\n                operatorIndex == 2 ? target :\n                    null\n\n        nodes.forEach(function(node){\n          if (copyByClone) node = node.cloneNode(true)\n          else if (!parent) return $(node).remove()\n\n          traverseNode(parent.insertBefore(node, target), function(el){\n            if (el.nodeName != null && el.nodeName.toUpperCase() === 'SCRIPT' &&\n                (!el.type || el.type === 'text/javascript') && !el.src)\n              window['eval'].call(window, el.innerHTML)\n          })\n        })\n      })\n    }\n\n    // after    => insertAfter\n    // prepend  => prependTo\n    // before   => insertBefore\n    // append   => appendTo\n    $.fn[inside ? operator+'To' : 'insert'+(operatorIndex ? 'Before' : 'After')] = function(html){\n      $(html)[operator](this)\n      return this\n    }\n  })\n\n  zepto.Z.prototype = $.fn\n\n  // Export internal API functions in the `$.zepto` namespace\n  zepto.uniq = uniq\n  zepto.deserializeValue = deserializeValue\n  $.zepto = zepto\n\n  return $\n})()\n\nwindow.Zepto = Zepto\nwindow.$ === undefined && (window.$ = Zepto)\n\n;(function($){\n  var _zid = 1, undefined,\n      slice = Array.prototype.slice,\n      isFunction = $.isFunction,\n      isString = function(obj){ return typeof obj == 'string' },\n      handlers = {},\n      specialEvents={},\n      focusinSupported = 'onfocusin' in window,\n      focus = { focus: 'focusin', blur: 'focusout' },\n      hover = { mouseenter: 'mouseover', mouseleave: 'mouseout' }\n\n  specialEvents.click = specialEvents.mousedown = specialEvents.mouseup = specialEvents.mousemove = 'MouseEvents'\n\n  function zid(element) {\n    return element._zid || (element._zid = _zid++)\n  }\n  function findHandlers(element, event, fn, selector) {\n    event = parse(event)\n    if (event.ns) var matcher = matcherFor(event.ns)\n    return (handlers[zid(element)] || []).filter(function(handler) {\n      return handler\n          && (!event.e  || handler.e == event.e)\n          && (!event.ns || matcher.test(handler.ns))\n          && (!fn       || zid(handler.fn) === zid(fn))\n          && (!selector || handler.sel == selector)\n    })\n  }\n  function parse(event) {\n    var parts = ('' + event).split('.')\n    return {e: parts[0], ns: parts.slice(1).sort().join(' ')}\n  }\n  function matcherFor(ns) {\n    return new RegExp('(?:^| )' + ns.replace(' ', ' .* ?') + '(?: |$)')\n  }\n\n  function eventCapture(handler, captureSetting) {\n    return handler.del &&\n        (!focusinSupported && (handler.e in focus)) ||\n        !!captureSetting\n  }\n\n  function realEvent(type) {\n    return hover[type] || (focusinSupported && focus[type]) || type\n  }\n\n  function add(element, events, fn, data, selector, delegator, capture){\n    var id = zid(element), set = (handlers[id] || (handlers[id] = []))\n    events.split(/\\s/).forEach(function(event){\n      if (event == 'ready') return $(document).ready(fn)\n      var handler   = parse(event)\n      handler.fn    = fn\n      handler.sel   = selector\n      // emulate mouseenter, mouseleave\n      if (handler.e in hover) fn = function(e){\n        var related = e.relatedTarget\n        if (!related || (related !== this && !$.contains(this, related)))\n          return handler.fn.apply(this, arguments)\n      }\n      handler.del   = delegator\n      var callback  = delegator || fn\n      handler.proxy = function(e){\n        e = compatible(e)\n        if (e.isImmediatePropagationStopped()) return\n        e.data = data\n        var result = callback.apply(element, e._args == undefined ? [e] : [e].concat(e._args))\n        if (result === false) e.preventDefault(), e.stopPropagation()\n        return result\n      }\n      handler.i = set.length\n      set.push(handler)\n      if ('addEventListener' in element)\n        element.addEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n    })\n  }\n  function remove(element, events, fn, selector, capture){\n    var id = zid(element)\n        ;(events || '').split(/\\s/).forEach(function(event){\n      findHandlers(element, event, fn, selector).forEach(function(handler){\n        delete handlers[id][handler.i]\n        if ('removeEventListener' in element)\n          element.removeEventListener(realEvent(handler.e), handler.proxy, eventCapture(handler, capture))\n      })\n    })\n  }\n\n  $.event = { add: add, remove: remove }\n\n  $.proxy = function(fn, context) {\n    if (isFunction(fn)) {\n      var proxyFn = function(){ return fn.apply(context, arguments) }\n      proxyFn._zid = zid(fn)\n      return proxyFn\n    } else if (isString(context)) {\n      return $.proxy(fn[context], fn)\n    } else {\n      throw new TypeError(\"expected function\")\n    }\n  }\n\n  $.fn.bind = function(event, data, callback){\n    return this.on(event, data, callback)\n  }\n  $.fn.unbind = function(event, callback){\n    return this.off(event, callback)\n  }\n  $.fn.one = function(event, selector, data, callback){\n    return this.on(event, selector, data, callback, 1)\n  }\n\n  var returnTrue = function(){return true},\n      returnFalse = function(){return false},\n      ignoreProperties = /^([A-Z]|returnValue$|layer[XY]$)/,\n      eventMethods = {\n        preventDefault: 'isDefaultPrevented',\n        stopImmediatePropagation: 'isImmediatePropagationStopped',\n        stopPropagation: 'isPropagationStopped'\n      }\n\n  function compatible(event, source) {\n    if (source || !event.isDefaultPrevented) {\n      source || (source = event)\n\n      $.each(eventMethods, function(name, predicate) {\n        var sourceMethod = source[name]\n        event[name] = function(){\n          this[predicate] = returnTrue\n          return sourceMethod && sourceMethod.apply(source, arguments)\n        }\n        event[predicate] = returnFalse\n      })\n\n      if (source.defaultPrevented !== undefined ? source.defaultPrevented :\n          'returnValue' in source ? source.returnValue === false :\n              source.getPreventDefault && source.getPreventDefault())\n        event.isDefaultPrevented = returnTrue\n    }\n    return event\n  }\n\n  function createProxy(event) {\n    var key, proxy = { originalEvent: event }\n    for (key in event)\n      if (!ignoreProperties.test(key) && event[key] !== undefined) proxy[key] = event[key]\n\n    return compatible(proxy, event)\n  }\n\n  $.fn.delegate = function(selector, event, callback){\n    return this.on(event, selector, callback)\n  }\n  $.fn.undelegate = function(selector, event, callback){\n    return this.off(event, selector, callback)\n  }\n\n  $.fn.live = function(event, callback){\n    $(document.body).delegate(this.selector, event, callback)\n    return this\n  }\n  $.fn.die = function(event, callback){\n    $(document.body).undelegate(this.selector, event, callback)\n    return this\n  }\n\n  $.fn.on = function(event, selector, data, callback, one){\n    var autoRemove, delegator, $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.on(type, selector, data, fn, one)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = data, data = selector, selector = undefined\n    if (isFunction(data) || data === false)\n      callback = data, data = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(_, element){\n      if (one) autoRemove = function(e){\n        remove(element, e.type, callback)\n        return callback.apply(this, arguments)\n      }\n\n      if (selector) delegator = function(e){\n        var evt, match = $(e.target).closest(selector, element).get(0)\n        if (match && match !== element) {\n          evt = $.extend(createProxy(e), {currentTarget: match, liveFired: element})\n          return (autoRemove || callback).apply(match, [evt].concat(slice.call(arguments, 1)))\n        }\n      }\n\n      add(element, event, callback, data, selector, delegator || autoRemove)\n    })\n  }\n  $.fn.off = function(event, selector, callback){\n    var $this = this\n    if (event && !isString(event)) {\n      $.each(event, function(type, fn){\n        $this.off(type, selector, fn)\n      })\n      return $this\n    }\n\n    if (!isString(selector) && !isFunction(callback) && callback !== false)\n      callback = selector, selector = undefined\n\n    if (callback === false) callback = returnFalse\n\n    return $this.each(function(){\n      remove(this, event, callback, selector)\n    })\n  }\n\n  $.fn.trigger = function(event, args){\n    event = (isString(event) || $.isPlainObject(event)) ? $.Event(event) : compatible(event)\n    event._args = args\n    return this.each(function(){\n      // items in the collection might not be DOM elements\n      if('dispatchEvent' in this) this.dispatchEvent(event)\n      else $(this).triggerHandler(event, args)\n    })\n  }\n\n  // triggers event handlers on current element just as if an event occurred,\n  // doesn't trigger an actual event, doesn't bubble\n  $.fn.triggerHandler = function(event, args){\n    var e, result\n    this.each(function(i, element){\n      e = createProxy(isString(event) ? $.Event(event) : event)\n      e._args = args\n      e.target = element\n      $.each(findHandlers(element, event.type || event), function(i, handler){\n        result = handler.proxy(e)\n        if (e.isImmediatePropagationStopped()) return false\n      })\n    })\n    return result\n  }\n\n    // shortcut methods for `.bind(event, fn)` for each event type\n  ;('focusin focusout load resize scroll unload click dblclick '+\n      'mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave '+\n      'change select keydown keypress keyup error').split(' ').forEach(function(event) {\n        $.fn[event] = function(callback) {\n          return callback ?\n              this.bind(event, callback) :\n              this.trigger(event)\n        }\n      })\n\n  ;['focus', 'blur'].forEach(function(name) {\n    $.fn[name] = function(callback) {\n      if (callback) this.bind(name, callback)\n      else this.each(function(){\n        try { this[name]() }\n        catch(e) {}\n      })\n      return this\n    }\n  })\n\n  $.Event = function(type, props) {\n    if (!isString(type)) props = type, type = props.type\n    var event = document.createEvent(specialEvents[type] || 'Events'), bubbles = true\n    if (props) for (var name in props) (name == 'bubbles') ? (bubbles = !!props[name]) : (event[name] = props[name])\n    event.initEvent(type, bubbles, true)\n    return compatible(event)\n  }\n\n})(Zepto)\n\n;(function($){\n  var jsonpID = 0,\n      document = window.document,\n      key,\n      name,\n      rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n      scriptTypeRE = /^(?:text|application)\\/javascript/i,\n      xmlTypeRE = /^(?:text|application)\\/xml/i,\n      jsonType = 'application/json',\n      htmlType = 'text/html',\n      blankRE = /^\\s*$/\n\n  // trigger a custom event and return false if it was cancelled\n  function triggerAndReturn(context, eventName, data) {\n    var event = $.Event(eventName)\n    $(context).trigger(event, data)\n    return !event.isDefaultPrevented()\n  }\n\n  // trigger an Ajax \"global\" event\n  function triggerGlobal(settings, context, eventName, data) {\n    if (settings.global) return triggerAndReturn(context || document, eventName, data)\n  }\n\n  // Number of active Ajax requests\n  $.active = 0\n\n  function ajaxStart(settings) {\n    if (settings.global && $.active++ === 0) triggerGlobal(settings, null, 'ajaxStart')\n  }\n  function ajaxStop(settings) {\n    if (settings.global && !(--$.active)) triggerGlobal(settings, null, 'ajaxStop')\n  }\n\n  // triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\n  function ajaxBeforeSend(xhr, settings) {\n    var context = settings.context\n    if (settings.beforeSend.call(context, xhr, settings) === false ||\n        triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false)\n      return false\n\n    triggerGlobal(settings, context, 'ajaxSend', [xhr, settings])\n  }\n  function ajaxSuccess(data, xhr, settings, deferred) {\n    var context = settings.context, status = 'success'\n    settings.success.call(context, data, status, xhr)\n    if (deferred) deferred.resolveWith(context, [data, status, xhr])\n    triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data])\n    ajaxComplete(status, xhr, settings)\n  }\n  // type: \"timeout\", \"error\", \"abort\", \"parsererror\"\n  function ajaxError(error, type, xhr, settings, deferred) {\n    var context = settings.context\n    settings.error.call(context, xhr, type, error)\n    if (deferred) deferred.rejectWith(context, [xhr, type, error])\n    triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error || type])\n    ajaxComplete(type, xhr, settings)\n  }\n  // status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\n  function ajaxComplete(status, xhr, settings) {\n    var context = settings.context\n    settings.complete.call(context, xhr, status)\n    triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings])\n    ajaxStop(settings)\n  }\n\n  // Empty function, used as default callback\n  function empty() {}\n\n  $.ajaxJSONP = function(options, deferred){\n    if (!('type' in options)) return $.ajax(options)\n\n    var _callbackName = options.jsonpCallback,\n        callbackName = ($.isFunction(_callbackName) ?\n            _callbackName() : _callbackName) || ('jsonp' + (++jsonpID)),\n        script = document.createElement('script'),\n        originalCallback = window[callbackName],\n        responseData,\n        abort = function(errorType) {\n          $(script).triggerHandler('error', errorType || 'abort')\n        },\n        xhr = { abort: abort }, abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    $(script).on('load error', function(e, errorType){\n      clearTimeout(abortTimeout)\n      $(script).off().remove()\n\n      if (e.type == 'error' || !responseData) {\n        ajaxError(null, errorType || 'error', xhr, options, deferred)\n      } else {\n        ajaxSuccess(responseData[0], xhr, options, deferred)\n      }\n\n      window[callbackName] = originalCallback\n      if (responseData && $.isFunction(originalCallback))\n        originalCallback(responseData[0])\n\n      originalCallback = responseData = undefined\n    })\n\n    if (ajaxBeforeSend(xhr, options) === false) {\n      abort('abort')\n      return xhr\n    }\n\n    window[callbackName] = function(){\n      responseData = arguments\n    }\n\n    script.src = options.url.replace(/\\?(.+)=\\?/, '?$1=' + callbackName)\n    document.head.appendChild(script)\n\n    if (options.timeout > 0) abortTimeout = setTimeout(function(){\n      abort('timeout')\n    }, options.timeout)\n\n    return xhr\n  }\n\n  $.ajaxSettings = {\n    // Default type of request\n    type: 'GET',\n    // Callback that is executed before request\n    beforeSend: empty,\n    // Callback that is executed if the request succeeds\n    success: empty,\n    // Callback that is executed the the server drops error\n    error: empty,\n    // Callback that is executed on request complete (both: error and success)\n    complete: empty,\n    // The context for the callbacks\n    context: null,\n    // Whether to trigger \"global\" Ajax events\n    global: true,\n    // Transport\n    xhr: function () {\n      return new window.XMLHttpRequest()\n    },\n    // MIME types mapping\n    // IIS returns Javascript as \"application/x-javascript\"\n    accepts: {\n      script: 'text/javascript, application/javascript, application/x-javascript',\n      json:   jsonType,\n      xml:    'application/xml, text/xml',\n      html:   htmlType,\n      text:   'text/plain'\n    },\n    // Whether the request is to another domain\n    crossDomain: false,\n    // Default timeout\n    timeout: 0,\n    // Whether data should be serialized to string\n    processData: true,\n    // Whether the browser should be allowed to cache GET responses\n    cache: true\n  }\n\n  function mimeToDataType(mime) {\n    if (mime) mime = mime.split(';', 2)[0]\n    return mime && ( mime == htmlType ? 'html' :\n        mime == jsonType ? 'json' :\n            scriptTypeRE.test(mime) ? 'script' :\n                xmlTypeRE.test(mime) && 'xml' ) || 'text'\n  }\n\n  function appendQuery(url, query) {\n    if (query == '') return url\n    return (url + '&' + query).replace(/[&?]{1,2}/, '?')\n  }\n\n  // serialize payload and append it to the URL for GET requests\n  function serializeData(options) {\n    if (options.processData && options.data && $.type(options.data) != \"string\")\n      options.data = $.param(options.data, options.traditional)\n    if (options.data && (!options.type || options.type.toUpperCase() == 'GET'))\n      options.url = appendQuery(options.url, options.data), options.data = undefined\n  }\n\n  $.ajax = function(options){\n    var settings = $.extend({}, options || {}),\n        deferred = $.Deferred && $.Deferred()\n    for (key in $.ajaxSettings) if (settings[key] === undefined) settings[key] = $.ajaxSettings[key]\n\n    ajaxStart(settings)\n\n    if (!settings.crossDomain) settings.crossDomain = /^([\\w-]+:)?\\/\\/([^\\/]+)/.test(settings.url) &&\n        RegExp.$2 != window.location.host\n\n    if (!settings.url) settings.url = window.location.toString()\n    serializeData(settings)\n    if (settings.cache === false) settings.url = appendQuery(settings.url, '_=' + Date.now())\n\n    var dataType = settings.dataType, hasPlaceholder = /\\?.+=\\?/.test(settings.url)\n    if (dataType == 'jsonp' || hasPlaceholder) {\n      if (!hasPlaceholder)\n        settings.url = appendQuery(settings.url,\n            settings.jsonp ? (settings.jsonp + '=?') : settings.jsonp === false ? '' : 'callback=?')\n      return $.ajaxJSONP(settings, deferred)\n    }\n\n    var mime = settings.accepts[dataType],\n        headers = { },\n        setHeader = function(name, value) { headers[name.toLowerCase()] = [name, value] },\n        protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol,\n        xhr = settings.xhr(),\n        nativeSetHeader = xhr.setRequestHeader,\n        abortTimeout\n\n    if (deferred) deferred.promise(xhr)\n\n    if (!settings.crossDomain) setHeader('X-Requested-With', 'XMLHttpRequest')\n    setHeader('Accept', mime || '*/*')\n    if (mime = settings.mimeType || mime) {\n      if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0]\n      xhr.overrideMimeType && xhr.overrideMimeType(mime)\n    }\n    if (settings.contentType || (settings.contentType !== false && settings.data && settings.type.toUpperCase() != 'GET'))\n      setHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded')\n\n    if (settings.headers) for (name in settings.headers) setHeader(name, settings.headers[name])\n    xhr.setRequestHeader = setHeader\n\n    xhr.onreadystatechange = function(){\n      if (xhr.readyState == 4) {\n        xhr.onreadystatechange = empty\n        clearTimeout(abortTimeout)\n        var result, error = false\n        if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304 || (xhr.status == 0 && protocol == 'file:')) {\n          dataType = dataType || mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'))\n          result = xhr.responseText\n\n          try {\n            // http://perfectionkills.com/global-eval-what-are-the-options/\n            if (dataType == 'script')    (1,eval)(result)\n            else if (dataType == 'xml')  result = xhr.responseXML\n            else if (dataType == 'json') result = blankRE.test(result) ? null : $.parseJSON(result)\n          } catch (e) { error = e }\n\n          if (error) ajaxError(error, 'parsererror', xhr, settings, deferred)\n          else ajaxSuccess(result, xhr, settings, deferred)\n        } else {\n          ajaxError(xhr.statusText || null, xhr.status ? 'error' : 'abort', xhr, settings, deferred)\n        }\n      }\n    }\n\n    if (ajaxBeforeSend(xhr, settings) === false) {\n      xhr.abort()\n      ajaxError(null, 'abort', xhr, settings, deferred)\n      return xhr\n    }\n\n    if (settings.xhrFields) for (name in settings.xhrFields) xhr[name] = settings.xhrFields[name]\n\n    var async = 'async' in settings ? settings.async : true\n    xhr.open(settings.type, settings.url, async, settings.username, settings.password)\n\n    for (name in headers) nativeSetHeader.apply(xhr, headers[name])\n\n    if (settings.timeout > 0) abortTimeout = setTimeout(function(){\n      xhr.onreadystatechange = empty\n      xhr.abort()\n      ajaxError(null, 'timeout', xhr, settings, deferred)\n    }, settings.timeout)\n\n    // avoid sending empty string (#319)\n    xhr.send(settings.data ? settings.data : null)\n    return xhr\n  }\n\n  // handle optional data/success arguments\n  function parseArguments(url, data, success, dataType) {\n    if ($.isFunction(data)) dataType = success, success = data, data = undefined\n    if (!$.isFunction(success)) dataType = success, success = undefined\n    return {\n      url: url\n      , data: data\n      , success: success\n      , dataType: dataType\n    }\n  }\n\n  $.get = function(/* url, data, success, dataType */){\n    return $.ajax(parseArguments.apply(null, arguments))\n  }\n\n  $.post = function(/* url, data, success, dataType */){\n    var options = parseArguments.apply(null, arguments)\n    options.type = 'POST'\n    return $.ajax(options)\n  }\n\n  $.getJSON = function(/* url, data, success */){\n    var options = parseArguments.apply(null, arguments)\n    options.dataType = 'json'\n    return $.ajax(options)\n  }\n\n  $.fn.load = function(url, data, success){\n    if (!this.length) return this\n    var self = this, parts = url.split(/\\s/), selector,\n        options = parseArguments(url, data, success),\n        callback = options.success\n    if (parts.length > 1) options.url = parts[0], selector = parts[1]\n    options.success = function(response){\n      self.html(selector ?\n          $('<div>').html(response.replace(rscript, \"\")).find(selector)\n          : response)\n      callback && callback.apply(self, arguments)\n    }\n    $.ajax(options)\n    return this\n  }\n\n  var escape = encodeURIComponent\n\n  function serialize(params, obj, traditional, scope){\n    var type, array = $.isArray(obj), hash = $.isPlainObject(obj)\n    $.each(obj, function(key, value) {\n      type = $.type(value)\n      if (scope) key = traditional ? scope :\n          scope + '[' + (hash || type == 'object' || type == 'array' ? key : '') + ']'\n      // handle data in serializeArray() format\n      if (!scope && array) params.add(value.name, value.value)\n      // recurse into nested objects\n      else if (type == \"array\" || (!traditional && type == \"object\"))\n        serialize(params, value, traditional, key)\n      else params.add(key, value)\n    })\n  }\n\n  $.param = function(obj, traditional){\n    var params = []\n    params.add = function(k, v){ this.push(escape(k) + '=' + escape(v)) }\n    serialize(params, obj, traditional)\n    return params.join('&').replace(/%20/g, '+')\n  }\n})(Zepto)\n\n;(function($){\n  $.fn.serializeArray = function() {\n    var result = [], el\n    $([].slice.call(this.get(0).elements)).each(function(){\n      el = $(this)\n      var type = el.attr('type')\n      if (this.nodeName.toLowerCase() != 'fieldset' &&\n          !this.disabled && type != 'submit' && type != 'reset' && type != 'button' &&\n          ((type != 'radio' && type != 'checkbox') || this.checked))\n        result.push({\n          name: el.attr('name'),\n          value: el.val()\n        })\n    })\n    return result\n  }\n\n  $.fn.serialize = function(){\n    var result = []\n    this.serializeArray().forEach(function(elm){\n      result.push(encodeURIComponent(elm.name) + '=' + encodeURIComponent(elm.value))\n    })\n    return result.join('&')\n  }\n\n  $.fn.submit = function(callback) {\n    if (callback) this.bind('submit', callback)\n    else if (this.length) {\n      var event = $.Event('submit')\n      this.eq(0).trigger(event)\n      if (!event.isDefaultPrevented()) this.get(0).submit()\n    }\n    return this\n  }\n\n})(Zepto)\n\n;(function($){\n  // __proto__ doesn't exist on IE<11, so redefine\n  // the Z function to use object extension instead\n  if (!('__proto__' in {})) {\n    $.extend($.zepto, {\n      Z: function(dom, selector){\n        dom = dom || []\n        $.extend(dom, $.fn)\n        dom.selector = selector || ''\n        dom.__Z = true\n        return dom\n      },\n      // this is a kludge but works\n      isZ: function(object){\n        return $.type(object) === 'array' && '__Z' in object\n      }\n    })\n  }\n\n  // getComputedStyle shouldn't freak out when called\n  // without a valid element as argument\n  try {\n    getComputedStyle(undefined)\n  } catch(e) {\n    var nativeGetComputedStyle = getComputedStyle;\n    window.getComputedStyle = function(element){\n      try {\n        return nativeGetComputedStyle(element)\n      } catch(e) {\n        return null\n      }\n    }\n  }\n})(Zepto)\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvemVwdG8uanM/YWQ4OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsaUJBQWlCO0FBQzFDLG1CQUFtQiw0R0FBNEc7QUFDL0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSwyQkFBMkI7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4QkFBOEI7QUFDOUIsOEJBQThCO0FBQzlCLDhCQUE4QjtBQUM5Qiw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCOztBQUUzQiwyQkFBMkIsMENBQTBDLHNCQUFzQjtBQUMzRiwyQkFBMkI7QUFDM0IsMkJBQTJCLG9EQUFvRCxzQ0FBc0M7QUFDckg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsK0NBQStDLG9DQUFvQzs7QUFFNUc7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsc0NBQXNDO0FBQ3ZGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsNEJBQTRCO0FBQzNEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7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QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVAsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDOztBQUVELENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxlQUFlLGVBQWU7O0FBRTlCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw2Q0FBNkMsSUFBSTtBQUNqRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhCQUE4QixlQUFlO0FBQzdDO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIsRUFBRTtBQUNyQiwyQ0FBMkMsOENBQThDO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7O0FBRXZCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRCxDQUFDO0FBQ0Q7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiogSU1QT1JUUyBGUk9NIGltcG9ydHMtbG9hZGVyICoqKi9cbnZhciBkZWZpbmUgPSBmYWxzZTtcblxuLyogWmVwdG8gdjEuMS4zIC0gemVwdG8gZXZlbnQgYWpheCBmb3JtIGllIC0gemVwdG9qcy5jb20vbGljZW5zZSAqL1xuXG5cbnZhciBaZXB0byA9IChmdW5jdGlvbigpIHtcbiAgdmFyIHVuZGVmaW5lZCwga2V5LCAkLCBjbGFzc0xpc3QsIGVtcHR5QXJyYXkgPSBbXSwgc2xpY2UgPSBlbXB0eUFycmF5LnNsaWNlLCBmaWx0ZXIgPSBlbXB0eUFycmF5LmZpbHRlcixcbiAgICAgIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50LFxuICAgICAgZWxlbWVudERpc3BsYXkgPSB7fSwgY2xhc3NDYWNoZSA9IHt9LFxuICAgICAgY3NzTnVtYmVyID0geyAnY29sdW1uLWNvdW50JzogMSwgJ2NvbHVtbnMnOiAxLCAnZm9udC13ZWlnaHQnOiAxLCAnbGluZS1oZWlnaHQnOiAxLCdvcGFjaXR5JzogMSwgJ3otaW5kZXgnOiAxLCAnem9vbSc6IDEgfSxcbiAgICAgIGZyYWdtZW50UkUgPSAvXlxccyo8KFxcdyt8ISlbXj5dKj4vLFxuICAgICAgc2luZ2xlVGFnUkUgPSAvXjwoXFx3KylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC8sXG4gICAgICB0YWdFeHBhbmRlclJFID0gLzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1xcdzpdKylbXj5dKilcXC8+L2lnLFxuICAgICAgcm9vdE5vZGVSRSA9IC9eKD86Ym9keXxodG1sKSQvaSxcbiAgICAgIGNhcGl0YWxSRSA9IC8oW0EtWl0pL2csXG5cbiAgLy8gc3BlY2lhbCBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGJlIGdldC9zZXQgdmlhIG1ldGhvZCBjYWxsc1xuICAgICAgbWV0aG9kQXR0cmlidXRlcyA9IFsndmFsJywgJ2NzcycsICdodG1sJywgJ3RleHQnLCAnZGF0YScsICd3aWR0aCcsICdoZWlnaHQnLCAnb2Zmc2V0J10sXG5cbiAgICAgIGFkamFjZW5jeU9wZXJhdG9ycyA9IFsgJ2FmdGVyJywgJ3ByZXBlbmQnLCAnYmVmb3JlJywgJ2FwcGVuZCcgXSxcbiAgICAgIHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKSxcbiAgICAgIHRhYmxlUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKSxcbiAgICAgIGNvbnRhaW5lcnMgPSB7XG4gICAgICAgICd0cic6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Rib2R5JyksXG4gICAgICAgICd0Ym9keSc6IHRhYmxlLCAndGhlYWQnOiB0YWJsZSwgJ3Rmb290JzogdGFibGUsXG4gICAgICAgICd0ZCc6IHRhYmxlUm93LCAndGgnOiB0YWJsZVJvdyxcbiAgICAgICAgJyonOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgfSxcbiAgICAgIHJlYWR5UkUgPSAvY29tcGxldGV8bG9hZGVkfGludGVyYWN0aXZlLyxcbiAgICAgIHNpbXBsZVNlbGVjdG9yUkUgPSAvXltcXHctXSokLyxcbiAgICAgIGNsYXNzMnR5cGUgPSB7fSxcbiAgICAgIHRvU3RyaW5nID0gY2xhc3MydHlwZS50b1N0cmluZyxcbiAgICAgIHplcHRvID0ge30sXG4gICAgICBjYW1lbGl6ZSwgdW5pcSxcbiAgICAgIHRlbXBQYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgIHByb3BNYXAgPSB7XG4gICAgICAgICd0YWJpbmRleCc6ICd0YWJJbmRleCcsXG4gICAgICAgICdyZWFkb25seSc6ICdyZWFkT25seScsXG4gICAgICAgICdmb3InOiAnaHRtbEZvcicsXG4gICAgICAgICdjbGFzcyc6ICdjbGFzc05hbWUnLFxuICAgICAgICAnbWF4bGVuZ3RoJzogJ21heExlbmd0aCcsXG4gICAgICAgICdjZWxsc3BhY2luZyc6ICdjZWxsU3BhY2luZycsXG4gICAgICAgICdjZWxscGFkZGluZyc6ICdjZWxsUGFkZGluZycsXG4gICAgICAgICdyb3dzcGFuJzogJ3Jvd1NwYW4nLFxuICAgICAgICAnY29sc3Bhbic6ICdjb2xTcGFuJyxcbiAgICAgICAgJ3VzZW1hcCc6ICd1c2VNYXAnLFxuICAgICAgICAnZnJhbWVib3JkZXInOiAnZnJhbWVCb3JkZXInLFxuICAgICAgICAnY29udGVudGVkaXRhYmxlJzogJ2NvbnRlbnRFZGl0YWJsZSdcbiAgICAgIH0sXG4gICAgICBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fFxuICAgICAgICAgIGZ1bmN0aW9uKG9iamVjdCl7IHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiBBcnJheSB9XG5cbiAgemVwdG8ubWF0Y2hlcyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgaWYgKCFzZWxlY3RvciB8fCAhZWxlbWVudCB8fCBlbGVtZW50Lm5vZGVUeXBlICE9PSAxKSByZXR1cm4gZmFsc2VcbiAgICB2YXIgbWF0Y2hlc1NlbGVjdG9yID0gZWxlbWVudC53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHwgZWxlbWVudC5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgZWxlbWVudC5vTWF0Y2hlc1NlbGVjdG9yIHx8IGVsZW1lbnQubWF0Y2hlc1NlbGVjdG9yXG4gICAgaWYgKG1hdGNoZXNTZWxlY3RvcikgcmV0dXJuIG1hdGNoZXNTZWxlY3Rvci5jYWxsKGVsZW1lbnQsIHNlbGVjdG9yKVxuICAgIC8vIGZhbGwgYmFjayB0byBwZXJmb3JtaW5nIGEgc2VsZWN0b3I6XG4gICAgdmFyIG1hdGNoLCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGUsIHRlbXAgPSAhcGFyZW50XG4gICAgaWYgKHRlbXApIChwYXJlbnQgPSB0ZW1wUGFyZW50KS5hcHBlbmRDaGlsZChlbGVtZW50KVxuICAgIG1hdGNoID0gfnplcHRvLnFzYShwYXJlbnQsIHNlbGVjdG9yKS5pbmRleE9mKGVsZW1lbnQpXG4gICAgdGVtcCAmJiB0ZW1wUGFyZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpXG4gICAgcmV0dXJuIG1hdGNoXG4gIH1cblxuICBmdW5jdGlvbiB0eXBlKG9iaikge1xuICAgIHJldHVybiBvYmogPT0gbnVsbCA/IFN0cmluZyhvYmopIDpcbiAgICAgICAgY2xhc3MydHlwZVt0b1N0cmluZy5jYWxsKG9iaildIHx8IFwib2JqZWN0XCJcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHR5cGUodmFsdWUpID09IFwiZnVuY3Rpb25cIiB9XG4gIGZ1bmN0aW9uIGlzV2luZG93KG9iaikgICAgIHsgcmV0dXJuIG9iaiAhPSBudWxsICYmIG9iaiA9PSBvYmoud2luZG93IH1cbiAgZnVuY3Rpb24gaXNEb2N1bWVudChvYmopICAgeyByZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqLm5vZGVUeXBlID09IG9iai5ET0NVTUVOVF9OT0RFIH1cbiAgZnVuY3Rpb24gaXNPYmplY3Qob2JqKSAgICAgeyByZXR1cm4gdHlwZShvYmopID09IFwib2JqZWN0XCIgfVxuICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikge1xuICAgIHJldHVybiBpc09iamVjdChvYmopICYmICFpc1dpbmRvdyhvYmopICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopID09IE9iamVjdC5wcm90b3R5cGVcbiAgfVxuICBmdW5jdGlvbiBsaWtlQXJyYXkob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqLmxlbmd0aCA9PSAnbnVtYmVyJyB9XG5cbiAgZnVuY3Rpb24gY29tcGFjdChhcnJheSkgeyByZXR1cm4gZmlsdGVyLmNhbGwoYXJyYXksIGZ1bmN0aW9uKGl0ZW0peyByZXR1cm4gaXRlbSAhPSBudWxsIH0pIH1cbiAgZnVuY3Rpb24gZmxhdHRlbihhcnJheSkgeyByZXR1cm4gYXJyYXkubGVuZ3RoID4gMCA/ICQuZm4uY29uY2F0LmFwcGx5KFtdLCBhcnJheSkgOiBhcnJheSB9XG4gIGNhbWVsaXplID0gZnVuY3Rpb24oc3RyKXsgcmV0dXJuIHN0ci5yZXBsYWNlKC8tKyguKT8vZywgZnVuY3Rpb24obWF0Y2gsIGNocil7IHJldHVybiBjaHIgPyBjaHIudG9VcHBlckNhc2UoKSA6ICcnIH0pIH1cbiAgZnVuY3Rpb24gZGFzaGVyaXplKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvOjovZywgJy8nKVxuICAgICAgICAucmVwbGFjZSgvKFtBLVpdKykoW0EtWl1bYS16XSkvZywgJyQxXyQyJylcbiAgICAgICAgLnJlcGxhY2UoLyhbYS16XFxkXSkoW0EtWl0pL2csICckMV8kMicpXG4gICAgICAgIC5yZXBsYWNlKC9fL2csICctJylcbiAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgfVxuICB1bmlxID0gZnVuY3Rpb24oYXJyYXkpeyByZXR1cm4gZmlsdGVyLmNhbGwoYXJyYXksIGZ1bmN0aW9uKGl0ZW0sIGlkeCl7IHJldHVybiBhcnJheS5pbmRleE9mKGl0ZW0pID09IGlkeCB9KSB9XG5cbiAgZnVuY3Rpb24gY2xhc3NSRShuYW1lKSB7XG4gICAgcmV0dXJuIG5hbWUgaW4gY2xhc3NDYWNoZSA/XG4gICAgICAgIGNsYXNzQ2FjaGVbbmFtZV0gOiAoY2xhc3NDYWNoZVtuYW1lXSA9IG5ldyBSZWdFeHAoJyhefFxcXFxzKScgKyBuYW1lICsgJyhcXFxcc3wkKScpKVxuICB9XG5cbiAgZnVuY3Rpb24gbWF5YmVBZGRQeChuYW1lLCB2YWx1ZSkge1xuICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIgJiYgIWNzc051bWJlcltkYXNoZXJpemUobmFtZSldKSA/IHZhbHVlICsgXCJweFwiIDogdmFsdWVcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZmF1bHREaXNwbGF5KG5vZGVOYW1lKSB7XG4gICAgdmFyIGVsZW1lbnQsIGRpc3BsYXlcbiAgICBpZiAoIWVsZW1lbnREaXNwbGF5W25vZGVOYW1lXSkge1xuICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobm9kZU5hbWUpXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW1lbnQpXG4gICAgICBkaXNwbGF5ID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCAnJykuZ2V0UHJvcGVydHlWYWx1ZShcImRpc3BsYXlcIilcbiAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KVxuICAgICAgZGlzcGxheSA9PSBcIm5vbmVcIiAmJiAoZGlzcGxheSA9IFwiYmxvY2tcIilcbiAgICAgIGVsZW1lbnREaXNwbGF5W25vZGVOYW1lXSA9IGRpc3BsYXlcbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnREaXNwbGF5W25vZGVOYW1lXVxuICB9XG5cbiAgZnVuY3Rpb24gY2hpbGRyZW4oZWxlbWVudCkge1xuICAgIHJldHVybiAnY2hpbGRyZW4nIGluIGVsZW1lbnQgP1xuICAgICAgICBzbGljZS5jYWxsKGVsZW1lbnQuY2hpbGRyZW4pIDpcbiAgICAgICAgJC5tYXAoZWxlbWVudC5jaGlsZE5vZGVzLCBmdW5jdGlvbihub2RlKXsgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkgcmV0dXJuIG5vZGUgfSlcbiAgfVxuXG4gIC8vIGAkLnplcHRvLmZyYWdtZW50YCB0YWtlcyBhIGh0bWwgc3RyaW5nIGFuZCBhbiBvcHRpb25hbCB0YWcgbmFtZVxuICAvLyB0byBnZW5lcmF0ZSBET00gbm9kZXMgbm9kZXMgZnJvbSB0aGUgZ2l2ZW4gaHRtbCBzdHJpbmcuXG4gIC8vIFRoZSBnZW5lcmF0ZWQgRE9NIG5vZGVzIGFyZSByZXR1cm5lZCBhcyBhbiBhcnJheS5cbiAgLy8gVGhpcyBmdW5jdGlvbiBjYW4gYmUgb3ZlcnJpZGVuIGluIHBsdWdpbnMgZm9yIGV4YW1wbGUgdG8gbWFrZVxuICAvLyBpdCBjb21wYXRpYmxlIHdpdGggYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHRoZSBET00gZnVsbHkuXG4gIHplcHRvLmZyYWdtZW50ID0gZnVuY3Rpb24oaHRtbCwgbmFtZSwgcHJvcGVydGllcykge1xuICAgIHZhciBkb20sIG5vZGVzLCBjb250YWluZXJcblxuICAgIC8vIEEgc3BlY2lhbCBjYXNlIG9wdGltaXphdGlvbiBmb3IgYSBzaW5nbGUgdGFnXG4gICAgaWYgKHNpbmdsZVRhZ1JFLnRlc3QoaHRtbCkpIGRvbSA9ICQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChSZWdFeHAuJDEpKVxuXG4gICAgaWYgKCFkb20pIHtcbiAgICAgIGlmIChodG1sLnJlcGxhY2UpIGh0bWwgPSBodG1sLnJlcGxhY2UodGFnRXhwYW5kZXJSRSwgXCI8JDE+PC8kMj5cIilcbiAgICAgIGlmIChuYW1lID09PSB1bmRlZmluZWQpIG5hbWUgPSBmcmFnbWVudFJFLnRlc3QoaHRtbCkgJiYgUmVnRXhwLiQxXG4gICAgICBpZiAoIShuYW1lIGluIGNvbnRhaW5lcnMpKSBuYW1lID0gJyonXG5cbiAgICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lcnNbbmFtZV1cbiAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJyArIGh0bWxcbiAgICAgIGRvbSA9ICQuZWFjaChzbGljZS5jYWxsKGNvbnRhaW5lci5jaGlsZE5vZGVzKSwgZnVuY3Rpb24oKXtcbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMpXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmIChpc1BsYWluT2JqZWN0KHByb3BlcnRpZXMpKSB7XG4gICAgICBub2RlcyA9ICQoZG9tKVxuICAgICAgJC5lYWNoKHByb3BlcnRpZXMsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKG1ldGhvZEF0dHJpYnV0ZXMuaW5kZXhPZihrZXkpID4gLTEpIG5vZGVzW2tleV0odmFsdWUpXG4gICAgICAgIGVsc2Ugbm9kZXMuYXR0cihrZXksIHZhbHVlKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gZG9tXG4gIH1cblxuICAvLyBgJC56ZXB0by5aYCBzd2FwcyBvdXQgdGhlIHByb3RvdHlwZSBvZiB0aGUgZ2l2ZW4gYGRvbWAgYXJyYXlcbiAgLy8gb2Ygbm9kZXMgd2l0aCBgJC5mbmAgYW5kIHRodXMgc3VwcGx5aW5nIGFsbCB0aGUgWmVwdG8gZnVuY3Rpb25zXG4gIC8vIHRvIHRoZSBhcnJheS4gTm90ZSB0aGF0IGBfX3Byb3RvX19gIGlzIG5vdCBzdXBwb3J0ZWQgb24gSW50ZXJuZXRcbiAgLy8gRXhwbG9yZXIuIFRoaXMgbWV0aG9kIGNhbiBiZSBvdmVycmlkZW4gaW4gcGx1Z2lucy5cbiAgemVwdG8uWiA9IGZ1bmN0aW9uKGRvbSwgc2VsZWN0b3IpIHtcbiAgICBkb20gPSBkb20gfHwgW11cbiAgICBkb20uX19wcm90b19fID0gJC5mblxuICAgIGRvbS5zZWxlY3RvciA9IHNlbGVjdG9yIHx8ICcnXG4gICAgcmV0dXJuIGRvbVxuICB9XG5cbiAgLy8gYCQuemVwdG8uaXNaYCBzaG91bGQgcmV0dXJuIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGEgWmVwdG9cbiAgLy8gY29sbGVjdGlvbi4gVGhpcyBtZXRob2QgY2FuIGJlIG92ZXJyaWRlbiBpbiBwbHVnaW5zLlxuICB6ZXB0by5pc1ogPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgemVwdG8uWlxuICB9XG5cbiAgLy8gYCQuemVwdG8uaW5pdGAgaXMgWmVwdG8ncyBjb3VudGVycGFydCB0byBqUXVlcnkncyBgJC5mbi5pbml0YCBhbmRcbiAgLy8gdGFrZXMgYSBDU1Mgc2VsZWN0b3IgYW5kIGFuIG9wdGlvbmFsIGNvbnRleHQgKGFuZCBoYW5kbGVzIHZhcmlvdXNcbiAgLy8gc3BlY2lhbCBjYXNlcykuXG4gIC8vIFRoaXMgbWV0aG9kIGNhbiBiZSBvdmVycmlkZW4gaW4gcGx1Z2lucy5cbiAgemVwdG8uaW5pdCA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBjb250ZXh0KSB7XG4gICAgdmFyIGRvbVxuICAgIC8vIElmIG5vdGhpbmcgZ2l2ZW4sIHJldHVybiBhbiBlbXB0eSBaZXB0byBjb2xsZWN0aW9uXG4gICAgaWYgKCFzZWxlY3RvcikgcmV0dXJuIHplcHRvLlooKVxuICAgIC8vIE9wdGltaXplIGZvciBzdHJpbmcgc2VsZWN0b3JzXG4gICAgZWxzZSBpZiAodHlwZW9mIHNlbGVjdG9yID09ICdzdHJpbmcnKSB7XG4gICAgICBzZWxlY3RvciA9IHNlbGVjdG9yLnRyaW0oKVxuICAgICAgLy8gSWYgaXQncyBhIGh0bWwgZnJhZ21lbnQsIGNyZWF0ZSBub2RlcyBmcm9tIGl0XG4gICAgICAvLyBOb3RlOiBJbiBib3RoIENocm9tZSAyMSBhbmQgRmlyZWZveCAxNSwgRE9NIGVycm9yIDEyXG4gICAgICAvLyBpcyB0aHJvd24gaWYgdGhlIGZyYWdtZW50IGRvZXNuJ3QgYmVnaW4gd2l0aCA8XG4gICAgICBpZiAoc2VsZWN0b3JbMF0gPT0gJzwnICYmIGZyYWdtZW50UkUudGVzdChzZWxlY3RvcikpXG4gICAgICAgIGRvbSA9IHplcHRvLmZyYWdtZW50KHNlbGVjdG9yLCBSZWdFeHAuJDEsIGNvbnRleHQpLCBzZWxlY3RvciA9IG51bGxcbiAgICAgIC8vIElmIHRoZXJlJ3MgYSBjb250ZXh0LCBjcmVhdGUgYSBjb2xsZWN0aW9uIG9uIHRoYXQgY29udGV4dCBmaXJzdCwgYW5kIHNlbGVjdFxuICAgICAgLy8gbm9kZXMgZnJvbSB0aGVyZVxuICAgICAgZWxzZSBpZiAoY29udGV4dCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gJChjb250ZXh0KS5maW5kKHNlbGVjdG9yKVxuICAgICAgLy8gSWYgaXQncyBhIENTUyBzZWxlY3RvciwgdXNlIGl0IHRvIHNlbGVjdCBub2Rlcy5cbiAgICAgIGVsc2UgZG9tID0gemVwdG8ucXNhKGRvY3VtZW50LCBzZWxlY3RvcilcbiAgICB9XG4gICAgLy8gSWYgYSBmdW5jdGlvbiBpcyBnaXZlbiwgY2FsbCBpdCB3aGVuIHRoZSBET00gaXMgcmVhZHlcbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHNlbGVjdG9yKSkgcmV0dXJuICQoZG9jdW1lbnQpLnJlYWR5KHNlbGVjdG9yKVxuICAgIC8vIElmIGEgWmVwdG8gY29sbGVjdGlvbiBpcyBnaXZlbiwganVzdCByZXR1cm4gaXRcbiAgICBlbHNlIGlmICh6ZXB0by5pc1ooc2VsZWN0b3IpKSByZXR1cm4gc2VsZWN0b3JcbiAgICBlbHNlIHtcbiAgICAgIC8vIG5vcm1hbGl6ZSBhcnJheSBpZiBhbiBhcnJheSBvZiBub2RlcyBpcyBnaXZlblxuICAgICAgaWYgKGlzQXJyYXkoc2VsZWN0b3IpKSBkb20gPSBjb21wYWN0KHNlbGVjdG9yKVxuICAgICAgLy8gV3JhcCBET00gbm9kZXMuXG4gICAgICBlbHNlIGlmIChpc09iamVjdChzZWxlY3RvcikpXG4gICAgICAgIGRvbSA9IFtzZWxlY3Rvcl0sIHNlbGVjdG9yID0gbnVsbFxuICAgICAgLy8gSWYgaXQncyBhIGh0bWwgZnJhZ21lbnQsIGNyZWF0ZSBub2RlcyBmcm9tIGl0XG4gICAgICBlbHNlIGlmIChmcmFnbWVudFJFLnRlc3Qoc2VsZWN0b3IpKVxuICAgICAgICBkb20gPSB6ZXB0by5mcmFnbWVudChzZWxlY3Rvci50cmltKCksIFJlZ0V4cC4kMSwgY29udGV4dCksIHNlbGVjdG9yID0gbnVsbFxuICAgICAgLy8gSWYgdGhlcmUncyBhIGNvbnRleHQsIGNyZWF0ZSBhIGNvbGxlY3Rpb24gb24gdGhhdCBjb250ZXh0IGZpcnN0LCBhbmQgc2VsZWN0XG4gICAgICAvLyBub2RlcyBmcm9tIHRoZXJlXG4gICAgICBlbHNlIGlmIChjb250ZXh0ICE9PSB1bmRlZmluZWQpIHJldHVybiAkKGNvbnRleHQpLmZpbmQoc2VsZWN0b3IpXG4gICAgICAvLyBBbmQgbGFzdCBidXQgbm8gbGVhc3QsIGlmIGl0J3MgYSBDU1Mgc2VsZWN0b3IsIHVzZSBpdCB0byBzZWxlY3Qgbm9kZXMuXG4gICAgICBlbHNlIGRvbSA9IHplcHRvLnFzYShkb2N1bWVudCwgc2VsZWN0b3IpXG4gICAgfVxuICAgIC8vIGNyZWF0ZSBhIG5ldyBaZXB0byBjb2xsZWN0aW9uIGZyb20gdGhlIG5vZGVzIGZvdW5kXG4gICAgcmV0dXJuIHplcHRvLlooZG9tLCBzZWxlY3RvcilcbiAgfVxuXG4gIC8vIGAkYCB3aWxsIGJlIHRoZSBiYXNlIGBaZXB0b2Agb2JqZWN0LiBXaGVuIGNhbGxpbmcgdGhpc1xuICAvLyBmdW5jdGlvbiBqdXN0IGNhbGwgYCQuemVwdG8uaW5pdCwgd2hpY2ggbWFrZXMgdGhlIGltcGxlbWVudGF0aW9uXG4gIC8vIGRldGFpbHMgb2Ygc2VsZWN0aW5nIG5vZGVzIGFuZCBjcmVhdGluZyBaZXB0byBjb2xsZWN0aW9uc1xuICAvLyBwYXRjaGFibGUgaW4gcGx1Z2lucy5cbiAgJCA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBjb250ZXh0KXtcbiAgICByZXR1cm4gemVwdG8uaW5pdChzZWxlY3RvciwgY29udGV4dClcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4dGVuZCh0YXJnZXQsIHNvdXJjZSwgZGVlcCkge1xuICAgIGZvciAoa2V5IGluIHNvdXJjZSlcbiAgICAgIGlmIChkZWVwICYmIChpc1BsYWluT2JqZWN0KHNvdXJjZVtrZXldKSB8fCBpc0FycmF5KHNvdXJjZVtrZXldKSkpIHtcbiAgICAgICAgaWYgKGlzUGxhaW5PYmplY3Qoc291cmNlW2tleV0pICYmICFpc1BsYWluT2JqZWN0KHRhcmdldFtrZXldKSlcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHt9XG4gICAgICAgIGlmIChpc0FycmF5KHNvdXJjZVtrZXldKSAmJiAhaXNBcnJheSh0YXJnZXRba2V5XSkpXG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBbXVxuICAgICAgICBleHRlbmQodGFyZ2V0W2tleV0sIHNvdXJjZVtrZXldLCBkZWVwKVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoc291cmNlW2tleV0gIT09IHVuZGVmaW5lZCkgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XVxuICB9XG5cbiAgLy8gQ29weSBhbGwgYnV0IHVuZGVmaW5lZCBwcm9wZXJ0aWVzIGZyb20gb25lIG9yIG1vcmVcbiAgLy8gb2JqZWN0cyB0byB0aGUgYHRhcmdldGAgb2JqZWN0LlxuICAkLmV4dGVuZCA9IGZ1bmN0aW9uKHRhcmdldCl7XG4gICAgdmFyIGRlZXAsIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSlcbiAgICBpZiAodHlwZW9mIHRhcmdldCA9PSAnYm9vbGVhbicpIHtcbiAgICAgIGRlZXAgPSB0YXJnZXRcbiAgICAgIHRhcmdldCA9IGFyZ3Muc2hpZnQoKVxuICAgIH1cbiAgICBhcmdzLmZvckVhY2goZnVuY3Rpb24oYXJnKXsgZXh0ZW5kKHRhcmdldCwgYXJnLCBkZWVwKSB9KVxuICAgIHJldHVybiB0YXJnZXRcbiAgfVxuXG4gIC8vIGAkLnplcHRvLnFzYWAgaXMgWmVwdG8ncyBDU1Mgc2VsZWN0b3IgaW1wbGVtZW50YXRpb24gd2hpY2hcbiAgLy8gdXNlcyBgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbGAgYW5kIG9wdGltaXplcyBmb3Igc29tZSBzcGVjaWFsIGNhc2VzLCBsaWtlIGAjaWRgLlxuICAvLyBUaGlzIG1ldGhvZCBjYW4gYmUgb3ZlcnJpZGVuIGluIHBsdWdpbnMuXG4gIHplcHRvLnFzYSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHNlbGVjdG9yKXtcbiAgICB2YXIgZm91bmQsXG4gICAgICAgIG1heWJlSUQgPSBzZWxlY3RvclswXSA9PSAnIycsXG4gICAgICAgIG1heWJlQ2xhc3MgPSAhbWF5YmVJRCAmJiBzZWxlY3RvclswXSA9PSAnLicsXG4gICAgICAgIG5hbWVPbmx5ID0gbWF5YmVJRCB8fCBtYXliZUNsYXNzID8gc2VsZWN0b3Iuc2xpY2UoMSkgOiBzZWxlY3RvciwgLy8gRW5zdXJlIHRoYXQgYSAxIGNoYXIgdGFnIG5hbWUgc3RpbGwgZ2V0cyBjaGVja2VkXG4gICAgICAgIGlzU2ltcGxlID0gc2ltcGxlU2VsZWN0b3JSRS50ZXN0KG5hbWVPbmx5KVxuICAgIHJldHVybiAoaXNEb2N1bWVudChlbGVtZW50KSAmJiBpc1NpbXBsZSAmJiBtYXliZUlEKSA/XG4gICAgICAgICggKGZvdW5kID0gZWxlbWVudC5nZXRFbGVtZW50QnlJZChuYW1lT25seSkpID8gW2ZvdW5kXSA6IFtdICkgOlxuICAgICAgICAoZWxlbWVudC5ub2RlVHlwZSAhPT0gMSAmJiBlbGVtZW50Lm5vZGVUeXBlICE9PSA5KSA/IFtdIDpcbiAgICAgICAgICAgIHNsaWNlLmNhbGwoXG4gICAgICAgICAgICAgICAgaXNTaW1wbGUgJiYgIW1heWJlSUQgP1xuICAgICAgICAgICAgICAgICAgICBtYXliZUNsYXNzID8gZWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKG5hbWVPbmx5KSA6IC8vIElmIGl0J3Mgc2ltcGxlLCBpdCBjb3VsZCBiZSBhIGNsYXNzXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHNlbGVjdG9yKSA6IC8vIE9yIGEgdGFnXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikgLy8gT3IgaXQncyBub3Qgc2ltcGxlLCBhbmQgd2UgbmVlZCB0byBxdWVyeSBhbGxcbiAgICAgICAgICAgIClcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbHRlcmVkKG5vZGVzLCBzZWxlY3Rvcikge1xuICAgIHJldHVybiBzZWxlY3RvciA9PSBudWxsID8gJChub2RlcykgOiAkKG5vZGVzKS5maWx0ZXIoc2VsZWN0b3IpXG4gIH1cblxuICAkLmNvbnRhaW5zID0gZnVuY3Rpb24ocGFyZW50LCBub2RlKSB7XG4gICAgcmV0dXJuIHBhcmVudCAhPT0gbm9kZSAmJiBwYXJlbnQuY29udGFpbnMobm9kZSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGZ1bmNBcmcoY29udGV4dCwgYXJnLCBpZHgsIHBheWxvYWQpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihhcmcpID8gYXJnLmNhbGwoY29udGV4dCwgaWR4LCBwYXlsb2FkKSA6IGFyZ1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0QXR0cmlidXRlKG5vZGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgdmFsdWUgPT0gbnVsbCA/IG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpIDogbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpXG4gIH1cblxuICAvLyBhY2Nlc3MgY2xhc3NOYW1lIHByb3BlcnR5IHdoaWxlIHJlc3BlY3RpbmcgU1ZHQW5pbWF0ZWRTdHJpbmdcbiAgZnVuY3Rpb24gY2xhc3NOYW1lKG5vZGUsIHZhbHVlKXtcbiAgICB2YXIga2xhc3MgPSBub2RlLmNsYXNzTmFtZSxcbiAgICAgICAgc3ZnICAgPSBrbGFzcyAmJiBrbGFzcy5iYXNlVmFsICE9PSB1bmRlZmluZWRcblxuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gc3ZnID8ga2xhc3MuYmFzZVZhbCA6IGtsYXNzXG4gICAgc3ZnID8gKGtsYXNzLmJhc2VWYWwgPSB2YWx1ZSkgOiAobm9kZS5jbGFzc05hbWUgPSB2YWx1ZSlcbiAgfVxuXG4gIC8vIFwidHJ1ZVwiICA9PiB0cnVlXG4gIC8vIFwiZmFsc2VcIiA9PiBmYWxzZVxuICAvLyBcIm51bGxcIiAgPT4gbnVsbFxuICAvLyBcIjQyXCIgICAgPT4gNDJcbiAgLy8gXCI0Mi41XCIgID0+IDQyLjVcbiAgLy8gXCIwOFwiICAgID0+IFwiMDhcIlxuICAvLyBKU09OICAgID0+IHBhcnNlIGlmIHZhbGlkXG4gIC8vIFN0cmluZyAgPT4gc2VsZlxuICBmdW5jdGlvbiBkZXNlcmlhbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgdmFyIG51bVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdmFsdWUgP1xuICAgICAgICAgIHZhbHVlID09IFwidHJ1ZVwiIHx8XG4gICAgICAgICAgICAgICggdmFsdWUgPT0gXCJmYWxzZVwiID8gZmFsc2UgOlxuICAgICAgICAgICAgICAgICAgdmFsdWUgPT0gXCJudWxsXCIgPyBudWxsIDpcbiAgICAgICAgICAgICAgICAgICAgICAhL14wLy50ZXN0KHZhbHVlKSAmJiAhaXNOYU4obnVtID0gTnVtYmVyKHZhbHVlKSkgPyBudW0gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvXltcXFtcXHtdLy50ZXN0KHZhbHVlKSA/ICQucGFyc2VKU09OKHZhbHVlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSApXG4gICAgICAgICAgOiB2YWx1ZVxuICAgIH0gY2F0Y2goZSkge1xuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgfVxuICB9XG5cbiAgJC50eXBlID0gdHlwZVxuICAkLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uXG4gICQuaXNXaW5kb3cgPSBpc1dpbmRvd1xuICAkLmlzQXJyYXkgPSBpc0FycmF5XG4gICQuaXNQbGFpbk9iamVjdCA9IGlzUGxhaW5PYmplY3RcblxuICAkLmlzRW1wdHlPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgbmFtZVxuICAgIGZvciAobmFtZSBpbiBvYmopIHJldHVybiBmYWxzZVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAkLmluQXJyYXkgPSBmdW5jdGlvbihlbGVtLCBhcnJheSwgaSl7XG4gICAgcmV0dXJuIGVtcHR5QXJyYXkuaW5kZXhPZi5jYWxsKGFycmF5LCBlbGVtLCBpKVxuICB9XG5cbiAgJC5jYW1lbENhc2UgPSBjYW1lbGl6ZVxuICAkLnRyaW0gPSBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gc3RyID09IG51bGwgPyBcIlwiIDogU3RyaW5nLnByb3RvdHlwZS50cmltLmNhbGwoc3RyKVxuICB9XG5cbiAgLy8gcGx1Z2luIGNvbXBhdGliaWxpdHlcbiAgJC51dWlkID0gMFxuICAkLnN1cHBvcnQgPSB7IH1cbiAgJC5leHByID0geyB9XG5cbiAgJC5tYXAgPSBmdW5jdGlvbihlbGVtZW50cywgY2FsbGJhY2spe1xuICAgIHZhciB2YWx1ZSwgdmFsdWVzID0gW10sIGksIGtleVxuICAgIGlmIChsaWtlQXJyYXkoZWxlbWVudHMpKVxuICAgICAgZm9yIChpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlID0gY2FsbGJhY2soZWxlbWVudHNbaV0sIGkpXG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB2YWx1ZXMucHVzaCh2YWx1ZSlcbiAgICAgIH1cbiAgICBlbHNlXG4gICAgICBmb3IgKGtleSBpbiBlbGVtZW50cykge1xuICAgICAgICB2YWx1ZSA9IGNhbGxiYWNrKGVsZW1lbnRzW2tleV0sIGtleSlcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHZhbHVlcy5wdXNoKHZhbHVlKVxuICAgICAgfVxuICAgIHJldHVybiBmbGF0dGVuKHZhbHVlcylcbiAgfVxuXG4gICQuZWFjaCA9IGZ1bmN0aW9uKGVsZW1lbnRzLCBjYWxsYmFjayl7XG4gICAgdmFyIGksIGtleVxuICAgIGlmIChsaWtlQXJyYXkoZWxlbWVudHMpKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmIChjYWxsYmFjay5jYWxsKGVsZW1lbnRzW2ldLCBpLCBlbGVtZW50c1tpXSkgPT09IGZhbHNlKSByZXR1cm4gZWxlbWVudHNcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChrZXkgaW4gZWxlbWVudHMpXG4gICAgICAgIGlmIChjYWxsYmFjay5jYWxsKGVsZW1lbnRzW2tleV0sIGtleSwgZWxlbWVudHNba2V5XSkgPT09IGZhbHNlKSByZXR1cm4gZWxlbWVudHNcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudHNcbiAgfVxuXG4gICQuZ3JlcCA9IGZ1bmN0aW9uKGVsZW1lbnRzLCBjYWxsYmFjayl7XG4gICAgcmV0dXJuIGZpbHRlci5jYWxsKGVsZW1lbnRzLCBjYWxsYmFjaylcbiAgfVxuXG4gIGlmICh3aW5kb3cuSlNPTikgJC5wYXJzZUpTT04gPSBKU09OLnBhcnNlXG5cbiAgLy8gUG9wdWxhdGUgdGhlIGNsYXNzMnR5cGUgbWFwXG4gICQuZWFjaChcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3JcIi5zcGxpdChcIiBcIiksIGZ1bmN0aW9uKGksIG5hbWUpIHtcbiAgICBjbGFzczJ0eXBlWyBcIltvYmplY3QgXCIgKyBuYW1lICsgXCJdXCIgXSA9IG5hbWUudG9Mb3dlckNhc2UoKVxuICB9KVxuXG4gIC8vIERlZmluZSBtZXRob2RzIHRoYXQgd2lsbCBiZSBhdmFpbGFibGUgb24gYWxsXG4gIC8vIFplcHRvIGNvbGxlY3Rpb25zXG4gICQuZm4gPSB7XG4gICAgLy8gQmVjYXVzZSBhIGNvbGxlY3Rpb24gYWN0cyBsaWtlIGFuIGFycmF5XG4gICAgLy8gY29weSBvdmVyIHRoZXNlIHVzZWZ1bCBhcnJheSBmdW5jdGlvbnMuXG4gICAgZm9yRWFjaDogZW1wdHlBcnJheS5mb3JFYWNoLFxuICAgIHJlZHVjZTogZW1wdHlBcnJheS5yZWR1Y2UsXG4gICAgcHVzaDogZW1wdHlBcnJheS5wdXNoLFxuICAgIHNvcnQ6IGVtcHR5QXJyYXkuc29ydCxcbiAgICBpbmRleE9mOiBlbXB0eUFycmF5LmluZGV4T2YsXG4gICAgY29uY2F0OiBlbXB0eUFycmF5LmNvbmNhdCxcblxuICAgIC8vIGBtYXBgIGFuZCBgc2xpY2VgIGluIHRoZSBqUXVlcnkgQVBJIHdvcmsgZGlmZmVyZW50bHlcbiAgICAvLyBmcm9tIHRoZWlyIGFycmF5IGNvdW50ZXJwYXJ0c1xuICAgIG1hcDogZnVuY3Rpb24oZm4pe1xuICAgICAgcmV0dXJuICQoJC5tYXAodGhpcywgZnVuY3Rpb24oZWwsIGkpeyByZXR1cm4gZm4uY2FsbChlbCwgaSwgZWwpIH0pKVxuICAgIH0sXG4gICAgc2xpY2U6IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gJChzbGljZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKVxuICAgIH0sXG5cbiAgICByZWFkeTogZnVuY3Rpb24oY2FsbGJhY2spe1xuICAgICAgLy8gbmVlZCB0byBjaGVjayBpZiBkb2N1bWVudC5ib2R5IGV4aXN0cyBmb3IgSUUgYXMgdGhhdCBicm93c2VyIHJlcG9ydHNcbiAgICAgIC8vIGRvY3VtZW50IHJlYWR5IHdoZW4gaXQgaGFzbid0IHlldCBjcmVhdGVkIHRoZSBib2R5IGVsZW1lbnRcbiAgICAgIGlmIChyZWFkeVJFLnRlc3QoZG9jdW1lbnQucmVhZHlTdGF0ZSkgJiYgZG9jdW1lbnQuYm9keSkgY2FsbGJhY2soJClcbiAgICAgIGVsc2UgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCl7IGNhbGxiYWNrKCQpIH0sIGZhbHNlKVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24oaWR4KXtcbiAgICAgIHJldHVybiBpZHggPT09IHVuZGVmaW5lZCA/IHNsaWNlLmNhbGwodGhpcykgOiB0aGlzW2lkeCA+PSAwID8gaWR4IDogaWR4ICsgdGhpcy5sZW5ndGhdXG4gICAgfSxcbiAgICB0b0FycmF5OiBmdW5jdGlvbigpeyByZXR1cm4gdGhpcy5nZXQoKSB9LFxuICAgIHNpemU6IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gdGhpcy5sZW5ndGhcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50Tm9kZSAhPSBudWxsKVxuICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKVxuICAgICAgfSlcbiAgICB9LFxuICAgIGVhY2g6IGZ1bmN0aW9uKGNhbGxiYWNrKXtcbiAgICAgIGVtcHR5QXJyYXkuZXZlcnkuY2FsbCh0aGlzLCBmdW5jdGlvbihlbCwgaWR4KXtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwoZWwsIGlkeCwgZWwpICE9PSBmYWxzZVxuICAgICAgfSlcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcbiAgICBmaWx0ZXI6IGZ1bmN0aW9uKHNlbGVjdG9yKXtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKHNlbGVjdG9yKSkgcmV0dXJuIHRoaXMubm90KHRoaXMubm90KHNlbGVjdG9yKSlcbiAgICAgIHJldHVybiAkKGZpbHRlci5jYWxsKHRoaXMsIGZ1bmN0aW9uKGVsZW1lbnQpe1xuICAgICAgICByZXR1cm4gemVwdG8ubWF0Y2hlcyhlbGVtZW50LCBzZWxlY3RvcilcbiAgICAgIH0pKVxuICAgIH0sXG4gICAgYWRkOiBmdW5jdGlvbihzZWxlY3Rvcixjb250ZXh0KXtcbiAgICAgIHJldHVybiAkKHVuaXEodGhpcy5jb25jYXQoJChzZWxlY3Rvcixjb250ZXh0KSkpKVxuICAgIH0sXG4gICAgaXM6IGZ1bmN0aW9uKHNlbGVjdG9yKXtcbiAgICAgIHJldHVybiB0aGlzLmxlbmd0aCA+IDAgJiYgemVwdG8ubWF0Y2hlcyh0aGlzWzBdLCBzZWxlY3RvcilcbiAgICB9LFxuICAgIG5vdDogZnVuY3Rpb24oc2VsZWN0b3Ipe1xuICAgICAgdmFyIG5vZGVzPVtdXG4gICAgICBpZiAoaXNGdW5jdGlvbihzZWxlY3RvcikgJiYgc2VsZWN0b3IuY2FsbCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24oaWR4KXtcbiAgICAgICAgICBpZiAoIXNlbGVjdG9yLmNhbGwodGhpcyxpZHgpKSBub2Rlcy5wdXNoKHRoaXMpXG4gICAgICAgIH0pXG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIGV4Y2x1ZGVzID0gdHlwZW9mIHNlbGVjdG9yID09ICdzdHJpbmcnID8gdGhpcy5maWx0ZXIoc2VsZWN0b3IpIDpcbiAgICAgICAgICAgIChsaWtlQXJyYXkoc2VsZWN0b3IpICYmIGlzRnVuY3Rpb24oc2VsZWN0b3IuaXRlbSkpID8gc2xpY2UuY2FsbChzZWxlY3RvcikgOiAkKHNlbGVjdG9yKVxuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24oZWwpe1xuICAgICAgICAgIGlmIChleGNsdWRlcy5pbmRleE9mKGVsKSA8IDApIG5vZGVzLnB1c2goZWwpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gJChub2RlcylcbiAgICB9LFxuICAgIGhhczogZnVuY3Rpb24oc2VsZWN0b3Ipe1xuICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiBpc09iamVjdChzZWxlY3RvcikgP1xuICAgICAgICAgICAgJC5jb250YWlucyh0aGlzLCBzZWxlY3RvcikgOlxuICAgICAgICAgICAgJCh0aGlzKS5maW5kKHNlbGVjdG9yKS5zaXplKClcbiAgICAgIH0pXG4gICAgfSxcbiAgICBlcTogZnVuY3Rpb24oaWR4KXtcbiAgICAgIHJldHVybiBpZHggPT09IC0xID8gdGhpcy5zbGljZShpZHgpIDogdGhpcy5zbGljZShpZHgsICsgaWR4ICsgMSlcbiAgICB9LFxuICAgIGZpcnN0OiBmdW5jdGlvbigpe1xuICAgICAgdmFyIGVsID0gdGhpc1swXVxuICAgICAgcmV0dXJuIGVsICYmICFpc09iamVjdChlbCkgPyBlbCA6ICQoZWwpXG4gICAgfSxcbiAgICBsYXN0OiBmdW5jdGlvbigpe1xuICAgICAgdmFyIGVsID0gdGhpc1t0aGlzLmxlbmd0aCAtIDFdXG4gICAgICByZXR1cm4gZWwgJiYgIWlzT2JqZWN0KGVsKSA/IGVsIDogJChlbClcbiAgICB9LFxuICAgIGZpbmQ6IGZ1bmN0aW9uKHNlbGVjdG9yKXtcbiAgICAgIHZhciByZXN1bHQsICR0aGlzID0gdGhpc1xuICAgICAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PSAnb2JqZWN0JylcbiAgICAgICAgcmVzdWx0ID0gJChzZWxlY3RvcikuZmlsdGVyKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgdmFyIG5vZGUgPSB0aGlzXG4gICAgICAgICAgcmV0dXJuIGVtcHR5QXJyYXkuc29tZS5jYWxsKCR0aGlzLCBmdW5jdGlvbihwYXJlbnQpe1xuICAgICAgICAgICAgcmV0dXJuICQuY29udGFpbnMocGFyZW50LCBub2RlKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICBlbHNlIGlmICh0aGlzLmxlbmd0aCA9PSAxKSByZXN1bHQgPSAkKHplcHRvLnFzYSh0aGlzWzBdLCBzZWxlY3RvcikpXG4gICAgICBlbHNlIHJlc3VsdCA9IHRoaXMubWFwKGZ1bmN0aW9uKCl7IHJldHVybiB6ZXB0by5xc2EodGhpcywgc2VsZWN0b3IpIH0pXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfSxcbiAgICBjbG9zZXN0OiBmdW5jdGlvbihzZWxlY3RvciwgY29udGV4dCl7XG4gICAgICB2YXIgbm9kZSA9IHRoaXNbMF0sIGNvbGxlY3Rpb24gPSBmYWxzZVxuICAgICAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PSAnb2JqZWN0JykgY29sbGVjdGlvbiA9ICQoc2VsZWN0b3IpXG4gICAgICB3aGlsZSAobm9kZSAmJiAhKGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmluZGV4T2Yobm9kZSkgPj0gMCA6IHplcHRvLm1hdGNoZXMobm9kZSwgc2VsZWN0b3IpKSlcbiAgICAgICAgbm9kZSA9IG5vZGUgIT09IGNvbnRleHQgJiYgIWlzRG9jdW1lbnQobm9kZSkgJiYgbm9kZS5wYXJlbnROb2RlXG4gICAgICByZXR1cm4gJChub2RlKVxuICAgIH0sXG4gICAgcGFyZW50czogZnVuY3Rpb24oc2VsZWN0b3Ipe1xuICAgICAgdmFyIGFuY2VzdG9ycyA9IFtdLCBub2RlcyA9IHRoaXNcbiAgICAgIHdoaWxlIChub2Rlcy5sZW5ndGggPiAwKVxuICAgICAgICBub2RlcyA9ICQubWFwKG5vZGVzLCBmdW5jdGlvbihub2RlKXtcbiAgICAgICAgICBpZiAoKG5vZGUgPSBub2RlLnBhcmVudE5vZGUpICYmICFpc0RvY3VtZW50KG5vZGUpICYmIGFuY2VzdG9ycy5pbmRleE9mKG5vZGUpIDwgMCkge1xuICAgICAgICAgICAgYW5jZXN0b3JzLnB1c2gobm9kZSlcbiAgICAgICAgICAgIHJldHVybiBub2RlXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgcmV0dXJuIGZpbHRlcmVkKGFuY2VzdG9ycywgc2VsZWN0b3IpXG4gICAgfSxcbiAgICBwYXJlbnQ6IGZ1bmN0aW9uKHNlbGVjdG9yKXtcbiAgICAgIHJldHVybiBmaWx0ZXJlZCh1bmlxKHRoaXMucGx1Y2soJ3BhcmVudE5vZGUnKSksIHNlbGVjdG9yKVxuICAgIH0sXG4gICAgY2hpbGRyZW46IGZ1bmN0aW9uKHNlbGVjdG9yKXtcbiAgICAgIHJldHVybiBmaWx0ZXJlZCh0aGlzLm1hcChmdW5jdGlvbigpeyByZXR1cm4gY2hpbGRyZW4odGhpcykgfSksIHNlbGVjdG9yKVxuICAgIH0sXG4gICAgY29udGVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCkgeyByZXR1cm4gc2xpY2UuY2FsbCh0aGlzLmNoaWxkTm9kZXMpIH0pXG4gICAgfSxcbiAgICBzaWJsaW5nczogZnVuY3Rpb24oc2VsZWN0b3Ipe1xuICAgICAgcmV0dXJuIGZpbHRlcmVkKHRoaXMubWFwKGZ1bmN0aW9uKGksIGVsKXtcbiAgICAgICAgcmV0dXJuIGZpbHRlci5jYWxsKGNoaWxkcmVuKGVsLnBhcmVudE5vZGUpLCBmdW5jdGlvbihjaGlsZCl7IHJldHVybiBjaGlsZCE9PWVsIH0pXG4gICAgICB9KSwgc2VsZWN0b3IpXG4gICAgfSxcbiAgICBlbXB0eTogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsgdGhpcy5pbm5lckhUTUwgPSAnJyB9KVxuICAgIH0sXG4gICAgLy8gYHBsdWNrYCBpcyBib3Jyb3dlZCBmcm9tIFByb3RvdHlwZS5qc1xuICAgIHBsdWNrOiBmdW5jdGlvbihwcm9wZXJ0eSl7XG4gICAgICByZXR1cm4gJC5tYXAodGhpcywgZnVuY3Rpb24oZWwpeyByZXR1cm4gZWxbcHJvcGVydHldIH0pXG4gICAgfSxcbiAgICBzaG93OiBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICB0aGlzLnN0eWxlLmRpc3BsYXkgPT0gXCJub25lXCIgJiYgKHRoaXMuc3R5bGUuZGlzcGxheSA9ICcnKVxuICAgICAgICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLCAnJykuZ2V0UHJvcGVydHlWYWx1ZShcImRpc3BsYXlcIikgPT0gXCJub25lXCIpXG4gICAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5ID0gZGVmYXVsdERpc3BsYXkodGhpcy5ub2RlTmFtZSlcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgcmVwbGFjZVdpdGg6IGZ1bmN0aW9uKG5ld0NvbnRlbnQpe1xuICAgICAgcmV0dXJuIHRoaXMuYmVmb3JlKG5ld0NvbnRlbnQpLnJlbW92ZSgpXG4gICAgfSxcbiAgICB3cmFwOiBmdW5jdGlvbihzdHJ1Y3R1cmUpe1xuICAgICAgdmFyIGZ1bmMgPSBpc0Z1bmN0aW9uKHN0cnVjdHVyZSlcbiAgICAgIGlmICh0aGlzWzBdICYmICFmdW5jKVxuICAgICAgICB2YXIgZG9tICAgPSAkKHN0cnVjdHVyZSkuZ2V0KDApLFxuICAgICAgICAgICAgY2xvbmUgPSBkb20ucGFyZW50Tm9kZSB8fCB0aGlzLmxlbmd0aCA+IDFcblxuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpbmRleCl7XG4gICAgICAgICQodGhpcykud3JhcEFsbChcbiAgICAgICAgICAgIGZ1bmMgPyBzdHJ1Y3R1cmUuY2FsbCh0aGlzLCBpbmRleCkgOlxuICAgICAgICAgICAgICAgIGNsb25lID8gZG9tLmNsb25lTm9kZSh0cnVlKSA6IGRvbVxuICAgICAgICApXG4gICAgICB9KVxuICAgIH0sXG4gICAgd3JhcEFsbDogZnVuY3Rpb24oc3RydWN0dXJlKXtcbiAgICAgIGlmICh0aGlzWzBdKSB7XG4gICAgICAgICQodGhpc1swXSkuYmVmb3JlKHN0cnVjdHVyZSA9ICQoc3RydWN0dXJlKSlcbiAgICAgICAgdmFyIGNoaWxkcmVuXG4gICAgICAgIC8vIGRyaWxsIGRvd24gdG8gdGhlIGlubW9zdCBlbGVtZW50XG4gICAgICAgIHdoaWxlICgoY2hpbGRyZW4gPSBzdHJ1Y3R1cmUuY2hpbGRyZW4oKSkubGVuZ3RoKSBzdHJ1Y3R1cmUgPSBjaGlsZHJlbi5maXJzdCgpXG4gICAgICAgICQoc3RydWN0dXJlKS5hcHBlbmQodGhpcylcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcbiAgICB3cmFwSW5uZXI6IGZ1bmN0aW9uKHN0cnVjdHVyZSl7XG4gICAgICB2YXIgZnVuYyA9IGlzRnVuY3Rpb24oc3RydWN0dXJlKVxuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpbmRleCl7XG4gICAgICAgIHZhciBzZWxmID0gJCh0aGlzKSwgY29udGVudHMgPSBzZWxmLmNvbnRlbnRzKCksXG4gICAgICAgICAgICBkb20gID0gZnVuYyA/IHN0cnVjdHVyZS5jYWxsKHRoaXMsIGluZGV4KSA6IHN0cnVjdHVyZVxuICAgICAgICBjb250ZW50cy5sZW5ndGggPyBjb250ZW50cy53cmFwQWxsKGRvbSkgOiBzZWxmLmFwcGVuZChkb20pXG4gICAgICB9KVxuICAgIH0sXG4gICAgdW53cmFwOiBmdW5jdGlvbigpe1xuICAgICAgdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICQodGhpcykucmVwbGFjZVdpdGgoJCh0aGlzKS5jaGlsZHJlbigpKVxuICAgICAgfSlcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcbiAgICBjbG9uZTogZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbigpeyByZXR1cm4gdGhpcy5jbG9uZU5vZGUodHJ1ZSkgfSlcbiAgICB9LFxuICAgIGhpZGU6IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gdGhpcy5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKVxuICAgIH0sXG4gICAgdG9nZ2xlOiBmdW5jdGlvbihzZXR0aW5nKXtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIGVsID0gJCh0aGlzKVxuICAgICAgICAgICAgOyhzZXR0aW5nID09PSB1bmRlZmluZWQgPyBlbC5jc3MoXCJkaXNwbGF5XCIpID09IFwibm9uZVwiIDogc2V0dGluZykgPyBlbC5zaG93KCkgOiBlbC5oaWRlKClcbiAgICAgIH0pXG4gICAgfSxcbiAgICBwcmV2OiBmdW5jdGlvbihzZWxlY3Rvcil7IHJldHVybiAkKHRoaXMucGx1Y2soJ3ByZXZpb3VzRWxlbWVudFNpYmxpbmcnKSkuZmlsdGVyKHNlbGVjdG9yIHx8ICcqJykgfSxcbiAgICBuZXh0OiBmdW5jdGlvbihzZWxlY3Rvcil7IHJldHVybiAkKHRoaXMucGx1Y2soJ25leHRFbGVtZW50U2libGluZycpKS5maWx0ZXIoc2VsZWN0b3IgfHwgJyonKSB9LFxuICAgIGh0bWw6IGZ1bmN0aW9uKGh0bWwpe1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDAgP1xuICAgICAgICAgICh0aGlzLmxlbmd0aCA+IDAgPyB0aGlzWzBdLmlubmVySFRNTCA6IG51bGwpIDpcbiAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24oaWR4KXtcbiAgICAgICAgICAgIHZhciBvcmlnaW5IdG1sID0gdGhpcy5pbm5lckhUTUxcbiAgICAgICAgICAgICQodGhpcykuZW1wdHkoKS5hcHBlbmQoIGZ1bmNBcmcodGhpcywgaHRtbCwgaWR4LCBvcmlnaW5IdG1sKSApXG4gICAgICAgICAgfSlcbiAgICB9LFxuICAgIHRleHQ6IGZ1bmN0aW9uKHRleHQpe1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDAgP1xuICAgICAgICAgICh0aGlzLmxlbmd0aCA+IDAgPyB0aGlzWzBdLnRleHRDb250ZW50IDogbnVsbCkgOlxuICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbigpeyB0aGlzLnRleHRDb250ZW50ID0gKHRleHQgPT09IHVuZGVmaW5lZCkgPyAnJyA6ICcnK3RleHQgfSlcbiAgICB9LFxuICAgIGF0dHI6IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKXtcbiAgICAgIHZhciByZXN1bHRcbiAgICAgIHJldHVybiAodHlwZW9mIG5hbWUgPT0gJ3N0cmluZycgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgP1xuICAgICAgICAgICh0aGlzLmxlbmd0aCA9PSAwIHx8IHRoaXNbMF0ubm9kZVR5cGUgIT09IDEgPyB1bmRlZmluZWQgOlxuICAgICAgICAgICAgICAobmFtZSA9PSAndmFsdWUnICYmIHRoaXNbMF0ubm9kZU5hbWUgPT0gJ0lOUFVUJykgPyB0aGlzLnZhbCgpIDpcbiAgICAgICAgICAgICAgICAgICghKHJlc3VsdCA9IHRoaXNbMF0uZ2V0QXR0cmlidXRlKG5hbWUpKSAmJiBuYW1lIGluIHRoaXNbMF0pID8gdGhpc1swXVtuYW1lXSA6IHJlc3VsdFxuICAgICAgICAgICAgICApIDpcbiAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24oaWR4KXtcbiAgICAgICAgICAgIGlmICh0aGlzLm5vZGVUeXBlICE9PSAxKSByZXR1cm5cbiAgICAgICAgICAgIGlmIChpc09iamVjdChuYW1lKSkgZm9yIChrZXkgaW4gbmFtZSkgc2V0QXR0cmlidXRlKHRoaXMsIGtleSwgbmFtZVtrZXldKVxuICAgICAgICAgICAgZWxzZSBzZXRBdHRyaWJ1dGUodGhpcywgbmFtZSwgZnVuY0FyZyh0aGlzLCB2YWx1ZSwgaWR4LCB0aGlzLmdldEF0dHJpYnV0ZShuYW1lKSkpXG4gICAgICAgICAgfSlcbiAgICB9LFxuICAgIHJlbW92ZUF0dHI6IGZ1bmN0aW9uKG5hbWUpe1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpeyB0aGlzLm5vZGVUeXBlID09PSAxICYmIHNldEF0dHJpYnV0ZSh0aGlzLCBuYW1lKSB9KVxuICAgIH0sXG4gICAgcHJvcDogZnVuY3Rpb24obmFtZSwgdmFsdWUpe1xuICAgICAgbmFtZSA9IHByb3BNYXBbbmFtZV0gfHwgbmFtZVxuICAgICAgcmV0dXJuICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/XG4gICAgICAgICAgKHRoaXNbMF0gJiYgdGhpc1swXVtuYW1lXSkgOlxuICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbihpZHgpe1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IGZ1bmNBcmcodGhpcywgdmFsdWUsIGlkeCwgdGhpc1tuYW1lXSlcbiAgICAgICAgICB9KVxuICAgIH0sXG4gICAgZGF0YTogZnVuY3Rpb24obmFtZSwgdmFsdWUpe1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLmF0dHIoJ2RhdGEtJyArIG5hbWUucmVwbGFjZShjYXBpdGFsUkUsICctJDEnKS50b0xvd2VyQ2FzZSgpLCB2YWx1ZSlcbiAgICAgIHJldHVybiBkYXRhICE9PSBudWxsID8gZGVzZXJpYWxpemVWYWx1ZShkYXRhKSA6IHVuZGVmaW5lZFxuICAgIH0sXG4gICAgdmFsOiBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMCA/XG4gICAgICAgICAgKHRoaXNbMF0gJiYgKHRoaXNbMF0ubXVsdGlwbGUgP1xuICAgICAgICAgICAgICAkKHRoaXNbMF0pLmZpbmQoJ29wdGlvbicpLmZpbHRlcihmdW5jdGlvbigpeyByZXR1cm4gdGhpcy5zZWxlY3RlZCB9KS5wbHVjaygndmFsdWUnKSA6XG4gICAgICAgICAgICAgIHRoaXNbMF0udmFsdWUpXG4gICAgICAgICAgICAgICkgOlxuICAgICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbihpZHgpe1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGZ1bmNBcmcodGhpcywgdmFsdWUsIGlkeCwgdGhpcy52YWx1ZSlcbiAgICAgICAgICB9KVxuICAgIH0sXG4gICAgb2Zmc2V0OiBmdW5jdGlvbihjb29yZGluYXRlcyl7XG4gICAgICBpZiAoY29vcmRpbmF0ZXMpIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaW5kZXgpe1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxuICAgICAgICAgICAgY29vcmRzID0gZnVuY0FyZyh0aGlzLCBjb29yZGluYXRlcywgaW5kZXgsICR0aGlzLm9mZnNldCgpKSxcbiAgICAgICAgICAgIHBhcmVudE9mZnNldCA9ICR0aGlzLm9mZnNldFBhcmVudCgpLm9mZnNldCgpLFxuICAgICAgICAgICAgcHJvcHMgPSB7XG4gICAgICAgICAgICAgIHRvcDogIGNvb3Jkcy50b3AgIC0gcGFyZW50T2Zmc2V0LnRvcCxcbiAgICAgICAgICAgICAgbGVmdDogY29vcmRzLmxlZnQgLSBwYXJlbnRPZmZzZXQubGVmdFxuICAgICAgICAgICAgfVxuXG4gICAgICAgIGlmICgkdGhpcy5jc3MoJ3Bvc2l0aW9uJykgPT0gJ3N0YXRpYycpIHByb3BzWydwb3NpdGlvbiddID0gJ3JlbGF0aXZlJ1xuICAgICAgICAkdGhpcy5jc3MocHJvcHMpXG4gICAgICB9KVxuICAgICAgaWYgKHRoaXMubGVuZ3RoPT0wKSByZXR1cm4gbnVsbFxuICAgICAgdmFyIG9iaiA9IHRoaXNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IG9iai5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0LFxuICAgICAgICB0b3A6IG9iai50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQsXG4gICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKG9iai53aWR0aCksXG4gICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChvYmouaGVpZ2h0KVxuICAgICAgfVxuICAgIH0sXG4gICAgY3NzOiBmdW5jdGlvbihwcm9wZXJ0eSwgdmFsdWUpe1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdGhpc1swXSwgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgJycpXG4gICAgICAgIGlmKCFlbGVtZW50KSByZXR1cm5cbiAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSA9PSAnc3RyaW5nJylcbiAgICAgICAgICByZXR1cm4gZWxlbWVudC5zdHlsZVtjYW1lbGl6ZShwcm9wZXJ0eSldIHx8IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eSlcbiAgICAgICAgZWxzZSBpZiAoaXNBcnJheShwcm9wZXJ0eSkpIHtcbiAgICAgICAgICB2YXIgcHJvcHMgPSB7fVxuICAgICAgICAgICQuZWFjaChpc0FycmF5KHByb3BlcnR5KSA/IHByb3BlcnR5OiBbcHJvcGVydHldLCBmdW5jdGlvbihfLCBwcm9wKXtcbiAgICAgICAgICAgIHByb3BzW3Byb3BdID0gKGVsZW1lbnQuc3R5bGVbY2FtZWxpemUocHJvcCldIHx8IGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShwcm9wKSlcbiAgICAgICAgICB9KVxuICAgICAgICAgIHJldHVybiBwcm9wc1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBjc3MgPSAnJ1xuICAgICAgaWYgKHR5cGUocHJvcGVydHkpID09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICghdmFsdWUgJiYgdmFsdWUgIT09IDApXG4gICAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uKCl7IHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkoZGFzaGVyaXplKHByb3BlcnR5KSkgfSlcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGNzcyA9IGRhc2hlcml6ZShwcm9wZXJ0eSkgKyBcIjpcIiArIG1heWJlQWRkUHgocHJvcGVydHksIHZhbHVlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChrZXkgaW4gcHJvcGVydHkpXG4gICAgICAgICAgaWYgKCFwcm9wZXJ0eVtrZXldICYmIHByb3BlcnR5W2tleV0gIT09IDApXG4gICAgICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24oKXsgdGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShkYXNoZXJpemUoa2V5KSkgfSlcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBjc3MgKz0gZGFzaGVyaXplKGtleSkgKyAnOicgKyBtYXliZUFkZFB4KGtleSwgcHJvcGVydHlba2V5XSkgKyAnOydcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpeyB0aGlzLnN0eWxlLmNzc1RleHQgKz0gJzsnICsgY3NzIH0pXG4gICAgfSxcbiAgICBpbmRleDogZnVuY3Rpb24oZWxlbWVudCl7XG4gICAgICByZXR1cm4gZWxlbWVudCA/IHRoaXMuaW5kZXhPZigkKGVsZW1lbnQpWzBdKSA6IHRoaXMucGFyZW50KCkuY2hpbGRyZW4oKS5pbmRleE9mKHRoaXNbMF0pXG4gICAgfSxcbiAgICBoYXNDbGFzczogZnVuY3Rpb24obmFtZSl7XG4gICAgICBpZiAoIW5hbWUpIHJldHVybiBmYWxzZVxuICAgICAgcmV0dXJuIGVtcHR5QXJyYXkuc29tZS5jYWxsKHRoaXMsIGZ1bmN0aW9uKGVsKXtcbiAgICAgICAgcmV0dXJuIHRoaXMudGVzdChjbGFzc05hbWUoZWwpKVxuICAgICAgfSwgY2xhc3NSRShuYW1lKSlcbiAgICB9LFxuICAgIGFkZENsYXNzOiBmdW5jdGlvbihuYW1lKXtcbiAgICAgIGlmICghbmFtZSkgcmV0dXJuIHRoaXNcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaWR4KXtcbiAgICAgICAgY2xhc3NMaXN0ID0gW11cbiAgICAgICAgdmFyIGNscyA9IGNsYXNzTmFtZSh0aGlzKSwgbmV3TmFtZSA9IGZ1bmNBcmcodGhpcywgbmFtZSwgaWR4LCBjbHMpXG4gICAgICAgIG5ld05hbWUuc3BsaXQoL1xccysvZykuZm9yRWFjaChmdW5jdGlvbihrbGFzcyl7XG4gICAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKGtsYXNzKSkgY2xhc3NMaXN0LnB1c2goa2xhc3MpXG4gICAgICAgIH0sIHRoaXMpXG4gICAgICAgIGNsYXNzTGlzdC5sZW5ndGggJiYgY2xhc3NOYW1lKHRoaXMsIGNscyArIChjbHMgPyBcIiBcIiA6IFwiXCIpICsgY2xhc3NMaXN0LmpvaW4oXCIgXCIpKVxuICAgICAgfSlcbiAgICB9LFxuICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihuYW1lKXtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaWR4KXtcbiAgICAgICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGNsYXNzTmFtZSh0aGlzLCAnJylcbiAgICAgICAgY2xhc3NMaXN0ID0gY2xhc3NOYW1lKHRoaXMpXG4gICAgICAgIGZ1bmNBcmcodGhpcywgbmFtZSwgaWR4LCBjbGFzc0xpc3QpLnNwbGl0KC9cXHMrL2cpLmZvckVhY2goZnVuY3Rpb24oa2xhc3Mpe1xuICAgICAgICAgIGNsYXNzTGlzdCA9IGNsYXNzTGlzdC5yZXBsYWNlKGNsYXNzUkUoa2xhc3MpLCBcIiBcIilcbiAgICAgICAgfSlcbiAgICAgICAgY2xhc3NOYW1lKHRoaXMsIGNsYXNzTGlzdC50cmltKCkpXG4gICAgICB9KVxuICAgIH0sXG4gICAgdG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKG5hbWUsIHdoZW4pe1xuICAgICAgaWYgKCFuYW1lKSByZXR1cm4gdGhpc1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihpZHgpe1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLCBuYW1lcyA9IGZ1bmNBcmcodGhpcywgbmFtZSwgaWR4LCBjbGFzc05hbWUodGhpcykpXG4gICAgICAgIG5hbWVzLnNwbGl0KC9cXHMrL2cpLmZvckVhY2goZnVuY3Rpb24oa2xhc3Mpe1xuICAgICAgICAgICh3aGVuID09PSB1bmRlZmluZWQgPyAhJHRoaXMuaGFzQ2xhc3Moa2xhc3MpIDogd2hlbikgP1xuICAgICAgICAgICAgICAkdGhpcy5hZGRDbGFzcyhrbGFzcykgOiAkdGhpcy5yZW1vdmVDbGFzcyhrbGFzcylcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSxcbiAgICBzY3JvbGxUb3A6IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgIGlmICghdGhpcy5sZW5ndGgpIHJldHVyblxuICAgICAgdmFyIGhhc1Njcm9sbFRvcCA9ICdzY3JvbGxUb3AnIGluIHRoaXNbMF1cbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gaGFzU2Nyb2xsVG9wID8gdGhpc1swXS5zY3JvbGxUb3AgOiB0aGlzWzBdLnBhZ2VZT2Zmc2V0XG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGhhc1Njcm9sbFRvcCA/XG4gICAgICAgICAgZnVuY3Rpb24oKXsgdGhpcy5zY3JvbGxUb3AgPSB2YWx1ZSB9IDpcbiAgICAgICAgICBmdW5jdGlvbigpeyB0aGlzLnNjcm9sbFRvKHRoaXMuc2Nyb2xsWCwgdmFsdWUpIH0pXG4gICAgfSxcbiAgICBzY3JvbGxMZWZ0OiBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICBpZiAoIXRoaXMubGVuZ3RoKSByZXR1cm5cbiAgICAgIHZhciBoYXNTY3JvbGxMZWZ0ID0gJ3Njcm9sbExlZnQnIGluIHRoaXNbMF1cbiAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gaGFzU2Nyb2xsTGVmdCA/IHRoaXNbMF0uc2Nyb2xsTGVmdCA6IHRoaXNbMF0ucGFnZVhPZmZzZXRcbiAgICAgIHJldHVybiB0aGlzLmVhY2goaGFzU2Nyb2xsTGVmdCA/XG4gICAgICAgICAgZnVuY3Rpb24oKXsgdGhpcy5zY3JvbGxMZWZ0ID0gdmFsdWUgfSA6XG4gICAgICAgICAgZnVuY3Rpb24oKXsgdGhpcy5zY3JvbGxUbyh2YWx1ZSwgdGhpcy5zY3JvbGxZKSB9KVxuICAgIH0sXG4gICAgcG9zaXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLmxlbmd0aCkgcmV0dXJuXG5cbiAgICAgIHZhciBlbGVtID0gdGhpc1swXSxcbiAgICAgIC8vIEdldCAqcmVhbCogb2Zmc2V0UGFyZW50XG4gICAgICAgICAgb2Zmc2V0UGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQoKSxcbiAgICAgIC8vIEdldCBjb3JyZWN0IG9mZnNldHNcbiAgICAgICAgICBvZmZzZXQgICAgICAgPSB0aGlzLm9mZnNldCgpLFxuICAgICAgICAgIHBhcmVudE9mZnNldCA9IHJvb3ROb2RlUkUudGVzdChvZmZzZXRQYXJlbnRbMF0ubm9kZU5hbWUpID8geyB0b3A6IDAsIGxlZnQ6IDAgfSA6IG9mZnNldFBhcmVudC5vZmZzZXQoKVxuXG4gICAgICAvLyBTdWJ0cmFjdCBlbGVtZW50IG1hcmdpbnNcbiAgICAgIC8vIG5vdGU6IHdoZW4gYW4gZWxlbWVudCBoYXMgbWFyZ2luOiBhdXRvIHRoZSBvZmZzZXRMZWZ0IGFuZCBtYXJnaW5MZWZ0XG4gICAgICAvLyBhcmUgdGhlIHNhbWUgaW4gU2FmYXJpIGNhdXNpbmcgb2Zmc2V0LmxlZnQgdG8gaW5jb3JyZWN0bHkgYmUgMFxuICAgICAgb2Zmc2V0LnRvcCAgLT0gcGFyc2VGbG9hdCggJChlbGVtKS5jc3MoJ21hcmdpbi10b3AnKSApIHx8IDBcbiAgICAgIG9mZnNldC5sZWZ0IC09IHBhcnNlRmxvYXQoICQoZWxlbSkuY3NzKCdtYXJnaW4tbGVmdCcpICkgfHwgMFxuXG4gICAgICAvLyBBZGQgb2Zmc2V0UGFyZW50IGJvcmRlcnNcbiAgICAgIHBhcmVudE9mZnNldC50b3AgICs9IHBhcnNlRmxvYXQoICQob2Zmc2V0UGFyZW50WzBdKS5jc3MoJ2JvcmRlci10b3Atd2lkdGgnKSApIHx8IDBcbiAgICAgIHBhcmVudE9mZnNldC5sZWZ0ICs9IHBhcnNlRmxvYXQoICQob2Zmc2V0UGFyZW50WzBdKS5jc3MoJ2JvcmRlci1sZWZ0LXdpZHRoJykgKSB8fCAwXG5cbiAgICAgIC8vIFN1YnRyYWN0IHRoZSB0d28gb2Zmc2V0c1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiAgb2Zmc2V0LnRvcCAgLSBwYXJlbnRPZmZzZXQudG9wLFxuICAgICAgICBsZWZ0OiBvZmZzZXQubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0XG4gICAgICB9XG4gICAgfSxcbiAgICBvZmZzZXRQYXJlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudCB8fCBkb2N1bWVudC5ib2R5XG4gICAgICAgIHdoaWxlIChwYXJlbnQgJiYgIXJvb3ROb2RlUkUudGVzdChwYXJlbnQubm9kZU5hbWUpICYmICQocGFyZW50KS5jc3MoXCJwb3NpdGlvblwiKSA9PSBcInN0YXRpY1wiKVxuICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5vZmZzZXRQYXJlbnRcbiAgICAgICAgcmV0dXJuIHBhcmVudFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICAvLyBmb3Igbm93XG4gICQuZm4uZGV0YWNoID0gJC5mbi5yZW1vdmVcblxuICAgIC8vIEdlbmVyYXRlIHRoZSBgd2lkdGhgIGFuZCBgaGVpZ2h0YCBmdW5jdGlvbnNcbiAgO1snd2lkdGgnLCAnaGVpZ2h0J10uZm9yRWFjaChmdW5jdGlvbihkaW1lbnNpb24pe1xuICAgIHZhciBkaW1lbnNpb25Qcm9wZXJ0eSA9XG4gICAgICAgIGRpbWVuc2lvbi5yZXBsYWNlKC8uLywgZnVuY3Rpb24obSl7IHJldHVybiBtWzBdLnRvVXBwZXJDYXNlKCkgfSlcblxuICAgICQuZm5bZGltZW5zaW9uXSA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgIHZhciBvZmZzZXQsIGVsID0gdGhpc1swXVxuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiBpc1dpbmRvdyhlbCkgPyBlbFsnaW5uZXInICsgZGltZW5zaW9uUHJvcGVydHldIDpcbiAgICAgICAgICBpc0RvY3VtZW50KGVsKSA/IGVsLmRvY3VtZW50RWxlbWVudFsnc2Nyb2xsJyArIGRpbWVuc2lvblByb3BlcnR5XSA6XG4gICAgICAgICAgICAgIChvZmZzZXQgPSB0aGlzLm9mZnNldCgpKSAmJiBvZmZzZXRbZGltZW5zaW9uXVxuICAgICAgZWxzZSByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGlkeCl7XG4gICAgICAgIGVsID0gJCh0aGlzKVxuICAgICAgICBlbC5jc3MoZGltZW5zaW9uLCBmdW5jQXJnKHRoaXMsIHZhbHVlLCBpZHgsIGVsW2RpbWVuc2lvbl0oKSkpXG4gICAgICB9KVxuICAgIH1cbiAgfSlcblxuICBmdW5jdGlvbiB0cmF2ZXJzZU5vZGUobm9kZSwgZnVuKSB7XG4gICAgZnVuKG5vZGUpXG4gICAgZm9yICh2YXIga2V5IGluIG5vZGUuY2hpbGROb2RlcykgdHJhdmVyc2VOb2RlKG5vZGUuY2hpbGROb2Rlc1trZXldLCBmdW4pXG4gIH1cblxuICAvLyBHZW5lcmF0ZSB0aGUgYGFmdGVyYCwgYHByZXBlbmRgLCBgYmVmb3JlYCwgYGFwcGVuZGAsXG4gIC8vIGBpbnNlcnRBZnRlcmAsIGBpbnNlcnRCZWZvcmVgLCBgYXBwZW5kVG9gLCBhbmQgYHByZXBlbmRUb2AgbWV0aG9kcy5cbiAgYWRqYWNlbmN5T3BlcmF0b3JzLmZvckVhY2goZnVuY3Rpb24ob3BlcmF0b3IsIG9wZXJhdG9ySW5kZXgpIHtcbiAgICB2YXIgaW5zaWRlID0gb3BlcmF0b3JJbmRleCAlIDIgLy89PiBwcmVwZW5kLCBhcHBlbmRcblxuICAgICQuZm5bb3BlcmF0b3JdID0gZnVuY3Rpb24oKXtcbiAgICAgIC8vIGFyZ3VtZW50cyBjYW4gYmUgbm9kZXMsIGFycmF5cyBvZiBub2RlcywgWmVwdG8gb2JqZWN0cyBhbmQgSFRNTCBzdHJpbmdzXG4gICAgICB2YXIgYXJnVHlwZSwgbm9kZXMgPSAkLm1hcChhcmd1bWVudHMsIGZ1bmN0aW9uKGFyZykge1xuICAgICAgICAgICAgYXJnVHlwZSA9IHR5cGUoYXJnKVxuICAgICAgICAgICAgcmV0dXJuIGFyZ1R5cGUgPT0gXCJvYmplY3RcIiB8fCBhcmdUeXBlID09IFwiYXJyYXlcIiB8fCBhcmcgPT0gbnVsbCA/XG4gICAgICAgICAgICAgICAgYXJnIDogemVwdG8uZnJhZ21lbnQoYXJnKVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHBhcmVudCwgY29weUJ5Q2xvbmUgPSB0aGlzLmxlbmd0aCA+IDFcbiAgICAgIGlmIChub2Rlcy5sZW5ndGggPCAxKSByZXR1cm4gdGhpc1xuXG4gICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKF8sIHRhcmdldCl7XG4gICAgICAgIHBhcmVudCA9IGluc2lkZSA/IHRhcmdldCA6IHRhcmdldC5wYXJlbnROb2RlXG5cbiAgICAgICAgLy8gY29udmVydCBhbGwgbWV0aG9kcyB0byBhIFwiYmVmb3JlXCIgb3BlcmF0aW9uXG4gICAgICAgIHRhcmdldCA9IG9wZXJhdG9ySW5kZXggPT0gMCA/IHRhcmdldC5uZXh0U2libGluZyA6XG4gICAgICAgICAgICBvcGVyYXRvckluZGV4ID09IDEgPyB0YXJnZXQuZmlyc3RDaGlsZCA6XG4gICAgICAgICAgICAgICAgb3BlcmF0b3JJbmRleCA9PSAyID8gdGFyZ2V0IDpcbiAgICAgICAgICAgICAgICAgICAgbnVsbFxuXG4gICAgICAgIG5vZGVzLmZvckVhY2goZnVuY3Rpb24obm9kZSl7XG4gICAgICAgICAgaWYgKGNvcHlCeUNsb25lKSBub2RlID0gbm9kZS5jbG9uZU5vZGUodHJ1ZSlcbiAgICAgICAgICBlbHNlIGlmICghcGFyZW50KSByZXR1cm4gJChub2RlKS5yZW1vdmUoKVxuXG4gICAgICAgICAgdHJhdmVyc2VOb2RlKHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgdGFyZ2V0KSwgZnVuY3Rpb24oZWwpe1xuICAgICAgICAgICAgaWYgKGVsLm5vZGVOYW1lICE9IG51bGwgJiYgZWwubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1NDUklQVCcgJiZcbiAgICAgICAgICAgICAgICAoIWVsLnR5cGUgfHwgZWwudHlwZSA9PT0gJ3RleHQvamF2YXNjcmlwdCcpICYmICFlbC5zcmMpXG4gICAgICAgICAgICAgIHdpbmRvd1snZXZhbCddLmNhbGwod2luZG93LCBlbC5pbm5lckhUTUwpXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gYWZ0ZXIgICAgPT4gaW5zZXJ0QWZ0ZXJcbiAgICAvLyBwcmVwZW5kICA9PiBwcmVwZW5kVG9cbiAgICAvLyBiZWZvcmUgICA9PiBpbnNlcnRCZWZvcmVcbiAgICAvLyBhcHBlbmQgICA9PiBhcHBlbmRUb1xuICAgICQuZm5baW5zaWRlID8gb3BlcmF0b3IrJ1RvJyA6ICdpbnNlcnQnKyhvcGVyYXRvckluZGV4ID8gJ0JlZm9yZScgOiAnQWZ0ZXInKV0gPSBmdW5jdGlvbihodG1sKXtcbiAgICAgICQoaHRtbClbb3BlcmF0b3JdKHRoaXMpXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgfSlcblxuICB6ZXB0by5aLnByb3RvdHlwZSA9ICQuZm5cblxuICAvLyBFeHBvcnQgaW50ZXJuYWwgQVBJIGZ1bmN0aW9ucyBpbiB0aGUgYCQuemVwdG9gIG5hbWVzcGFjZVxuICB6ZXB0by51bmlxID0gdW5pcVxuICB6ZXB0by5kZXNlcmlhbGl6ZVZhbHVlID0gZGVzZXJpYWxpemVWYWx1ZVxuICAkLnplcHRvID0gemVwdG9cblxuICByZXR1cm4gJFxufSkoKVxuXG53aW5kb3cuWmVwdG8gPSBaZXB0b1xud2luZG93LiQgPT09IHVuZGVmaW5lZCAmJiAod2luZG93LiQgPSBaZXB0bylcblxuOyhmdW5jdGlvbigkKXtcbiAgdmFyIF96aWQgPSAxLCB1bmRlZmluZWQsXG4gICAgICBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZSxcbiAgICAgIGlzRnVuY3Rpb24gPSAkLmlzRnVuY3Rpb24sXG4gICAgICBpc1N0cmluZyA9IGZ1bmN0aW9uKG9iail7IHJldHVybiB0eXBlb2Ygb2JqID09ICdzdHJpbmcnIH0sXG4gICAgICBoYW5kbGVycyA9IHt9LFxuICAgICAgc3BlY2lhbEV2ZW50cz17fSxcbiAgICAgIGZvY3VzaW5TdXBwb3J0ZWQgPSAnb25mb2N1c2luJyBpbiB3aW5kb3csXG4gICAgICBmb2N1cyA9IHsgZm9jdXM6ICdmb2N1c2luJywgYmx1cjogJ2ZvY3Vzb3V0JyB9LFxuICAgICAgaG92ZXIgPSB7IG1vdXNlZW50ZXI6ICdtb3VzZW92ZXInLCBtb3VzZWxlYXZlOiAnbW91c2VvdXQnIH1cblxuICBzcGVjaWFsRXZlbnRzLmNsaWNrID0gc3BlY2lhbEV2ZW50cy5tb3VzZWRvd24gPSBzcGVjaWFsRXZlbnRzLm1vdXNldXAgPSBzcGVjaWFsRXZlbnRzLm1vdXNlbW92ZSA9ICdNb3VzZUV2ZW50cydcblxuICBmdW5jdGlvbiB6aWQoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50Ll96aWQgfHwgKGVsZW1lbnQuX3ppZCA9IF96aWQrKylcbiAgfVxuICBmdW5jdGlvbiBmaW5kSGFuZGxlcnMoZWxlbWVudCwgZXZlbnQsIGZuLCBzZWxlY3Rvcikge1xuICAgIGV2ZW50ID0gcGFyc2UoZXZlbnQpXG4gICAgaWYgKGV2ZW50Lm5zKSB2YXIgbWF0Y2hlciA9IG1hdGNoZXJGb3IoZXZlbnQubnMpXG4gICAgcmV0dXJuIChoYW5kbGVyc1t6aWQoZWxlbWVudCldIHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgcmV0dXJuIGhhbmRsZXJcbiAgICAgICAgICAmJiAoIWV2ZW50LmUgIHx8IGhhbmRsZXIuZSA9PSBldmVudC5lKVxuICAgICAgICAgICYmICghZXZlbnQubnMgfHwgbWF0Y2hlci50ZXN0KGhhbmRsZXIubnMpKVxuICAgICAgICAgICYmICghZm4gICAgICAgfHwgemlkKGhhbmRsZXIuZm4pID09PSB6aWQoZm4pKVxuICAgICAgICAgICYmICghc2VsZWN0b3IgfHwgaGFuZGxlci5zZWwgPT0gc2VsZWN0b3IpXG4gICAgfSlcbiAgfVxuICBmdW5jdGlvbiBwYXJzZShldmVudCkge1xuICAgIHZhciBwYXJ0cyA9ICgnJyArIGV2ZW50KS5zcGxpdCgnLicpXG4gICAgcmV0dXJuIHtlOiBwYXJ0c1swXSwgbnM6IHBhcnRzLnNsaWNlKDEpLnNvcnQoKS5qb2luKCcgJyl9XG4gIH1cbiAgZnVuY3Rpb24gbWF0Y2hlckZvcihucykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKCcoPzpefCApJyArIG5zLnJlcGxhY2UoJyAnLCAnIC4qID8nKSArICcoPzogfCQpJylcbiAgfVxuXG4gIGZ1bmN0aW9uIGV2ZW50Q2FwdHVyZShoYW5kbGVyLCBjYXB0dXJlU2V0dGluZykge1xuICAgIHJldHVybiBoYW5kbGVyLmRlbCAmJlxuICAgICAgICAoIWZvY3VzaW5TdXBwb3J0ZWQgJiYgKGhhbmRsZXIuZSBpbiBmb2N1cykpIHx8XG4gICAgICAgICEhY2FwdHVyZVNldHRpbmdcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWxFdmVudCh0eXBlKSB7XG4gICAgcmV0dXJuIGhvdmVyW3R5cGVdIHx8IChmb2N1c2luU3VwcG9ydGVkICYmIGZvY3VzW3R5cGVdKSB8fCB0eXBlXG4gIH1cblxuICBmdW5jdGlvbiBhZGQoZWxlbWVudCwgZXZlbnRzLCBmbiwgZGF0YSwgc2VsZWN0b3IsIGRlbGVnYXRvciwgY2FwdHVyZSl7XG4gICAgdmFyIGlkID0gemlkKGVsZW1lbnQpLCBzZXQgPSAoaGFuZGxlcnNbaWRdIHx8IChoYW5kbGVyc1tpZF0gPSBbXSkpXG4gICAgZXZlbnRzLnNwbGl0KC9cXHMvKS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgIGlmIChldmVudCA9PSAncmVhZHknKSByZXR1cm4gJChkb2N1bWVudCkucmVhZHkoZm4pXG4gICAgICB2YXIgaGFuZGxlciAgID0gcGFyc2UoZXZlbnQpXG4gICAgICBoYW5kbGVyLmZuICAgID0gZm5cbiAgICAgIGhhbmRsZXIuc2VsICAgPSBzZWxlY3RvclxuICAgICAgLy8gZW11bGF0ZSBtb3VzZWVudGVyLCBtb3VzZWxlYXZlXG4gICAgICBpZiAoaGFuZGxlci5lIGluIGhvdmVyKSBmbiA9IGZ1bmN0aW9uKGUpe1xuICAgICAgICB2YXIgcmVsYXRlZCA9IGUucmVsYXRlZFRhcmdldFxuICAgICAgICBpZiAoIXJlbGF0ZWQgfHwgKHJlbGF0ZWQgIT09IHRoaXMgJiYgISQuY29udGFpbnModGhpcywgcmVsYXRlZCkpKVxuICAgICAgICAgIHJldHVybiBoYW5kbGVyLmZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH1cbiAgICAgIGhhbmRsZXIuZGVsICAgPSBkZWxlZ2F0b3JcbiAgICAgIHZhciBjYWxsYmFjayAgPSBkZWxlZ2F0b3IgfHwgZm5cbiAgICAgIGhhbmRsZXIucHJveHkgPSBmdW5jdGlvbihlKXtcbiAgICAgICAgZSA9IGNvbXBhdGlibGUoZSlcbiAgICAgICAgaWYgKGUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkgcmV0dXJuXG4gICAgICAgIGUuZGF0YSA9IGRhdGFcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrLmFwcGx5KGVsZW1lbnQsIGUuX2FyZ3MgPT0gdW5kZWZpbmVkID8gW2VdIDogW2VdLmNvbmNhdChlLl9hcmdzKSlcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIGUucHJldmVudERlZmF1bHQoKSwgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICB9XG4gICAgICBoYW5kbGVyLmkgPSBzZXQubGVuZ3RoXG4gICAgICBzZXQucHVzaChoYW5kbGVyKVxuICAgICAgaWYgKCdhZGRFdmVudExpc3RlbmVyJyBpbiBlbGVtZW50KVxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIocmVhbEV2ZW50KGhhbmRsZXIuZSksIGhhbmRsZXIucHJveHksIGV2ZW50Q2FwdHVyZShoYW5kbGVyLCBjYXB0dXJlKSlcbiAgICB9KVxuICB9XG4gIGZ1bmN0aW9uIHJlbW92ZShlbGVtZW50LCBldmVudHMsIGZuLCBzZWxlY3RvciwgY2FwdHVyZSl7XG4gICAgdmFyIGlkID0gemlkKGVsZW1lbnQpXG4gICAgICAgIDsoZXZlbnRzIHx8ICcnKS5zcGxpdCgvXFxzLykuZm9yRWFjaChmdW5jdGlvbihldmVudCl7XG4gICAgICBmaW5kSGFuZGxlcnMoZWxlbWVudCwgZXZlbnQsIGZuLCBzZWxlY3RvcikuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVyKXtcbiAgICAgICAgZGVsZXRlIGhhbmRsZXJzW2lkXVtoYW5kbGVyLmldXG4gICAgICAgIGlmICgncmVtb3ZlRXZlbnRMaXN0ZW5lcicgaW4gZWxlbWVudClcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIocmVhbEV2ZW50KGhhbmRsZXIuZSksIGhhbmRsZXIucHJveHksIGV2ZW50Q2FwdHVyZShoYW5kbGVyLCBjYXB0dXJlKSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gICQuZXZlbnQgPSB7IGFkZDogYWRkLCByZW1vdmU6IHJlbW92ZSB9XG5cbiAgJC5wcm94eSA9IGZ1bmN0aW9uKGZuLCBjb250ZXh0KSB7XG4gICAgaWYgKGlzRnVuY3Rpb24oZm4pKSB7XG4gICAgICB2YXIgcHJveHlGbiA9IGZ1bmN0aW9uKCl7IHJldHVybiBmbi5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpIH1cbiAgICAgIHByb3h5Rm4uX3ppZCA9IHppZChmbilcbiAgICAgIHJldHVybiBwcm94eUZuXG4gICAgfSBlbHNlIGlmIChpc1N0cmluZyhjb250ZXh0KSkge1xuICAgICAgcmV0dXJuICQucHJveHkoZm5bY29udGV4dF0sIGZuKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiZXhwZWN0ZWQgZnVuY3Rpb25cIilcbiAgICB9XG4gIH1cblxuICAkLmZuLmJpbmQgPSBmdW5jdGlvbihldmVudCwgZGF0YSwgY2FsbGJhY2spe1xuICAgIHJldHVybiB0aGlzLm9uKGV2ZW50LCBkYXRhLCBjYWxsYmFjaylcbiAgfVxuICAkLmZuLnVuYmluZCA9IGZ1bmN0aW9uKGV2ZW50LCBjYWxsYmFjayl7XG4gICAgcmV0dXJuIHRoaXMub2ZmKGV2ZW50LCBjYWxsYmFjaylcbiAgfVxuICAkLmZuLm9uZSA9IGZ1bmN0aW9uKGV2ZW50LCBzZWxlY3RvciwgZGF0YSwgY2FsbGJhY2spe1xuICAgIHJldHVybiB0aGlzLm9uKGV2ZW50LCBzZWxlY3RvciwgZGF0YSwgY2FsbGJhY2ssIDEpXG4gIH1cblxuICB2YXIgcmV0dXJuVHJ1ZSA9IGZ1bmN0aW9uKCl7cmV0dXJuIHRydWV9LFxuICAgICAgcmV0dXJuRmFsc2UgPSBmdW5jdGlvbigpe3JldHVybiBmYWxzZX0sXG4gICAgICBpZ25vcmVQcm9wZXJ0aWVzID0gL14oW0EtWl18cmV0dXJuVmFsdWUkfGxheWVyW1hZXSQpLyxcbiAgICAgIGV2ZW50TWV0aG9kcyA9IHtcbiAgICAgICAgcHJldmVudERlZmF1bHQ6ICdpc0RlZmF1bHRQcmV2ZW50ZWQnLFxuICAgICAgICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ICdpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCcsXG4gICAgICAgIHN0b3BQcm9wYWdhdGlvbjogJ2lzUHJvcGFnYXRpb25TdG9wcGVkJ1xuICAgICAgfVxuXG4gIGZ1bmN0aW9uIGNvbXBhdGlibGUoZXZlbnQsIHNvdXJjZSkge1xuICAgIGlmIChzb3VyY2UgfHwgIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgc291cmNlIHx8IChzb3VyY2UgPSBldmVudClcblxuICAgICAgJC5lYWNoKGV2ZW50TWV0aG9kcywgZnVuY3Rpb24obmFtZSwgcHJlZGljYXRlKSB7XG4gICAgICAgIHZhciBzb3VyY2VNZXRob2QgPSBzb3VyY2VbbmFtZV1cbiAgICAgICAgZXZlbnRbbmFtZV0gPSBmdW5jdGlvbigpe1xuICAgICAgICAgIHRoaXNbcHJlZGljYXRlXSA9IHJldHVyblRydWVcbiAgICAgICAgICByZXR1cm4gc291cmNlTWV0aG9kICYmIHNvdXJjZU1ldGhvZC5hcHBseShzb3VyY2UsIGFyZ3VtZW50cylcbiAgICAgICAgfVxuICAgICAgICBldmVudFtwcmVkaWNhdGVdID0gcmV0dXJuRmFsc2VcbiAgICAgIH0pXG5cbiAgICAgIGlmIChzb3VyY2UuZGVmYXVsdFByZXZlbnRlZCAhPT0gdW5kZWZpbmVkID8gc291cmNlLmRlZmF1bHRQcmV2ZW50ZWQgOlxuICAgICAgICAgICdyZXR1cm5WYWx1ZScgaW4gc291cmNlID8gc291cmNlLnJldHVyblZhbHVlID09PSBmYWxzZSA6XG4gICAgICAgICAgICAgIHNvdXJjZS5nZXRQcmV2ZW50RGVmYXVsdCAmJiBzb3VyY2UuZ2V0UHJldmVudERlZmF1bHQoKSlcbiAgICAgICAgZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkID0gcmV0dXJuVHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZXZlbnRcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVByb3h5KGV2ZW50KSB7XG4gICAgdmFyIGtleSwgcHJveHkgPSB7IG9yaWdpbmFsRXZlbnQ6IGV2ZW50IH1cbiAgICBmb3IgKGtleSBpbiBldmVudClcbiAgICAgIGlmICghaWdub3JlUHJvcGVydGllcy50ZXN0KGtleSkgJiYgZXZlbnRba2V5XSAhPT0gdW5kZWZpbmVkKSBwcm94eVtrZXldID0gZXZlbnRba2V5XVxuXG4gICAgcmV0dXJuIGNvbXBhdGlibGUocHJveHksIGV2ZW50KVxuICB9XG5cbiAgJC5mbi5kZWxlZ2F0ZSA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBldmVudCwgY2FsbGJhY2spe1xuICAgIHJldHVybiB0aGlzLm9uKGV2ZW50LCBzZWxlY3RvciwgY2FsbGJhY2spXG4gIH1cbiAgJC5mbi51bmRlbGVnYXRlID0gZnVuY3Rpb24oc2VsZWN0b3IsIGV2ZW50LCBjYWxsYmFjayl7XG4gICAgcmV0dXJuIHRoaXMub2ZmKGV2ZW50LCBzZWxlY3RvciwgY2FsbGJhY2spXG4gIH1cblxuICAkLmZuLmxpdmUgPSBmdW5jdGlvbihldmVudCwgY2FsbGJhY2spe1xuICAgICQoZG9jdW1lbnQuYm9keSkuZGVsZWdhdGUodGhpcy5zZWxlY3RvciwgZXZlbnQsIGNhbGxiYWNrKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgJC5mbi5kaWUgPSBmdW5jdGlvbihldmVudCwgY2FsbGJhY2spe1xuICAgICQoZG9jdW1lbnQuYm9keSkudW5kZWxlZ2F0ZSh0aGlzLnNlbGVjdG9yLCBldmVudCwgY2FsbGJhY2spXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gICQuZm4ub24gPSBmdW5jdGlvbihldmVudCwgc2VsZWN0b3IsIGRhdGEsIGNhbGxiYWNrLCBvbmUpe1xuICAgIHZhciBhdXRvUmVtb3ZlLCBkZWxlZ2F0b3IsICR0aGlzID0gdGhpc1xuICAgIGlmIChldmVudCAmJiAhaXNTdHJpbmcoZXZlbnQpKSB7XG4gICAgICAkLmVhY2goZXZlbnQsIGZ1bmN0aW9uKHR5cGUsIGZuKXtcbiAgICAgICAgJHRoaXMub24odHlwZSwgc2VsZWN0b3IsIGRhdGEsIGZuLCBvbmUpXG4gICAgICB9KVxuICAgICAgcmV0dXJuICR0aGlzXG4gICAgfVxuXG4gICAgaWYgKCFpc1N0cmluZyhzZWxlY3RvcikgJiYgIWlzRnVuY3Rpb24oY2FsbGJhY2spICYmIGNhbGxiYWNrICE9PSBmYWxzZSlcbiAgICAgIGNhbGxiYWNrID0gZGF0YSwgZGF0YSA9IHNlbGVjdG9yLCBzZWxlY3RvciA9IHVuZGVmaW5lZFxuICAgIGlmIChpc0Z1bmN0aW9uKGRhdGEpIHx8IGRhdGEgPT09IGZhbHNlKVxuICAgICAgY2FsbGJhY2sgPSBkYXRhLCBkYXRhID0gdW5kZWZpbmVkXG5cbiAgICBpZiAoY2FsbGJhY2sgPT09IGZhbHNlKSBjYWxsYmFjayA9IHJldHVybkZhbHNlXG5cbiAgICByZXR1cm4gJHRoaXMuZWFjaChmdW5jdGlvbihfLCBlbGVtZW50KXtcbiAgICAgIGlmIChvbmUpIGF1dG9SZW1vdmUgPSBmdW5jdGlvbihlKXtcbiAgICAgICAgcmVtb3ZlKGVsZW1lbnQsIGUudHlwZSwgY2FsbGJhY2spXG4gICAgICAgIHJldHVybiBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICB9XG5cbiAgICAgIGlmIChzZWxlY3RvcikgZGVsZWdhdG9yID0gZnVuY3Rpb24oZSl7XG4gICAgICAgIHZhciBldnQsIG1hdGNoID0gJChlLnRhcmdldCkuY2xvc2VzdChzZWxlY3RvciwgZWxlbWVudCkuZ2V0KDApXG4gICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaCAhPT0gZWxlbWVudCkge1xuICAgICAgICAgIGV2dCA9ICQuZXh0ZW5kKGNyZWF0ZVByb3h5KGUpLCB7Y3VycmVudFRhcmdldDogbWF0Y2gsIGxpdmVGaXJlZDogZWxlbWVudH0pXG4gICAgICAgICAgcmV0dXJuIChhdXRvUmVtb3ZlIHx8IGNhbGxiYWNrKS5hcHBseShtYXRjaCwgW2V2dF0uY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYWRkKGVsZW1lbnQsIGV2ZW50LCBjYWxsYmFjaywgZGF0YSwgc2VsZWN0b3IsIGRlbGVnYXRvciB8fCBhdXRvUmVtb3ZlKVxuICAgIH0pXG4gIH1cbiAgJC5mbi5vZmYgPSBmdW5jdGlvbihldmVudCwgc2VsZWN0b3IsIGNhbGxiYWNrKXtcbiAgICB2YXIgJHRoaXMgPSB0aGlzXG4gICAgaWYgKGV2ZW50ICYmICFpc1N0cmluZyhldmVudCkpIHtcbiAgICAgICQuZWFjaChldmVudCwgZnVuY3Rpb24odHlwZSwgZm4pe1xuICAgICAgICAkdGhpcy5vZmYodHlwZSwgc2VsZWN0b3IsIGZuKVxuICAgICAgfSlcbiAgICAgIHJldHVybiAkdGhpc1xuICAgIH1cblxuICAgIGlmICghaXNTdHJpbmcoc2VsZWN0b3IpICYmICFpc0Z1bmN0aW9uKGNhbGxiYWNrKSAmJiBjYWxsYmFjayAhPT0gZmFsc2UpXG4gICAgICBjYWxsYmFjayA9IHNlbGVjdG9yLCBzZWxlY3RvciA9IHVuZGVmaW5lZFxuXG4gICAgaWYgKGNhbGxiYWNrID09PSBmYWxzZSkgY2FsbGJhY2sgPSByZXR1cm5GYWxzZVxuXG4gICAgcmV0dXJuICR0aGlzLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgIHJlbW92ZSh0aGlzLCBldmVudCwgY2FsbGJhY2ssIHNlbGVjdG9yKVxuICAgIH0pXG4gIH1cblxuICAkLmZuLnRyaWdnZXIgPSBmdW5jdGlvbihldmVudCwgYXJncyl7XG4gICAgZXZlbnQgPSAoaXNTdHJpbmcoZXZlbnQpIHx8ICQuaXNQbGFpbk9iamVjdChldmVudCkpID8gJC5FdmVudChldmVudCkgOiBjb21wYXRpYmxlKGV2ZW50KVxuICAgIGV2ZW50Ll9hcmdzID0gYXJnc1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgIC8vIGl0ZW1zIGluIHRoZSBjb2xsZWN0aW9uIG1pZ2h0IG5vdCBiZSBET00gZWxlbWVudHNcbiAgICAgIGlmKCdkaXNwYXRjaEV2ZW50JyBpbiB0aGlzKSB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpXG4gICAgICBlbHNlICQodGhpcykudHJpZ2dlckhhbmRsZXIoZXZlbnQsIGFyZ3MpXG4gICAgfSlcbiAgfVxuXG4gIC8vIHRyaWdnZXJzIGV2ZW50IGhhbmRsZXJzIG9uIGN1cnJlbnQgZWxlbWVudCBqdXN0IGFzIGlmIGFuIGV2ZW50IG9jY3VycmVkLFxuICAvLyBkb2Vzbid0IHRyaWdnZXIgYW4gYWN0dWFsIGV2ZW50LCBkb2Vzbid0IGJ1YmJsZVxuICAkLmZuLnRyaWdnZXJIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQsIGFyZ3Mpe1xuICAgIHZhciBlLCByZXN1bHRcbiAgICB0aGlzLmVhY2goZnVuY3Rpb24oaSwgZWxlbWVudCl7XG4gICAgICBlID0gY3JlYXRlUHJveHkoaXNTdHJpbmcoZXZlbnQpID8gJC5FdmVudChldmVudCkgOiBldmVudClcbiAgICAgIGUuX2FyZ3MgPSBhcmdzXG4gICAgICBlLnRhcmdldCA9IGVsZW1lbnRcbiAgICAgICQuZWFjaChmaW5kSGFuZGxlcnMoZWxlbWVudCwgZXZlbnQudHlwZSB8fCBldmVudCksIGZ1bmN0aW9uKGksIGhhbmRsZXIpe1xuICAgICAgICByZXN1bHQgPSBoYW5kbGVyLnByb3h5KGUpXG4gICAgICAgIGlmIChlLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpIHJldHVybiBmYWxzZVxuICAgICAgfSlcbiAgICB9KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gICAgLy8gc2hvcnRjdXQgbWV0aG9kcyBmb3IgYC5iaW5kKGV2ZW50LCBmbilgIGZvciBlYWNoIGV2ZW50IHR5cGVcbiAgOygnZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrICcrXG4gICAgICAnbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgJytcbiAgICAgICdjaGFuZ2Ugc2VsZWN0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3InKS5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgJC5mbltldmVudF0gPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjayA/XG4gICAgICAgICAgICAgIHRoaXMuYmluZChldmVudCwgY2FsbGJhY2spIDpcbiAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKGV2ZW50KVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gIDtbJ2ZvY3VzJywgJ2JsdXInXS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAkLmZuW25hbWVdID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgIGlmIChjYWxsYmFjaykgdGhpcy5iaW5kKG5hbWUsIGNhbGxiYWNrKVxuICAgICAgZWxzZSB0aGlzLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgdHJ5IHsgdGhpc1tuYW1lXSgpIH1cbiAgICAgICAgY2F0Y2goZSkge31cbiAgICAgIH0pXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgfSlcblxuICAkLkV2ZW50ID0gZnVuY3Rpb24odHlwZSwgcHJvcHMpIHtcbiAgICBpZiAoIWlzU3RyaW5nKHR5cGUpKSBwcm9wcyA9IHR5cGUsIHR5cGUgPSBwcm9wcy50eXBlXG4gICAgdmFyIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoc3BlY2lhbEV2ZW50c1t0eXBlXSB8fCAnRXZlbnRzJyksIGJ1YmJsZXMgPSB0cnVlXG4gICAgaWYgKHByb3BzKSBmb3IgKHZhciBuYW1lIGluIHByb3BzKSAobmFtZSA9PSAnYnViYmxlcycpID8gKGJ1YmJsZXMgPSAhIXByb3BzW25hbWVdKSA6IChldmVudFtuYW1lXSA9IHByb3BzW25hbWVdKVxuICAgIGV2ZW50LmluaXRFdmVudCh0eXBlLCBidWJibGVzLCB0cnVlKVxuICAgIHJldHVybiBjb21wYXRpYmxlKGV2ZW50KVxuICB9XG5cbn0pKFplcHRvKVxuXG47KGZ1bmN0aW9uKCQpe1xuICB2YXIganNvbnBJRCA9IDAsXG4gICAgICBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudCxcbiAgICAgIGtleSxcbiAgICAgIG5hbWUsXG4gICAgICByc2NyaXB0ID0gLzxzY3JpcHRcXGJbXjxdKig/Oig/ITxcXC9zY3JpcHQ+KTxbXjxdKikqPFxcL3NjcmlwdD4vZ2ksXG4gICAgICBzY3JpcHRUeXBlUkUgPSAvXig/OnRleHR8YXBwbGljYXRpb24pXFwvamF2YXNjcmlwdC9pLFxuICAgICAgeG1sVHlwZVJFID0gL14oPzp0ZXh0fGFwcGxpY2F0aW9uKVxcL3htbC9pLFxuICAgICAganNvblR5cGUgPSAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICBodG1sVHlwZSA9ICd0ZXh0L2h0bWwnLFxuICAgICAgYmxhbmtSRSA9IC9eXFxzKiQvXG5cbiAgLy8gdHJpZ2dlciBhIGN1c3RvbSBldmVudCBhbmQgcmV0dXJuIGZhbHNlIGlmIGl0IHdhcyBjYW5jZWxsZWRcbiAgZnVuY3Rpb24gdHJpZ2dlckFuZFJldHVybihjb250ZXh0LCBldmVudE5hbWUsIGRhdGEpIHtcbiAgICB2YXIgZXZlbnQgPSAkLkV2ZW50KGV2ZW50TmFtZSlcbiAgICAkKGNvbnRleHQpLnRyaWdnZXIoZXZlbnQsIGRhdGEpXG4gICAgcmV0dXJuICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKVxuICB9XG5cbiAgLy8gdHJpZ2dlciBhbiBBamF4IFwiZ2xvYmFsXCIgZXZlbnRcbiAgZnVuY3Rpb24gdHJpZ2dlckdsb2JhbChzZXR0aW5ncywgY29udGV4dCwgZXZlbnROYW1lLCBkYXRhKSB7XG4gICAgaWYgKHNldHRpbmdzLmdsb2JhbCkgcmV0dXJuIHRyaWdnZXJBbmRSZXR1cm4oY29udGV4dCB8fCBkb2N1bWVudCwgZXZlbnROYW1lLCBkYXRhKVxuICB9XG5cbiAgLy8gTnVtYmVyIG9mIGFjdGl2ZSBBamF4IHJlcXVlc3RzXG4gICQuYWN0aXZlID0gMFxuXG4gIGZ1bmN0aW9uIGFqYXhTdGFydChzZXR0aW5ncykge1xuICAgIGlmIChzZXR0aW5ncy5nbG9iYWwgJiYgJC5hY3RpdmUrKyA9PT0gMCkgdHJpZ2dlckdsb2JhbChzZXR0aW5ncywgbnVsbCwgJ2FqYXhTdGFydCcpXG4gIH1cbiAgZnVuY3Rpb24gYWpheFN0b3Aoc2V0dGluZ3MpIHtcbiAgICBpZiAoc2V0dGluZ3MuZ2xvYmFsICYmICEoLS0kLmFjdGl2ZSkpIHRyaWdnZXJHbG9iYWwoc2V0dGluZ3MsIG51bGwsICdhamF4U3RvcCcpXG4gIH1cblxuICAvLyB0cmlnZ2VycyBhbiBleHRyYSBnbG9iYWwgZXZlbnQgXCJhamF4QmVmb3JlU2VuZFwiIHRoYXQncyBsaWtlIFwiYWpheFNlbmRcIiBidXQgY2FuY2VsYWJsZVxuICBmdW5jdGlvbiBhamF4QmVmb3JlU2VuZCh4aHIsIHNldHRpbmdzKSB7XG4gICAgdmFyIGNvbnRleHQgPSBzZXR0aW5ncy5jb250ZXh0XG4gICAgaWYgKHNldHRpbmdzLmJlZm9yZVNlbmQuY2FsbChjb250ZXh0LCB4aHIsIHNldHRpbmdzKSA9PT0gZmFsc2UgfHxcbiAgICAgICAgdHJpZ2dlckdsb2JhbChzZXR0aW5ncywgY29udGV4dCwgJ2FqYXhCZWZvcmVTZW5kJywgW3hociwgc2V0dGluZ3NdKSA9PT0gZmFsc2UpXG4gICAgICByZXR1cm4gZmFsc2VcblxuICAgIHRyaWdnZXJHbG9iYWwoc2V0dGluZ3MsIGNvbnRleHQsICdhamF4U2VuZCcsIFt4aHIsIHNldHRpbmdzXSlcbiAgfVxuICBmdW5jdGlvbiBhamF4U3VjY2VzcyhkYXRhLCB4aHIsIHNldHRpbmdzLCBkZWZlcnJlZCkge1xuICAgIHZhciBjb250ZXh0ID0gc2V0dGluZ3MuY29udGV4dCwgc3RhdHVzID0gJ3N1Y2Nlc3MnXG4gICAgc2V0dGluZ3Muc3VjY2Vzcy5jYWxsKGNvbnRleHQsIGRhdGEsIHN0YXR1cywgeGhyKVxuICAgIGlmIChkZWZlcnJlZCkgZGVmZXJyZWQucmVzb2x2ZVdpdGgoY29udGV4dCwgW2RhdGEsIHN0YXR1cywgeGhyXSlcbiAgICB0cmlnZ2VyR2xvYmFsKHNldHRpbmdzLCBjb250ZXh0LCAnYWpheFN1Y2Nlc3MnLCBbeGhyLCBzZXR0aW5ncywgZGF0YV0pXG4gICAgYWpheENvbXBsZXRlKHN0YXR1cywgeGhyLCBzZXR0aW5ncylcbiAgfVxuICAvLyB0eXBlOiBcInRpbWVvdXRcIiwgXCJlcnJvclwiLCBcImFib3J0XCIsIFwicGFyc2VyZXJyb3JcIlxuICBmdW5jdGlvbiBhamF4RXJyb3IoZXJyb3IsIHR5cGUsIHhociwgc2V0dGluZ3MsIGRlZmVycmVkKSB7XG4gICAgdmFyIGNvbnRleHQgPSBzZXR0aW5ncy5jb250ZXh0XG4gICAgc2V0dGluZ3MuZXJyb3IuY2FsbChjb250ZXh0LCB4aHIsIHR5cGUsIGVycm9yKVxuICAgIGlmIChkZWZlcnJlZCkgZGVmZXJyZWQucmVqZWN0V2l0aChjb250ZXh0LCBbeGhyLCB0eXBlLCBlcnJvcl0pXG4gICAgdHJpZ2dlckdsb2JhbChzZXR0aW5ncywgY29udGV4dCwgJ2FqYXhFcnJvcicsIFt4aHIsIHNldHRpbmdzLCBlcnJvciB8fCB0eXBlXSlcbiAgICBhamF4Q29tcGxldGUodHlwZSwgeGhyLCBzZXR0aW5ncylcbiAgfVxuICAvLyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBcIm5vdG1vZGlmaWVkXCIsIFwiZXJyb3JcIiwgXCJ0aW1lb3V0XCIsIFwiYWJvcnRcIiwgXCJwYXJzZXJlcnJvclwiXG4gIGZ1bmN0aW9uIGFqYXhDb21wbGV0ZShzdGF0dXMsIHhociwgc2V0dGluZ3MpIHtcbiAgICB2YXIgY29udGV4dCA9IHNldHRpbmdzLmNvbnRleHRcbiAgICBzZXR0aW5ncy5jb21wbGV0ZS5jYWxsKGNvbnRleHQsIHhociwgc3RhdHVzKVxuICAgIHRyaWdnZXJHbG9iYWwoc2V0dGluZ3MsIGNvbnRleHQsICdhamF4Q29tcGxldGUnLCBbeGhyLCBzZXR0aW5nc10pXG4gICAgYWpheFN0b3Aoc2V0dGluZ3MpXG4gIH1cblxuICAvLyBFbXB0eSBmdW5jdGlvbiwgdXNlZCBhcyBkZWZhdWx0IGNhbGxiYWNrXG4gIGZ1bmN0aW9uIGVtcHR5KCkge31cblxuICAkLmFqYXhKU09OUCA9IGZ1bmN0aW9uKG9wdGlvbnMsIGRlZmVycmVkKXtcbiAgICBpZiAoISgndHlwZScgaW4gb3B0aW9ucykpIHJldHVybiAkLmFqYXgob3B0aW9ucylcblxuICAgIHZhciBfY2FsbGJhY2tOYW1lID0gb3B0aW9ucy5qc29ucENhbGxiYWNrLFxuICAgICAgICBjYWxsYmFja05hbWUgPSAoJC5pc0Z1bmN0aW9uKF9jYWxsYmFja05hbWUpID9cbiAgICAgICAgICAgIF9jYWxsYmFja05hbWUoKSA6IF9jYWxsYmFja05hbWUpIHx8ICgnanNvbnAnICsgKCsranNvbnBJRCkpLFxuICAgICAgICBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKSxcbiAgICAgICAgb3JpZ2luYWxDYWxsYmFjayA9IHdpbmRvd1tjYWxsYmFja05hbWVdLFxuICAgICAgICByZXNwb25zZURhdGEsXG4gICAgICAgIGFib3J0ID0gZnVuY3Rpb24oZXJyb3JUeXBlKSB7XG4gICAgICAgICAgJChzY3JpcHQpLnRyaWdnZXJIYW5kbGVyKCdlcnJvcicsIGVycm9yVHlwZSB8fCAnYWJvcnQnKVxuICAgICAgICB9LFxuICAgICAgICB4aHIgPSB7IGFib3J0OiBhYm9ydCB9LCBhYm9ydFRpbWVvdXRcblxuICAgIGlmIChkZWZlcnJlZCkgZGVmZXJyZWQucHJvbWlzZSh4aHIpXG5cbiAgICAkKHNjcmlwdCkub24oJ2xvYWQgZXJyb3InLCBmdW5jdGlvbihlLCBlcnJvclR5cGUpe1xuICAgICAgY2xlYXJUaW1lb3V0KGFib3J0VGltZW91dClcbiAgICAgICQoc2NyaXB0KS5vZmYoKS5yZW1vdmUoKVxuXG4gICAgICBpZiAoZS50eXBlID09ICdlcnJvcicgfHwgIXJlc3BvbnNlRGF0YSkge1xuICAgICAgICBhamF4RXJyb3IobnVsbCwgZXJyb3JUeXBlIHx8ICdlcnJvcicsIHhociwgb3B0aW9ucywgZGVmZXJyZWQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhamF4U3VjY2VzcyhyZXNwb25zZURhdGFbMF0sIHhociwgb3B0aW9ucywgZGVmZXJyZWQpXG4gICAgICB9XG5cbiAgICAgIHdpbmRvd1tjYWxsYmFja05hbWVdID0gb3JpZ2luYWxDYWxsYmFja1xuICAgICAgaWYgKHJlc3BvbnNlRGF0YSAmJiAkLmlzRnVuY3Rpb24ob3JpZ2luYWxDYWxsYmFjaykpXG4gICAgICAgIG9yaWdpbmFsQ2FsbGJhY2socmVzcG9uc2VEYXRhWzBdKVxuXG4gICAgICBvcmlnaW5hbENhbGxiYWNrID0gcmVzcG9uc2VEYXRhID0gdW5kZWZpbmVkXG4gICAgfSlcblxuICAgIGlmIChhamF4QmVmb3JlU2VuZCh4aHIsIG9wdGlvbnMpID09PSBmYWxzZSkge1xuICAgICAgYWJvcnQoJ2Fib3J0JylcbiAgICAgIHJldHVybiB4aHJcbiAgICB9XG5cbiAgICB3aW5kb3dbY2FsbGJhY2tOYW1lXSA9IGZ1bmN0aW9uKCl7XG4gICAgICByZXNwb25zZURhdGEgPSBhcmd1bWVudHNcbiAgICB9XG5cbiAgICBzY3JpcHQuc3JjID0gb3B0aW9ucy51cmwucmVwbGFjZSgvXFw/KC4rKT1cXD8vLCAnPyQxPScgKyBjYWxsYmFja05hbWUpXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpXG5cbiAgICBpZiAob3B0aW9ucy50aW1lb3V0ID4gMCkgYWJvcnRUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgYWJvcnQoJ3RpbWVvdXQnKVxuICAgIH0sIG9wdGlvbnMudGltZW91dClcblxuICAgIHJldHVybiB4aHJcbiAgfVxuXG4gICQuYWpheFNldHRpbmdzID0ge1xuICAgIC8vIERlZmF1bHQgdHlwZSBvZiByZXF1ZXN0XG4gICAgdHlwZTogJ0dFVCcsXG4gICAgLy8gQ2FsbGJhY2sgdGhhdCBpcyBleGVjdXRlZCBiZWZvcmUgcmVxdWVzdFxuICAgIGJlZm9yZVNlbmQ6IGVtcHR5LFxuICAgIC8vIENhbGxiYWNrIHRoYXQgaXMgZXhlY3V0ZWQgaWYgdGhlIHJlcXVlc3Qgc3VjY2VlZHNcbiAgICBzdWNjZXNzOiBlbXB0eSxcbiAgICAvLyBDYWxsYmFjayB0aGF0IGlzIGV4ZWN1dGVkIHRoZSB0aGUgc2VydmVyIGRyb3BzIGVycm9yXG4gICAgZXJyb3I6IGVtcHR5LFxuICAgIC8vIENhbGxiYWNrIHRoYXQgaXMgZXhlY3V0ZWQgb24gcmVxdWVzdCBjb21wbGV0ZSAoYm90aDogZXJyb3IgYW5kIHN1Y2Nlc3MpXG4gICAgY29tcGxldGU6IGVtcHR5LFxuICAgIC8vIFRoZSBjb250ZXh0IGZvciB0aGUgY2FsbGJhY2tzXG4gICAgY29udGV4dDogbnVsbCxcbiAgICAvLyBXaGV0aGVyIHRvIHRyaWdnZXIgXCJnbG9iYWxcIiBBamF4IGV2ZW50c1xuICAgIGdsb2JhbDogdHJ1ZSxcbiAgICAvLyBUcmFuc3BvcnRcbiAgICB4aHI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KClcbiAgICB9LFxuICAgIC8vIE1JTUUgdHlwZXMgbWFwcGluZ1xuICAgIC8vIElJUyByZXR1cm5zIEphdmFzY3JpcHQgYXMgXCJhcHBsaWNhdGlvbi94LWphdmFzY3JpcHRcIlxuICAgIGFjY2VwdHM6IHtcbiAgICAgIHNjcmlwdDogJ3RleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24veC1qYXZhc2NyaXB0JyxcbiAgICAgIGpzb246ICAganNvblR5cGUsXG4gICAgICB4bWw6ICAgICdhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sJyxcbiAgICAgIGh0bWw6ICAgaHRtbFR5cGUsXG4gICAgICB0ZXh0OiAgICd0ZXh0L3BsYWluJ1xuICAgIH0sXG4gICAgLy8gV2hldGhlciB0aGUgcmVxdWVzdCBpcyB0byBhbm90aGVyIGRvbWFpblxuICAgIGNyb3NzRG9tYWluOiBmYWxzZSxcbiAgICAvLyBEZWZhdWx0IHRpbWVvdXRcbiAgICB0aW1lb3V0OiAwLFxuICAgIC8vIFdoZXRoZXIgZGF0YSBzaG91bGQgYmUgc2VyaWFsaXplZCB0byBzdHJpbmdcbiAgICBwcm9jZXNzRGF0YTogdHJ1ZSxcbiAgICAvLyBXaGV0aGVyIHRoZSBicm93c2VyIHNob3VsZCBiZSBhbGxvd2VkIHRvIGNhY2hlIEdFVCByZXNwb25zZXNcbiAgICBjYWNoZTogdHJ1ZVxuICB9XG5cbiAgZnVuY3Rpb24gbWltZVRvRGF0YVR5cGUobWltZSkge1xuICAgIGlmIChtaW1lKSBtaW1lID0gbWltZS5zcGxpdCgnOycsIDIpWzBdXG4gICAgcmV0dXJuIG1pbWUgJiYgKCBtaW1lID09IGh0bWxUeXBlID8gJ2h0bWwnIDpcbiAgICAgICAgbWltZSA9PSBqc29uVHlwZSA/ICdqc29uJyA6XG4gICAgICAgICAgICBzY3JpcHRUeXBlUkUudGVzdChtaW1lKSA/ICdzY3JpcHQnIDpcbiAgICAgICAgICAgICAgICB4bWxUeXBlUkUudGVzdChtaW1lKSAmJiAneG1sJyApIHx8ICd0ZXh0J1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwZW5kUXVlcnkodXJsLCBxdWVyeSkge1xuICAgIGlmIChxdWVyeSA9PSAnJykgcmV0dXJuIHVybFxuICAgIHJldHVybiAodXJsICsgJyYnICsgcXVlcnkpLnJlcGxhY2UoL1smP117MSwyfS8sICc/JylcbiAgfVxuXG4gIC8vIHNlcmlhbGl6ZSBwYXlsb2FkIGFuZCBhcHBlbmQgaXQgdG8gdGhlIFVSTCBmb3IgR0VUIHJlcXVlc3RzXG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZURhdGEob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLnByb2Nlc3NEYXRhICYmIG9wdGlvbnMuZGF0YSAmJiAkLnR5cGUob3B0aW9ucy5kYXRhKSAhPSBcInN0cmluZ1wiKVxuICAgICAgb3B0aW9ucy5kYXRhID0gJC5wYXJhbShvcHRpb25zLmRhdGEsIG9wdGlvbnMudHJhZGl0aW9uYWwpXG4gICAgaWYgKG9wdGlvbnMuZGF0YSAmJiAoIW9wdGlvbnMudHlwZSB8fCBvcHRpb25zLnR5cGUudG9VcHBlckNhc2UoKSA9PSAnR0VUJykpXG4gICAgICBvcHRpb25zLnVybCA9IGFwcGVuZFF1ZXJ5KG9wdGlvbnMudXJsLCBvcHRpb25zLmRhdGEpLCBvcHRpb25zLmRhdGEgPSB1bmRlZmluZWRcbiAgfVxuXG4gICQuYWpheCA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xuICAgIHZhciBzZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCBvcHRpb25zIHx8IHt9KSxcbiAgICAgICAgZGVmZXJyZWQgPSAkLkRlZmVycmVkICYmICQuRGVmZXJyZWQoKVxuICAgIGZvciAoa2V5IGluICQuYWpheFNldHRpbmdzKSBpZiAoc2V0dGluZ3Nba2V5XSA9PT0gdW5kZWZpbmVkKSBzZXR0aW5nc1trZXldID0gJC5hamF4U2V0dGluZ3Nba2V5XVxuXG4gICAgYWpheFN0YXJ0KHNldHRpbmdzKVxuXG4gICAgaWYgKCFzZXR0aW5ncy5jcm9zc0RvbWFpbikgc2V0dGluZ3MuY3Jvc3NEb21haW4gPSAvXihbXFx3LV0rOik/XFwvXFwvKFteXFwvXSspLy50ZXN0KHNldHRpbmdzLnVybCkgJiZcbiAgICAgICAgUmVnRXhwLiQyICE9IHdpbmRvdy5sb2NhdGlvbi5ob3N0XG5cbiAgICBpZiAoIXNldHRpbmdzLnVybCkgc2V0dGluZ3MudXJsID0gd2luZG93LmxvY2F0aW9uLnRvU3RyaW5nKClcbiAgICBzZXJpYWxpemVEYXRhKHNldHRpbmdzKVxuICAgIGlmIChzZXR0aW5ncy5jYWNoZSA9PT0gZmFsc2UpIHNldHRpbmdzLnVybCA9IGFwcGVuZFF1ZXJ5KHNldHRpbmdzLnVybCwgJ189JyArIERhdGUubm93KCkpXG5cbiAgICB2YXIgZGF0YVR5cGUgPSBzZXR0aW5ncy5kYXRhVHlwZSwgaGFzUGxhY2Vob2xkZXIgPSAvXFw/Lis9XFw/Ly50ZXN0KHNldHRpbmdzLnVybClcbiAgICBpZiAoZGF0YVR5cGUgPT0gJ2pzb25wJyB8fCBoYXNQbGFjZWhvbGRlcikge1xuICAgICAgaWYgKCFoYXNQbGFjZWhvbGRlcilcbiAgICAgICAgc2V0dGluZ3MudXJsID0gYXBwZW5kUXVlcnkoc2V0dGluZ3MudXJsLFxuICAgICAgICAgICAgc2V0dGluZ3MuanNvbnAgPyAoc2V0dGluZ3MuanNvbnAgKyAnPT8nKSA6IHNldHRpbmdzLmpzb25wID09PSBmYWxzZSA/ICcnIDogJ2NhbGxiYWNrPT8nKVxuICAgICAgcmV0dXJuICQuYWpheEpTT05QKHNldHRpbmdzLCBkZWZlcnJlZClcbiAgICB9XG5cbiAgICB2YXIgbWltZSA9IHNldHRpbmdzLmFjY2VwdHNbZGF0YVR5cGVdLFxuICAgICAgICBoZWFkZXJzID0geyB9LFxuICAgICAgICBzZXRIZWFkZXIgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkgeyBoZWFkZXJzW25hbWUudG9Mb3dlckNhc2UoKV0gPSBbbmFtZSwgdmFsdWVdIH0sXG4gICAgICAgIHByb3RvY29sID0gL14oW1xcdy1dKzopXFwvXFwvLy50ZXN0KHNldHRpbmdzLnVybCkgPyBSZWdFeHAuJDEgOiB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wsXG4gICAgICAgIHhociA9IHNldHRpbmdzLnhocigpLFxuICAgICAgICBuYXRpdmVTZXRIZWFkZXIgPSB4aHIuc2V0UmVxdWVzdEhlYWRlcixcbiAgICAgICAgYWJvcnRUaW1lb3V0XG5cbiAgICBpZiAoZGVmZXJyZWQpIGRlZmVycmVkLnByb21pc2UoeGhyKVxuXG4gICAgaWYgKCFzZXR0aW5ncy5jcm9zc0RvbWFpbikgc2V0SGVhZGVyKCdYLVJlcXVlc3RlZC1XaXRoJywgJ1hNTEh0dHBSZXF1ZXN0JylcbiAgICBzZXRIZWFkZXIoJ0FjY2VwdCcsIG1pbWUgfHwgJyovKicpXG4gICAgaWYgKG1pbWUgPSBzZXR0aW5ncy5taW1lVHlwZSB8fCBtaW1lKSB7XG4gICAgICBpZiAobWltZS5pbmRleE9mKCcsJykgPiAtMSkgbWltZSA9IG1pbWUuc3BsaXQoJywnLCAyKVswXVxuICAgICAgeGhyLm92ZXJyaWRlTWltZVR5cGUgJiYgeGhyLm92ZXJyaWRlTWltZVR5cGUobWltZSlcbiAgICB9XG4gICAgaWYgKHNldHRpbmdzLmNvbnRlbnRUeXBlIHx8IChzZXR0aW5ncy5jb250ZW50VHlwZSAhPT0gZmFsc2UgJiYgc2V0dGluZ3MuZGF0YSAmJiBzZXR0aW5ncy50eXBlLnRvVXBwZXJDYXNlKCkgIT0gJ0dFVCcpKVxuICAgICAgc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCBzZXR0aW5ncy5jb250ZW50VHlwZSB8fCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJylcblxuICAgIGlmIChzZXR0aW5ncy5oZWFkZXJzKSBmb3IgKG5hbWUgaW4gc2V0dGluZ3MuaGVhZGVycykgc2V0SGVhZGVyKG5hbWUsIHNldHRpbmdzLmhlYWRlcnNbbmFtZV0pXG4gICAgeGhyLnNldFJlcXVlc3RIZWFkZXIgPSBzZXRIZWFkZXJcblxuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpe1xuICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09IDQpIHtcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGVtcHR5XG4gICAgICAgIGNsZWFyVGltZW91dChhYm9ydFRpbWVvdXQpXG4gICAgICAgIHZhciByZXN1bHQsIGVycm9yID0gZmFsc2VcbiAgICAgICAgaWYgKCh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSB8fCB4aHIuc3RhdHVzID09IDMwNCB8fCAoeGhyLnN0YXR1cyA9PSAwICYmIHByb3RvY29sID09ICdmaWxlOicpKSB7XG4gICAgICAgICAgZGF0YVR5cGUgPSBkYXRhVHlwZSB8fCBtaW1lVG9EYXRhVHlwZShzZXR0aW5ncy5taW1lVHlwZSB8fCB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ2NvbnRlbnQtdHlwZScpKVxuICAgICAgICAgIHJlc3VsdCA9IHhoci5yZXNwb25zZVRleHRcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBodHRwOi8vcGVyZmVjdGlvbmtpbGxzLmNvbS9nbG9iYWwtZXZhbC13aGF0LWFyZS10aGUtb3B0aW9ucy9cbiAgICAgICAgICAgIGlmIChkYXRhVHlwZSA9PSAnc2NyaXB0JykgICAgKDEsZXZhbCkocmVzdWx0KVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YVR5cGUgPT0gJ3htbCcpICByZXN1bHQgPSB4aHIucmVzcG9uc2VYTUxcbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGFUeXBlID09ICdqc29uJykgcmVzdWx0ID0gYmxhbmtSRS50ZXN0KHJlc3VsdCkgPyBudWxsIDogJC5wYXJzZUpTT04ocmVzdWx0KVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgZXJyb3IgPSBlIH1cblxuICAgICAgICAgIGlmIChlcnJvcikgYWpheEVycm9yKGVycm9yLCAncGFyc2VyZXJyb3InLCB4aHIsIHNldHRpbmdzLCBkZWZlcnJlZClcbiAgICAgICAgICBlbHNlIGFqYXhTdWNjZXNzKHJlc3VsdCwgeGhyLCBzZXR0aW5ncywgZGVmZXJyZWQpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWpheEVycm9yKHhoci5zdGF0dXNUZXh0IHx8IG51bGwsIHhoci5zdGF0dXMgPyAnZXJyb3InIDogJ2Fib3J0JywgeGhyLCBzZXR0aW5ncywgZGVmZXJyZWQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYWpheEJlZm9yZVNlbmQoeGhyLCBzZXR0aW5ncykgPT09IGZhbHNlKSB7XG4gICAgICB4aHIuYWJvcnQoKVxuICAgICAgYWpheEVycm9yKG51bGwsICdhYm9ydCcsIHhociwgc2V0dGluZ3MsIGRlZmVycmVkKVxuICAgICAgcmV0dXJuIHhoclxuICAgIH1cblxuICAgIGlmIChzZXR0aW5ncy54aHJGaWVsZHMpIGZvciAobmFtZSBpbiBzZXR0aW5ncy54aHJGaWVsZHMpIHhocltuYW1lXSA9IHNldHRpbmdzLnhockZpZWxkc1tuYW1lXVxuXG4gICAgdmFyIGFzeW5jID0gJ2FzeW5jJyBpbiBzZXR0aW5ncyA/IHNldHRpbmdzLmFzeW5jIDogdHJ1ZVxuICAgIHhoci5vcGVuKHNldHRpbmdzLnR5cGUsIHNldHRpbmdzLnVybCwgYXN5bmMsIHNldHRpbmdzLnVzZXJuYW1lLCBzZXR0aW5ncy5wYXNzd29yZClcblxuICAgIGZvciAobmFtZSBpbiBoZWFkZXJzKSBuYXRpdmVTZXRIZWFkZXIuYXBwbHkoeGhyLCBoZWFkZXJzW25hbWVdKVxuXG4gICAgaWYgKHNldHRpbmdzLnRpbWVvdXQgPiAwKSBhYm9ydFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZW1wdHlcbiAgICAgIHhoci5hYm9ydCgpXG4gICAgICBhamF4RXJyb3IobnVsbCwgJ3RpbWVvdXQnLCB4aHIsIHNldHRpbmdzLCBkZWZlcnJlZClcbiAgICB9LCBzZXR0aW5ncy50aW1lb3V0KVxuXG4gICAgLy8gYXZvaWQgc2VuZGluZyBlbXB0eSBzdHJpbmcgKCMzMTkpXG4gICAgeGhyLnNlbmQoc2V0dGluZ3MuZGF0YSA/IHNldHRpbmdzLmRhdGEgOiBudWxsKVxuICAgIHJldHVybiB4aHJcbiAgfVxuXG4gIC8vIGhhbmRsZSBvcHRpb25hbCBkYXRhL3N1Y2Nlc3MgYXJndW1lbnRzXG4gIGZ1bmN0aW9uIHBhcnNlQXJndW1lbnRzKHVybCwgZGF0YSwgc3VjY2VzcywgZGF0YVR5cGUpIHtcbiAgICBpZiAoJC5pc0Z1bmN0aW9uKGRhdGEpKSBkYXRhVHlwZSA9IHN1Y2Nlc3MsIHN1Y2Nlc3MgPSBkYXRhLCBkYXRhID0gdW5kZWZpbmVkXG4gICAgaWYgKCEkLmlzRnVuY3Rpb24oc3VjY2VzcykpIGRhdGFUeXBlID0gc3VjY2Vzcywgc3VjY2VzcyA9IHVuZGVmaW5lZFxuICAgIHJldHVybiB7XG4gICAgICB1cmw6IHVybFxuICAgICAgLCBkYXRhOiBkYXRhXG4gICAgICAsIHN1Y2Nlc3M6IHN1Y2Nlc3NcbiAgICAgICwgZGF0YVR5cGU6IGRhdGFUeXBlXG4gICAgfVxuICB9XG5cbiAgJC5nZXQgPSBmdW5jdGlvbigvKiB1cmwsIGRhdGEsIHN1Y2Nlc3MsIGRhdGFUeXBlICovKXtcbiAgICByZXR1cm4gJC5hamF4KHBhcnNlQXJndW1lbnRzLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpXG4gIH1cblxuICAkLnBvc3QgPSBmdW5jdGlvbigvKiB1cmwsIGRhdGEsIHN1Y2Nlc3MsIGRhdGFUeXBlICovKXtcbiAgICB2YXIgb3B0aW9ucyA9IHBhcnNlQXJndW1lbnRzLmFwcGx5KG51bGwsIGFyZ3VtZW50cylcbiAgICBvcHRpb25zLnR5cGUgPSAnUE9TVCdcbiAgICByZXR1cm4gJC5hamF4KG9wdGlvbnMpXG4gIH1cblxuICAkLmdldEpTT04gPSBmdW5jdGlvbigvKiB1cmwsIGRhdGEsIHN1Y2Nlc3MgKi8pe1xuICAgIHZhciBvcHRpb25zID0gcGFyc2VBcmd1bWVudHMuYXBwbHkobnVsbCwgYXJndW1lbnRzKVxuICAgIG9wdGlvbnMuZGF0YVR5cGUgPSAnanNvbidcbiAgICByZXR1cm4gJC5hamF4KG9wdGlvbnMpXG4gIH1cblxuICAkLmZuLmxvYWQgPSBmdW5jdGlvbih1cmwsIGRhdGEsIHN1Y2Nlc3Mpe1xuICAgIGlmICghdGhpcy5sZW5ndGgpIHJldHVybiB0aGlzXG4gICAgdmFyIHNlbGYgPSB0aGlzLCBwYXJ0cyA9IHVybC5zcGxpdCgvXFxzLyksIHNlbGVjdG9yLFxuICAgICAgICBvcHRpb25zID0gcGFyc2VBcmd1bWVudHModXJsLCBkYXRhLCBzdWNjZXNzKSxcbiAgICAgICAgY2FsbGJhY2sgPSBvcHRpb25zLnN1Y2Nlc3NcbiAgICBpZiAocGFydHMubGVuZ3RoID4gMSkgb3B0aW9ucy51cmwgPSBwYXJ0c1swXSwgc2VsZWN0b3IgPSBwYXJ0c1sxXVxuICAgIG9wdGlvbnMuc3VjY2VzcyA9IGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgIHNlbGYuaHRtbChzZWxlY3RvciA/XG4gICAgICAgICAgJCgnPGRpdj4nKS5odG1sKHJlc3BvbnNlLnJlcGxhY2UocnNjcmlwdCwgXCJcIikpLmZpbmQoc2VsZWN0b3IpXG4gICAgICAgICAgOiByZXNwb25zZSlcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrLmFwcGx5KHNlbGYsIGFyZ3VtZW50cylcbiAgICB9XG4gICAgJC5hamF4KG9wdGlvbnMpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHZhciBlc2NhcGUgPSBlbmNvZGVVUklDb21wb25lbnRcblxuICBmdW5jdGlvbiBzZXJpYWxpemUocGFyYW1zLCBvYmosIHRyYWRpdGlvbmFsLCBzY29wZSl7XG4gICAgdmFyIHR5cGUsIGFycmF5ID0gJC5pc0FycmF5KG9iaiksIGhhc2ggPSAkLmlzUGxhaW5PYmplY3Qob2JqKVxuICAgICQuZWFjaChvYmosIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgIHR5cGUgPSAkLnR5cGUodmFsdWUpXG4gICAgICBpZiAoc2NvcGUpIGtleSA9IHRyYWRpdGlvbmFsID8gc2NvcGUgOlxuICAgICAgICAgIHNjb3BlICsgJ1snICsgKGhhc2ggfHwgdHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdhcnJheScgPyBrZXkgOiAnJykgKyAnXSdcbiAgICAgIC8vIGhhbmRsZSBkYXRhIGluIHNlcmlhbGl6ZUFycmF5KCkgZm9ybWF0XG4gICAgICBpZiAoIXNjb3BlICYmIGFycmF5KSBwYXJhbXMuYWRkKHZhbHVlLm5hbWUsIHZhbHVlLnZhbHVlKVxuICAgICAgLy8gcmVjdXJzZSBpbnRvIG5lc3RlZCBvYmplY3RzXG4gICAgICBlbHNlIGlmICh0eXBlID09IFwiYXJyYXlcIiB8fCAoIXRyYWRpdGlvbmFsICYmIHR5cGUgPT0gXCJvYmplY3RcIikpXG4gICAgICAgIHNlcmlhbGl6ZShwYXJhbXMsIHZhbHVlLCB0cmFkaXRpb25hbCwga2V5KVxuICAgICAgZWxzZSBwYXJhbXMuYWRkKGtleSwgdmFsdWUpXG4gICAgfSlcbiAgfVxuXG4gICQucGFyYW0gPSBmdW5jdGlvbihvYmosIHRyYWRpdGlvbmFsKXtcbiAgICB2YXIgcGFyYW1zID0gW11cbiAgICBwYXJhbXMuYWRkID0gZnVuY3Rpb24oaywgdil7IHRoaXMucHVzaChlc2NhcGUoaykgKyAnPScgKyBlc2NhcGUodikpIH1cbiAgICBzZXJpYWxpemUocGFyYW1zLCBvYmosIHRyYWRpdGlvbmFsKVxuICAgIHJldHVybiBwYXJhbXMuam9pbignJicpLnJlcGxhY2UoLyUyMC9nLCAnKycpXG4gIH1cbn0pKFplcHRvKVxuXG47KGZ1bmN0aW9uKCQpe1xuICAkLmZuLnNlcmlhbGl6ZUFycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdLCBlbFxuICAgICQoW10uc2xpY2UuY2FsbCh0aGlzLmdldCgwKS5lbGVtZW50cykpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgIGVsID0gJCh0aGlzKVxuICAgICAgdmFyIHR5cGUgPSBlbC5hdHRyKCd0eXBlJylcbiAgICAgIGlmICh0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT0gJ2ZpZWxkc2V0JyAmJlxuICAgICAgICAgICF0aGlzLmRpc2FibGVkICYmIHR5cGUgIT0gJ3N1Ym1pdCcgJiYgdHlwZSAhPSAncmVzZXQnICYmIHR5cGUgIT0gJ2J1dHRvbicgJiZcbiAgICAgICAgICAoKHR5cGUgIT0gJ3JhZGlvJyAmJiB0eXBlICE9ICdjaGVja2JveCcpIHx8IHRoaXMuY2hlY2tlZCkpXG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICBuYW1lOiBlbC5hdHRyKCduYW1lJyksXG4gICAgICAgICAgdmFsdWU6IGVsLnZhbCgpXG4gICAgICAgIH0pXG4gICAgfSlcbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAkLmZuLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHJlc3VsdCA9IFtdXG4gICAgdGhpcy5zZXJpYWxpemVBcnJheSgpLmZvckVhY2goZnVuY3Rpb24oZWxtKXtcbiAgICAgIHJlc3VsdC5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChlbG0ubmFtZSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZWxtLnZhbHVlKSlcbiAgICB9KVxuICAgIHJldHVybiByZXN1bHQuam9pbignJicpXG4gIH1cblxuICAkLmZuLnN1Ym1pdCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgaWYgKGNhbGxiYWNrKSB0aGlzLmJpbmQoJ3N1Ym1pdCcsIGNhbGxiYWNrKVxuICAgIGVsc2UgaWYgKHRoaXMubGVuZ3RoKSB7XG4gICAgICB2YXIgZXZlbnQgPSAkLkV2ZW50KCdzdWJtaXQnKVxuICAgICAgdGhpcy5lcSgwKS50cmlnZ2VyKGV2ZW50KVxuICAgICAgaWYgKCFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgdGhpcy5nZXQoMCkuc3VibWl0KClcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG59KShaZXB0bylcblxuOyhmdW5jdGlvbigkKXtcbiAgLy8gX19wcm90b19fIGRvZXNuJ3QgZXhpc3Qgb24gSUU8MTEsIHNvIHJlZGVmaW5lXG4gIC8vIHRoZSBaIGZ1bmN0aW9uIHRvIHVzZSBvYmplY3QgZXh0ZW5zaW9uIGluc3RlYWRcbiAgaWYgKCEoJ19fcHJvdG9fXycgaW4ge30pKSB7XG4gICAgJC5leHRlbmQoJC56ZXB0bywge1xuICAgICAgWjogZnVuY3Rpb24oZG9tLCBzZWxlY3Rvcil7XG4gICAgICAgIGRvbSA9IGRvbSB8fCBbXVxuICAgICAgICAkLmV4dGVuZChkb20sICQuZm4pXG4gICAgICAgIGRvbS5zZWxlY3RvciA9IHNlbGVjdG9yIHx8ICcnXG4gICAgICAgIGRvbS5fX1ogPSB0cnVlXG4gICAgICAgIHJldHVybiBkb21cbiAgICAgIH0sXG4gICAgICAvLyB0aGlzIGlzIGEga2x1ZGdlIGJ1dCB3b3Jrc1xuICAgICAgaXNaOiBmdW5jdGlvbihvYmplY3Qpe1xuICAgICAgICByZXR1cm4gJC50eXBlKG9iamVjdCkgPT09ICdhcnJheScgJiYgJ19fWicgaW4gb2JqZWN0XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8vIGdldENvbXB1dGVkU3R5bGUgc2hvdWxkbid0IGZyZWFrIG91dCB3aGVuIGNhbGxlZFxuICAvLyB3aXRob3V0IGEgdmFsaWQgZWxlbWVudCBhcyBhcmd1bWVudFxuICB0cnkge1xuICAgIGdldENvbXB1dGVkU3R5bGUodW5kZWZpbmVkKVxuICB9IGNhdGNoKGUpIHtcbiAgICB2YXIgbmF0aXZlR2V0Q29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGU7XG4gICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUgPSBmdW5jdGlvbihlbGVtZW50KXtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVHZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpXG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pKFplcHRvKVxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9qcy96ZXB0by5qc1xuICoqIG1vZHVsZSBpZCA9IDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMCAxIDIgMyA0IDVcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 3 */
/***/ function(module, exports) {

	eval("/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n//     Zepto.js\r\n//     (c) 2010-2016 Thomas Fuchs\r\n//     Zepto.js may be freely distributed under the MIT license.\r\n\r\n;(function($){\r\n  var touch = {},\r\n    touchTimeout, tapTimeout, swipeTimeout, longTapTimeout,\r\n    longTapDelay = 750,\r\n    gesture\r\n\r\n  function swipeDirection(x1, x2, y1, y2) {\r\n    return Math.abs(x1 - x2) >=\r\n      Math.abs(y1 - y2) ? (x1 - x2 > 0 ? 'Left' : 'Right') : (y1 - y2 > 0 ? 'Up' : 'Down')\r\n  }\r\n\r\n  function longTap() {\r\n    longTapTimeout = null\r\n    if (touch.last) {\r\n      touch.el.trigger('longTap')\r\n      touch = {}\r\n    }\r\n  }\r\n\r\n  function cancelLongTap() {\r\n    if (longTapTimeout) clearTimeout(longTapTimeout)\r\n    longTapTimeout = null\r\n  }\r\n\r\n  function cancelAll() {\r\n    if (touchTimeout) clearTimeout(touchTimeout)\r\n    if (tapTimeout) clearTimeout(tapTimeout)\r\n    if (swipeTimeout) clearTimeout(swipeTimeout)\r\n    if (longTapTimeout) clearTimeout(longTapTimeout)\r\n    touchTimeout = tapTimeout = swipeTimeout = longTapTimeout = null\r\n    touch = {}\r\n  }\r\n\r\n  function isPrimaryTouch(event){\r\n    return (event.pointerType == 'touch' ||\r\n      event.pointerType == event.MSPOINTER_TYPE_TOUCH)\r\n      && event.isPrimary\r\n  }\r\n\r\n  function isPointerEventType(e, type){\r\n    return (e.type == 'pointer'+type ||\r\n      e.type.toLowerCase() == 'mspointer'+type)\r\n  }\r\n\r\n  $(document).ready(function(){\r\n    var now, delta, deltaX = 0, deltaY = 0, firstTouch, _isPointerType\r\n\r\n    if ('MSGesture' in window) {\r\n      gesture = new MSGesture()\r\n      gesture.target = document.body\r\n    }\r\n\r\n    $(document)\r\n      .bind('MSGestureEnd', function(e){\r\n        var swipeDirectionFromVelocity =\r\n          e.velocityX > 1 ? 'Right' : e.velocityX < -1 ? 'Left' : e.velocityY > 1 ? 'Down' : e.velocityY < -1 ? 'Up' : null;\r\n        if (swipeDirectionFromVelocity) {\r\n          touch.el.trigger('swipe')\r\n          touch.el.trigger('swipe'+ swipeDirectionFromVelocity)\r\n        }\r\n      })\r\n      .on('touchstart MSPointerDown pointerdown', function(e){\r\n        if((_isPointerType = isPointerEventType(e, 'down')) &&\r\n          !isPrimaryTouch(e)) return\r\n        firstTouch = _isPointerType ? e : e.touches[0]\r\n        if (e.touches && e.touches.length === 1 && touch.x2) {\r\n          // Clear out touch movement data if we have it sticking around\r\n          // This can occur if touchcancel doesn't fire due to preventDefault, etc.\r\n          touch.x2 = undefined\r\n          touch.y2 = undefined\r\n        }\r\n        now = Date.now()\r\n        delta = now - (touch.last || now)\r\n        touch.el = $('tagName' in firstTouch.target ?\r\n          firstTouch.target : firstTouch.target.parentNode)\r\n        touchTimeout && clearTimeout(touchTimeout)\r\n        touch.x1 = firstTouch.pageX\r\n        touch.y1 = firstTouch.pageY\r\n        if (delta > 0 && delta <= 250) touch.isDoubleTap = true\r\n        touch.last = now\r\n        longTapTimeout = setTimeout(longTap, longTapDelay)\r\n        // adds the current touch contact for IE gesture recognition\r\n        if (gesture && _isPointerType) gesture.addPointer(e.pointerId);\r\n      })\r\n      .on('touchmove MSPointerMove pointermove', function(e){\r\n        if((_isPointerType = isPointerEventType(e, 'move')) &&\r\n          !isPrimaryTouch(e)) return\r\n        firstTouch = _isPointerType ? e : e.touches[0]\r\n        cancelLongTap()\r\n        touch.x2 = firstTouch.pageX\r\n        touch.y2 = firstTouch.pageY\r\n\r\n        deltaX += Math.abs(touch.x1 - touch.x2)\r\n        deltaY += Math.abs(touch.y1 - touch.y2)\r\n      })\r\n      .on('touchend MSPointerUp pointerup', function(e){\r\n        if((_isPointerType = isPointerEventType(e, 'up')) &&\r\n          !isPrimaryTouch(e)) return\r\n        cancelLongTap()\r\n\r\n        // swipe\r\n        if ((touch.x2 && Math.abs(touch.x1 - touch.x2) > 30) ||\r\n            (touch.y2 && Math.abs(touch.y1 - touch.y2) > 30))\r\n\r\n          swipeTimeout = setTimeout(function() {\r\n            touch.el.trigger('swipe')\r\n            touch.el.trigger('swipe' + (swipeDirection(touch.x1, touch.x2, touch.y1, touch.y2)))\r\n            touch = {}\r\n          }, 0)\r\n\r\n        // normal tap\r\n        else if ('last' in touch)\r\n          // don't fire tap when delta position changed by more than 30 pixels,\r\n          // for instance when moving to a point and back to origin\r\n          if (deltaX < 30 && deltaY < 30) {\r\n            // delay by one tick so we can cancel the 'tap' event if 'scroll' fires\r\n            // ('tap' fires before 'scroll')\r\n            tapTimeout = setTimeout(function() {\r\n\r\n              // trigger universal 'tap' with the option to cancelTouch()\r\n              // (cancelTouch cancels processing of single vs double taps for faster 'tap' response)\r\n              var event = $.Event('tap')\r\n              event.cancelTouch = cancelAll\r\n              touch.el.trigger(event)\r\n\r\n              // trigger double tap immediately\r\n              if (touch.isDoubleTap) {\r\n                if (touch.el) touch.el.trigger('doubleTap')\r\n                touch = {}\r\n              }\r\n\r\n              // trigger single tap after 250ms of inactivity\r\n              else {\r\n                touchTimeout = setTimeout(function(){\r\n                  touchTimeout = null\r\n                  if (touch.el) touch.el.trigger('singleTap')\r\n                  touch = {}\r\n                }, 250)\r\n              }\r\n            }, 0)\r\n          } else {\r\n            touch = {}\r\n          }\r\n          deltaX = deltaY = 0\r\n\r\n      })\r\n      // when the browser window loses focus,\r\n      // for example when a modal dialog is shown,\r\n      // cancel all ongoing events\r\n      .on('touchcancel MSPointerCancel pointercancel', cancelAll)\r\n\r\n    // scrolling the window indicates intention of the user\r\n    // to scroll, not tap or swipe, so cancel all ongoing events\r\n    $(window).on('scroll', cancelAll)\r\n  })\r\n\r\n  ;['swipe', 'swipeLeft', 'swipeRight', 'swipeUp', 'swipeDown',\r\n    'doubleTap', 'tap', 'singleTap', 'longTap'].forEach(function(eventName){\r\n    $.fn[eventName] = function(callback){ return this.on(eventName, callback) }\r\n  })\r\n})(Zepto)\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvemVwdG8tdGFwLmpzPzI4ZDYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQztBQUNELGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUEsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsR0FBRztBQUNIO0FBQ0EseUNBQXlDO0FBQ3pDLEdBQUc7QUFDSCxDQUFDIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqIElNUE9SVFMgRlJPTSBpbXBvcnRzLWxvYWRlciAqKiovXG52YXIgZGVmaW5lID0gZmFsc2U7XG5cbi8vICAgICBaZXB0by5qc1xyXG4vLyAgICAgKGMpIDIwMTAtMjAxNiBUaG9tYXMgRnVjaHNcclxuLy8gICAgIFplcHRvLmpzIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG5cclxuOyhmdW5jdGlvbigkKXtcclxuICB2YXIgdG91Y2ggPSB7fSxcclxuICAgIHRvdWNoVGltZW91dCwgdGFwVGltZW91dCwgc3dpcGVUaW1lb3V0LCBsb25nVGFwVGltZW91dCxcclxuICAgIGxvbmdUYXBEZWxheSA9IDc1MCxcclxuICAgIGdlc3R1cmVcclxuXHJcbiAgZnVuY3Rpb24gc3dpcGVEaXJlY3Rpb24oeDEsIHgyLCB5MSwgeTIpIHtcclxuICAgIHJldHVybiBNYXRoLmFicyh4MSAtIHgyKSA+PVxyXG4gICAgICBNYXRoLmFicyh5MSAtIHkyKSA/ICh4MSAtIHgyID4gMCA/ICdMZWZ0JyA6ICdSaWdodCcpIDogKHkxIC0geTIgPiAwID8gJ1VwJyA6ICdEb3duJylcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGxvbmdUYXAoKSB7XHJcbiAgICBsb25nVGFwVGltZW91dCA9IG51bGxcclxuICAgIGlmICh0b3VjaC5sYXN0KSB7XHJcbiAgICAgIHRvdWNoLmVsLnRyaWdnZXIoJ2xvbmdUYXAnKVxyXG4gICAgICB0b3VjaCA9IHt9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjYW5jZWxMb25nVGFwKCkge1xyXG4gICAgaWYgKGxvbmdUYXBUaW1lb3V0KSBjbGVhclRpbWVvdXQobG9uZ1RhcFRpbWVvdXQpXHJcbiAgICBsb25nVGFwVGltZW91dCA9IG51bGxcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNhbmNlbEFsbCgpIHtcclxuICAgIGlmICh0b3VjaFRpbWVvdXQpIGNsZWFyVGltZW91dCh0b3VjaFRpbWVvdXQpXHJcbiAgICBpZiAodGFwVGltZW91dCkgY2xlYXJUaW1lb3V0KHRhcFRpbWVvdXQpXHJcbiAgICBpZiAoc3dpcGVUaW1lb3V0KSBjbGVhclRpbWVvdXQoc3dpcGVUaW1lb3V0KVxyXG4gICAgaWYgKGxvbmdUYXBUaW1lb3V0KSBjbGVhclRpbWVvdXQobG9uZ1RhcFRpbWVvdXQpXHJcbiAgICB0b3VjaFRpbWVvdXQgPSB0YXBUaW1lb3V0ID0gc3dpcGVUaW1lb3V0ID0gbG9uZ1RhcFRpbWVvdXQgPSBudWxsXHJcbiAgICB0b3VjaCA9IHt9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc1ByaW1hcnlUb3VjaChldmVudCl7XHJcbiAgICByZXR1cm4gKGV2ZW50LnBvaW50ZXJUeXBlID09ICd0b3VjaCcgfHxcclxuICAgICAgZXZlbnQucG9pbnRlclR5cGUgPT0gZXZlbnQuTVNQT0lOVEVSX1RZUEVfVE9VQ0gpXHJcbiAgICAgICYmIGV2ZW50LmlzUHJpbWFyeVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaXNQb2ludGVyRXZlbnRUeXBlKGUsIHR5cGUpe1xyXG4gICAgcmV0dXJuIChlLnR5cGUgPT0gJ3BvaW50ZXInK3R5cGUgfHxcclxuICAgICAgZS50eXBlLnRvTG93ZXJDYXNlKCkgPT0gJ21zcG9pbnRlcicrdHlwZSlcclxuICB9XHJcblxyXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgbm93LCBkZWx0YSwgZGVsdGFYID0gMCwgZGVsdGFZID0gMCwgZmlyc3RUb3VjaCwgX2lzUG9pbnRlclR5cGVcclxuXHJcbiAgICBpZiAoJ01TR2VzdHVyZScgaW4gd2luZG93KSB7XHJcbiAgICAgIGdlc3R1cmUgPSBuZXcgTVNHZXN0dXJlKClcclxuICAgICAgZ2VzdHVyZS50YXJnZXQgPSBkb2N1bWVudC5ib2R5XHJcbiAgICB9XHJcblxyXG4gICAgJChkb2N1bWVudClcclxuICAgICAgLmJpbmQoJ01TR2VzdHVyZUVuZCcsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIHZhciBzd2lwZURpcmVjdGlvbkZyb21WZWxvY2l0eSA9XHJcbiAgICAgICAgICBlLnZlbG9jaXR5WCA+IDEgPyAnUmlnaHQnIDogZS52ZWxvY2l0eVggPCAtMSA/ICdMZWZ0JyA6IGUudmVsb2NpdHlZID4gMSA/ICdEb3duJyA6IGUudmVsb2NpdHlZIDwgLTEgPyAnVXAnIDogbnVsbDtcclxuICAgICAgICBpZiAoc3dpcGVEaXJlY3Rpb25Gcm9tVmVsb2NpdHkpIHtcclxuICAgICAgICAgIHRvdWNoLmVsLnRyaWdnZXIoJ3N3aXBlJylcclxuICAgICAgICAgIHRvdWNoLmVsLnRyaWdnZXIoJ3N3aXBlJysgc3dpcGVEaXJlY3Rpb25Gcm9tVmVsb2NpdHkpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAub24oJ3RvdWNoc3RhcnQgTVNQb2ludGVyRG93biBwb2ludGVyZG93bicsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIGlmKChfaXNQb2ludGVyVHlwZSA9IGlzUG9pbnRlckV2ZW50VHlwZShlLCAnZG93bicpKSAmJlxyXG4gICAgICAgICAgIWlzUHJpbWFyeVRvdWNoKGUpKSByZXR1cm5cclxuICAgICAgICBmaXJzdFRvdWNoID0gX2lzUG9pbnRlclR5cGUgPyBlIDogZS50b3VjaGVzWzBdXHJcbiAgICAgICAgaWYgKGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoID09PSAxICYmIHRvdWNoLngyKSB7XHJcbiAgICAgICAgICAvLyBDbGVhciBvdXQgdG91Y2ggbW92ZW1lbnQgZGF0YSBpZiB3ZSBoYXZlIGl0IHN0aWNraW5nIGFyb3VuZFxyXG4gICAgICAgICAgLy8gVGhpcyBjYW4gb2NjdXIgaWYgdG91Y2hjYW5jZWwgZG9lc24ndCBmaXJlIGR1ZSB0byBwcmV2ZW50RGVmYXVsdCwgZXRjLlxyXG4gICAgICAgICAgdG91Y2gueDIgPSB1bmRlZmluZWRcclxuICAgICAgICAgIHRvdWNoLnkyID0gdW5kZWZpbmVkXHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5vdyA9IERhdGUubm93KClcclxuICAgICAgICBkZWx0YSA9IG5vdyAtICh0b3VjaC5sYXN0IHx8IG5vdylcclxuICAgICAgICB0b3VjaC5lbCA9ICQoJ3RhZ05hbWUnIGluIGZpcnN0VG91Y2gudGFyZ2V0ID9cclxuICAgICAgICAgIGZpcnN0VG91Y2gudGFyZ2V0IDogZmlyc3RUb3VjaC50YXJnZXQucGFyZW50Tm9kZSlcclxuICAgICAgICB0b3VjaFRpbWVvdXQgJiYgY2xlYXJUaW1lb3V0KHRvdWNoVGltZW91dClcclxuICAgICAgICB0b3VjaC54MSA9IGZpcnN0VG91Y2gucGFnZVhcclxuICAgICAgICB0b3VjaC55MSA9IGZpcnN0VG91Y2gucGFnZVlcclxuICAgICAgICBpZiAoZGVsdGEgPiAwICYmIGRlbHRhIDw9IDI1MCkgdG91Y2guaXNEb3VibGVUYXAgPSB0cnVlXHJcbiAgICAgICAgdG91Y2gubGFzdCA9IG5vd1xyXG4gICAgICAgIGxvbmdUYXBUaW1lb3V0ID0gc2V0VGltZW91dChsb25nVGFwLCBsb25nVGFwRGVsYXkpXHJcbiAgICAgICAgLy8gYWRkcyB0aGUgY3VycmVudCB0b3VjaCBjb250YWN0IGZvciBJRSBnZXN0dXJlIHJlY29nbml0aW9uXHJcbiAgICAgICAgaWYgKGdlc3R1cmUgJiYgX2lzUG9pbnRlclR5cGUpIGdlc3R1cmUuYWRkUG9pbnRlcihlLnBvaW50ZXJJZCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5vbigndG91Y2htb3ZlIE1TUG9pbnRlck1vdmUgcG9pbnRlcm1vdmUnLCBmdW5jdGlvbihlKXtcclxuICAgICAgICBpZigoX2lzUG9pbnRlclR5cGUgPSBpc1BvaW50ZXJFdmVudFR5cGUoZSwgJ21vdmUnKSkgJiZcclxuICAgICAgICAgICFpc1ByaW1hcnlUb3VjaChlKSkgcmV0dXJuXHJcbiAgICAgICAgZmlyc3RUb3VjaCA9IF9pc1BvaW50ZXJUeXBlID8gZSA6IGUudG91Y2hlc1swXVxyXG4gICAgICAgIGNhbmNlbExvbmdUYXAoKVxyXG4gICAgICAgIHRvdWNoLngyID0gZmlyc3RUb3VjaC5wYWdlWFxyXG4gICAgICAgIHRvdWNoLnkyID0gZmlyc3RUb3VjaC5wYWdlWVxyXG5cclxuICAgICAgICBkZWx0YVggKz0gTWF0aC5hYnModG91Y2gueDEgLSB0b3VjaC54MilcclxuICAgICAgICBkZWx0YVkgKz0gTWF0aC5hYnModG91Y2gueTEgLSB0b3VjaC55MilcclxuICAgICAgfSlcclxuICAgICAgLm9uKCd0b3VjaGVuZCBNU1BvaW50ZXJVcCBwb2ludGVydXAnLCBmdW5jdGlvbihlKXtcclxuICAgICAgICBpZigoX2lzUG9pbnRlclR5cGUgPSBpc1BvaW50ZXJFdmVudFR5cGUoZSwgJ3VwJykpICYmXHJcbiAgICAgICAgICAhaXNQcmltYXJ5VG91Y2goZSkpIHJldHVyblxyXG4gICAgICAgIGNhbmNlbExvbmdUYXAoKVxyXG5cclxuICAgICAgICAvLyBzd2lwZVxyXG4gICAgICAgIGlmICgodG91Y2gueDIgJiYgTWF0aC5hYnModG91Y2gueDEgLSB0b3VjaC54MikgPiAzMCkgfHxcclxuICAgICAgICAgICAgKHRvdWNoLnkyICYmIE1hdGguYWJzKHRvdWNoLnkxIC0gdG91Y2gueTIpID4gMzApKVxyXG5cclxuICAgICAgICAgIHN3aXBlVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRvdWNoLmVsLnRyaWdnZXIoJ3N3aXBlJylcclxuICAgICAgICAgICAgdG91Y2guZWwudHJpZ2dlcignc3dpcGUnICsgKHN3aXBlRGlyZWN0aW9uKHRvdWNoLngxLCB0b3VjaC54MiwgdG91Y2gueTEsIHRvdWNoLnkyKSkpXHJcbiAgICAgICAgICAgIHRvdWNoID0ge31cclxuICAgICAgICAgIH0sIDApXHJcblxyXG4gICAgICAgIC8vIG5vcm1hbCB0YXBcclxuICAgICAgICBlbHNlIGlmICgnbGFzdCcgaW4gdG91Y2gpXHJcbiAgICAgICAgICAvLyBkb24ndCBmaXJlIHRhcCB3aGVuIGRlbHRhIHBvc2l0aW9uIGNoYW5nZWQgYnkgbW9yZSB0aGFuIDMwIHBpeGVscyxcclxuICAgICAgICAgIC8vIGZvciBpbnN0YW5jZSB3aGVuIG1vdmluZyB0byBhIHBvaW50IGFuZCBiYWNrIHRvIG9yaWdpblxyXG4gICAgICAgICAgaWYgKGRlbHRhWCA8IDMwICYmIGRlbHRhWSA8IDMwKSB7XHJcbiAgICAgICAgICAgIC8vIGRlbGF5IGJ5IG9uZSB0aWNrIHNvIHdlIGNhbiBjYW5jZWwgdGhlICd0YXAnIGV2ZW50IGlmICdzY3JvbGwnIGZpcmVzXHJcbiAgICAgICAgICAgIC8vICgndGFwJyBmaXJlcyBiZWZvcmUgJ3Njcm9sbCcpXHJcbiAgICAgICAgICAgIHRhcFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAvLyB0cmlnZ2VyIHVuaXZlcnNhbCAndGFwJyB3aXRoIHRoZSBvcHRpb24gdG8gY2FuY2VsVG91Y2goKVxyXG4gICAgICAgICAgICAgIC8vIChjYW5jZWxUb3VjaCBjYW5jZWxzIHByb2Nlc3Npbmcgb2Ygc2luZ2xlIHZzIGRvdWJsZSB0YXBzIGZvciBmYXN0ZXIgJ3RhcCcgcmVzcG9uc2UpXHJcbiAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gJC5FdmVudCgndGFwJylcclxuICAgICAgICAgICAgICBldmVudC5jYW5jZWxUb3VjaCA9IGNhbmNlbEFsbFxyXG4gICAgICAgICAgICAgIHRvdWNoLmVsLnRyaWdnZXIoZXZlbnQpXHJcblxyXG4gICAgICAgICAgICAgIC8vIHRyaWdnZXIgZG91YmxlIHRhcCBpbW1lZGlhdGVseVxyXG4gICAgICAgICAgICAgIGlmICh0b3VjaC5pc0RvdWJsZVRhcCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRvdWNoLmVsKSB0b3VjaC5lbC50cmlnZ2VyKCdkb3VibGVUYXAnKVxyXG4gICAgICAgICAgICAgICAgdG91Y2ggPSB7fVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLy8gdHJpZ2dlciBzaW5nbGUgdGFwIGFmdGVyIDI1MG1zIG9mIGluYWN0aXZpdHlcclxuICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRvdWNoVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgdG91Y2hUaW1lb3V0ID0gbnVsbFxyXG4gICAgICAgICAgICAgICAgICBpZiAodG91Y2guZWwpIHRvdWNoLmVsLnRyaWdnZXIoJ3NpbmdsZVRhcCcpXHJcbiAgICAgICAgICAgICAgICAgIHRvdWNoID0ge31cclxuICAgICAgICAgICAgICAgIH0sIDI1MClcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDApXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0b3VjaCA9IHt9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBkZWx0YVggPSBkZWx0YVkgPSAwXHJcblxyXG4gICAgICB9KVxyXG4gICAgICAvLyB3aGVuIHRoZSBicm93c2VyIHdpbmRvdyBsb3NlcyBmb2N1cyxcclxuICAgICAgLy8gZm9yIGV4YW1wbGUgd2hlbiBhIG1vZGFsIGRpYWxvZyBpcyBzaG93bixcclxuICAgICAgLy8gY2FuY2VsIGFsbCBvbmdvaW5nIGV2ZW50c1xyXG4gICAgICAub24oJ3RvdWNoY2FuY2VsIE1TUG9pbnRlckNhbmNlbCBwb2ludGVyY2FuY2VsJywgY2FuY2VsQWxsKVxyXG5cclxuICAgIC8vIHNjcm9sbGluZyB0aGUgd2luZG93IGluZGljYXRlcyBpbnRlbnRpb24gb2YgdGhlIHVzZXJcclxuICAgIC8vIHRvIHNjcm9sbCwgbm90IHRhcCBvciBzd2lwZSwgc28gY2FuY2VsIGFsbCBvbmdvaW5nIGV2ZW50c1xyXG4gICAgJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCBjYW5jZWxBbGwpXHJcbiAgfSlcclxuXHJcbiAgO1snc3dpcGUnLCAnc3dpcGVMZWZ0JywgJ3N3aXBlUmlnaHQnLCAnc3dpcGVVcCcsICdzd2lwZURvd24nLFxyXG4gICAgJ2RvdWJsZVRhcCcsICd0YXAnLCAnc2luZ2xlVGFwJywgJ2xvbmdUYXAnXS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50TmFtZSl7XHJcbiAgICAkLmZuW2V2ZW50TmFtZV0gPSBmdW5jdGlvbihjYWxsYmFjayl7IHJldHVybiB0aGlzLm9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIH1cclxuICB9KVxyXG59KShaZXB0bylcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvanMvemVwdG8tdGFwLmpzXG4gKiogbW9kdWxlIGlkID0gM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwIDEgMiAzIDQgNVxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 4 */,
/* 5 */
/***/ function(module, exports, __webpack_require__) {

	eval("/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n__webpack_require__(6);\r\n__webpack_require__(9);\r\n__webpack_require__(2);\r\n__webpack_require__(3);\r\nvar userName = window.location.href.split('=')[1];\r\n$('#footer li').eq(1).on('tap',function(){\r\n    window.location.href = 'classify.html?user='+userName;\r\n});\r\n$('#footer li').eq(2).on('tap',function(){\r\n    window.location.href = 'cars.html?user='+userName;\r\n});\r\n$('#footer li').eq(3).on('tap',function(){\r\n    window.location.href = 'myshow.html?user='+userName;\r\n});\r\n$('#footer li').eq(4).on('tap',function(){\r\n    window.location.href = 'more.html?user='+userName;\r\n});\r\nvar myswiper = new Swiper('.swiper-container',{\r\n    autoplay:true,\r\n    loop:true,\r\n    speed: 1000,\r\n    pagination : '.swiper-pagination',\r\n    resistanceRatio:0\r\n});\r\ngetBannerdata();\r\nfunction getBannerdata(){\r\n    $.ajax({\r\n        url:\"http://datainfo.duapp.com/shopdata/getBanner.php\",\r\n        type:'get',\r\n        dataType:'jsonp',\r\n        success:function(data){\r\n            for(var i=0;i<4;i++){\r\n                var src = JSON.parse(data[i].goodsBenUrl)[0];\r\n                $('.swiper-wrapper .swiper-slide').eq(i+1).find('img').attr('src',src);\r\n            }\r\n        },\r\n        error:function(){\r\n            console.log(\"something go wrong~\");\r\n        }\r\n    })\r\n}\r\ngetGoodsdata();\r\nfunction getGoodsdata(){\r\n    $.ajax({\r\n        url:\"http://datainfo.duapp.com/shopdata/getGoods.php\",\r\n        type:'get',\r\n        dataType:'jsonp',\r\n        success:function(data){\r\n            for(var i=0;i<5;i++){\r\n                var src = data[i].goodsListImg;\r\n                var info = data[i].goodsName;\r\n                var price = data[i].price;\r\n                var disc = data[i].discount;\r\n                var goodsID = data[i].goodsID;\r\n                $('#thelist').append('<li><dl><dt><img src='+\r\n                    src+' alt=\"\"> </dt> <dd> <p class=\"intro-txt\">'+\r\n                    info+'</p> <div> <span class=\"intro-price\"><p> <span class=\"new-price\">￥'+\r\n                    price+'</span> <span class=\"old-price\">￥2880</span></p><b class=\"disc\">'+\r\n                    disc+'折</b> </span> <span id=\"bycar\" class=\"bycar iconfont\" data-id='+\r\n                    goodsID+'>&#xe629;</span> </div> </dd> </dl> </li>');\r\n            }\r\n        },\r\n        error:function(){\r\n            console.log(\"something go wrong~\");\r\n        }\r\n    });\r\n}\r\nif(userName != undefined && userName != 'undefined') {\r\n    $('#thelist').on('tap','#bycar',function(){\r\n        var goodsID = $(this).attr('data-id');\r\n        $.ajax({\r\n            url: 'http://datainfo.duapp.com/shopdata/updatecar.php',\r\n            type: 'get',\r\n            data: {\r\n                userID: userName,\r\n                goodsID: goodsID,\r\n                number: 1\r\n            },\r\n            success: function (data) {\r\n                console.log(data);\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvaG9tZS5qcz8yYjU0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLElBQUk7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLElBQUk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCIsImZpbGUiOiI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKiBJTVBPUlRTIEZST00gaW1wb3J0cy1sb2FkZXIgKioqL1xudmFyIGRlZmluZSA9IGZhbHNlO1xuXG5yZXF1aXJlKCcuL215aXNjcm9sbCcpO1xyXG5yZXF1aXJlKCcuL3N3aXBlci0zLjMuMS5taW4nKTtcclxucmVxdWlyZSgnLi96ZXB0bycpO1xyXG5yZXF1aXJlKCcuL3plcHRvLXRhcCcpO1xyXG52YXIgdXNlck5hbWUgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnPScpWzFdO1xyXG4kKCcjZm9vdGVyIGxpJykuZXEoMSkub24oJ3RhcCcsZnVuY3Rpb24oKXtcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2NsYXNzaWZ5Lmh0bWw/dXNlcj0nK3VzZXJOYW1lO1xyXG59KTtcclxuJCgnI2Zvb3RlciBsaScpLmVxKDIpLm9uKCd0YXAnLGZ1bmN0aW9uKCl7XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdjYXJzLmh0bWw/dXNlcj0nK3VzZXJOYW1lO1xyXG59KTtcclxuJCgnI2Zvb3RlciBsaScpLmVxKDMpLm9uKCd0YXAnLGZ1bmN0aW9uKCl7XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdteXNob3cuaHRtbD91c2VyPScrdXNlck5hbWU7XHJcbn0pO1xyXG4kKCcjZm9vdGVyIGxpJykuZXEoNCkub24oJ3RhcCcsZnVuY3Rpb24oKXtcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ21vcmUuaHRtbD91c2VyPScrdXNlck5hbWU7XHJcbn0pO1xyXG52YXIgbXlzd2lwZXIgPSBuZXcgU3dpcGVyKCcuc3dpcGVyLWNvbnRhaW5lcicse1xyXG4gICAgYXV0b3BsYXk6dHJ1ZSxcclxuICAgIGxvb3A6dHJ1ZSxcclxuICAgIHNwZWVkOiAxMDAwLFxyXG4gICAgcGFnaW5hdGlvbiA6ICcuc3dpcGVyLXBhZ2luYXRpb24nLFxyXG4gICAgcmVzaXN0YW5jZVJhdGlvOjBcclxufSk7XHJcbmdldEJhbm5lcmRhdGEoKTtcclxuZnVuY3Rpb24gZ2V0QmFubmVyZGF0YSgpe1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6XCJodHRwOi8vZGF0YWluZm8uZHVhcHAuY29tL3Nob3BkYXRhL2dldEJhbm5lci5waHBcIixcclxuICAgICAgICB0eXBlOidnZXQnLFxyXG4gICAgICAgIGRhdGFUeXBlOidqc29ucCcsXHJcbiAgICAgICAgc3VjY2VzczpmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgZm9yKHZhciBpPTA7aTw0O2krKyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3JjID0gSlNPTi5wYXJzZShkYXRhW2ldLmdvb2RzQmVuVXJsKVswXTtcclxuICAgICAgICAgICAgICAgICQoJy5zd2lwZXItd3JhcHBlciAuc3dpcGVyLXNsaWRlJykuZXEoaSsxKS5maW5kKCdpbWcnKS5hdHRyKCdzcmMnLHNyYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGVycm9yOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic29tZXRoaW5nIGdvIHdyb25nflwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59XHJcbmdldEdvb2RzZGF0YSgpO1xyXG5mdW5jdGlvbiBnZXRHb29kc2RhdGEoKXtcclxuICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsOlwiaHR0cDovL2RhdGFpbmZvLmR1YXBwLmNvbS9zaG9wZGF0YS9nZXRHb29kcy5waHBcIixcclxuICAgICAgICB0eXBlOidnZXQnLFxyXG4gICAgICAgIGRhdGFUeXBlOidqc29ucCcsXHJcbiAgICAgICAgc3VjY2VzczpmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgZm9yKHZhciBpPTA7aTw1O2krKyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3JjID0gZGF0YVtpXS5nb29kc0xpc3RJbWc7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5mbyA9IGRhdGFbaV0uZ29vZHNOYW1lO1xyXG4gICAgICAgICAgICAgICAgdmFyIHByaWNlID0gZGF0YVtpXS5wcmljZTtcclxuICAgICAgICAgICAgICAgIHZhciBkaXNjID0gZGF0YVtpXS5kaXNjb3VudDtcclxuICAgICAgICAgICAgICAgIHZhciBnb29kc0lEID0gZGF0YVtpXS5nb29kc0lEO1xyXG4gICAgICAgICAgICAgICAgJCgnI3RoZWxpc3QnKS5hcHBlbmQoJzxsaT48ZGw+PGR0PjxpbWcgc3JjPScrXHJcbiAgICAgICAgICAgICAgICAgICAgc3JjKycgYWx0PVwiXCI+IDwvZHQ+IDxkZD4gPHAgY2xhc3M9XCJpbnRyby10eHRcIj4nK1xyXG4gICAgICAgICAgICAgICAgICAgIGluZm8rJzwvcD4gPGRpdj4gPHNwYW4gY2xhc3M9XCJpbnRyby1wcmljZVwiPjxwPiA8c3BhbiBjbGFzcz1cIm5ldy1wcmljZVwiPu+/pScrXHJcbiAgICAgICAgICAgICAgICAgICAgcHJpY2UrJzwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJvbGQtcHJpY2VcIj7vv6UyODgwPC9zcGFuPjwvcD48YiBjbGFzcz1cImRpc2NcIj4nK1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc2MrJ+aKmDwvYj4gPC9zcGFuPiA8c3BhbiBpZD1cImJ5Y2FyXCIgY2xhc3M9XCJieWNhciBpY29uZm9udFwiIGRhdGEtaWQ9JytcclxuICAgICAgICAgICAgICAgICAgICBnb29kc0lEKyc+JiN4ZTYyOTs8L3NwYW4+IDwvZGl2PiA8L2RkPiA8L2RsPiA8L2xpPicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlcnJvcjpmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInNvbWV0aGluZyBnbyB3cm9uZ35cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuaWYodXNlck5hbWUgIT0gdW5kZWZpbmVkICYmIHVzZXJOYW1lICE9ICd1bmRlZmluZWQnKSB7XHJcbiAgICAkKCcjdGhlbGlzdCcpLm9uKCd0YXAnLCcjYnljYXInLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIGdvb2RzSUQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6ICdodHRwOi8vZGF0YWluZm8uZHVhcHAuY29tL3Nob3BkYXRhL3VwZGF0ZWNhci5waHAnLFxyXG4gICAgICAgICAgICB0eXBlOiAnZ2V0JyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgdXNlcklEOiB1c2VyTmFtZSxcclxuICAgICAgICAgICAgICAgIGdvb2RzSUQ6IGdvb2RzSUQsXHJcbiAgICAgICAgICAgICAgICBudW1iZXI6IDFcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvanMvaG9tZS5qc1xuICoqIG1vZHVsZSBpZCA9IDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 6 */
/***/ function(module, exports, __webpack_require__) {

	eval("/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n__webpack_require__(7);\r\n// require('./zepto-tap');\r\n//require('./iscroll');\r\nvar thisScroll = __webpack_require__(8);\r\nvar myScroll,\r\n\tpullDownEl, pullDownOffset,_maxScrollY,\r\n\tpullUpEl, pullUpOffset,num=1,\r\n\tgeneratedCount = 0;\r\n\r\n//function pullDownAction () {\r\n//\tsetTimeout(function () {\t// <-- Simulate network congestion, remove setTimeout from production!\r\n//\t\tvar el, li, i;\r\n//\t\tel = document.getElementById('thelist');\r\n//\t\tfor (i=0; i<3; i++) {\r\n//\t\t\tvar oLi = $('#thelist li').first().clone();\r\n//\t\t\tif(oLi.hasClass('active')){\r\n//\t\t\t\toLi.removeClass('active');\r\n//\t\t\t}\r\n//\t\t\t$('#thelist').prepend(oLi);\r\n//\t\t}\r\n//\t\t//prepend 在父元素之前追加\r\n//\t\t//刷新myscroll\r\n//\t\tmyScroll.refresh();\t\t// Remember to refresh when contents are loaded (ie: on ajax completion)\r\n//\t}, 1000);\t// <-- Simulate network congestion, remove setTimeout from production!\r\n//}\r\nfunction getData(count){\r\n\t$.ajax({\r\n\t\turl:\"http://datainfo.duapp.com/shopdata/getGoods.php\",\r\n\t\ttype:'get',\r\n\t\tdataType:'jsonp',\r\n\t\tsuccess:function(data){\r\n\t\t\tfor(var i=count;i<count+5;i++){\r\n\t\t\t\tvar src = data[i].goodsListImg;\r\n\t\t\t\tvar info = data[i].goodsName;\r\n\t\t\t\tvar price = data[i].price;\r\n\t\t\t\tvar disc = data[i].discount;\r\n\t\t\t\t$('#thelist').append('<li><dl><dt><img src='+\r\n\t\t\t\t\tsrc+' alt=\"\"> </dt> <dd> <p class=\"intro-txt\">'+\r\n\t\t\t\t\tinfo+'</p> <div> <span class=\"intro-price\"><p> <span class=\"new-price\">￥'+\r\n\t\t\t\t\tprice+'</span> <span class=\"old-price\">￥2880</span></p><b class=\"disc\">'+\r\n\t\t\t\t\tdisc+'折</b> </span> <span class=\"bycar iconfont\">&#xe629;</span> </div> </dd> </dl> </li>');\r\n\t\t\t}\r\n\t\t\tmyScroll.refresh();\r\n\t\t},\r\n\t\terror:function(){\r\n\t\t\tconsole.log(\"something go wrong~\");\r\n\t\t}\r\n\t})\r\n}\r\nfunction pullUpAction () {\r\n\tsetTimeout(function () {\t// <-- Simulate network congestion, remove setTimeout from production!\r\n\t\tvar el, li, i;\r\n\t\tel = document.getElementById('thelist');\r\n\t\t//generatedCount++;\r\n\t\t// generatedCount  =1  ==>data1.json\r\n\t\t//getData(generatedCount);\r\n\t\t//控制data数据\r\n\r\n\t\t// if(generatedCount>=5){\r\n\t\t// \tgeneratedCount=0;\r\n\t\t// }\r\n\t\tgeneratedCount+=5;\r\n\t\tif(generatedCount>5){\r\n\t\t\tgeneratedCount = 0;\r\n\t\t}\r\n\t\tgetData(generatedCount);\r\n\t\t// function getData(count){\r\n\t\t// \t$.ajax({\r\n\t\t// \t\turl:'../json/data'+count+'.json',\r\n\t\t// \t\ttype:\"get\",\r\n\t\t// \t\t// data:count,\r\n\t\t// \t\tsuccess:function(data){\r\n\t\t// \t\t\tvar l = data.weikeList.length;\r\n\t\t// \t\t\tfor(var i=0;i<l;i++){\r\n\t\t// \t\t\t\tvar text = data.weikeList[i].wkTitle;\r\n\t\t// \t\t\t\tvar oLi = $('#thelist li').first().clone();\r\n\t\t// \t\t\t\toLi.find('div').html(text+'up');\r\n\t\t// \t\t\t\tif(oLi.hasClass('active')){\r\n\t\t// \t\t\t\t\toLi.removeClass('active');\r\n\t\t// \t\t\t\t}\r\n\t\t// \t\t\t\t$('#thelist').append(oLi);\r\n\t\t// \t\t\t}\r\n\t\t// \t\t}\r\n\t\t// \t});\r\n\t\t// }\r\n\r\n\t\t// for (i=0; i<4; i++) {\r\n\t\t// \tli = document.createElement('li');\r\n\t\t// \tli.innerText = 'Generated up ' + (++generatedCount);\r\n\t\t// \tel.appendChild(li, el.childNodes[0]);\r\n\t\t// }\r\n\r\n// 03\tajax({\r\n// 04\turl:\"RemoteInterface.cgi\",\r\n// 05\tmethod:\"get\",\r\n// 06\tdata:{pageIndex:pageIndex},\r\n// 07\tcallback:callback\r\n// 08\t});\r\n// 把加载更多的接口写在这里\r\n\r\n\t\t\t// Remember to refresh when contents are loaded (ie: on ajax completion)\r\n\t}, 1000);\t// <-- Simulate network congestion, remove setTimeout from production!\r\n}\r\n\r\nfunction loaded() {\r\n\tpullDownEl = document.getElementById('pullDown');\r\n\tpullDownOffset = pullDownEl.offsetHeight;\r\n\tpullUpEl = document.getElementById('pullUp');\r\n\tpullUpOffset = pullUpEl.offsetHeight;\r\n\t//初始化scroll\r\n\tmyScroll = new thisScroll.iScroll('wrapper', {\r\n\t\tuseTransition: true,       //是否使用css 变形\r\n\t\ttopOffset: pullDownOffset,   //已经滚动的基准值\r\n\t\t// hideScrollbar:true,          //表示用户没有操作scroll时会隐藏滚动条\r\n\t\t// fadeScrollbar:true,\r\n\t\t//表示滚动条重新 刷新\r\n\r\n\t\tonRefresh: function () {\r\n\t\t\t//this  ==>scroll\r\n\t\t\t//this.maxScrollY 表示滚动到底部的距离  (定值前提是scroll不加载更多)\r\n\t\t\t//myScroll.maxScrollX  myScroll.maxScrollY\r\n\t\t\t// 当滚动到底部时的 myScroll.x/y\r\n\t\t\t// $.each($('#thelist li'),function(index){\r\n\t\t\t// \t$(this).html(index+1);\r\n\t\t\t// })\r\n\r\n            _maxScrollY = this.maxScrollY = this.maxScrollY + pullUpOffset;\r\n            //console.log(this.maxScrollY)\r\n            //match\r\n\t\t\tif (pullDownEl.className.match('loading')) {\r\n\t\t\t\tpullDownEl.className = '';\r\n\t\t\t\tpullDownEl.querySelector('.pullDownLabel').innerHTML = '下拉刷新...';\r\n\t\t\t} else if (pullUpEl.className.match('loading')) {\r\n\t\t\t\tpullUpEl.className = '';\r\n\t\t\t\tpullUpEl.querySelector('.pullUpLabel').innerHTML = '加载更多...';\r\n\t\t\t}\r\n\t\t},\r\n\t\t//表示滚动条开始滑动\r\n\t\tonScrollMove: function () {\r\n\t\t\t// console.log(this.y);\r\n\t\t\t//console.log(_maxScrollY - pullUpOffset);\r\n\t\t\t// console.log(this.maxScrollY)\r\n\t\t\t// y:滚动条距离垂直初始位置 (负值)\r\n\t\t\tif (this.y > 5 && !pullDownEl.className.match('flip')) {\r\n\t\t\t\tpullDownEl.className = 'flip';\r\n\t\t\t\tpullDownEl.querySelector('.pullDownLabel').innerHTML = '松开刷新...';  //松开刷新\r\n\t\t\t\tthis.minScrollY = 0;\r\n\r\n\t\t\t} else if (this.y < 5 && pullDownEl.className.match('flip')) {\r\n\t\t\t\tpullDownEl.className = '';\r\n\t\t\t\tpullDownEl.querySelector('.pullDownLabel').innerHTML = '松开刷新...';\r\n\t\t\t\tthis.minScrollY = -pullDownOffset;\r\n\t\t\t} else if (this.y <= (_maxScrollY - pullUpOffset) && !pullUpEl.className.match('flip')) {\r\n\t\t\t\tpullUpEl.className = 'flip';\r\n\t\t\t\tpullUpEl.querySelector('.pullUpLabel').innerHTML = '松开刷新...';\r\n                this.maxScrollY = this.maxScrollY - pullUpOffset;\r\n\t\t\t}\r\n\t\t\t else if (this.y > (_maxScrollY - pullUpOffset) && pullUpEl.className.match('flip')) {\r\n\t\t\t\t//debugger;\r\n\t\t\t\tpullUpEl.className = '';\r\n\t\t\t\tpullUpEl.querySelector('.pullUpLabel').innerHTML = '加载更多...';\r\n                this.maxScrollY = this.maxScrollY + pullUpOffset;\r\n\t\t\t}\r\n\t\t},\r\n\t\t//表示滚动条滑动结束时候\r\n\t\tonScrollEnd: function () {\r\n\t\t\tif (pullDownEl.className.match('flip')) {\r\n\t\t\t\tpullDownEl.className = 'loading';\r\n\t\t\t\tpullDownEl.querySelector('.pullDownLabel').innerHTML = '松开刷新...';\r\n\t\t\t\t//pullDownAction();\t// Execute custom function (ajax call?)\r\n\t\t\t\tmyScroll.refresh();\r\n\t\t\t}else if (pullUpEl.className.match('flip')) {\r\n\t\t\t\tpullUpEl.className = 'loading';\r\n\t\t\t\tpullUpEl.querySelector('.pullUpLabel').innerHTML = '加载中...';\r\n\t\t\t\tpullUpAction();\t// Execute custom function (ajax call?)\r\n\t\t\t\t//console.log(111);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\nsetTimeout(function () { document.getElementById('wrapper').style.left = '0'; }, 800);\r\n}\r\n\r\n//处理浏览器默认事件\r\ndocument.addEventListener('touchmove', function (e) { e.preventDefault(); }, false);\r\n//当 DOM 元素 已经加载好内容后执行\r\ndocument.addEventListener('DOMContentLoaded', function () { setTimeout(loaded, 200); }, false);\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvbXlpc2Nyb2xsLmpzPzk5YWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQSxhQUFhLEtBQUs7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QixJQUFJLFFBQVE7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixVQUFVO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQ7QUFDOUQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLElBQUk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBLGNBQWMsS0FBSztBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG9CQUFvQjtBQUNoQztBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBLEVBQUUsUUFBUTtBQUNWOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFO0FBQ3JFOztBQUVBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUYsd0JBQXdCLHFEQUFxRCxFQUFFO0FBQy9FOztBQUVBO0FBQ0EscURBQXFELG9CQUFvQixFQUFFO0FBQzNFO0FBQ0EsMkRBQTJELHlCQUF5QixFQUFFIiwiZmlsZSI6IjYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqIElNUE9SVFMgRlJPTSBpbXBvcnRzLWxvYWRlciAqKiovXG52YXIgZGVmaW5lID0gZmFsc2U7XG5cbnJlcXVpcmUoJy4vemVwdG8ubWluJyk7XHJcbi8vIHJlcXVpcmUoJy4vemVwdG8tdGFwJyk7XHJcbi8vcmVxdWlyZSgnLi9pc2Nyb2xsJyk7XHJcbnZhciB0aGlzU2Nyb2xsID0gcmVxdWlyZSgnLi9pc2Nyb2xsJyk7XHJcbnZhciBteVNjcm9sbCxcclxuXHRwdWxsRG93bkVsLCBwdWxsRG93bk9mZnNldCxfbWF4U2Nyb2xsWSxcclxuXHRwdWxsVXBFbCwgcHVsbFVwT2Zmc2V0LG51bT0xLFxyXG5cdGdlbmVyYXRlZENvdW50ID0gMDtcclxuXHJcbi8vZnVuY3Rpb24gcHVsbERvd25BY3Rpb24gKCkge1xyXG4vL1x0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHQvLyA8LS0gU2ltdWxhdGUgbmV0d29yayBjb25nZXN0aW9uLCByZW1vdmUgc2V0VGltZW91dCBmcm9tIHByb2R1Y3Rpb24hXHJcbi8vXHRcdHZhciBlbCwgbGksIGk7XHJcbi8vXHRcdGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoZWxpc3QnKTtcclxuLy9cdFx0Zm9yIChpPTA7IGk8MzsgaSsrKSB7XHJcbi8vXHRcdFx0dmFyIG9MaSA9ICQoJyN0aGVsaXN0IGxpJykuZmlyc3QoKS5jbG9uZSgpO1xyXG4vL1x0XHRcdGlmKG9MaS5oYXNDbGFzcygnYWN0aXZlJykpe1xyXG4vL1x0XHRcdFx0b0xpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuLy9cdFx0XHR9XHJcbi8vXHRcdFx0JCgnI3RoZWxpc3QnKS5wcmVwZW5kKG9MaSk7XHJcbi8vXHRcdH1cclxuLy9cdFx0Ly9wcmVwZW5kIOWcqOeItuWFg+e0oOS5i+WJjei/veWKoFxyXG4vL1x0XHQvL+WIt+aWsG15c2Nyb2xsXHJcbi8vXHRcdG15U2Nyb2xsLnJlZnJlc2goKTtcdFx0Ly8gUmVtZW1iZXIgdG8gcmVmcmVzaCB3aGVuIGNvbnRlbnRzIGFyZSBsb2FkZWQgKGllOiBvbiBhamF4IGNvbXBsZXRpb24pXHJcbi8vXHR9LCAxMDAwKTtcdC8vIDwtLSBTaW11bGF0ZSBuZXR3b3JrIGNvbmdlc3Rpb24sIHJlbW92ZSBzZXRUaW1lb3V0IGZyb20gcHJvZHVjdGlvbiFcclxuLy99XHJcbmZ1bmN0aW9uIGdldERhdGEoY291bnQpe1xyXG5cdCQuYWpheCh7XHJcblx0XHR1cmw6XCJodHRwOi8vZGF0YWluZm8uZHVhcHAuY29tL3Nob3BkYXRhL2dldEdvb2RzLnBocFwiLFxyXG5cdFx0dHlwZTonZ2V0JyxcclxuXHRcdGRhdGFUeXBlOidqc29ucCcsXHJcblx0XHRzdWNjZXNzOmZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHRmb3IodmFyIGk9Y291bnQ7aTxjb3VudCs1O2krKyl7XHJcblx0XHRcdFx0dmFyIHNyYyA9IGRhdGFbaV0uZ29vZHNMaXN0SW1nO1xyXG5cdFx0XHRcdHZhciBpbmZvID0gZGF0YVtpXS5nb29kc05hbWU7XHJcblx0XHRcdFx0dmFyIHByaWNlID0gZGF0YVtpXS5wcmljZTtcclxuXHRcdFx0XHR2YXIgZGlzYyA9IGRhdGFbaV0uZGlzY291bnQ7XHJcblx0XHRcdFx0JCgnI3RoZWxpc3QnKS5hcHBlbmQoJzxsaT48ZGw+PGR0PjxpbWcgc3JjPScrXHJcblx0XHRcdFx0XHRzcmMrJyBhbHQ9XCJcIj4gPC9kdD4gPGRkPiA8cCBjbGFzcz1cImludHJvLXR4dFwiPicrXHJcblx0XHRcdFx0XHRpbmZvKyc8L3A+IDxkaXY+IDxzcGFuIGNsYXNzPVwiaW50cm8tcHJpY2VcIj48cD4gPHNwYW4gY2xhc3M9XCJuZXctcHJpY2VcIj7vv6UnK1xyXG5cdFx0XHRcdFx0cHJpY2UrJzwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJvbGQtcHJpY2VcIj7vv6UyODgwPC9zcGFuPjwvcD48YiBjbGFzcz1cImRpc2NcIj4nK1xyXG5cdFx0XHRcdFx0ZGlzYysn5oqYPC9iPiA8L3NwYW4+IDxzcGFuIGNsYXNzPVwiYnljYXIgaWNvbmZvbnRcIj4mI3hlNjI5Ozwvc3Bhbj4gPC9kaXY+IDwvZGQ+IDwvZGw+IDwvbGk+Jyk7XHJcblx0XHRcdH1cclxuXHRcdFx0bXlTY3JvbGwucmVmcmVzaCgpO1xyXG5cdFx0fSxcclxuXHRcdGVycm9yOmZ1bmN0aW9uKCl7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwic29tZXRoaW5nIGdvIHdyb25nflwiKTtcclxuXHRcdH1cclxuXHR9KVxyXG59XHJcbmZ1bmN0aW9uIHB1bGxVcEFjdGlvbiAoKSB7XHJcblx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHQvLyA8LS0gU2ltdWxhdGUgbmV0d29yayBjb25nZXN0aW9uLCByZW1vdmUgc2V0VGltZW91dCBmcm9tIHByb2R1Y3Rpb24hXHJcblx0XHR2YXIgZWwsIGxpLCBpO1xyXG5cdFx0ZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGhlbGlzdCcpO1xyXG5cdFx0Ly9nZW5lcmF0ZWRDb3VudCsrO1xyXG5cdFx0Ly8gZ2VuZXJhdGVkQ291bnQgID0xICA9PT5kYXRhMS5qc29uXHJcblx0XHQvL2dldERhdGEoZ2VuZXJhdGVkQ291bnQpO1xyXG5cdFx0Ly/mjqfliLZkYXRh5pWw5o2uXHJcblxyXG5cdFx0Ly8gaWYoZ2VuZXJhdGVkQ291bnQ+PTUpe1xyXG5cdFx0Ly8gXHRnZW5lcmF0ZWRDb3VudD0wO1xyXG5cdFx0Ly8gfVxyXG5cdFx0Z2VuZXJhdGVkQ291bnQrPTU7XHJcblx0XHRpZihnZW5lcmF0ZWRDb3VudD41KXtcclxuXHRcdFx0Z2VuZXJhdGVkQ291bnQgPSAwO1xyXG5cdFx0fVxyXG5cdFx0Z2V0RGF0YShnZW5lcmF0ZWRDb3VudCk7XHJcblx0XHQvLyBmdW5jdGlvbiBnZXREYXRhKGNvdW50KXtcclxuXHRcdC8vIFx0JC5hamF4KHtcclxuXHRcdC8vIFx0XHR1cmw6Jy4uL2pzb24vZGF0YScrY291bnQrJy5qc29uJyxcclxuXHRcdC8vIFx0XHR0eXBlOlwiZ2V0XCIsXHJcblx0XHQvLyBcdFx0Ly8gZGF0YTpjb3VudCxcclxuXHRcdC8vIFx0XHRzdWNjZXNzOmZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0Ly8gXHRcdFx0dmFyIGwgPSBkYXRhLndlaWtlTGlzdC5sZW5ndGg7XHJcblx0XHQvLyBcdFx0XHRmb3IodmFyIGk9MDtpPGw7aSsrKXtcclxuXHRcdC8vIFx0XHRcdFx0dmFyIHRleHQgPSBkYXRhLndlaWtlTGlzdFtpXS53a1RpdGxlO1xyXG5cdFx0Ly8gXHRcdFx0XHR2YXIgb0xpID0gJCgnI3RoZWxpc3QgbGknKS5maXJzdCgpLmNsb25lKCk7XHJcblx0XHQvLyBcdFx0XHRcdG9MaS5maW5kKCdkaXYnKS5odG1sKHRleHQrJ3VwJyk7XHJcblx0XHQvLyBcdFx0XHRcdGlmKG9MaS5oYXNDbGFzcygnYWN0aXZlJykpe1xyXG5cdFx0Ly8gXHRcdFx0XHRcdG9MaS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHQvLyBcdFx0XHRcdH1cclxuXHRcdC8vIFx0XHRcdFx0JCgnI3RoZWxpc3QnKS5hcHBlbmQob0xpKTtcclxuXHRcdC8vIFx0XHRcdH1cclxuXHRcdC8vIFx0XHR9XHJcblx0XHQvLyBcdH0pO1xyXG5cdFx0Ly8gfVxyXG5cclxuXHRcdC8vIGZvciAoaT0wOyBpPDQ7IGkrKykge1xyXG5cdFx0Ly8gXHRsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcblx0XHQvLyBcdGxpLmlubmVyVGV4dCA9ICdHZW5lcmF0ZWQgdXAgJyArICgrK2dlbmVyYXRlZENvdW50KTtcclxuXHRcdC8vIFx0ZWwuYXBwZW5kQ2hpbGQobGksIGVsLmNoaWxkTm9kZXNbMF0pO1xyXG5cdFx0Ly8gfVxyXG5cclxuLy8gMDNcdGFqYXgoe1xyXG4vLyAwNFx0dXJsOlwiUmVtb3RlSW50ZXJmYWNlLmNnaVwiLFxyXG4vLyAwNVx0bWV0aG9kOlwiZ2V0XCIsXHJcbi8vIDA2XHRkYXRhOntwYWdlSW5kZXg6cGFnZUluZGV4fSxcclxuLy8gMDdcdGNhbGxiYWNrOmNhbGxiYWNrXHJcbi8vIDA4XHR9KTtcclxuLy8g5oqK5Yqg6L295pu05aSa55qE5o6l5Y+j5YaZ5Zyo6L+Z6YeMXHJcblxyXG5cdFx0XHQvLyBSZW1lbWJlciB0byByZWZyZXNoIHdoZW4gY29udGVudHMgYXJlIGxvYWRlZCAoaWU6IG9uIGFqYXggY29tcGxldGlvbilcclxuXHR9LCAxMDAwKTtcdC8vIDwtLSBTaW11bGF0ZSBuZXR3b3JrIGNvbmdlc3Rpb24sIHJlbW92ZSBzZXRUaW1lb3V0IGZyb20gcHJvZHVjdGlvbiFcclxufVxyXG5cclxuZnVuY3Rpb24gbG9hZGVkKCkge1xyXG5cdHB1bGxEb3duRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVsbERvd24nKTtcclxuXHRwdWxsRG93bk9mZnNldCA9IHB1bGxEb3duRWwub2Zmc2V0SGVpZ2h0O1xyXG5cdHB1bGxVcEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3B1bGxVcCcpO1xyXG5cdHB1bGxVcE9mZnNldCA9IHB1bGxVcEVsLm9mZnNldEhlaWdodDtcclxuXHQvL+WIneWni+WMlnNjcm9sbFxyXG5cdG15U2Nyb2xsID0gbmV3IHRoaXNTY3JvbGwuaVNjcm9sbCgnd3JhcHBlcicsIHtcclxuXHRcdHVzZVRyYW5zaXRpb246IHRydWUsICAgICAgIC8v5piv5ZCm5L2/55SoY3NzIOWPmOW9olxyXG5cdFx0dG9wT2Zmc2V0OiBwdWxsRG93bk9mZnNldCwgICAvL+W3sue7j+a7muWKqOeahOWfuuWHhuWAvFxyXG5cdFx0Ly8gaGlkZVNjcm9sbGJhcjp0cnVlLCAgICAgICAgICAvL+ihqOekuueUqOaIt+ayoeacieaTjeS9nHNjcm9sbOaXtuS8mumakOiXj+a7muWKqOadoVxyXG5cdFx0Ly8gZmFkZVNjcm9sbGJhcjp0cnVlLFxyXG5cdFx0Ly/ooajnpLrmu5rliqjmnaHph43mlrAg5Yi35pawXHJcblxyXG5cdFx0b25SZWZyZXNoOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdC8vdGhpcyAgPT0+c2Nyb2xsXHJcblx0XHRcdC8vdGhpcy5tYXhTY3JvbGxZIOihqOekuua7muWKqOWIsOW6lemDqOeahOi3neemuyAgKOWumuWAvOWJjeaPkOaYr3Njcm9sbOS4jeWKoOi9veabtOWkmilcclxuXHRcdFx0Ly9teVNjcm9sbC5tYXhTY3JvbGxYICBteVNjcm9sbC5tYXhTY3JvbGxZXHJcblx0XHRcdC8vIOW9k+a7muWKqOWIsOW6lemDqOaXtueahCBteVNjcm9sbC54L3lcclxuXHRcdFx0Ly8gJC5lYWNoKCQoJyN0aGVsaXN0IGxpJyksZnVuY3Rpb24oaW5kZXgpe1xyXG5cdFx0XHQvLyBcdCQodGhpcykuaHRtbChpbmRleCsxKTtcclxuXHRcdFx0Ly8gfSlcclxuXHJcbiAgICAgICAgICAgIF9tYXhTY3JvbGxZID0gdGhpcy5tYXhTY3JvbGxZID0gdGhpcy5tYXhTY3JvbGxZICsgcHVsbFVwT2Zmc2V0O1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMubWF4U2Nyb2xsWSlcclxuICAgICAgICAgICAgLy9tYXRjaFxyXG5cdFx0XHRpZiAocHVsbERvd25FbC5jbGFzc05hbWUubWF0Y2goJ2xvYWRpbmcnKSkge1xyXG5cdFx0XHRcdHB1bGxEb3duRWwuY2xhc3NOYW1lID0gJyc7XHJcblx0XHRcdFx0cHVsbERvd25FbC5xdWVyeVNlbGVjdG9yKCcucHVsbERvd25MYWJlbCcpLmlubmVySFRNTCA9ICfkuIvmi4nliLfmlrAuLi4nO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHB1bGxVcEVsLmNsYXNzTmFtZS5tYXRjaCgnbG9hZGluZycpKSB7XHJcblx0XHRcdFx0cHVsbFVwRWwuY2xhc3NOYW1lID0gJyc7XHJcblx0XHRcdFx0cHVsbFVwRWwucXVlcnlTZWxlY3RvcignLnB1bGxVcExhYmVsJykuaW5uZXJIVE1MID0gJ+WKoOi9veabtOWkmi4uLic7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHQvL+ihqOekuua7muWKqOadoeW8gOWni+a7keWKqFxyXG5cdFx0b25TY3JvbGxNb3ZlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKHRoaXMueSk7XHJcblx0XHRcdC8vY29uc29sZS5sb2coX21heFNjcm9sbFkgLSBwdWxsVXBPZmZzZXQpO1xyXG5cdFx0XHQvLyBjb25zb2xlLmxvZyh0aGlzLm1heFNjcm9sbFkpXHJcblx0XHRcdC8vIHk65rua5Yqo5p2h6Led56a75Z6C55u05Yid5aeL5L2N572uICjotJ/lgLwpXHJcblx0XHRcdGlmICh0aGlzLnkgPiA1ICYmICFwdWxsRG93bkVsLmNsYXNzTmFtZS5tYXRjaCgnZmxpcCcpKSB7XHJcblx0XHRcdFx0cHVsbERvd25FbC5jbGFzc05hbWUgPSAnZmxpcCc7XHJcblx0XHRcdFx0cHVsbERvd25FbC5xdWVyeVNlbGVjdG9yKCcucHVsbERvd25MYWJlbCcpLmlubmVySFRNTCA9ICfmnb7lvIDliLfmlrAuLi4nOyAgLy/mnb7lvIDliLfmlrBcclxuXHRcdFx0XHR0aGlzLm1pblNjcm9sbFkgPSAwO1xyXG5cclxuXHRcdFx0fSBlbHNlIGlmICh0aGlzLnkgPCA1ICYmIHB1bGxEb3duRWwuY2xhc3NOYW1lLm1hdGNoKCdmbGlwJykpIHtcclxuXHRcdFx0XHRwdWxsRG93bkVsLmNsYXNzTmFtZSA9ICcnO1xyXG5cdFx0XHRcdHB1bGxEb3duRWwucXVlcnlTZWxlY3RvcignLnB1bGxEb3duTGFiZWwnKS5pbm5lckhUTUwgPSAn5p2+5byA5Yi35pawLi4uJztcclxuXHRcdFx0XHR0aGlzLm1pblNjcm9sbFkgPSAtcHVsbERvd25PZmZzZXQ7XHJcblx0XHRcdH0gZWxzZSBpZiAodGhpcy55IDw9IChfbWF4U2Nyb2xsWSAtIHB1bGxVcE9mZnNldCkgJiYgIXB1bGxVcEVsLmNsYXNzTmFtZS5tYXRjaCgnZmxpcCcpKSB7XHJcblx0XHRcdFx0cHVsbFVwRWwuY2xhc3NOYW1lID0gJ2ZsaXAnO1xyXG5cdFx0XHRcdHB1bGxVcEVsLnF1ZXJ5U2VsZWN0b3IoJy5wdWxsVXBMYWJlbCcpLmlubmVySFRNTCA9ICfmnb7lvIDliLfmlrAuLi4nO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXhTY3JvbGxZID0gdGhpcy5tYXhTY3JvbGxZIC0gcHVsbFVwT2Zmc2V0O1xyXG5cdFx0XHR9XHJcblx0XHRcdCBlbHNlIGlmICh0aGlzLnkgPiAoX21heFNjcm9sbFkgLSBwdWxsVXBPZmZzZXQpICYmIHB1bGxVcEVsLmNsYXNzTmFtZS5tYXRjaCgnZmxpcCcpKSB7XHJcblx0XHRcdFx0Ly9kZWJ1Z2dlcjtcclxuXHRcdFx0XHRwdWxsVXBFbC5jbGFzc05hbWUgPSAnJztcclxuXHRcdFx0XHRwdWxsVXBFbC5xdWVyeVNlbGVjdG9yKCcucHVsbFVwTGFiZWwnKS5pbm5lckhUTUwgPSAn5Yqg6L295pu05aSaLi4uJztcclxuICAgICAgICAgICAgICAgIHRoaXMubWF4U2Nyb2xsWSA9IHRoaXMubWF4U2Nyb2xsWSArIHB1bGxVcE9mZnNldDtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdC8v6KGo56S65rua5Yqo5p2h5ruR5Yqo57uT5p2f5pe25YCZXHJcblx0XHRvblNjcm9sbEVuZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAocHVsbERvd25FbC5jbGFzc05hbWUubWF0Y2goJ2ZsaXAnKSkge1xyXG5cdFx0XHRcdHB1bGxEb3duRWwuY2xhc3NOYW1lID0gJ2xvYWRpbmcnO1xyXG5cdFx0XHRcdHB1bGxEb3duRWwucXVlcnlTZWxlY3RvcignLnB1bGxEb3duTGFiZWwnKS5pbm5lckhUTUwgPSAn5p2+5byA5Yi35pawLi4uJztcclxuXHRcdFx0XHQvL3B1bGxEb3duQWN0aW9uKCk7XHQvLyBFeGVjdXRlIGN1c3RvbSBmdW5jdGlvbiAoYWpheCBjYWxsPylcclxuXHRcdFx0XHRteVNjcm9sbC5yZWZyZXNoKCk7XHJcblx0XHRcdH1lbHNlIGlmIChwdWxsVXBFbC5jbGFzc05hbWUubWF0Y2goJ2ZsaXAnKSkge1xyXG5cdFx0XHRcdHB1bGxVcEVsLmNsYXNzTmFtZSA9ICdsb2FkaW5nJztcclxuXHRcdFx0XHRwdWxsVXBFbC5xdWVyeVNlbGVjdG9yKCcucHVsbFVwTGFiZWwnKS5pbm5lckhUTUwgPSAn5Yqg6L295LitLi4uJztcclxuXHRcdFx0XHRwdWxsVXBBY3Rpb24oKTtcdC8vIEV4ZWN1dGUgY3VzdG9tIGZ1bmN0aW9uIChhamF4IGNhbGw/KVxyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coMTExKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3cmFwcGVyJykuc3R5bGUubGVmdCA9ICcwJzsgfSwgODAwKTtcclxufVxyXG5cclxuLy/lpITnkIbmtY/op4jlmajpu5jorqTkuovku7ZcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZnVuY3Rpb24gKGUpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyB9LCBmYWxzZSk7XHJcbi8v5b2TIERPTSDlhYPntKAg5bey57uP5Yqg6L295aW95YaF5a655ZCO5omn6KGMXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7IHNldFRpbWVvdXQobG9hZGVkLCAyMDApOyB9LCBmYWxzZSk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2pzL215aXNjcm9sbC5qc1xuICoqIG1vZHVsZSBpZCA9IDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 7 */
/***/ function(module, exports) {

	eval("/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n/* Zepto 1.1.6 - zepto ajax event data form touch fx fx_methods - zeptojs.com/license */\nvar Zepto=function(){function L(t){return null==t?String(t):j[S.call(t)]||\"object\"}function A(t){return\"function\"==L(t)}function Z(t){return null!=t&&t==t.window}function $(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function R(t){return\"object\"==L(t)}function k(t){return R(t)&&!Z(t)&&Object.getPrototypeOf(t)==Object.prototype}function z(t){return\"number\"==typeof t.length}function F(t){return a.call(t,function(t){return null!=t})}function _(t){return t.length>0?n.fn.concat.apply([],t):t}function I(t){return t.replace(/::/g,\"/\").replace(/([A-Z]+)([A-Z][a-z])/g,\"$1_$2\").replace(/([a-z\\d])([A-Z])/g,\"$1_$2\").replace(/_/g,\"-\").toLowerCase()}function q(t){return t in c?c[t]:c[t]=new RegExp(\"(^|\\\\s)\"+t+\"(\\\\s|$)\")}function H(t,e){return\"number\"!=typeof e||l[I(t)]?e:e+\"px\"}function U(t){var e,n;return f[t]||(e=u.createElement(t),u.body.appendChild(e),n=getComputedStyle(e,\"\").getPropertyValue(\"display\"),e.parentNode.removeChild(e),\"none\"==n&&(n=\"block\"),f[t]=n),f[t]}function X(t){return\"children\"in t?s.call(t.children):n.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function V(t,e){var n,i=t?t.length:0;for(n=0;i>n;n++)this[n]=t[n];this.length=i,this.selector=e||\"\"}function B(n,i,r){for(e in i)r&&(k(i[e])||D(i[e]))?(k(i[e])&&!k(n[e])&&(n[e]={}),D(i[e])&&!D(n[e])&&(n[e]=[]),B(n[e],i[e],r)):i[e]!==t&&(n[e]=i[e])}function Y(t,e){return null==e?n(t):n(t).filter(e)}function J(t,e,n,i){return A(e)?e.call(t,n,i):e}function W(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function G(e,n){var i=e.className||\"\",r=i&&i.baseVal!==t;return n===t?r?i.baseVal:i:void(r?i.baseVal=n:e.className=n)}function K(t){try{return t?\"true\"==t||(\"false\"==t?!1:\"null\"==t?null:+t+\"\"==t?+t:/^[\\[\\{]/.test(t)?n.parseJSON(t):t):t}catch(e){return t}}function Q(t,e){e(t);for(var n=0,i=t.childNodes.length;i>n;n++)Q(t.childNodes[n],e)}var t,e,n,i,P,N,r=[],o=r.concat,a=r.filter,s=r.slice,u=window.document,f={},c={},l={\"column-count\":1,columns:1,\"font-weight\":1,\"line-height\":1,opacity:1,\"z-index\":1,zoom:1},h=/^\\s*<(\\w+|!)[^>]*>/,p=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,d=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,m=/^(?:body|html)$/i,g=/([A-Z])/g,v=[\"val\",\"css\",\"html\",\"text\",\"data\",\"width\",\"height\",\"offset\"],y=[\"after\",\"prepend\",\"before\",\"append\"],x=u.createElement(\"table\"),w=u.createElement(\"tr\"),b={tr:u.createElement(\"tbody\"),tbody:x,thead:x,tfoot:x,td:w,th:w,\"*\":u.createElement(\"div\")},E=/complete|loaded|interactive/,T=/^[\\w-]*$/,j={},S=j.toString,C={},O=u.createElement(\"div\"),M={tabindex:\"tabIndex\",readonly:\"readOnly\",\"for\":\"htmlFor\",\"class\":\"className\",maxlength:\"maxLength\",cellspacing:\"cellSpacing\",cellpadding:\"cellPadding\",rowspan:\"rowSpan\",colspan:\"colSpan\",usemap:\"useMap\",frameborder:\"frameBorder\",contenteditable:\"contentEditable\"},D=Array.isArray||function(t){return t instanceof Array};return C.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,r=t.parentNode,o=!r;return o&&(r=O).appendChild(t),i=~C.qsa(r,e).indexOf(t),o&&O.removeChild(t),i},P=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():\"\"})},N=function(t){return a.call(t,function(e,n){return t.indexOf(e)==n})},C.fragment=function(e,i,r){var o,a,f;return p.test(e)&&(o=n(u.createElement(RegExp.$1))),o||(e.replace&&(e=e.replace(d,\"<$1></$2>\")),i===t&&(i=h.test(e)&&RegExp.$1),i in b||(i=\"*\"),f=b[i],f.innerHTML=\"\"+e,o=n.each(s.call(f.childNodes),function(){f.removeChild(this)})),k(r)&&(a=n(o),n.each(r,function(t,e){v.indexOf(t)>-1?a[t](e):a.attr(t,e)})),o},C.Z=function(t,e){return new V(t,e)},C.isZ=function(t){return t instanceof C.Z},C.init=function(e,i){var r;if(!e)return C.Z();if(\"string\"==typeof e)if(e=e.trim(),\"<\"==e[0]&&h.test(e))r=C.fragment(e,RegExp.$1,i),e=null;else{if(i!==t)return n(i).find(e);r=C.qsa(u,e)}else{if(A(e))return n(u).ready(e);if(C.isZ(e))return e;if(D(e))r=F(e);else if(R(e))r=[e],e=null;else if(h.test(e))r=C.fragment(e.trim(),RegExp.$1,i),e=null;else{if(i!==t)return n(i).find(e);r=C.qsa(u,e)}}return C.Z(r,e)},n=function(t,e){return C.init(t,e)},n.extend=function(t){var e,n=s.call(arguments,1);return\"boolean\"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){B(t,n,e)}),t},C.qsa=function(t,e){var n,i=\"#\"==e[0],r=!i&&\".\"==e[0],o=i||r?e.slice(1):e,a=T.test(o);return t.getElementById&&a&&i?(n=t.getElementById(o))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:s.call(a&&!i&&t.getElementsByClassName?r?t.getElementsByClassName(o):t.getElementsByTagName(e):t.querySelectorAll(e))},n.contains=u.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},n.type=L,n.isFunction=A,n.isWindow=Z,n.isArray=D,n.isPlainObject=k,n.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},n.inArray=function(t,e,n){return r.indexOf.call(e,t,n)},n.camelCase=P,n.trim=function(t){return null==t?\"\":String.prototype.trim.call(t)},n.uuid=0,n.support={},n.expr={},n.noop=function(){},n.map=function(t,e){var n,r,o,i=[];if(z(t))for(r=0;r<t.length;r++)n=e(t[r],r),null!=n&&i.push(n);else for(o in t)n=e(t[o],o),null!=n&&i.push(n);return _(i)},n.each=function(t,e){var n,i;if(z(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},n.grep=function(t,e){return a.call(t,e)},window.JSON&&(n.parseJSON=JSON.parse),n.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"),function(t,e){j[\"[object \"+e+\"]\"]=e.toLowerCase()}),n.fn={constructor:C.Z,length:0,forEach:r.forEach,reduce:r.reduce,push:r.push,sort:r.sort,splice:r.splice,indexOf:r.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=C.isZ(e)?e.toArray():e;return o.apply(C.isZ(this)?this.toArray():this,n)},map:function(t){return n(n.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return n(s.apply(this,arguments))},ready:function(t){return E.test(u.readyState)&&u.body?t(n):u.addEventListener(\"DOMContentLoaded\",function(){t(n)},!1),this},get:function(e){return e===t?s.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return r.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return A(t)?this.not(this.not(t)):n(a.call(this,function(e){return C.matches(e,t)}))},add:function(t,e){return n(N(this.concat(n(t,e))))},is:function(t){return this.length>0&&C.matches(this[0],t)},not:function(e){var i=[];if(A(e)&&e.call!==t)this.each(function(t){e.call(this,t)||i.push(this)});else{var r=\"string\"==typeof e?this.filter(e):z(e)&&A(e.item)?s.call(e):n(e);this.forEach(function(t){r.indexOf(t)<0&&i.push(t)})}return n(i)},has:function(t){return this.filter(function(){return R(t)?n.contains(this,t):n(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!R(t)?t:n(t)},last:function(){var t=this[this.length-1];return t&&!R(t)?t:n(t)},find:function(t){var e,i=this;return e=t?\"object\"==typeof t?n(t).filter(function(){var t=this;return r.some.call(i,function(e){return n.contains(e,t)})}):1==this.length?n(C.qsa(this[0],t)):this.map(function(){return C.qsa(this,t)}):n()},closest:function(t,e){var i=this[0],r=!1;for(\"object\"==typeof t&&(r=n(t));i&&!(r?r.indexOf(i)>=0:C.matches(i,t));)i=i!==e&&!$(i)&&i.parentNode;return n(i)},parents:function(t){for(var e=[],i=this;i.length>0;)i=n.map(i,function(t){return(t=t.parentNode)&&!$(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return Y(e,t)},parent:function(t){return Y(N(this.pluck(\"parentNode\")),t)},children:function(t){return Y(this.map(function(){return X(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||s.call(this.childNodes)})},siblings:function(t){return Y(this.map(function(t,e){return a.call(X(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=\"\"})},pluck:function(t){return n.map(this,function(e){return e[t]})},show:function(){return this.each(function(){\"none\"==this.style.display&&(this.style.display=\"\"),\"none\"==getComputedStyle(this,\"\").getPropertyValue(\"display\")&&(this.style.display=U(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=A(t);if(this[0]&&!e)var i=n(t).get(0),r=i.parentNode||this.length>1;return this.each(function(o){n(this).wrapAll(e?t.call(this,o):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){n(this[0]).before(t=n(t));for(var e;(e=t.children()).length;)t=e.first();n(t).append(this)}return this},wrapInner:function(t){var e=A(t);return this.each(function(i){var r=n(this),o=r.contents(),a=e?t.call(this,i):t;o.length?o.wrapAll(a):r.append(a)})},unwrap:function(){return this.parent().each(function(){n(this).replaceWith(n(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css(\"display\",\"none\")},toggle:function(e){return this.each(function(){var i=n(this);(e===t?\"none\"==i.css(\"display\"):e)?i.show():i.hide()})},prev:function(t){return n(this.pluck(\"previousElementSibling\")).filter(t||\"*\")},next:function(t){return n(this.pluck(\"nextElementSibling\")).filter(t||\"*\")},html:function(t){return 0 in arguments?this.each(function(e){var i=this.innerHTML;n(this).empty().append(J(this,t,e,i))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=J(this,t,e,this.textContent);this.textContent=null==n?\"\":\"\"+n}):0 in this?this[0].textContent:null},attr:function(n,i){var r;return\"string\"!=typeof n||1 in arguments?this.each(function(t){if(1===this.nodeType)if(R(n))for(e in n)W(this,e,n[e]);else W(this,n,J(this,i,t,this.getAttribute(n)))}):this.length&&1===this[0].nodeType?!(r=this[0].getAttribute(n))&&n in this[0]?this[0][n]:r:t},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(\" \").forEach(function(t){W(this,t)},this)})},prop:function(t,e){return t=M[t]||t,1 in arguments?this.each(function(n){this[t]=J(this,e,n,this[t])}):this[0]&&this[0][t]},data:function(e,n){var i=\"data-\"+e.replace(g,\"-$1\").toLowerCase(),r=1 in arguments?this.attr(i,n):this.attr(i);return null!==r?K(r):t},val:function(t){return 0 in arguments?this.each(function(e){this.value=J(this,t,e,this.value)}):this[0]&&(this[0].multiple?n(this[0]).find(\"option\").filter(function(){return this.selected}).pluck(\"value\"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var i=n(this),r=J(this,t,e,i.offset()),o=i.offsetParent().offset(),a={top:r.top-o.top,left:r.left-o.left};\"static\"==i.css(\"position\")&&(a.position=\"relative\"),i.css(a)});if(!this.length)return null;if(!n.contains(u.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(t,i){if(arguments.length<2){var r,o=this[0];if(!o)return;if(r=getComputedStyle(o,\"\"),\"string\"==typeof t)return o.style[P(t)]||r.getPropertyValue(t);if(D(t)){var a={};return n.each(t,function(t,e){a[e]=o.style[P(e)]||r.getPropertyValue(e)}),a}}var s=\"\";if(\"string\"==L(t))i||0===i?s=I(t)+\":\"+H(t,i):this.each(function(){this.style.removeProperty(I(t))});else for(e in t)t[e]||0===t[e]?s+=I(e)+\":\"+H(e,t[e])+\";\":this.each(function(){this.style.removeProperty(I(e))});return this.each(function(){this.style.cssText+=\";\"+s})},index:function(t){return t?this.indexOf(n(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?r.some.call(this,function(t){return this.test(G(t))},q(t)):!1},addClass:function(t){return t?this.each(function(e){if(\"className\"in this){i=[];var r=G(this),o=J(this,t,e,r);o.split(/\\s+/g).forEach(function(t){n(this).hasClass(t)||i.push(t)},this),i.length&&G(this,r+(r?\" \":\"\")+i.join(\" \"))}}):this},removeClass:function(e){return this.each(function(n){if(\"className\"in this){if(e===t)return G(this,\"\");i=G(this),J(this,e,n,i).split(/\\s+/g).forEach(function(t){i=i.replace(q(t),\" \")}),G(this,i.trim())}})},toggleClass:function(e,i){return e?this.each(function(r){var o=n(this),a=J(this,e,r,G(this));a.split(/\\s+/g).forEach(function(e){(i===t?!o.hasClass(e):i)?o.addClass(e):o.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var n=\"scrollTop\"in this[0];return e===t?n?this[0].scrollTop:this[0].pageYOffset:this.each(n?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var n=\"scrollLeft\"in this[0];return e===t?n?this[0].scrollLeft:this[0].pageXOffset:this.each(n?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),i=this.offset(),r=m.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(n(t).css(\"margin-top\"))||0,i.left-=parseFloat(n(t).css(\"margin-left\"))||0,r.top+=parseFloat(n(e[0]).css(\"border-top-width\"))||0,r.left+=parseFloat(n(e[0]).css(\"border-left-width\"))||0,{top:i.top-r.top,left:i.left-r.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||u.body;t&&!m.test(t.nodeName)&&\"static\"==n(t).css(\"position\");)t=t.offsetParent;return t})}},n.fn.detach=n.fn.remove,[\"width\",\"height\"].forEach(function(e){var i=e.replace(/./,function(t){return t[0].toUpperCase()});n.fn[e]=function(r){var o,a=this[0];return r===t?Z(a)?a[\"inner\"+i]:$(a)?a.documentElement[\"scroll\"+i]:(o=this.offset())&&o[e]:this.each(function(t){a=n(this),a.css(e,J(this,r,t,a[e]()))})}}),y.forEach(function(t,e){var i=e%2;n.fn[t]=function(){var t,o,r=n.map(arguments,function(e){return t=L(e),\"object\"==t||\"array\"==t||null==e?e:C.fragment(e)}),a=this.length>1;return r.length<1?this:this.each(function(t,s){o=i?s:s.parentNode,s=0==e?s.nextSibling:1==e?s.firstChild:2==e?s:null;var f=n.contains(u.documentElement,o);r.forEach(function(t){if(a)t=t.cloneNode(!0);else if(!o)return n(t).remove();o.insertBefore(t,s),f&&Q(t,function(t){null==t.nodeName||\"SCRIPT\"!==t.nodeName.toUpperCase()||t.type&&\"text/javascript\"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},n.fn[i?t+\"To\":\"insert\"+(e?\"Before\":\"After\")]=function(e){return n(e)[t](this),this}}),C.Z.prototype=V.prototype=n.fn,C.uniq=N,C.deserializeValue=K,n.zepto=C,n}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(t){function h(e,n,i){var r=t.Event(n);return t(e).trigger(r,i),!r.isDefaultPrevented()}function p(t,e,i,r){return t.global?h(e||n,i,r):void 0}function d(e){e.global&&0===t.active++&&p(e,null,\"ajaxStart\")}function m(e){e.global&&!--t.active&&p(e,null,\"ajaxStop\")}function g(t,e){var n=e.context;return e.beforeSend.call(n,t,e)===!1||p(e,n,\"ajaxBeforeSend\",[t,e])===!1?!1:void p(e,n,\"ajaxSend\",[t,e])}function v(t,e,n,i){var r=n.context,o=\"success\";n.success.call(r,t,o,e),i&&i.resolveWith(r,[t,o,e]),p(n,r,\"ajaxSuccess\",[e,n,t]),x(o,e,n)}function y(t,e,n,i,r){var o=i.context;i.error.call(o,n,e,t),r&&r.rejectWith(o,[n,e,t]),p(i,o,\"ajaxError\",[n,i,t||e]),x(e,n,i)}function x(t,e,n){var i=n.context;n.complete.call(i,e,t),p(n,i,\"ajaxComplete\",[e,n]),m(n)}function w(){}function b(t){return t&&(t=t.split(\";\",2)[0]),t&&(t==f?\"html\":t==u?\"json\":a.test(t)?\"script\":s.test(t)&&\"xml\")||\"text\"}function E(t,e){return\"\"==e?t:(t+\"&\"+e).replace(/[&?]{1,2}/,\"?\")}function T(e){e.processData&&e.data&&\"string\"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&\"GET\"!=e.type.toUpperCase()||(e.url=E(e.url,e.data),e.data=void 0)}function j(e,n,i,r){return t.isFunction(n)&&(r=i,i=n,n=void 0),t.isFunction(i)||(r=i,i=void 0),{url:e,data:n,success:i,dataType:r}}function C(e,n,i,r){var o,a=t.isArray(n),s=t.isPlainObject(n);t.each(n,function(n,u){o=t.type(u),r&&(n=i?r:r+\"[\"+(s||\"object\"==o||\"array\"==o?n:\"\")+\"]\"),!r&&a?e.add(u.name,u.value):\"array\"==o||!i&&\"object\"==o?C(e,u,i,n):e.add(n,u)})}var i,r,e=0,n=window.document,o=/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,a=/^(?:text|application)\\/javascript/i,s=/^(?:text|application)\\/xml/i,u=\"application/json\",f=\"text/html\",c=/^\\s*$/,l=n.createElement(\"a\");l.href=window.location.href,t.active=0,t.ajaxJSONP=function(i,r){if(!(\"type\"in i))return t.ajax(i);var f,h,o=i.jsonpCallback,a=(t.isFunction(o)?o():o)||\"jsonp\"+ ++e,s=n.createElement(\"script\"),u=window[a],c=function(e){t(s).triggerHandler(\"error\",e||\"abort\")},l={abort:c};return r&&r.promise(l),t(s).on(\"load error\",function(e,n){clearTimeout(h),t(s).off().remove(),\"error\"!=e.type&&f?v(f[0],l,i,r):y(null,n||\"error\",l,i,r),window[a]=u,f&&t.isFunction(u)&&u(f[0]),u=f=void 0}),g(l,i)===!1?(c(\"abort\"),l):(window[a]=function(){f=arguments},s.src=i.url.replace(/\\?(.+)=\\?/,\"?$1=\"+a),n.head.appendChild(s),i.timeout>0&&(h=setTimeout(function(){c(\"timeout\")},i.timeout)),l)},t.ajaxSettings={type:\"GET\",beforeSend:w,success:w,error:w,complete:w,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:\"text/javascript, application/javascript, application/x-javascript\",json:u,xml:\"application/xml, text/xml\",html:f,text:\"text/plain\"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var s,u,o=t.extend({},e||{}),a=t.Deferred&&t.Deferred();for(i in t.ajaxSettings)void 0===o[i]&&(o[i]=t.ajaxSettings[i]);d(o),o.crossDomain||(s=n.createElement(\"a\"),s.href=o.url,s.href=s.href,o.crossDomain=l.protocol+\"//\"+l.host!=s.protocol+\"//\"+s.host),o.url||(o.url=window.location.toString()),(u=o.url.indexOf(\"#\"))>-1&&(o.url=o.url.slice(0,u)),T(o);var f=o.dataType,h=/\\?.+=\\?/.test(o.url);if(h&&(f=\"jsonp\"),o.cache!==!1&&(e&&e.cache===!0||\"script\"!=f&&\"jsonp\"!=f)||(o.url=E(o.url,\"_=\"+Date.now())),\"jsonp\"==f)return h||(o.url=E(o.url,o.jsonp?o.jsonp+\"=?\":o.jsonp===!1?\"\":\"callback=?\")),t.ajaxJSONP(o,a);var P,p=o.accepts[f],m={},x=function(t,e){m[t.toLowerCase()]=[t,e]},j=/^([\\w-]+:)\\/\\//.test(o.url)?RegExp.$1:window.location.protocol,S=o.xhr(),C=S.setRequestHeader;if(a&&a.promise(S),o.crossDomain||x(\"X-Requested-With\",\"XMLHttpRequest\"),x(\"Accept\",p||\"*/*\"),(p=o.mimeType||p)&&(p.indexOf(\",\")>-1&&(p=p.split(\",\",2)[0]),S.overrideMimeType&&S.overrideMimeType(p)),(o.contentType||o.contentType!==!1&&o.data&&\"GET\"!=o.type.toUpperCase())&&x(\"Content-Type\",o.contentType||\"application/x-www-form-urlencoded\"),o.headers)for(r in o.headers)x(r,o.headers[r]);if(S.setRequestHeader=x,S.onreadystatechange=function(){if(4==S.readyState){S.onreadystatechange=w,clearTimeout(P);var e,n=!1;if(S.status>=200&&S.status<300||304==S.status||0==S.status&&\"file:\"==j){f=f||b(o.mimeType||S.getResponseHeader(\"content-type\")),e=S.responseText;try{\"script\"==f?(1,eval)(e):\"xml\"==f?e=S.responseXML:\"json\"==f&&(e=c.test(e)?null:t.parseJSON(e))}catch(i){n=i}n?y(n,\"parsererror\",S,o,a):v(e,S,o,a)}else y(S.statusText||null,S.status?\"error\":\"abort\",S,o,a)}},g(S,o)===!1)return S.abort(),y(null,\"abort\",S,o,a),S;if(o.xhrFields)for(r in o.xhrFields)S[r]=o.xhrFields[r];var N=\"async\"in o?o.async:!0;S.open(o.type,o.url,N,o.username,o.password);for(r in m)C.apply(S,m[r]);return o.timeout>0&&(P=setTimeout(function(){S.onreadystatechange=w,S.abort(),y(null,\"timeout\",S,o,a)},o.timeout)),S.send(o.data?o.data:null),S},t.get=function(){return t.ajax(j.apply(null,arguments))},t.post=function(){var e=j.apply(null,arguments);return e.type=\"POST\",t.ajax(e)},t.getJSON=function(){var e=j.apply(null,arguments);return e.dataType=\"json\",t.ajax(e)},t.fn.load=function(e,n,i){if(!this.length)return this;var s,r=this,a=e.split(/\\s/),u=j(e,n,i),f=u.success;return a.length>1&&(u.url=a[0],s=a[1]),u.success=function(e){r.html(s?t(\"<div>\").html(e.replace(o,\"\")).find(s):e),f&&f.apply(r,arguments)},t.ajax(u),this};var S=encodeURIComponent;t.param=function(e,n){var i=[];return i.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=\"\"),this.push(S(e)+\"=\"+S(n))},C(i,e,n),i.join(\"&\").replace(/%20/g,\"+\")}}(Zepto),function(t){function l(t){return t._zid||(t._zid=e++)}function h(t,e,n,i){if(e=p(e),e.ns)var r=d(e.ns);return(a[l(t)]||[]).filter(function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||r.test(t.ns))&&(!n||l(t.fn)===l(n))&&(!i||t.sel==i)})}function p(t){var e=(\"\"+t).split(\".\");return{e:e[0],ns:e.slice(1).sort().join(\" \")}}function d(t){return new RegExp(\"(?:^| )\"+t.replace(\" \",\" .* ?\")+\"(?: |$)\")}function m(t,e){return t.del&&!u&&t.e in f||!!e}function g(t){return c[t]||u&&f[t]||t}function v(e,i,r,o,s,u,f){var h=l(e),d=a[h]||(a[h]=[]);i.split(/\\s/).forEach(function(i){if(\"ready\"==i)return t(document).ready(r);var a=p(i);a.fn=r,a.sel=s,a.e in c&&(r=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?a.fn.apply(this,arguments):void 0}),a.del=u;var l=u||r;a.proxy=function(t){if(t=T(t),!t.isImmediatePropagationStopped()){t.data=o;var i=l.apply(e,t._args==n?[t]:[t].concat(t._args));return i===!1&&(t.preventDefault(),t.stopPropagation()),i}},a.i=d.length,d.push(a),\"addEventListener\"in e&&e.addEventListener(g(a.e),a.proxy,m(a,f))})}function y(t,e,n,i,r){var o=l(t);(e||\"\").split(/\\s/).forEach(function(e){h(t,e,n,i).forEach(function(e){delete a[o][e.i],\"removeEventListener\"in t&&t.removeEventListener(g(e.e),e.proxy,m(e,r))})})}function T(e,i){return(i||!e.isDefaultPrevented)&&(i||(i=e),t.each(E,function(t,n){var r=i[t];e[t]=function(){return this[n]=x,r&&r.apply(i,arguments)},e[n]=w}),(i.defaultPrevented!==n?i.defaultPrevented:\"returnValue\"in i?i.returnValue===!1:i.getPreventDefault&&i.getPreventDefault())&&(e.isDefaultPrevented=x)),e}function j(t){var e,i={originalEvent:t};for(e in t)b.test(e)||t[e]===n||(i[e]=t[e]);return T(i,t)}var n,e=1,i=Array.prototype.slice,r=t.isFunction,o=function(t){return\"string\"==typeof t},a={},s={},u=\"onfocusin\"in window,f={focus:\"focusin\",blur:\"focusout\"},c={mouseenter:\"mouseover\",mouseleave:\"mouseout\"};s.click=s.mousedown=s.mouseup=s.mousemove=\"MouseEvents\",t.event={add:v,remove:y},t.proxy=function(e,n){var a=2 in arguments&&i.call(arguments,2);if(r(e)){var s=function(){return e.apply(n,a?a.concat(i.call(arguments)):arguments)};return s._zid=l(e),s}if(o(n))return a?(a.unshift(e[n],e),t.proxy.apply(null,a)):t.proxy(e[n],e);throw new TypeError(\"expected function\")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var x=function(){return!0},w=function(){return!1},b=/^([A-Z]|returnValue$|layer[XY]$)/,E={preventDefault:\"isDefaultPrevented\",stopImmediatePropagation:\"isImmediatePropagationStopped\",stopPropagation:\"isPropagationStopped\"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,a,s,u,f){var c,l,h=this;return e&&!o(e)?(t.each(e,function(t,e){h.on(t,a,s,e,f)}),h):(o(a)||r(u)||u===!1||(u=s,s=a,a=n),(u===n||s===!1)&&(u=s,s=n),u===!1&&(u=w),h.each(function(n,r){f&&(c=function(t){return y(r,t.type,u),u.apply(this,arguments)}),a&&(l=function(e){var n,o=t(e.target).closest(a,r).get(0);return o&&o!==r?(n=t.extend(j(e),{currentTarget:o,liveFired:r}),(c||u).apply(o,[n].concat(i.call(arguments,1)))):void 0}),v(r,e,u,s,a,l||c)}))},t.fn.off=function(e,i,a){var s=this;return e&&!o(e)?(t.each(e,function(t,e){s.off(t,i,e)}),s):(o(i)||r(a)||a===!1||(a=i,i=n),a===!1&&(a=w),s.each(function(){y(this,e,a,i)}))},t.fn.trigger=function(e,n){return e=o(e)||t.isPlainObject(e)?t.Event(e):T(e),e._args=n,this.each(function(){e.type in f&&\"function\"==typeof this[e.type]?this[e.type]():\"dispatchEvent\"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,n){var i,r;return this.each(function(a,s){i=j(o(e)?t.Event(e):e),i._args=n,i.target=s,t.each(h(s,e.type||e),function(t,e){return r=e.proxy(i),i.isImmediatePropagationStopped()?!1:void 0})}),r},\"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error\".split(\" \").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){o(t)||(e=t,t=e.type);var n=document.createEvent(s[t]||\"Events\"),i=!0;if(e)for(var r in e)\"bubbles\"==r?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0),T(n)}}(Zepto),function(t){function a(o,a){var u=o[r],f=u&&e[u];if(void 0===a)return f||s(o);if(f){if(a in f)return f[a];var c=i(a);if(c in f)return f[c]}return n.call(t(o),a)}function s(n,o,a){var s=n[r]||(n[r]=++t.uuid),f=e[s]||(e[s]=u(n));return void 0!==o&&(f[i(o)]=a),f}function u(e){var n={};return t.each(e.attributes||o,function(e,r){0==r.name.indexOf(\"data-\")&&(n[i(r.name.replace(\"data-\",\"\"))]=t.zepto.deserializeValue(r.value))}),n}var e={},n=t.fn.data,i=t.camelCase,r=t.expando=\"Zepto\"+ +new Date,o=[];t.fn.data=function(e,n){return void 0===n?t.isPlainObject(e)?this.each(function(n,i){t.each(e,function(t,e){s(i,t,e)})}):0 in this?a(this[0],e):void 0:this.each(function(){s(this,e,n)})},t.fn.removeData=function(n){return\"string\"==typeof n&&(n=n.split(/\\s+/)),this.each(function(){var o=this[r],a=o&&e[o];a&&t.each(n||a,function(t){delete a[n?i(this):t]})})},[\"remove\",\"empty\"].forEach(function(e){var n=t.fn[e];t.fn[e]=function(){var t=this.find(\"*\");return\"remove\"===e&&(t=t.add(this)),t.removeData(),n.call(this)}})}(Zepto),function(t){t.fn.serializeArray=function(){var e,n,i=[],r=function(t){return t.forEach?t.forEach(r):void i.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(i,o){n=o.type,e=o.name,e&&\"fieldset\"!=o.nodeName.toLowerCase()&&!o.disabled&&\"submit\"!=n&&\"reset\"!=n&&\"button\"!=n&&\"file\"!=n&&(\"radio\"!=n&&\"checkbox\"!=n||o.checked)&&r(t(o).val())}),i},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+\"=\"+encodeURIComponent(e.value))}),t.join(\"&\")},t.fn.submit=function(e){if(0 in arguments)this.bind(\"submit\",e);else if(this.length){var n=t.Event(\"submit\");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(t){function u(t,e,n,i){return Math.abs(t-e)>=Math.abs(n-i)?t-e>0?\"Left\":\"Right\":n-i>0?\"Up\":\"Down\"}function f(){o=null,e.last&&(e.el.trigger(\"longTap\"),e={})}function c(){o&&clearTimeout(o),o=null}function l(){n&&clearTimeout(n),i&&clearTimeout(i),r&&clearTimeout(r),o&&clearTimeout(o),n=i=r=o=null,e={}}function h(t){return(\"touch\"==t.pointerType||t.pointerType==t.MSPOINTER_TYPE_TOUCH)&&t.isPrimary}function p(t,e){return t.type==\"pointer\"+e||t.type.toLowerCase()==\"mspointer\"+e}var n,i,r,o,s,e={},a=750;t(document).ready(function(){var d,m,y,x,g=0,v=0;\"MSGesture\"in window&&(s=new MSGesture,s.target=document.body),t(document).bind(\"MSGestureEnd\",function(t){var n=t.velocityX>1?\"Right\":t.velocityX<-1?\"Left\":t.velocityY>1?\"Down\":t.velocityY<-1?\"Up\":null;n&&(e.el.trigger(\"swipe\"),e.el.trigger(\"swipe\"+n))}).on(\"touchstart MSPointerDown pointerdown\",function(i){(!(x=p(i,\"down\"))||h(i))&&(y=x?i:i.touches[0],i.touches&&1===i.touches.length&&e.x2&&(e.x2=void 0,e.y2=void 0),d=Date.now(),m=d-(e.last||d),e.el=t(\"tagName\"in y.target?y.target:y.target.parentNode),n&&clearTimeout(n),e.x1=y.pageX,e.y1=y.pageY,m>0&&250>=m&&(e.isDoubleTap=!0),e.last=d,o=setTimeout(f,a),s&&x&&s.addPointer(i.pointerId))}).on(\"touchmove MSPointerMove pointermove\",function(t){(!(x=p(t,\"move\"))||h(t))&&(y=x?t:t.touches[0],c(),e.x2=y.pageX,e.y2=y.pageY,g+=Math.abs(e.x1-e.x2),v+=Math.abs(e.y1-e.y2))}).on(\"touchend MSPointerUp pointerup\",function(o){(!(x=p(o,\"up\"))||h(o))&&(c(),e.x2&&Math.abs(e.x1-e.x2)>30||e.y2&&Math.abs(e.y1-e.y2)>30?r=setTimeout(function(){e.el.trigger(\"swipe\"),e.el.trigger(\"swipe\"+u(e.x1,e.x2,e.y1,e.y2)),e={}},0):\"last\"in e&&(30>g&&30>v?i=setTimeout(function(){var i=t.Event(\"tap\");i.cancelTouch=l,e.el.trigger(i),e.isDoubleTap?(e.el&&e.el.trigger(\"doubleTap\"),e={}):n=setTimeout(function(){n=null,e.el&&e.el.trigger(\"singleTap\"),e={}},250)},0):e={}),g=v=0)}).on(\"touchcancel MSPointerCancel pointercancel\",l),t(window).on(\"scroll\",l)}),[\"swipe\",\"swipeLeft\",\"swipeRight\",\"swipeUp\",\"swipeDown\",\"doubleTap\",\"tap\",\"singleTap\",\"longTap\"].forEach(function(e){t.fn[e]=function(t){return this.on(e,t)}})}(Zepto),function(t,e){function v(t){return t.replace(/([a-z])([A-Z])/,\"$1-$2\").toLowerCase()}function y(t){return i?i+t:t.toLowerCase()}var i,s,u,f,c,l,h,p,d,m,n=\"\",r={Webkit:\"webkit\",Moz:\"\",O:\"o\"},o=document.createElement(\"div\"),a=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,g={};t.each(r,function(t,r){return o.style[t+\"TransitionProperty\"]!==e?(n=\"-\"+t.toLowerCase()+\"-\",i=r,!1):void 0}),s=n+\"transform\",g[u=n+\"transition-property\"]=g[f=n+\"transition-duration\"]=g[l=n+\"transition-delay\"]=g[c=n+\"transition-timing-function\"]=g[h=n+\"animation-name\"]=g[p=n+\"animation-duration\"]=g[m=n+\"animation-delay\"]=g[d=n+\"animation-timing-function\"]=\"\",t.fx={off:i===e&&o.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:n,transitionEnd:y(\"TransitionEnd\"),animationEnd:y(\"AnimationEnd\")},t.fn.animate=function(n,i,r,o,a){return t.isFunction(i)&&(o=i,r=e,i=e),t.isFunction(r)&&(o=r,r=e),t.isPlainObject(i)&&(r=i.easing,o=i.complete,a=i.delay,i=i.duration),i&&(i=(\"number\"==typeof i?i:t.fx.speeds[i]||t.fx.speeds._default)/1e3),a&&(a=parseFloat(a)/1e3),this.anim(n,i,r,o,a)},t.fn.anim=function(n,i,r,o,y){var x,b,j,w={},E=\"\",T=this,S=t.fx.transitionEnd,C=!1;if(i===e&&(i=t.fx.speeds._default/1e3),y===e&&(y=0),t.fx.off&&(i=0),\"string\"==typeof n)w[h]=n,w[p]=i+\"s\",w[m]=y+\"s\",w[d]=r||\"linear\",S=t.fx.animationEnd;else{b=[];for(x in n)a.test(x)?E+=x+\"(\"+n[x]+\") \":(w[x]=n[x],b.push(v(x)));E&&(w[s]=E,b.push(s)),i>0&&\"object\"==typeof n&&(w[u]=b.join(\", \"),w[f]=i+\"s\",w[l]=y+\"s\",w[c]=r||\"linear\")}return j=function(e){if(\"undefined\"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(S,j)}else t(this).unbind(S,j);C=!0,t(this).css(g),o&&o.call(this)},i>0&&(this.bind(S,j),setTimeout(function(){C||j.call(T)},1e3*(i+y)+25)),this.size()&&this.get(0).clientLeft,this.css(w),0>=i&&setTimeout(function(){T.each(function(){j.call(this)})},0),this},o=null}(Zepto),function(t,e){function s(n,i,r,o,a){\"function\"!=typeof i||a||(a=i,i=e);var s={opacity:r};return o&&(s.scale=o,n.css(t.fx.cssPrefix+\"transform-origin\",\"0 0\")),n.animate(s,i,null,a)}function u(e,n,i,r){return s(e,n,0,i,function(){o.call(t(this)),r&&r.call(this)})}var n=window.document,r=(n.documentElement,t.fn.show),o=t.fn.hide,a=t.fn.toggle;t.fn.show=function(t,n){return r.call(this),t===e?t=0:this.css(\"opacity\",0),s(this,t,1,\"1,1\",n)},t.fn.hide=function(t,n){return t===e?o.call(this):u(this,t,\"0,0\",n)},t.fn.toggle=function(n,i){return n===e||\"boolean\"==typeof n?a.call(this,n):this.each(function(){var e=t(this);e[\"none\"==e.css(\"display\")?\"show\":\"hide\"](n,i)})},t.fn.fadeTo=function(t,e,n){return s(this,t,e,null,n)},t.fn.fadeIn=function(t,e){var n=this.css(\"opacity\");return n>0?this.css(\"opacity\",0):n=1,r.call(this).fadeTo(t,n,e)},t.fn.fadeOut=function(t,e){return u(this,t,null,e)},t.fn.fadeToggle=function(e,n){return this.each(function(){var i=t(this);i[0==i.css(\"opacity\")||\"none\"==i.css(\"display\")?\"fadeIn\":\"fadeOut\"](e,n)})}}(Zepto);\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvemVwdG8ubWluLmpzPzY0MGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQixjQUFjLGdEQUFnRCxjQUFjLHVCQUF1QixjQUFjLDRCQUE0QixjQUFjLDRDQUE0QyxjQUFjLHFCQUFxQixjQUFjLCtEQUErRCxjQUFjLGdDQUFnQyxjQUFjLDRCQUE0QixlQUFlLEVBQUUsY0FBYyw0Q0FBNEMsY0FBYywwSUFBMEksY0FBYywwREFBMEQsZ0JBQWdCLDJDQUEyQyxjQUFjLFFBQVEsOEtBQThLLGNBQWMsdUVBQXVFLDhCQUE4QixFQUFFLGdCQUFnQixxQkFBcUIsUUFBUSxJQUFJLGlCQUFpQixrQ0FBa0Msa0JBQWtCLDZEQUE2RCxxRUFBcUUsZ0JBQWdCLG1DQUFtQyxvQkFBb0IsNEJBQTRCLGtCQUFrQixpREFBaUQsZ0JBQWdCLHlDQUF5Qyw2REFBNkQsY0FBYyxJQUFJLHFFQUFxRSwrQkFBK0IsU0FBUyxVQUFVLGdCQUFnQixLQUFLLGtDQUFrQyxJQUFJLHlCQUF5QiwyRUFBMkUsS0FBSyxJQUFJLHdGQUF3RixrVUFBa1UseUZBQXlGLGtEQUFrRCxrQkFBa0IsNkJBQTZCLHNRQUFzUSw4QkFBOEIsMkJBQTJCLCtCQUErQixtQ0FBbUMsMkZBQTJGLHdCQUF3QiwwQkFBMEIsOEVBQThFLGVBQWUseUNBQXlDLDRCQUE0QixFQUFFLGVBQWUsOEJBQThCLHVCQUF1QixFQUFFLDRCQUE0QixVQUFVLGlOQUFpTixvQkFBb0Isd0NBQXdDLG9DQUFvQyxLQUFLLG1CQUFtQixrQkFBa0IsbUJBQW1CLHdCQUF3QixzQkFBc0IsTUFBTSxtQkFBbUIsNEZBQTRGLEtBQUssNkJBQTZCLGFBQWEsS0FBSyw2QkFBNkIscUJBQXFCLGVBQWUsMEJBQTBCLDREQUE0RCxLQUFLLDZCQUE2QixjQUFjLGdCQUFnQixpQkFBaUIsbUJBQW1CLHNCQUFzQiw0QkFBNEIsbUVBQW1FLFNBQVMsSUFBSSxxQkFBcUIs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LG9CQUFvQixxQkFBcUIsRUFBRSxzQkFBc0IsY0FBYyx5REFBeUQsY0FBYyw2QkFBNkIsZ0NBQWdDLDZCQUE2QixzSEFBc0gsdUJBQXVCLHFGQUFxRixtUUFBbVEsa0RBQWtELCtCQUErQiw2RUFBNkUsa0NBQWtDLDJQQUEyUCwrQkFBK0IsY0FBYyx1Q0FBdUMseUpBQXlKLEtBQUssS0FBSyxpRUFBaUUsMEdBQTBHLHFCQUFxQiwwQkFBMEIscUNBQXFDLHdCQUF3Qix5QkFBeUIsb0NBQW9DLDRDQUE0QyxhQUFhLDRGQUE0RixrQkFBa0IsYUFBYSxFQUFFLFNBQVMsUUFBUSxzQkFBc0Isc0JBQXNCLG1DQUFtQyxPQUFPLFdBQVcsMkZBQTJGLG9CQUFvQiw0QkFBNEIsZ0NBQWdDLEVBQUUsZ0ZBQWdGLHdCQUF3Qix3RUFBd0UseUJBQXlCLDRDQUE0QywyQkFBMkIsc0VBQXNFLGNBQWMsK0NBQStDLEVBQUUsNkJBQTZCLDBCQUEwQiwyQkFBMkIsMEJBQTBCLGdFQUFnRSw0QkFBNEIsd0JBQXdCLCtCQUErQiw0QkFBNEIsY0FBYyx5RUFBeUUsR0FBRyIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKiBJTVBPUlRTIEZST00gaW1wb3J0cy1sb2FkZXIgKioqL1xudmFyIGRlZmluZSA9IGZhbHNlO1xuXG4vKiBaZXB0byAxLjEuNiAtIHplcHRvIGFqYXggZXZlbnQgZGF0YSBmb3JtIHRvdWNoIGZ4IGZ4X21ldGhvZHMgLSB6ZXB0b2pzLmNvbS9saWNlbnNlICovXG52YXIgWmVwdG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBMKHQpe3JldHVybiBudWxsPT10P1N0cmluZyh0KTpqW1MuY2FsbCh0KV18fFwib2JqZWN0XCJ9ZnVuY3Rpb24gQSh0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PUwodCl9ZnVuY3Rpb24gWih0KXtyZXR1cm4gbnVsbCE9dCYmdD09dC53aW5kb3d9ZnVuY3Rpb24gJCh0KXtyZXR1cm4gbnVsbCE9dCYmdC5ub2RlVHlwZT09dC5ET0NVTUVOVF9OT0RFfWZ1bmN0aW9uIFIodCl7cmV0dXJuXCJvYmplY3RcIj09TCh0KX1mdW5jdGlvbiBrKHQpe3JldHVybiBSKHQpJiYhWih0KSYmT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpPT1PYmplY3QucHJvdG90eXBlfWZ1bmN0aW9uIHoodCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RofWZ1bmN0aW9uIEYodCl7cmV0dXJuIGEuY2FsbCh0LGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10fSl9ZnVuY3Rpb24gXyh0KXtyZXR1cm4gdC5sZW5ndGg+MD9uLmZuLmNvbmNhdC5hcHBseShbXSx0KTp0fWZ1bmN0aW9uIEkodCl7cmV0dXJuIHQucmVwbGFjZSgvOjovZyxcIi9cIikucmVwbGFjZSgvKFtBLVpdKykoW0EtWl1bYS16XSkvZyxcIiQxXyQyXCIpLnJlcGxhY2UoLyhbYS16XFxkXSkoW0EtWl0pL2csXCIkMV8kMlwiKS5yZXBsYWNlKC9fL2csXCItXCIpLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gcSh0KXtyZXR1cm4gdCBpbiBjP2NbdF06Y1t0XT1uZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIrdCtcIihcXFxcc3wkKVwiKX1mdW5jdGlvbiBIKHQsZSl7cmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIGV8fGxbSSh0KV0/ZTplK1wicHhcIn1mdW5jdGlvbiBVKHQpe3ZhciBlLG47cmV0dXJuIGZbdF18fChlPXUuY3JlYXRlRWxlbWVudCh0KSx1LmJvZHkuYXBwZW5kQ2hpbGQoZSksbj1nZXRDb21wdXRlZFN0eWxlKGUsXCJcIikuZ2V0UHJvcGVydHlWYWx1ZShcImRpc3BsYXlcIiksZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLFwibm9uZVwiPT1uJiYobj1cImJsb2NrXCIpLGZbdF09biksZlt0XX1mdW5jdGlvbiBYKHQpe3JldHVyblwiY2hpbGRyZW5cImluIHQ/cy5jYWxsKHQuY2hpbGRyZW4pOm4ubWFwKHQuY2hpbGROb2RlcyxmdW5jdGlvbih0KXtyZXR1cm4gMT09dC5ub2RlVHlwZT90OnZvaWQgMH0pfWZ1bmN0aW9uIFYodCxlKXt2YXIgbixpPXQ/dC5sZW5ndGg6MDtmb3Iobj0wO2k+bjtuKyspdGhpc1tuXT10W25dO3RoaXMubGVuZ3RoPWksdGhpcy5zZWxlY3Rvcj1lfHxcIlwifWZ1bmN0aW9uIEIobixpLHIpe2ZvcihlIGluIGkpciYmKGsoaVtlXSl8fEQoaVtlXSkpPyhrKGlbZV0pJiYhayhuW2VdKSYmKG5bZV09e30pLEQoaVtlXSkmJiFEKG5bZV0pJiYobltlXT1bXSksQihuW2VdLGlbZV0scikpOmlbZV0hPT10JiYobltlXT1pW2VdKX1mdW5jdGlvbiBZKHQsZSl7cmV0dXJuIG51bGw9PWU/bih0KTpuKHQpLmZpbHRlcihlKX1mdW5jdGlvbiBKKHQsZSxuLGkpe3JldHVybiBBKGUpP2UuY2FsbCh0LG4saSk6ZX1mdW5jdGlvbiBXKHQsZSxuKXtudWxsPT1uP3QucmVtb3ZlQXR0cmlidXRlKGUpOnQuc2V0QXR0cmlidXRlKGUsbil9ZnVuY3Rpb24gRyhlLG4pe3ZhciBpPWUuY2xhc3NOYW1lfHxcIlwiLHI9aSYmaS5iYXNlVmFsIT09dDtyZXR1cm4gbj09PXQ/cj9pLmJhc2VWYWw6aTp2b2lkKHI/aS5iYXNlVmFsPW46ZS5jbGFzc05hbWU9bil9ZnVuY3Rpb24gSyh0KXt0cnl7cmV0dXJuIHQ/XCJ0cnVlXCI9PXR8fChcImZhbHNlXCI9PXQ/ITE6XCJudWxsXCI9PXQ/bnVsbDordCtcIlwiPT10Pyt0Oi9eW1xcW1xce10vLnRlc3QodCk/bi5wYXJzZUpTT04odCk6dCk6dH1jYXRjaChlKXtyZXR1cm4gdH19ZnVuY3Rpb24gUSh0LGUpe2UodCk7Zm9yKHZhciBuPTAsaT10LmNoaWxkTm9kZXMubGVuZ3RoO2k+bjtuKyspUSh0LmNoaWxkTm9kZXNbbl0sZSl9dmFyIHQsZSxuLGksUCxOLHI9W10sbz1yLmNvbmNhdCxhPXIuZmlsdGVyLHM9ci5zbGljZSx1PXdpbmRvdy5kb2N1bWVudCxmPXt9LGM9e30sbD17XCJjb2x1bW4tY291bnRcIjoxLGNvbHVtbnM6MSxcImZvbnQtd2VpZ2h0XCI6MSxcImxpbmUtaGVpZ2h0XCI6MSxvcGFjaXR5OjEsXCJ6LWluZGV4XCI6MSx6b29tOjF9LGg9L15cXHMqPChcXHcrfCEpW14+XSo+LyxwPS9ePChcXHcrKVxccypcXC8/Pig/OjxcXC9cXDE+fCkkLyxkPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcXHc6XSspW14+XSopXFwvPi9naSxtPS9eKD86Ym9keXxodG1sKSQvaSxnPS8oW0EtWl0pL2csdj1bXCJ2YWxcIixcImNzc1wiLFwiaHRtbFwiLFwidGV4dFwiLFwiZGF0YVwiLFwid2lkdGhcIixcImhlaWdodFwiLFwib2Zmc2V0XCJdLHk9W1wiYWZ0ZXJcIixcInByZXBlbmRcIixcImJlZm9yZVwiLFwiYXBwZW5kXCJdLHg9dS5jcmVhdGVFbGVtZW50KFwidGFibGVcIiksdz11LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKSxiPXt0cjp1LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKSx0Ym9keTp4LHRoZWFkOngsdGZvb3Q6eCx0ZDp3LHRoOncsXCIqXCI6dS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpfSxFPS9jb21wbGV0ZXxsb2FkZWR8aW50ZXJhY3RpdmUvLFQ9L15bXFx3LV0qJC8saj17fSxTPWoudG9TdHJpbmcsQz17fSxPPXUuY3JlYXRlRWxlbWVudChcImRpdlwiKSxNPXt0YWJpbmRleDpcInRhYkluZGV4XCIscmVhZG9ubHk6XCJyZWFkT25seVwiLFwiZm9yXCI6XCJodG1sRm9yXCIsXCJjbGFzc1wiOlwiY2xhc3NOYW1lXCIsbWF4bGVuZ3RoOlwibWF4TGVuZ3RoXCIsY2VsbHNwYWNpbmc6XCJjZWxsU3BhY2luZ1wiLGNlbGxwYWRkaW5nOlwiY2VsbFBhZGRpbmdcIixyb3dzcGFuOlwicm93U3BhblwiLGNvbHNwYW46XCJjb2xTcGFuXCIsdXNlbWFwOlwidXNlTWFwXCIsZnJhbWVib3JkZXI6XCJmcmFtZUJvcmRlclwiLGNvbnRlbnRlZGl0YWJsZTpcImNvbnRlbnRFZGl0YWJsZVwifSxEPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgQXJyYXl9O3JldHVybiBDLm1hdGNoZXM9ZnVuY3Rpb24odCxlKXtpZighZXx8IXR8fDEhPT10Lm5vZGVUeXBlKXJldHVybiExO3ZhciBuPXQud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHx0Lm1vek1hdGNoZXNTZWxlY3Rvcnx8dC5vTWF0Y2hlc1NlbGVjdG9yfHx0Lm1hdGNoZXNTZWxlY3RvcjtpZihuKXJldHVybiBuLmNhbGwodCxlKTt2YXIgaSxyPXQucGFyZW50Tm9kZSxvPSFyO3JldHVybiBvJiYocj1PKS5hcHBlbmRDaGlsZCh0KSxpPX5DLnFzYShyLGUpLmluZGV4T2YodCksbyYmTy5yZW1vdmVDaGlsZCh0KSxpfSxQPWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoLy0rKC4pPy9nLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/ZS50b1VwcGVyQ2FzZSgpOlwiXCJ9KX0sTj1mdW5jdGlvbih0KXtyZXR1cm4gYS5jYWxsKHQsZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5pbmRleE9mKGUpPT1ufSl9LEMuZnJhZ21lbnQ9ZnVuY3Rpb24oZSxpLHIpe3ZhciBvLGEsZjtyZXR1cm4gcC50ZXN0KGUpJiYobz1uKHUuY3JlYXRlRWxlbWVudChSZWdFeHAuJDEpKSksb3x8KGUucmVwbGFjZSYmKGU9ZS5yZXBsYWNlKGQsXCI8JDE+PC8kMj5cIikpLGk9PT10JiYoaT1oLnRlc3QoZSkmJlJlZ0V4cC4kMSksaSBpbiBifHwoaT1cIipcIiksZj1iW2ldLGYuaW5uZXJIVE1MPVwiXCIrZSxvPW4uZWFjaChzLmNhbGwoZi5jaGlsZE5vZGVzKSxmdW5jdGlvbigpe2YucmVtb3ZlQ2hpbGQodGhpcyl9KSksayhyKSYmKGE9bihvKSxuLmVhY2gocixmdW5jdGlvbih0LGUpe3YuaW5kZXhPZih0KT4tMT9hW3RdKGUpOmEuYXR0cih0LGUpfSkpLG99LEMuWj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgVih0LGUpfSxDLmlzWj1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEMuWn0sQy5pbml0PWZ1bmN0aW9uKGUsaSl7dmFyIHI7aWYoIWUpcmV0dXJuIEMuWigpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKWlmKGU9ZS50cmltKCksXCI8XCI9PWVbMF0mJmgudGVzdChlKSlyPUMuZnJhZ21lbnQoZSxSZWdFeHAuJDEsaSksZT1udWxsO2Vsc2V7aWYoaSE9PXQpcmV0dXJuIG4oaSkuZmluZChlKTtyPUMucXNhKHUsZSl9ZWxzZXtpZihBKGUpKXJldHVybiBuKHUpLnJlYWR5KGUpO2lmKEMuaXNaKGUpKXJldHVybiBlO2lmKEQoZSkpcj1GKGUpO2Vsc2UgaWYoUihlKSlyPVtlXSxlPW51bGw7ZWxzZSBpZihoLnRlc3QoZSkpcj1DLmZyYWdtZW50KGUudHJpbSgpLFJlZ0V4cC4kMSxpKSxlPW51bGw7ZWxzZXtpZihpIT09dClyZXR1cm4gbihpKS5maW5kKGUpO3I9Qy5xc2EodSxlKX19cmV0dXJuIEMuWihyLGUpfSxuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEMuaW5pdCh0LGUpfSxuLmV4dGVuZD1mdW5jdGlvbih0KXt2YXIgZSxuPXMuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiB0JiYoZT10LHQ9bi5zaGlmdCgpKSxuLmZvckVhY2goZnVuY3Rpb24obil7Qih0LG4sZSl9KSx0fSxDLnFzYT1mdW5jdGlvbih0LGUpe3ZhciBuLGk9XCIjXCI9PWVbMF0scj0haSYmXCIuXCI9PWVbMF0sbz1pfHxyP2Uuc2xpY2UoMSk6ZSxhPVQudGVzdChvKTtyZXR1cm4gdC5nZXRFbGVtZW50QnlJZCYmYSYmaT8obj10LmdldEVsZW1lbnRCeUlkKG8pKT9bbl06W106MSE9PXQubm9kZVR5cGUmJjkhPT10Lm5vZGVUeXBlJiYxMSE9PXQubm9kZVR5cGU/W106cy5jYWxsKGEmJiFpJiZ0LmdldEVsZW1lbnRzQnlDbGFzc05hbWU/cj90LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobyk6dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTp0LnF1ZXJ5U2VsZWN0b3JBbGwoZSkpfSxuLmNvbnRhaW5zPXUuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHQhPT1lJiZ0LmNvbnRhaW5zKGUpfTpmdW5jdGlvbih0LGUpe2Zvcig7ZSYmKGU9ZS5wYXJlbnROb2RlKTspaWYoZT09PXQpcmV0dXJuITA7cmV0dXJuITF9LG4udHlwZT1MLG4uaXNGdW5jdGlvbj1BLG4uaXNXaW5kb3c9WixuLmlzQXJyYXk9RCxuLmlzUGxhaW5PYmplY3Q9ayxuLmlzRW1wdHlPYmplY3Q9ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGUgaW4gdClyZXR1cm4hMTtyZXR1cm4hMH0sbi5pbkFycmF5PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gci5pbmRleE9mLmNhbGwoZSx0LG4pfSxuLmNhbWVsQ2FzZT1QLG4udHJpbT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD9cIlwiOlN0cmluZy5wcm90b3R5cGUudHJpbS5jYWxsKHQpfSxuLnV1aWQ9MCxuLnN1cHBvcnQ9e30sbi5leHByPXt9LG4ubm9vcD1mdW5jdGlvbigpe30sbi5tYXA9ZnVuY3Rpb24odCxlKXt2YXIgbixyLG8saT1bXTtpZih6KHQpKWZvcihyPTA7cjx0Lmxlbmd0aDtyKyspbj1lKHRbcl0sciksbnVsbCE9biYmaS5wdXNoKG4pO2Vsc2UgZm9yKG8gaW4gdCluPWUodFtvXSxvKSxudWxsIT1uJiZpLnB1c2gobik7cmV0dXJuIF8oaSl9LG4uZWFjaD1mdW5jdGlvbih0LGUpe3ZhciBuLGk7aWYoeih0KSl7Zm9yKG49MDtuPHQubGVuZ3RoO24rKylpZihlLmNhbGwodFtuXSxuLHRbbl0pPT09ITEpcmV0dXJuIHR9ZWxzZSBmb3IoaSBpbiB0KWlmKGUuY2FsbCh0W2ldLGksdFtpXSk9PT0hMSlyZXR1cm4gdDtyZXR1cm4gdH0sbi5ncmVwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGEuY2FsbCh0LGUpfSx3aW5kb3cuSlNPTiYmKG4ucGFyc2VKU09OPUpTT04ucGFyc2UpLG4uZWFjaChcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3JcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24odCxlKXtqW1wiW29iamVjdCBcIitlK1wiXVwiXT1lLnRvTG93ZXJDYXNlKCl9KSxuLmZuPXtjb25zdHJ1Y3RvcjpDLlosbGVuZ3RoOjAsZm9yRWFjaDpyLmZvckVhY2gscmVkdWNlOnIucmVkdWNlLHB1c2g6ci5wdXNoLHNvcnQ6ci5zb3J0LHNwbGljZTpyLnNwbGljZSxpbmRleE9mOnIuaW5kZXhPZixjb25jYXQ6ZnVuY3Rpb24oKXt2YXIgdCxlLG49W107Zm9yKHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWU9YXJndW1lbnRzW3RdLG5bdF09Qy5pc1ooZSk/ZS50b0FycmF5KCk6ZTtyZXR1cm4gby5hcHBseShDLmlzWih0aGlzKT90aGlzLnRvQXJyYXkoKTp0aGlzLG4pfSxtYXA6ZnVuY3Rpb24odCl7cmV0dXJuIG4obi5tYXAodGhpcyxmdW5jdGlvbihlLG4pe3JldHVybiB0LmNhbGwoZSxuLGUpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiBuKHMuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0scmVhZHk6ZnVuY3Rpb24odCl7cmV0dXJuIEUudGVzdCh1LnJlYWR5U3RhdGUpJiZ1LmJvZHk/dChuKTp1LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsZnVuY3Rpb24oKXt0KG4pfSwhMSksdGhpc30sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlPT09dD9zLmNhbGwodGhpcyk6dGhpc1tlPj0wP2U6ZSt0aGlzLmxlbmd0aF19LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoKX0sc2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe251bGwhPXRoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpfSl9LGVhY2g6ZnVuY3Rpb24odCl7cmV0dXJuIHIuZXZlcnkuY2FsbCh0aGlzLGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuY2FsbChlLG4sZSkhPT0hMX0pLHRoaXN9LGZpbHRlcjpmdW5jdGlvbih0KXtyZXR1cm4gQSh0KT90aGlzLm5vdCh0aGlzLm5vdCh0KSk6bihhLmNhbGwodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gQy5tYXRjaGVzKGUsdCl9KSl9LGFkZDpmdW5jdGlvbih0LGUpe3JldHVybiBuKE4odGhpcy5jb25jYXQobih0LGUpKSkpfSxpczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sZW5ndGg+MCYmQy5tYXRjaGVzKHRoaXNbMF0sdCl9LG5vdDpmdW5jdGlvbihlKXt2YXIgaT1bXTtpZihBKGUpJiZlLmNhbGwhPT10KXRoaXMuZWFjaChmdW5jdGlvbih0KXtlLmNhbGwodGhpcyx0KXx8aS5wdXNoKHRoaXMpfSk7ZWxzZXt2YXIgcj1cInN0cmluZ1wiPT10eXBlb2YgZT90aGlzLmZpbHRlcihlKTp6KGUpJiZBKGUuaXRlbSk/cy5jYWxsKGUpOm4oZSk7dGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3IuaW5kZXhPZih0KTwwJiZpLnB1c2godCl9KX1yZXR1cm4gbihpKX0saGFzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBSKHQpP24uY29udGFpbnModGhpcyx0KTpuKHRoaXMpLmZpbmQodCkuc2l6ZSgpfSl9LGVxOmZ1bmN0aW9uKHQpe3JldHVybi0xPT09dD90aGlzLnNsaWNlKHQpOnRoaXMuc2xpY2UodCwrdCsxKX0sZmlyc3Q6ZnVuY3Rpb24oKXt2YXIgdD10aGlzWzBdO3JldHVybiB0JiYhUih0KT90Om4odCl9LGxhc3Q6ZnVuY3Rpb24oKXt2YXIgdD10aGlzW3RoaXMubGVuZ3RoLTFdO3JldHVybiB0JiYhUih0KT90Om4odCl9LGZpbmQ6ZnVuY3Rpb24odCl7dmFyIGUsaT10aGlzO3JldHVybiBlPXQ/XCJvYmplY3RcIj09dHlwZW9mIHQ/bih0KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiByLnNvbWUuY2FsbChpLGZ1bmN0aW9uKGUpe3JldHVybiBuLmNvbnRhaW5zKGUsdCl9KX0pOjE9PXRoaXMubGVuZ3RoP24oQy5xc2EodGhpc1swXSx0KSk6dGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gQy5xc2EodGhpcyx0KX0pOm4oKX0sY2xvc2VzdDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXNbMF0scj0hMTtmb3IoXCJvYmplY3RcIj09dHlwZW9mIHQmJihyPW4odCkpO2kmJiEocj9yLmluZGV4T2YoaSk+PTA6Qy5tYXRjaGVzKGksdCkpOylpPWkhPT1lJiYhJChpKSYmaS5wYXJlbnROb2RlO3JldHVybiBuKGkpfSxwYXJlbnRzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxpPXRoaXM7aS5sZW5ndGg+MDspaT1uLm1hcChpLGZ1bmN0aW9uKHQpe3JldHVybih0PXQucGFyZW50Tm9kZSkmJiEkKHQpJiZlLmluZGV4T2YodCk8MD8oZS5wdXNoKHQpLHQpOnZvaWQgMH0pO3JldHVybiBZKGUsdCl9LHBhcmVudDpmdW5jdGlvbih0KXtyZXR1cm4gWShOKHRoaXMucGx1Y2soXCJwYXJlbnROb2RlXCIpKSx0KX0sY2hpbGRyZW46ZnVuY3Rpb24odCl7cmV0dXJuIFkodGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gWCh0aGlzKX0pLHQpfSxjb250ZW50czpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnREb2N1bWVudHx8cy5jYWxsKHRoaXMuY2hpbGROb2Rlcyl9KX0sc2libGluZ3M6ZnVuY3Rpb24odCl7cmV0dXJuIFkodGhpcy5tYXAoZnVuY3Rpb24odCxlKXtyZXR1cm4gYS5jYWxsKFgoZS5wYXJlbnROb2RlKSxmdW5jdGlvbih0KXtyZXR1cm4gdCE9PWV9KX0pLHQpfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLmlubmVySFRNTD1cIlwifSl9LHBsdWNrOmZ1bmN0aW9uKHQpe3JldHVybiBuLm1hcCh0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiBlW3RdfSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7XCJub25lXCI9PXRoaXMuc3R5bGUuZGlzcGxheSYmKHRoaXMuc3R5bGUuZGlzcGxheT1cIlwiKSxcIm5vbmVcIj09Z2V0Q29tcHV0ZWRTdHlsZSh0aGlzLFwiXCIpLmdldFByb3BlcnR5VmFsdWUoXCJkaXNwbGF5XCIpJiYodGhpcy5zdHlsZS5kaXNwbGF5PVUodGhpcy5ub2RlTmFtZSkpfSl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmJlZm9yZSh0KS5yZW1vdmUoKX0sd3JhcDpmdW5jdGlvbih0KXt2YXIgZT1BKHQpO2lmKHRoaXNbMF0mJiFlKXZhciBpPW4odCkuZ2V0KDApLHI9aS5wYXJlbnROb2RlfHx0aGlzLmxlbmd0aD4xO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24obyl7bih0aGlzKS53cmFwQWxsKGU/dC5jYWxsKHRoaXMsbyk6cj9pLmNsb25lTm9kZSghMCk6aSl9KX0sd3JhcEFsbDpmdW5jdGlvbih0KXtpZih0aGlzWzBdKXtuKHRoaXNbMF0pLmJlZm9yZSh0PW4odCkpO2Zvcih2YXIgZTsoZT10LmNoaWxkcmVuKCkpLmxlbmd0aDspdD1lLmZpcnN0KCk7bih0KS5hcHBlbmQodGhpcyl9cmV0dXJuIHRoaXN9LHdyYXBJbm5lcjpmdW5jdGlvbih0KXt2YXIgZT1BKHQpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaSl7dmFyIHI9bih0aGlzKSxvPXIuY29udGVudHMoKSxhPWU/dC5jYWxsKHRoaXMsaSk6dDtvLmxlbmd0aD9vLndyYXBBbGwoYSk6ci5hcHBlbmQoYSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe24odGhpcykucmVwbGFjZVdpdGgobih0aGlzKS5jaGlsZHJlbigpKX0pLHRoaXN9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmVOb2RlKCEwKX0pfSxoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3NzKFwiZGlzcGxheVwiLFwibm9uZVwiKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpOyhlPT09dD9cIm5vbmVcIj09aS5jc3MoXCJkaXNwbGF5XCIpOmUpP2kuc2hvdygpOmkuaGlkZSgpfSl9LHByZXY6ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcy5wbHVjayhcInByZXZpb3VzRWxlbWVudFNpYmxpbmdcIikpLmZpbHRlcih0fHxcIipcIil9LG5leHQ6ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcy5wbHVjayhcIm5leHRFbGVtZW50U2libGluZ1wiKSkuZmlsdGVyKHR8fFwiKlwiKX0saHRtbDpmdW5jdGlvbih0KXtyZXR1cm4gMCBpbiBhcmd1bWVudHM/dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMuaW5uZXJIVE1MO24odGhpcykuZW1wdHkoKS5hcHBlbmQoSih0aGlzLHQsZSxpKSl9KTowIGluIHRoaXM/dGhpc1swXS5pbm5lckhUTUw6bnVsbH0sdGV4dDpmdW5jdGlvbih0KXtyZXR1cm4gMCBpbiBhcmd1bWVudHM/dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPUoodGhpcyx0LGUsdGhpcy50ZXh0Q29udGVudCk7dGhpcy50ZXh0Q29udGVudD1udWxsPT1uP1wiXCI6XCJcIitufSk6MCBpbiB0aGlzP3RoaXNbMF0udGV4dENvbnRlbnQ6bnVsbH0sYXR0cjpmdW5jdGlvbihuLGkpe3ZhciByO3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBufHwxIGluIGFyZ3VtZW50cz90aGlzLmVhY2goZnVuY3Rpb24odCl7aWYoMT09PXRoaXMubm9kZVR5cGUpaWYoUihuKSlmb3IoZSBpbiBuKVcodGhpcyxlLG5bZV0pO2Vsc2UgVyh0aGlzLG4sSih0aGlzLGksdCx0aGlzLmdldEF0dHJpYnV0ZShuKSkpfSk6dGhpcy5sZW5ndGgmJjE9PT10aGlzWzBdLm5vZGVUeXBlPyEocj10aGlzWzBdLmdldEF0dHJpYnV0ZShuKSkmJm4gaW4gdGhpc1swXT90aGlzWzBdW25dOnI6dH0scmVtb3ZlQXR0cjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7MT09PXRoaXMubm9kZVR5cGUmJnQuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24odCl7Vyh0aGlzLHQpfSx0aGlzKX0pfSxwcm9wOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9TVt0XXx8dCwxIGluIGFyZ3VtZW50cz90aGlzLmVhY2goZnVuY3Rpb24obil7dGhpc1t0XT1KKHRoaXMsZSxuLHRoaXNbdF0pfSk6dGhpc1swXSYmdGhpc1swXVt0XX0sZGF0YTpmdW5jdGlvbihlLG4pe3ZhciBpPVwiZGF0YS1cIitlLnJlcGxhY2UoZyxcIi0kMVwiKS50b0xvd2VyQ2FzZSgpLHI9MSBpbiBhcmd1bWVudHM/dGhpcy5hdHRyKGksbik6dGhpcy5hdHRyKGkpO3JldHVybiBudWxsIT09cj9LKHIpOnR9LHZhbDpmdW5jdGlvbih0KXtyZXR1cm4gMCBpbiBhcmd1bWVudHM/dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe3RoaXMudmFsdWU9Sih0aGlzLHQsZSx0aGlzLnZhbHVlKX0pOnRoaXNbMF0mJih0aGlzWzBdLm11bHRpcGxlP24odGhpc1swXSkuZmluZChcIm9wdGlvblwiKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3RlZH0pLnBsdWNrKFwidmFsdWVcIik6dGhpc1swXS52YWx1ZSl9LG9mZnNldDpmdW5jdGlvbih0KXtpZih0KXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSl7dmFyIGk9bih0aGlzKSxyPUoodGhpcyx0LGUsaS5vZmZzZXQoKSksbz1pLm9mZnNldFBhcmVudCgpLm9mZnNldCgpLGE9e3RvcDpyLnRvcC1vLnRvcCxsZWZ0OnIubGVmdC1vLmxlZnR9O1wic3RhdGljXCI9PWkuY3NzKFwicG9zaXRpb25cIikmJihhLnBvc2l0aW9uPVwicmVsYXRpdmVcIiksaS5jc3MoYSl9KTtpZighdGhpcy5sZW5ndGgpcmV0dXJuIG51bGw7aWYoIW4uY29udGFpbnModS5kb2N1bWVudEVsZW1lbnQsdGhpc1swXSkpcmV0dXJue3RvcDowLGxlZnQ6MH07dmFyIGU9dGhpc1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm57bGVmdDplLmxlZnQrd2luZG93LnBhZ2VYT2Zmc2V0LHRvcDplLnRvcCt3aW5kb3cucGFnZVlPZmZzZXQsd2lkdGg6TWF0aC5yb3VuZChlLndpZHRoKSxoZWlnaHQ6TWF0aC5yb3VuZChlLmhlaWdodCl9fSxjc3M6ZnVuY3Rpb24odCxpKXtpZihhcmd1bWVudHMubGVuZ3RoPDIpe3ZhciByLG89dGhpc1swXTtpZighbylyZXR1cm47aWYocj1nZXRDb21wdXRlZFN0eWxlKG8sXCJcIiksXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIG8uc3R5bGVbUCh0KV18fHIuZ2V0UHJvcGVydHlWYWx1ZSh0KTtpZihEKHQpKXt2YXIgYT17fTtyZXR1cm4gbi5lYWNoKHQsZnVuY3Rpb24odCxlKXthW2VdPW8uc3R5bGVbUChlKV18fHIuZ2V0UHJvcGVydHlWYWx1ZShlKX0pLGF9fXZhciBzPVwiXCI7aWYoXCJzdHJpbmdcIj09TCh0KSlpfHwwPT09aT9zPUkodCkrXCI6XCIrSCh0LGkpOnRoaXMuZWFjaChmdW5jdGlvbigpe3RoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkoSSh0KSl9KTtlbHNlIGZvcihlIGluIHQpdFtlXXx8MD09PXRbZV0/cys9SShlKStcIjpcIitIKGUsdFtlXSkrXCI7XCI6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShJKGUpKX0pO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLnN0eWxlLmNzc1RleHQrPVwiO1wiK3N9KX0saW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dGhpcy5pbmRleE9mKG4odClbMF0pOnRoaXMucGFyZW50KCkuY2hpbGRyZW4oKS5pbmRleE9mKHRoaXNbMF0pfSxoYXNDbGFzczpmdW5jdGlvbih0KXtyZXR1cm4gdD9yLnNvbWUuY2FsbCh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRlc3QoRyh0KSl9LHEodCkpOiExfSxhZGRDbGFzczpmdW5jdGlvbih0KXtyZXR1cm4gdD90aGlzLmVhY2goZnVuY3Rpb24oZSl7aWYoXCJjbGFzc05hbWVcImluIHRoaXMpe2k9W107dmFyIHI9Ryh0aGlzKSxvPUoodGhpcyx0LGUscik7by5zcGxpdCgvXFxzKy9nKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe24odGhpcykuaGFzQ2xhc3ModCl8fGkucHVzaCh0KX0sdGhpcyksaS5sZW5ndGgmJkcodGhpcyxyKyhyP1wiIFwiOlwiXCIpK2kuam9pbihcIiBcIikpfX0pOnRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24obil7aWYoXCJjbGFzc05hbWVcImluIHRoaXMpe2lmKGU9PT10KXJldHVybiBHKHRoaXMsXCJcIik7aT1HKHRoaXMpLEoodGhpcyxlLG4saSkuc3BsaXQoL1xccysvZykuZm9yRWFjaChmdW5jdGlvbih0KXtpPWkucmVwbGFjZShxKHQpLFwiIFwiKX0pLEcodGhpcyxpLnRyaW0oKSl9fSl9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIGU/dGhpcy5lYWNoKGZ1bmN0aW9uKHIpe3ZhciBvPW4odGhpcyksYT1KKHRoaXMsZSxyLEcodGhpcykpO2Euc3BsaXQoL1xccysvZykuZm9yRWFjaChmdW5jdGlvbihlKXsoaT09PXQ/IW8uaGFzQ2xhc3MoZSk6aSk/by5hZGRDbGFzcyhlKTpvLnJlbW92ZUNsYXNzKGUpfSl9KTp0aGlzfSxzY3JvbGxUb3A6ZnVuY3Rpb24oZSl7aWYodGhpcy5sZW5ndGgpe3ZhciBuPVwic2Nyb2xsVG9wXCJpbiB0aGlzWzBdO3JldHVybiBlPT09dD9uP3RoaXNbMF0uc2Nyb2xsVG9wOnRoaXNbMF0ucGFnZVlPZmZzZXQ6dGhpcy5lYWNoKG4/ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbFRvcD1lfTpmdW5jdGlvbigpe3RoaXMuc2Nyb2xsVG8odGhpcy5zY3JvbGxYLGUpfSl9fSxzY3JvbGxMZWZ0OmZ1bmN0aW9uKGUpe2lmKHRoaXMubGVuZ3RoKXt2YXIgbj1cInNjcm9sbExlZnRcImluIHRoaXNbMF07cmV0dXJuIGU9PT10P24/dGhpc1swXS5zY3JvbGxMZWZ0OnRoaXNbMF0ucGFnZVhPZmZzZXQ6dGhpcy5lYWNoKG4/ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbExlZnQ9ZX06ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbFRvKGUsdGhpcy5zY3JvbGxZKX0pfX0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzLmxlbmd0aCl7dmFyIHQ9dGhpc1swXSxlPXRoaXMub2Zmc2V0UGFyZW50KCksaT10aGlzLm9mZnNldCgpLHI9bS50ZXN0KGVbMF0ubm9kZU5hbWUpP3t0b3A6MCxsZWZ0OjB9OmUub2Zmc2V0KCk7cmV0dXJuIGkudG9wLT1wYXJzZUZsb2F0KG4odCkuY3NzKFwibWFyZ2luLXRvcFwiKSl8fDAsaS5sZWZ0LT1wYXJzZUZsb2F0KG4odCkuY3NzKFwibWFyZ2luLWxlZnRcIikpfHwwLHIudG9wKz1wYXJzZUZsb2F0KG4oZVswXSkuY3NzKFwiYm9yZGVyLXRvcC13aWR0aFwiKSl8fDAsci5sZWZ0Kz1wYXJzZUZsb2F0KG4oZVswXSkuY3NzKFwiYm9yZGVyLWxlZnQtd2lkdGhcIikpfHwwLHt0b3A6aS50b3Atci50b3AsbGVmdDppLmxlZnQtci5sZWZ0fX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLm9mZnNldFBhcmVudHx8dS5ib2R5O3QmJiFtLnRlc3QodC5ub2RlTmFtZSkmJlwic3RhdGljXCI9PW4odCkuY3NzKFwicG9zaXRpb25cIik7KXQ9dC5vZmZzZXRQYXJlbnQ7cmV0dXJuIHR9KX19LG4uZm4uZGV0YWNoPW4uZm4ucmVtb3ZlLFtcIndpZHRoXCIsXCJoZWlnaHRcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgaT1lLnJlcGxhY2UoLy4vLGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdLnRvVXBwZXJDYXNlKCl9KTtuLmZuW2VdPWZ1bmN0aW9uKHIpe3ZhciBvLGE9dGhpc1swXTtyZXR1cm4gcj09PXQ/WihhKT9hW1wiaW5uZXJcIitpXTokKGEpP2EuZG9jdW1lbnRFbGVtZW50W1wic2Nyb2xsXCIraV06KG89dGhpcy5vZmZzZXQoKSkmJm9bZV06dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe2E9bih0aGlzKSxhLmNzcyhlLEoodGhpcyxyLHQsYVtlXSgpKSl9KX19KSx5LmZvckVhY2goZnVuY3Rpb24odCxlKXt2YXIgaT1lJTI7bi5mblt0XT1mdW5jdGlvbigpe3ZhciB0LG8scj1uLm1hcChhcmd1bWVudHMsZnVuY3Rpb24oZSl7cmV0dXJuIHQ9TChlKSxcIm9iamVjdFwiPT10fHxcImFycmF5XCI9PXR8fG51bGw9PWU/ZTpDLmZyYWdtZW50KGUpfSksYT10aGlzLmxlbmd0aD4xO3JldHVybiByLmxlbmd0aDwxP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKHQscyl7bz1pP3M6cy5wYXJlbnROb2RlLHM9MD09ZT9zLm5leHRTaWJsaW5nOjE9PWU/cy5maXJzdENoaWxkOjI9PWU/czpudWxsO3ZhciBmPW4uY29udGFpbnModS5kb2N1bWVudEVsZW1lbnQsbyk7ci5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKGEpdD10LmNsb25lTm9kZSghMCk7ZWxzZSBpZighbylyZXR1cm4gbih0KS5yZW1vdmUoKTtvLmluc2VydEJlZm9yZSh0LHMpLGYmJlEodCxmdW5jdGlvbih0KXtudWxsPT10Lm5vZGVOYW1lfHxcIlNDUklQVFwiIT09dC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpfHx0LnR5cGUmJlwidGV4dC9qYXZhc2NyaXB0XCIhPT10LnR5cGV8fHQuc3JjfHx3aW5kb3cuZXZhbC5jYWxsKHdpbmRvdyx0LmlubmVySFRNTCl9KX0pfSl9LG4uZm5baT90K1wiVG9cIjpcImluc2VydFwiKyhlP1wiQmVmb3JlXCI6XCJBZnRlclwiKV09ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSlbdF0odGhpcyksdGhpc319KSxDLloucHJvdG90eXBlPVYucHJvdG90eXBlPW4uZm4sQy51bmlxPU4sQy5kZXNlcmlhbGl6ZVZhbHVlPUssbi56ZXB0bz1DLG59KCk7d2luZG93LlplcHRvPVplcHRvLHZvaWQgMD09PXdpbmRvdy4kJiYod2luZG93LiQ9WmVwdG8pLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGgoZSxuLGkpe3ZhciByPXQuRXZlbnQobik7cmV0dXJuIHQoZSkudHJpZ2dlcihyLGkpLCFyLmlzRGVmYXVsdFByZXZlbnRlZCgpfWZ1bmN0aW9uIHAodCxlLGkscil7cmV0dXJuIHQuZ2xvYmFsP2goZXx8bixpLHIpOnZvaWQgMH1mdW5jdGlvbiBkKGUpe2UuZ2xvYmFsJiYwPT09dC5hY3RpdmUrKyYmcChlLG51bGwsXCJhamF4U3RhcnRcIil9ZnVuY3Rpb24gbShlKXtlLmdsb2JhbCYmIS0tdC5hY3RpdmUmJnAoZSxudWxsLFwiYWpheFN0b3BcIil9ZnVuY3Rpb24gZyh0LGUpe3ZhciBuPWUuY29udGV4dDtyZXR1cm4gZS5iZWZvcmVTZW5kLmNhbGwobix0LGUpPT09ITF8fHAoZSxuLFwiYWpheEJlZm9yZVNlbmRcIixbdCxlXSk9PT0hMT8hMTp2b2lkIHAoZSxuLFwiYWpheFNlbmRcIixbdCxlXSl9ZnVuY3Rpb24gdih0LGUsbixpKXt2YXIgcj1uLmNvbnRleHQsbz1cInN1Y2Nlc3NcIjtuLnN1Y2Nlc3MuY2FsbChyLHQsbyxlKSxpJiZpLnJlc29sdmVXaXRoKHIsW3QsbyxlXSkscChuLHIsXCJhamF4U3VjY2Vzc1wiLFtlLG4sdF0pLHgobyxlLG4pfWZ1bmN0aW9uIHkodCxlLG4saSxyKXt2YXIgbz1pLmNvbnRleHQ7aS5lcnJvci5jYWxsKG8sbixlLHQpLHImJnIucmVqZWN0V2l0aChvLFtuLGUsdF0pLHAoaSxvLFwiYWpheEVycm9yXCIsW24saSx0fHxlXSkseChlLG4saSl9ZnVuY3Rpb24geCh0LGUsbil7dmFyIGk9bi5jb250ZXh0O24uY29tcGxldGUuY2FsbChpLGUsdCkscChuLGksXCJhamF4Q29tcGxldGVcIixbZSxuXSksbShuKX1mdW5jdGlvbiB3KCl7fWZ1bmN0aW9uIGIodCl7cmV0dXJuIHQmJih0PXQuc3BsaXQoXCI7XCIsMilbMF0pLHQmJih0PT1mP1wiaHRtbFwiOnQ9PXU/XCJqc29uXCI6YS50ZXN0KHQpP1wic2NyaXB0XCI6cy50ZXN0KHQpJiZcInhtbFwiKXx8XCJ0ZXh0XCJ9ZnVuY3Rpb24gRSh0LGUpe3JldHVyblwiXCI9PWU/dDoodCtcIiZcIitlKS5yZXBsYWNlKC9bJj9dezEsMn0vLFwiP1wiKX1mdW5jdGlvbiBUKGUpe2UucHJvY2Vzc0RhdGEmJmUuZGF0YSYmXCJzdHJpbmdcIiE9dC50eXBlKGUuZGF0YSkmJihlLmRhdGE9dC5wYXJhbShlLmRhdGEsZS50cmFkaXRpb25hbCkpLCFlLmRhdGF8fGUudHlwZSYmXCJHRVRcIiE9ZS50eXBlLnRvVXBwZXJDYXNlKCl8fChlLnVybD1FKGUudXJsLGUuZGF0YSksZS5kYXRhPXZvaWQgMCl9ZnVuY3Rpb24gaihlLG4saSxyKXtyZXR1cm4gdC5pc0Z1bmN0aW9uKG4pJiYocj1pLGk9bixuPXZvaWQgMCksdC5pc0Z1bmN0aW9uKGkpfHwocj1pLGk9dm9pZCAwKSx7dXJsOmUsZGF0YTpuLHN1Y2Nlc3M6aSxkYXRhVHlwZTpyfX1mdW5jdGlvbiBDKGUsbixpLHIpe3ZhciBvLGE9dC5pc0FycmF5KG4pLHM9dC5pc1BsYWluT2JqZWN0KG4pO3QuZWFjaChuLGZ1bmN0aW9uKG4sdSl7bz10LnR5cGUodSksciYmKG49aT9yOnIrXCJbXCIrKHN8fFwib2JqZWN0XCI9PW98fFwiYXJyYXlcIj09bz9uOlwiXCIpK1wiXVwiKSwhciYmYT9lLmFkZCh1Lm5hbWUsdS52YWx1ZSk6XCJhcnJheVwiPT1vfHwhaSYmXCJvYmplY3RcIj09bz9DKGUsdSxpLG4pOmUuYWRkKG4sdSl9KX12YXIgaSxyLGU9MCxuPXdpbmRvdy5kb2N1bWVudCxvPS88c2NyaXB0XFxiW148XSooPzooPyE8XFwvc2NyaXB0Pik8W148XSopKjxcXC9zY3JpcHQ+L2dpLGE9L14oPzp0ZXh0fGFwcGxpY2F0aW9uKVxcL2phdmFzY3JpcHQvaSxzPS9eKD86dGV4dHxhcHBsaWNhdGlvbilcXC94bWwvaSx1PVwiYXBwbGljYXRpb24vanNvblwiLGY9XCJ0ZXh0L2h0bWxcIixjPS9eXFxzKiQvLGw9bi5jcmVhdGVFbGVtZW50KFwiYVwiKTtsLmhyZWY9d2luZG93LmxvY2F0aW9uLmhyZWYsdC5hY3RpdmU9MCx0LmFqYXhKU09OUD1mdW5jdGlvbihpLHIpe2lmKCEoXCJ0eXBlXCJpbiBpKSlyZXR1cm4gdC5hamF4KGkpO3ZhciBmLGgsbz1pLmpzb25wQ2FsbGJhY2ssYT0odC5pc0Z1bmN0aW9uKG8pP28oKTpvKXx8XCJqc29ucFwiKyArK2Uscz1uLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksdT13aW5kb3dbYV0sYz1mdW5jdGlvbihlKXt0KHMpLnRyaWdnZXJIYW5kbGVyKFwiZXJyb3JcIixlfHxcImFib3J0XCIpfSxsPXthYm9ydDpjfTtyZXR1cm4gciYmci5wcm9taXNlKGwpLHQocykub24oXCJsb2FkIGVycm9yXCIsZnVuY3Rpb24oZSxuKXtjbGVhclRpbWVvdXQoaCksdChzKS5vZmYoKS5yZW1vdmUoKSxcImVycm9yXCIhPWUudHlwZSYmZj92KGZbMF0sbCxpLHIpOnkobnVsbCxufHxcImVycm9yXCIsbCxpLHIpLHdpbmRvd1thXT11LGYmJnQuaXNGdW5jdGlvbih1KSYmdShmWzBdKSx1PWY9dm9pZCAwfSksZyhsLGkpPT09ITE/KGMoXCJhYm9ydFwiKSxsKTood2luZG93W2FdPWZ1bmN0aW9uKCl7Zj1hcmd1bWVudHN9LHMuc3JjPWkudXJsLnJlcGxhY2UoL1xcPyguKyk9XFw/LyxcIj8kMT1cIithKSxuLmhlYWQuYXBwZW5kQ2hpbGQocyksaS50aW1lb3V0PjAmJihoPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtjKFwidGltZW91dFwiKX0saS50aW1lb3V0KSksbCl9LHQuYWpheFNldHRpbmdzPXt0eXBlOlwiR0VUXCIsYmVmb3JlU2VuZDp3LHN1Y2Nlc3M6dyxlcnJvcjp3LGNvbXBsZXRlOncsY29udGV4dDpudWxsLGdsb2JhbDohMCx4aHI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdH0sYWNjZXB0czp7c2NyaXB0OlwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi94LWphdmFzY3JpcHRcIixqc29uOnUseG1sOlwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLGh0bWw6Zix0ZXh0OlwidGV4dC9wbGFpblwifSxjcm9zc0RvbWFpbjohMSx0aW1lb3V0OjAscHJvY2Vzc0RhdGE6ITAsY2FjaGU6ITB9LHQuYWpheD1mdW5jdGlvbihlKXt2YXIgcyx1LG89dC5leHRlbmQoe30sZXx8e30pLGE9dC5EZWZlcnJlZCYmdC5EZWZlcnJlZCgpO2ZvcihpIGluIHQuYWpheFNldHRpbmdzKXZvaWQgMD09PW9baV0mJihvW2ldPXQuYWpheFNldHRpbmdzW2ldKTtkKG8pLG8uY3Jvc3NEb21haW58fChzPW4uY3JlYXRlRWxlbWVudChcImFcIikscy5ocmVmPW8udXJsLHMuaHJlZj1zLmhyZWYsby5jcm9zc0RvbWFpbj1sLnByb3RvY29sK1wiLy9cIitsLmhvc3QhPXMucHJvdG9jb2wrXCIvL1wiK3MuaG9zdCksby51cmx8fChvLnVybD13aW5kb3cubG9jYXRpb24udG9TdHJpbmcoKSksKHU9by51cmwuaW5kZXhPZihcIiNcIikpPi0xJiYoby51cmw9by51cmwuc2xpY2UoMCx1KSksVChvKTt2YXIgZj1vLmRhdGFUeXBlLGg9L1xcPy4rPVxcPy8udGVzdChvLnVybCk7aWYoaCYmKGY9XCJqc29ucFwiKSxvLmNhY2hlIT09ITEmJihlJiZlLmNhY2hlPT09ITB8fFwic2NyaXB0XCIhPWYmJlwianNvbnBcIiE9Zil8fChvLnVybD1FKG8udXJsLFwiXz1cIitEYXRlLm5vdygpKSksXCJqc29ucFwiPT1mKXJldHVybiBofHwoby51cmw9RShvLnVybCxvLmpzb25wP28uanNvbnArXCI9P1wiOm8uanNvbnA9PT0hMT9cIlwiOlwiY2FsbGJhY2s9P1wiKSksdC5hamF4SlNPTlAobyxhKTt2YXIgUCxwPW8uYWNjZXB0c1tmXSxtPXt9LHg9ZnVuY3Rpb24odCxlKXttW3QudG9Mb3dlckNhc2UoKV09W3QsZV19LGo9L14oW1xcdy1dKzopXFwvXFwvLy50ZXN0KG8udXJsKT9SZWdFeHAuJDE6d2luZG93LmxvY2F0aW9uLnByb3RvY29sLFM9by54aHIoKSxDPVMuc2V0UmVxdWVzdEhlYWRlcjtpZihhJiZhLnByb21pc2UoUyksby5jcm9zc0RvbWFpbnx8eChcIlgtUmVxdWVzdGVkLVdpdGhcIixcIlhNTEh0dHBSZXF1ZXN0XCIpLHgoXCJBY2NlcHRcIixwfHxcIiovKlwiKSwocD1vLm1pbWVUeXBlfHxwKSYmKHAuaW5kZXhPZihcIixcIik+LTEmJihwPXAuc3BsaXQoXCIsXCIsMilbMF0pLFMub3ZlcnJpZGVNaW1lVHlwZSYmUy5vdmVycmlkZU1pbWVUeXBlKHApKSwoby5jb250ZW50VHlwZXx8by5jb250ZW50VHlwZSE9PSExJiZvLmRhdGEmJlwiR0VUXCIhPW8udHlwZS50b1VwcGVyQ2FzZSgpKSYmeChcIkNvbnRlbnQtVHlwZVwiLG8uY29udGVudFR5cGV8fFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpLG8uaGVhZGVycylmb3IociBpbiBvLmhlYWRlcnMpeChyLG8uaGVhZGVyc1tyXSk7aWYoUy5zZXRSZXF1ZXN0SGVhZGVyPXgsUy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZig0PT1TLnJlYWR5U3RhdGUpe1Mub25yZWFkeXN0YXRlY2hhbmdlPXcsY2xlYXJUaW1lb3V0KFApO3ZhciBlLG49ITE7aWYoUy5zdGF0dXM+PTIwMCYmUy5zdGF0dXM8MzAwfHwzMDQ9PVMuc3RhdHVzfHwwPT1TLnN0YXR1cyYmXCJmaWxlOlwiPT1qKXtmPWZ8fGIoby5taW1lVHlwZXx8Uy5nZXRSZXNwb25zZUhlYWRlcihcImNvbnRlbnQtdHlwZVwiKSksZT1TLnJlc3BvbnNlVGV4dDt0cnl7XCJzY3JpcHRcIj09Zj8oMSxldmFsKShlKTpcInhtbFwiPT1mP2U9Uy5yZXNwb25zZVhNTDpcImpzb25cIj09ZiYmKGU9Yy50ZXN0KGUpP251bGw6dC5wYXJzZUpTT04oZSkpfWNhdGNoKGkpe249aX1uP3kobixcInBhcnNlcmVycm9yXCIsUyxvLGEpOnYoZSxTLG8sYSl9ZWxzZSB5KFMuc3RhdHVzVGV4dHx8bnVsbCxTLnN0YXR1cz9cImVycm9yXCI6XCJhYm9ydFwiLFMsbyxhKX19LGcoUyxvKT09PSExKXJldHVybiBTLmFib3J0KCkseShudWxsLFwiYWJvcnRcIixTLG8sYSksUztpZihvLnhockZpZWxkcylmb3IociBpbiBvLnhockZpZWxkcylTW3JdPW8ueGhyRmllbGRzW3JdO3ZhciBOPVwiYXN5bmNcImluIG8/by5hc3luYzohMDtTLm9wZW4oby50eXBlLG8udXJsLE4sby51c2VybmFtZSxvLnBhc3N3b3JkKTtmb3IociBpbiBtKUMuYXBwbHkoUyxtW3JdKTtyZXR1cm4gby50aW1lb3V0PjAmJihQPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtTLm9ucmVhZHlzdGF0ZWNoYW5nZT13LFMuYWJvcnQoKSx5KG51bGwsXCJ0aW1lb3V0XCIsUyxvLGEpfSxvLnRpbWVvdXQpKSxTLnNlbmQoby5kYXRhP28uZGF0YTpudWxsKSxTfSx0LmdldD1mdW5jdGlvbigpe3JldHVybiB0LmFqYXgoai5hcHBseShudWxsLGFyZ3VtZW50cykpfSx0LnBvc3Q9ZnVuY3Rpb24oKXt2YXIgZT1qLmFwcGx5KG51bGwsYXJndW1lbnRzKTtyZXR1cm4gZS50eXBlPVwiUE9TVFwiLHQuYWpheChlKX0sdC5nZXRKU09OPWZ1bmN0aW9uKCl7dmFyIGU9ai5hcHBseShudWxsLGFyZ3VtZW50cyk7cmV0dXJuIGUuZGF0YVR5cGU9XCJqc29uXCIsdC5hamF4KGUpfSx0LmZuLmxvYWQ9ZnVuY3Rpb24oZSxuLGkpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4gdGhpczt2YXIgcyxyPXRoaXMsYT1lLnNwbGl0KC9cXHMvKSx1PWooZSxuLGkpLGY9dS5zdWNjZXNzO3JldHVybiBhLmxlbmd0aD4xJiYodS51cmw9YVswXSxzPWFbMV0pLHUuc3VjY2Vzcz1mdW5jdGlvbihlKXtyLmh0bWwocz90KFwiPGRpdj5cIikuaHRtbChlLnJlcGxhY2UobyxcIlwiKSkuZmluZChzKTplKSxmJiZmLmFwcGx5KHIsYXJndW1lbnRzKX0sdC5hamF4KHUpLHRoaXN9O3ZhciBTPWVuY29kZVVSSUNvbXBvbmVudDt0LnBhcmFtPWZ1bmN0aW9uKGUsbil7dmFyIGk9W107cmV0dXJuIGkuYWRkPWZ1bmN0aW9uKGUsbil7dC5pc0Z1bmN0aW9uKG4pJiYobj1uKCkpLG51bGw9PW4mJihuPVwiXCIpLHRoaXMucHVzaChTKGUpK1wiPVwiK1MobikpfSxDKGksZSxuKSxpLmpvaW4oXCImXCIpLnJlcGxhY2UoLyUyMC9nLFwiK1wiKX19KFplcHRvKSxmdW5jdGlvbih0KXtmdW5jdGlvbiBsKHQpe3JldHVybiB0Ll96aWR8fCh0Ll96aWQ9ZSsrKX1mdW5jdGlvbiBoKHQsZSxuLGkpe2lmKGU9cChlKSxlLm5zKXZhciByPWQoZS5ucyk7cmV0dXJuKGFbbCh0KV18fFtdKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQmJighZS5lfHx0LmU9PWUuZSkmJighZS5uc3x8ci50ZXN0KHQubnMpKSYmKCFufHxsKHQuZm4pPT09bChuKSkmJighaXx8dC5zZWw9PWkpfSl9ZnVuY3Rpb24gcCh0KXt2YXIgZT0oXCJcIit0KS5zcGxpdChcIi5cIik7cmV0dXJue2U6ZVswXSxuczplLnNsaWNlKDEpLnNvcnQoKS5qb2luKFwiIFwiKX19ZnVuY3Rpb24gZCh0KXtyZXR1cm4gbmV3IFJlZ0V4cChcIig/Ol58IClcIit0LnJlcGxhY2UoXCIgXCIsXCIgLiogP1wiKStcIig/OiB8JClcIil9ZnVuY3Rpb24gbSh0LGUpe3JldHVybiB0LmRlbCYmIXUmJnQuZSBpbiBmfHwhIWV9ZnVuY3Rpb24gZyh0KXtyZXR1cm4gY1t0XXx8dSYmZlt0XXx8dH1mdW5jdGlvbiB2KGUsaSxyLG8scyx1LGYpe3ZhciBoPWwoZSksZD1hW2hdfHwoYVtoXT1bXSk7aS5zcGxpdCgvXFxzLykuZm9yRWFjaChmdW5jdGlvbihpKXtpZihcInJlYWR5XCI9PWkpcmV0dXJuIHQoZG9jdW1lbnQpLnJlYWR5KHIpO3ZhciBhPXAoaSk7YS5mbj1yLGEuc2VsPXMsYS5lIGluIGMmJihyPWZ1bmN0aW9uKGUpe3ZhciBuPWUucmVsYXRlZFRhcmdldDtyZXR1cm4hbnx8biE9PXRoaXMmJiF0LmNvbnRhaW5zKHRoaXMsbik/YS5mbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfSksYS5kZWw9dTt2YXIgbD11fHxyO2EucHJveHk9ZnVuY3Rpb24odCl7aWYodD1UKHQpLCF0LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpe3QuZGF0YT1vO3ZhciBpPWwuYXBwbHkoZSx0Ll9hcmdzPT1uP1t0XTpbdF0uY29uY2F0KHQuX2FyZ3MpKTtyZXR1cm4gaT09PSExJiYodC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCkpLGl9fSxhLmk9ZC5sZW5ndGgsZC5wdXNoKGEpLFwiYWRkRXZlbnRMaXN0ZW5lclwiaW4gZSYmZS5hZGRFdmVudExpc3RlbmVyKGcoYS5lKSxhLnByb3h5LG0oYSxmKSl9KX1mdW5jdGlvbiB5KHQsZSxuLGkscil7dmFyIG89bCh0KTsoZXx8XCJcIikuc3BsaXQoL1xccy8pLmZvckVhY2goZnVuY3Rpb24oZSl7aCh0LGUsbixpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2RlbGV0ZSBhW29dW2UuaV0sXCJyZW1vdmVFdmVudExpc3RlbmVyXCJpbiB0JiZ0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZyhlLmUpLGUucHJveHksbShlLHIpKX0pfSl9ZnVuY3Rpb24gVChlLGkpe3JldHVybihpfHwhZS5pc0RlZmF1bHRQcmV2ZW50ZWQpJiYoaXx8KGk9ZSksdC5lYWNoKEUsZnVuY3Rpb24odCxuKXt2YXIgcj1pW3RdO2VbdF09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tuXT14LHImJnIuYXBwbHkoaSxhcmd1bWVudHMpfSxlW25dPXd9KSwoaS5kZWZhdWx0UHJldmVudGVkIT09bj9pLmRlZmF1bHRQcmV2ZW50ZWQ6XCJyZXR1cm5WYWx1ZVwiaW4gaT9pLnJldHVyblZhbHVlPT09ITE6aS5nZXRQcmV2ZW50RGVmYXVsdCYmaS5nZXRQcmV2ZW50RGVmYXVsdCgpKSYmKGUuaXNEZWZhdWx0UHJldmVudGVkPXgpKSxlfWZ1bmN0aW9uIGoodCl7dmFyIGUsaT17b3JpZ2luYWxFdmVudDp0fTtmb3IoZSBpbiB0KWIudGVzdChlKXx8dFtlXT09PW58fChpW2VdPXRbZV0pO3JldHVybiBUKGksdCl9dmFyIG4sZT0xLGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLHI9dC5pc0Z1bmN0aW9uLG89ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHR9LGE9e30scz17fSx1PVwib25mb2N1c2luXCJpbiB3aW5kb3csZj17Zm9jdXM6XCJmb2N1c2luXCIsYmx1cjpcImZvY3Vzb3V0XCJ9LGM9e21vdXNlZW50ZXI6XCJtb3VzZW92ZXJcIixtb3VzZWxlYXZlOlwibW91c2VvdXRcIn07cy5jbGljaz1zLm1vdXNlZG93bj1zLm1vdXNldXA9cy5tb3VzZW1vdmU9XCJNb3VzZUV2ZW50c1wiLHQuZXZlbnQ9e2FkZDp2LHJlbW92ZTp5fSx0LnByb3h5PWZ1bmN0aW9uKGUsbil7dmFyIGE9MiBpbiBhcmd1bWVudHMmJmkuY2FsbChhcmd1bWVudHMsMik7aWYocihlKSl7dmFyIHM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseShuLGE/YS5jb25jYXQoaS5jYWxsKGFyZ3VtZW50cykpOmFyZ3VtZW50cyl9O3JldHVybiBzLl96aWQ9bChlKSxzfWlmKG8obikpcmV0dXJuIGE/KGEudW5zaGlmdChlW25dLGUpLHQucHJveHkuYXBwbHkobnVsbCxhKSk6dC5wcm94eShlW25dLGUpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJleHBlY3RlZCBmdW5jdGlvblwiKX0sdC5mbi5iaW5kPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5vbih0LGUsbil9LHQuZm4udW5iaW5kPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMub2ZmKHQsZSl9LHQuZm4ub25lPWZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0aGlzLm9uKHQsZSxuLGksMSl9O3ZhciB4PWZ1bmN0aW9uKCl7cmV0dXJuITB9LHc9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sYj0vXihbQS1aXXxyZXR1cm5WYWx1ZSR8bGF5ZXJbWFldJCkvLEU9e3ByZXZlbnREZWZhdWx0OlwiaXNEZWZhdWx0UHJldmVudGVkXCIsc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOlwiaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWRcIixzdG9wUHJvcGFnYXRpb246XCJpc1Byb3BhZ2F0aW9uU3RvcHBlZFwifTt0LmZuLmRlbGVnYXRlPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5vbihlLHQsbil9LHQuZm4udW5kZWxlZ2F0ZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMub2ZmKGUsdCxuKX0sdC5mbi5saXZlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQoZG9jdW1lbnQuYm9keSkuZGVsZWdhdGUodGhpcy5zZWxlY3RvcixlLG4pLHRoaXN9LHQuZm4uZGllPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHQoZG9jdW1lbnQuYm9keSkudW5kZWxlZ2F0ZSh0aGlzLnNlbGVjdG9yLGUsbiksdGhpc30sdC5mbi5vbj1mdW5jdGlvbihlLGEscyx1LGYpe3ZhciBjLGwsaD10aGlzO3JldHVybiBlJiYhbyhlKT8odC5lYWNoKGUsZnVuY3Rpb24odCxlKXtoLm9uKHQsYSxzLGUsZil9KSxoKToobyhhKXx8cih1KXx8dT09PSExfHwodT1zLHM9YSxhPW4pLCh1PT09bnx8cz09PSExKSYmKHU9cyxzPW4pLHU9PT0hMSYmKHU9dyksaC5lYWNoKGZ1bmN0aW9uKG4scil7ZiYmKGM9ZnVuY3Rpb24odCl7cmV0dXJuIHkocix0LnR5cGUsdSksdS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxhJiYobD1mdW5jdGlvbihlKXt2YXIgbixvPXQoZS50YXJnZXQpLmNsb3Nlc3QoYSxyKS5nZXQoMCk7cmV0dXJuIG8mJm8hPT1yPyhuPXQuZXh0ZW5kKGooZSkse2N1cnJlbnRUYXJnZXQ6byxsaXZlRmlyZWQ6cn0pLChjfHx1KS5hcHBseShvLFtuXS5jb25jYXQoaS5jYWxsKGFyZ3VtZW50cywxKSkpKTp2b2lkIDB9KSx2KHIsZSx1LHMsYSxsfHxjKX0pKX0sdC5mbi5vZmY9ZnVuY3Rpb24oZSxpLGEpe3ZhciBzPXRoaXM7cmV0dXJuIGUmJiFvKGUpPyh0LmVhY2goZSxmdW5jdGlvbih0LGUpe3Mub2ZmKHQsaSxlKX0pLHMpOihvKGkpfHxyKGEpfHxhPT09ITF8fChhPWksaT1uKSxhPT09ITEmJihhPXcpLHMuZWFjaChmdW5jdGlvbigpe3kodGhpcyxlLGEsaSl9KSl9LHQuZm4udHJpZ2dlcj1mdW5jdGlvbihlLG4pe3JldHVybiBlPW8oZSl8fHQuaXNQbGFpbk9iamVjdChlKT90LkV2ZW50KGUpOlQoZSksZS5fYXJncz1uLHRoaXMuZWFjaChmdW5jdGlvbigpe2UudHlwZSBpbiBmJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzW2UudHlwZV0/dGhpc1tlLnR5cGVdKCk6XCJkaXNwYXRjaEV2ZW50XCJpbiB0aGlzP3RoaXMuZGlzcGF0Y2hFdmVudChlKTp0KHRoaXMpLnRyaWdnZXJIYW5kbGVyKGUsbil9KX0sdC5mbi50cmlnZ2VySGFuZGxlcj1mdW5jdGlvbihlLG4pe3ZhciBpLHI7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihhLHMpe2k9aihvKGUpP3QuRXZlbnQoZSk6ZSksaS5fYXJncz1uLGkudGFyZ2V0PXMsdC5lYWNoKGgocyxlLnR5cGV8fGUpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHI9ZS5wcm94eShpKSxpLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCk/ITE6dm9pZCAwfSl9KSxyfSxcImZvY3VzaW4gZm9jdXNvdXQgZm9jdXMgYmx1ciBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvclwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuZm5bZV09ZnVuY3Rpb24odCl7cmV0dXJuIDAgaW4gYXJndW1lbnRzP3RoaXMuYmluZChlLHQpOnRoaXMudHJpZ2dlcihlKX19KSx0LkV2ZW50PWZ1bmN0aW9uKHQsZSl7byh0KXx8KGU9dCx0PWUudHlwZSk7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoc1t0XXx8XCJFdmVudHNcIiksaT0hMDtpZihlKWZvcih2YXIgciBpbiBlKVwiYnViYmxlc1wiPT1yP2k9ISFlW3JdOm5bcl09ZVtyXTtyZXR1cm4gbi5pbml0RXZlbnQodCxpLCEwKSxUKG4pfX0oWmVwdG8pLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGEobyxhKXt2YXIgdT1vW3JdLGY9dSYmZVt1XTtpZih2b2lkIDA9PT1hKXJldHVybiBmfHxzKG8pO2lmKGYpe2lmKGEgaW4gZilyZXR1cm4gZlthXTt2YXIgYz1pKGEpO2lmKGMgaW4gZilyZXR1cm4gZltjXX1yZXR1cm4gbi5jYWxsKHQobyksYSl9ZnVuY3Rpb24gcyhuLG8sYSl7dmFyIHM9bltyXXx8KG5bcl09Kyt0LnV1aWQpLGY9ZVtzXXx8KGVbc109dShuKSk7cmV0dXJuIHZvaWQgMCE9PW8mJihmW2kobyldPWEpLGZ9ZnVuY3Rpb24gdShlKXt2YXIgbj17fTtyZXR1cm4gdC5lYWNoKGUuYXR0cmlidXRlc3x8byxmdW5jdGlvbihlLHIpezA9PXIubmFtZS5pbmRleE9mKFwiZGF0YS1cIikmJihuW2koci5uYW1lLnJlcGxhY2UoXCJkYXRhLVwiLFwiXCIpKV09dC56ZXB0by5kZXNlcmlhbGl6ZVZhbHVlKHIudmFsdWUpKX0pLG59dmFyIGU9e30sbj10LmZuLmRhdGEsaT10LmNhbWVsQ2FzZSxyPXQuZXhwYW5kbz1cIlplcHRvXCIrICtuZXcgRGF0ZSxvPVtdO3QuZm4uZGF0YT1mdW5jdGlvbihlLG4pe3JldHVybiB2b2lkIDA9PT1uP3QuaXNQbGFpbk9iamVjdChlKT90aGlzLmVhY2goZnVuY3Rpb24obixpKXt0LmVhY2goZSxmdW5jdGlvbih0LGUpe3MoaSx0LGUpfSl9KTowIGluIHRoaXM/YSh0aGlzWzBdLGUpOnZvaWQgMDp0aGlzLmVhY2goZnVuY3Rpb24oKXtzKHRoaXMsZSxuKX0pfSx0LmZuLnJlbW92ZURhdGE9ZnVuY3Rpb24obil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIG4mJihuPW4uc3BsaXQoL1xccysvKSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG89dGhpc1tyXSxhPW8mJmVbb107YSYmdC5lYWNoKG58fGEsZnVuY3Rpb24odCl7ZGVsZXRlIGFbbj9pKHRoaXMpOnRdfSl9KX0sW1wicmVtb3ZlXCIsXCJlbXB0eVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPXQuZm5bZV07dC5mbltlXT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZmluZChcIipcIik7cmV0dXJuXCJyZW1vdmVcIj09PWUmJih0PXQuYWRkKHRoaXMpKSx0LnJlbW92ZURhdGEoKSxuLmNhbGwodGhpcyl9fSl9KFplcHRvKSxmdW5jdGlvbih0KXt0LmZuLnNlcmlhbGl6ZUFycmF5PWZ1bmN0aW9uKCl7dmFyIGUsbixpPVtdLHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZm9yRWFjaD90LmZvckVhY2gocik6dm9pZCBpLnB1c2goe25hbWU6ZSx2YWx1ZTp0fSl9O3JldHVybiB0aGlzWzBdJiZ0LmVhY2godGhpc1swXS5lbGVtZW50cyxmdW5jdGlvbihpLG8pe249by50eXBlLGU9by5uYW1lLGUmJlwiZmllbGRzZXRcIiE9by5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYhby5kaXNhYmxlZCYmXCJzdWJtaXRcIiE9biYmXCJyZXNldFwiIT1uJiZcImJ1dHRvblwiIT1uJiZcImZpbGVcIiE9biYmKFwicmFkaW9cIiE9biYmXCJjaGVja2JveFwiIT1ufHxvLmNoZWNrZWQpJiZyKHQobykudmFsKCkpfSksaX0sdC5mbi5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdGhpcy5zZXJpYWxpemVBcnJheSgpLmZvckVhY2goZnVuY3Rpb24oZSl7dC5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChlLm5hbWUpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChlLnZhbHVlKSl9KSx0LmpvaW4oXCImXCIpfSx0LmZuLnN1Ym1pdD1mdW5jdGlvbihlKXtpZigwIGluIGFyZ3VtZW50cyl0aGlzLmJpbmQoXCJzdWJtaXRcIixlKTtlbHNlIGlmKHRoaXMubGVuZ3RoKXt2YXIgbj10LkV2ZW50KFwic3VibWl0XCIpO3RoaXMuZXEoMCkudHJpZ2dlcihuKSxuLmlzRGVmYXVsdFByZXZlbnRlZCgpfHx0aGlzLmdldCgwKS5zdWJtaXQoKX1yZXR1cm4gdGhpc319KFplcHRvKSxmdW5jdGlvbih0KXtmdW5jdGlvbiB1KHQsZSxuLGkpe3JldHVybiBNYXRoLmFicyh0LWUpPj1NYXRoLmFicyhuLWkpP3QtZT4wP1wiTGVmdFwiOlwiUmlnaHRcIjpuLWk+MD9cIlVwXCI6XCJEb3duXCJ9ZnVuY3Rpb24gZigpe289bnVsbCxlLmxhc3QmJihlLmVsLnRyaWdnZXIoXCJsb25nVGFwXCIpLGU9e30pfWZ1bmN0aW9uIGMoKXtvJiZjbGVhclRpbWVvdXQobyksbz1udWxsfWZ1bmN0aW9uIGwoKXtuJiZjbGVhclRpbWVvdXQobiksaSYmY2xlYXJUaW1lb3V0KGkpLHImJmNsZWFyVGltZW91dChyKSxvJiZjbGVhclRpbWVvdXQobyksbj1pPXI9bz1udWxsLGU9e319ZnVuY3Rpb24gaCh0KXtyZXR1cm4oXCJ0b3VjaFwiPT10LnBvaW50ZXJUeXBlfHx0LnBvaW50ZXJUeXBlPT10Lk1TUE9JTlRFUl9UWVBFX1RPVUNIKSYmdC5pc1ByaW1hcnl9ZnVuY3Rpb24gcCh0LGUpe3JldHVybiB0LnR5cGU9PVwicG9pbnRlclwiK2V8fHQudHlwZS50b0xvd2VyQ2FzZSgpPT1cIm1zcG9pbnRlclwiK2V9dmFyIG4saSxyLG8scyxlPXt9LGE9NzUwO3QoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7dmFyIGQsbSx5LHgsZz0wLHY9MDtcIk1TR2VzdHVyZVwiaW4gd2luZG93JiYocz1uZXcgTVNHZXN0dXJlLHMudGFyZ2V0PWRvY3VtZW50LmJvZHkpLHQoZG9jdW1lbnQpLmJpbmQoXCJNU0dlc3R1cmVFbmRcIixmdW5jdGlvbih0KXt2YXIgbj10LnZlbG9jaXR5WD4xP1wiUmlnaHRcIjp0LnZlbG9jaXR5WDwtMT9cIkxlZnRcIjp0LnZlbG9jaXR5WT4xP1wiRG93blwiOnQudmVsb2NpdHlZPC0xP1wiVXBcIjpudWxsO24mJihlLmVsLnRyaWdnZXIoXCJzd2lwZVwiKSxlLmVsLnRyaWdnZXIoXCJzd2lwZVwiK24pKX0pLm9uKFwidG91Y2hzdGFydCBNU1BvaW50ZXJEb3duIHBvaW50ZXJkb3duXCIsZnVuY3Rpb24oaSl7KCEoeD1wKGksXCJkb3duXCIpKXx8aChpKSkmJih5PXg/aTppLnRvdWNoZXNbMF0saS50b3VjaGVzJiYxPT09aS50b3VjaGVzLmxlbmd0aCYmZS54MiYmKGUueDI9dm9pZCAwLGUueTI9dm9pZCAwKSxkPURhdGUubm93KCksbT1kLShlLmxhc3R8fGQpLGUuZWw9dChcInRhZ05hbWVcImluIHkudGFyZ2V0P3kudGFyZ2V0OnkudGFyZ2V0LnBhcmVudE5vZGUpLG4mJmNsZWFyVGltZW91dChuKSxlLngxPXkucGFnZVgsZS55MT15LnBhZ2VZLG0+MCYmMjUwPj1tJiYoZS5pc0RvdWJsZVRhcD0hMCksZS5sYXN0PWQsbz1zZXRUaW1lb3V0KGYsYSkscyYmeCYmcy5hZGRQb2ludGVyKGkucG9pbnRlcklkKSl9KS5vbihcInRvdWNobW92ZSBNU1BvaW50ZXJNb3ZlIHBvaW50ZXJtb3ZlXCIsZnVuY3Rpb24odCl7KCEoeD1wKHQsXCJtb3ZlXCIpKXx8aCh0KSkmJih5PXg/dDp0LnRvdWNoZXNbMF0sYygpLGUueDI9eS5wYWdlWCxlLnkyPXkucGFnZVksZys9TWF0aC5hYnMoZS54MS1lLngyKSx2Kz1NYXRoLmFicyhlLnkxLWUueTIpKX0pLm9uKFwidG91Y2hlbmQgTVNQb2ludGVyVXAgcG9pbnRlcnVwXCIsZnVuY3Rpb24obyl7KCEoeD1wKG8sXCJ1cFwiKSl8fGgobykpJiYoYygpLGUueDImJk1hdGguYWJzKGUueDEtZS54Mik+MzB8fGUueTImJk1hdGguYWJzKGUueTEtZS55Mik+MzA/cj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5lbC50cmlnZ2VyKFwic3dpcGVcIiksZS5lbC50cmlnZ2VyKFwic3dpcGVcIit1KGUueDEsZS54MixlLnkxLGUueTIpKSxlPXt9fSwwKTpcImxhc3RcImluIGUmJigzMD5nJiYzMD52P2k9c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBpPXQuRXZlbnQoXCJ0YXBcIik7aS5jYW5jZWxUb3VjaD1sLGUuZWwudHJpZ2dlcihpKSxlLmlzRG91YmxlVGFwPyhlLmVsJiZlLmVsLnRyaWdnZXIoXCJkb3VibGVUYXBcIiksZT17fSk6bj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bj1udWxsLGUuZWwmJmUuZWwudHJpZ2dlcihcInNpbmdsZVRhcFwiKSxlPXt9fSwyNTApfSwwKTplPXt9KSxnPXY9MCl9KS5vbihcInRvdWNoY2FuY2VsIE1TUG9pbnRlckNhbmNlbCBwb2ludGVyY2FuY2VsXCIsbCksdCh3aW5kb3cpLm9uKFwic2Nyb2xsXCIsbCl9KSxbXCJzd2lwZVwiLFwic3dpcGVMZWZ0XCIsXCJzd2lwZVJpZ2h0XCIsXCJzd2lwZVVwXCIsXCJzd2lwZURvd25cIixcImRvdWJsZVRhcFwiLFwidGFwXCIsXCJzaW5nbGVUYXBcIixcImxvbmdUYXBcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt0LmZuW2VdPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9uKGUsdCl9fSl9KFplcHRvKSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHYodCl7cmV0dXJuIHQucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvLFwiJDEtJDJcIikudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiB5KHQpe3JldHVybiBpP2krdDp0LnRvTG93ZXJDYXNlKCl9dmFyIGkscyx1LGYsYyxsLGgscCxkLG0sbj1cIlwiLHI9e1dlYmtpdDpcIndlYmtpdFwiLE1vejpcIlwiLE86XCJvXCJ9LG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxhPS9eKCh0cmFuc2xhdGV8cm90YXRlfHNjYWxlKShYfFl8WnwzZCk/fG1hdHJpeCgzZCk/fHBlcnNwZWN0aXZlfHNrZXcoWHxZKT8pJC9pLGc9e307dC5lYWNoKHIsZnVuY3Rpb24odCxyKXtyZXR1cm4gby5zdHlsZVt0K1wiVHJhbnNpdGlvblByb3BlcnR5XCJdIT09ZT8obj1cIi1cIit0LnRvTG93ZXJDYXNlKCkrXCItXCIsaT1yLCExKTp2b2lkIDB9KSxzPW4rXCJ0cmFuc2Zvcm1cIixnW3U9bitcInRyYW5zaXRpb24tcHJvcGVydHlcIl09Z1tmPW4rXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCJdPWdbbD1uK1widHJhbnNpdGlvbi1kZWxheVwiXT1nW2M9bitcInRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uXCJdPWdbaD1uK1wiYW5pbWF0aW9uLW5hbWVcIl09Z1twPW4rXCJhbmltYXRpb24tZHVyYXRpb25cIl09Z1ttPW4rXCJhbmltYXRpb24tZGVsYXlcIl09Z1tkPW4rXCJhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uXCJdPVwiXCIsdC5meD17b2ZmOmk9PT1lJiZvLnN0eWxlLnRyYW5zaXRpb25Qcm9wZXJ0eT09PWUsc3BlZWRzOntfZGVmYXVsdDo0MDAsZmFzdDoyMDAsc2xvdzo2MDB9LGNzc1ByZWZpeDpuLHRyYW5zaXRpb25FbmQ6eShcIlRyYW5zaXRpb25FbmRcIiksYW5pbWF0aW9uRW5kOnkoXCJBbmltYXRpb25FbmRcIil9LHQuZm4uYW5pbWF0ZT1mdW5jdGlvbihuLGkscixvLGEpe3JldHVybiB0LmlzRnVuY3Rpb24oaSkmJihvPWkscj1lLGk9ZSksdC5pc0Z1bmN0aW9uKHIpJiYobz1yLHI9ZSksdC5pc1BsYWluT2JqZWN0KGkpJiYocj1pLmVhc2luZyxvPWkuY29tcGxldGUsYT1pLmRlbGF5LGk9aS5kdXJhdGlvbiksaSYmKGk9KFwibnVtYmVyXCI9PXR5cGVvZiBpP2k6dC5meC5zcGVlZHNbaV18fHQuZnguc3BlZWRzLl9kZWZhdWx0KS8xZTMpLGEmJihhPXBhcnNlRmxvYXQoYSkvMWUzKSx0aGlzLmFuaW0obixpLHIsbyxhKX0sdC5mbi5hbmltPWZ1bmN0aW9uKG4saSxyLG8seSl7dmFyIHgsYixqLHc9e30sRT1cIlwiLFQ9dGhpcyxTPXQuZngudHJhbnNpdGlvbkVuZCxDPSExO2lmKGk9PT1lJiYoaT10LmZ4LnNwZWVkcy5fZGVmYXVsdC8xZTMpLHk9PT1lJiYoeT0wKSx0LmZ4Lm9mZiYmKGk9MCksXCJzdHJpbmdcIj09dHlwZW9mIG4pd1toXT1uLHdbcF09aStcInNcIix3W21dPXkrXCJzXCIsd1tkXT1yfHxcImxpbmVhclwiLFM9dC5meC5hbmltYXRpb25FbmQ7ZWxzZXtiPVtdO2Zvcih4IGluIG4pYS50ZXN0KHgpP0UrPXgrXCIoXCIrblt4XStcIikgXCI6KHdbeF09blt4XSxiLnB1c2godih4KSkpO0UmJih3W3NdPUUsYi5wdXNoKHMpKSxpPjAmJlwib2JqZWN0XCI9PXR5cGVvZiBuJiYod1t1XT1iLmpvaW4oXCIsIFwiKSx3W2ZdPWkrXCJzXCIsd1tsXT15K1wic1wiLHdbY109cnx8XCJsaW5lYXJcIil9cmV0dXJuIGo9ZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUpe2lmKGUudGFyZ2V0IT09ZS5jdXJyZW50VGFyZ2V0KXJldHVybjt0KGUudGFyZ2V0KS51bmJpbmQoUyxqKX1lbHNlIHQodGhpcykudW5iaW5kKFMsaik7Qz0hMCx0KHRoaXMpLmNzcyhnKSxvJiZvLmNhbGwodGhpcyl9LGk+MCYmKHRoaXMuYmluZChTLGopLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtDfHxqLmNhbGwoVCl9LDFlMyooaSt5KSsyNSkpLHRoaXMuc2l6ZSgpJiZ0aGlzLmdldCgwKS5jbGllbnRMZWZ0LHRoaXMuY3NzKHcpLDA+PWkmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtULmVhY2goZnVuY3Rpb24oKXtqLmNhbGwodGhpcyl9KX0sMCksdGhpc30sbz1udWxsfShaZXB0byksZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBzKG4saSxyLG8sYSl7XCJmdW5jdGlvblwiIT10eXBlb2YgaXx8YXx8KGE9aSxpPWUpO3ZhciBzPXtvcGFjaXR5OnJ9O3JldHVybiBvJiYocy5zY2FsZT1vLG4uY3NzKHQuZnguY3NzUHJlZml4K1widHJhbnNmb3JtLW9yaWdpblwiLFwiMCAwXCIpKSxuLmFuaW1hdGUocyxpLG51bGwsYSl9ZnVuY3Rpb24gdShlLG4saSxyKXtyZXR1cm4gcyhlLG4sMCxpLGZ1bmN0aW9uKCl7by5jYWxsKHQodGhpcykpLHImJnIuY2FsbCh0aGlzKX0pfXZhciBuPXdpbmRvdy5kb2N1bWVudCxyPShuLmRvY3VtZW50RWxlbWVudCx0LmZuLnNob3cpLG89dC5mbi5oaWRlLGE9dC5mbi50b2dnbGU7dC5mbi5zaG93PWZ1bmN0aW9uKHQsbil7cmV0dXJuIHIuY2FsbCh0aGlzKSx0PT09ZT90PTA6dGhpcy5jc3MoXCJvcGFjaXR5XCIsMCkscyh0aGlzLHQsMSxcIjEsMVwiLG4pfSx0LmZuLmhpZGU9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdD09PWU/by5jYWxsKHRoaXMpOnUodGhpcyx0LFwiMCwwXCIsbil9LHQuZm4udG9nZ2xlPWZ1bmN0aW9uKG4saSl7cmV0dXJuIG49PT1lfHxcImJvb2xlYW5cIj09dHlwZW9mIG4/YS5jYWxsKHRoaXMsbik6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKTtlW1wibm9uZVwiPT1lLmNzcyhcImRpc3BsYXlcIik/XCJzaG93XCI6XCJoaWRlXCJdKG4saSl9KX0sdC5mbi5mYWRlVG89ZnVuY3Rpb24odCxlLG4pe3JldHVybiBzKHRoaXMsdCxlLG51bGwsbil9LHQuZm4uZmFkZUluPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5jc3MoXCJvcGFjaXR5XCIpO3JldHVybiBuPjA/dGhpcy5jc3MoXCJvcGFjaXR5XCIsMCk6bj0xLHIuY2FsbCh0aGlzKS5mYWRlVG8odCxuLGUpfSx0LmZuLmZhZGVPdXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdSh0aGlzLHQsbnVsbCxlKX0sdC5mbi5mYWRlVG9nZ2xlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPXQodGhpcyk7aVswPT1pLmNzcyhcIm9wYWNpdHlcIil8fFwibm9uZVwiPT1pLmNzcyhcImRpc3BsYXlcIik/XCJmYWRlSW5cIjpcImZhZGVPdXRcIl0oZSxuKX0pfX0oWmVwdG8pO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9qcy96ZXB0by5taW4uanNcbiAqKiBtb2R1bGUgaWQgPSA3XG4gKiogbW9kdWxlIGNodW5rcyA9IDJcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 8 */
/***/ function(module, exports, __webpack_require__) {

	eval("/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n/*!\n * iScroll v4.2.5 ~ Copyright (c) 2012 Matteo Spinelli, http://cubiq.org\n * Released under MIT license, http://cubiq.org/license\n */\n(function(window, doc){\nvar m = Math,\n\tdummyStyle = doc.createElement('div').style,\n\tvendor = (function () {\n\t\tvar vendors = 't,webkitT,MozT,msT,OT'.split(','),\n\t\t\tt,\n\t\t\ti = 0,\n\t\t\tl = vendors.length;\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tt = vendors[i] + 'ransform';\n\t\t\tif ( t in dummyStyle ) {\n\t\t\t\treturn vendors[i].substr(0, vendors[i].length - 1);\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})(),\n\tcssVendor = vendor ? '-' + vendor.toLowerCase() + '-' : '',\n\n\t// Style properties\n\ttransform = prefixStyle('transform'),\n\ttransitionProperty = prefixStyle('transitionProperty'),\n\ttransitionDuration = prefixStyle('transitionDuration'),\n\ttransformOrigin = prefixStyle('transformOrigin'),\n\ttransitionTimingFunction = prefixStyle('transitionTimingFunction'),\n\ttransitionDelay = prefixStyle('transitionDelay'),\n\n    // Browser capabilities\n\tisAndroid = (/android/gi).test(navigator.appVersion),\n\tisIDevice = (/iphone|ipad/gi).test(navigator.appVersion),\n\tisTouchPad = (/hp-tablet/gi).test(navigator.appVersion),\n\n    has3d = prefixStyle('perspective') in dummyStyle,\n    hasTouch = 'ontouchstart' in window && !isTouchPad,\n    hasTransform = vendor !== false,\n    hasTransitionEnd = prefixStyle('transition') in dummyStyle,\n\n\tRESIZE_EV = 'onorientationchange' in window ? 'orientationchange' : 'resize',\n\tSTART_EV = hasTouch ? 'touchstart' : 'mousedown',\n\tMOVE_EV = hasTouch ? 'touchmove' : 'mousemove',\n\tEND_EV = hasTouch ? 'touchend' : 'mouseup',\n\tCANCEL_EV = hasTouch ? 'touchcancel' : 'mouseup',\n\tTRNEND_EV = (function () {\n\t\tif ( vendor === false ) return false;\n\n\t\tvar transitionEnd = {\n\t\t\t\t''\t\t\t: 'transitionend',\n\t\t\t\t'webkit'\t: 'webkitTransitionEnd',\n\t\t\t\t'Moz'\t\t: 'transitionend',\n\t\t\t\t'O'\t\t\t: 'otransitionend',\n\t\t\t\t'ms'\t\t: 'MSTransitionEnd'\n\t\t\t};\n\n\t\treturn transitionEnd[vendor];\n\t})(),\n\n\tnextFrame = (function() {\n\t\treturn window.requestAnimationFrame ||\n\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\twindow.oRequestAnimationFrame ||\n\t\t\twindow.msRequestAnimationFrame ||\n\t\t\tfunction(callback) { return setTimeout(callback, 1); };\n\t})(),\n\tcancelFrame = (function () {\n\t\treturn window.cancelRequestAnimationFrame ||\n\t\t\twindow.webkitCancelAnimationFrame ||\n\t\t\twindow.webkitCancelRequestAnimationFrame ||\n\t\t\twindow.mozCancelRequestAnimationFrame ||\n\t\t\twindow.oCancelRequestAnimationFrame ||\n\t\t\twindow.msCancelRequestAnimationFrame ||\n\t\t\tclearTimeout;\n\t})(),\n\n\t// Helpers\n\ttranslateZ = has3d ? ' translateZ(0)' : '',\n\n\t// Constructor\n\tiScroll = function (el, options) {\n\t\tvar that = this,\n\t\t\ti;\n\n\t\tthat.wrapper = typeof el == 'object' ? el : doc.getElementById(el);\n\t\tthat.wrapper.style.overflow = 'hidden';\n\t\tthat.scroller = that.wrapper.children[0];\n\n\t\t// Default options\n\t\tthat.options = {\n\t\t\thScroll: true,\n\t\t\tvScroll: true,\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t\tbounce: true,\n\t\t\tbounceLock: false,\n\t\t\tmomentum: true,\n\t\t\tlockDirection: true,\n\t\t\tuseTransform: true,\n\t\t\tuseTransition: false,\n\t\t\ttopOffset: 0,\n\t\t\tcheckDOMChanges: false,\t\t// Experimental\n\t\t\thandleClick: true,\n\n\t\t\t// Scrollbar\n\t\t\thScrollbar: true,\n\t\t\tvScrollbar: true,\n\t\t\tfixedScrollbar: isAndroid,\n\t\t\thideScrollbar: isIDevice,\n\t\t\tfadeScrollbar: isIDevice && has3d,\n\t\t\tscrollbarClass: '',\n\n\t\t\t// Zoom\n\t\t\tzoom: false,\n\t\t\tzoomMin: 1,\n\t\t\tzoomMax: 4,\n\t\t\tdoubleTapZoom: 2,\n\t\t\twheelAction: 'scroll',\n\n\t\t\t// Snap\n\t\t\tsnap: false,\n\t\t\tsnapThreshold: 1,\n\n\t\t\t// Events\n\t\t\tonRefresh: null,\n\t\t\tonBeforeScrollStart: function (e) { e.preventDefault(); },\n\t\t\tonScrollStart: null,\n\t\t\tonBeforeScrollMove: null,\n\t\t\tonScrollMove: null,\n\t\t\tonBeforeScrollEnd: null,\n\t\t\tonScrollEnd: null,\n\t\t\tonTouchEnd: null,\n\t\t\tonDestroy: null,\n\t\t\tonZoomStart: null,\n\t\t\tonZoom: null,\n\t\t\tonZoomEnd: null\n\t\t};\n\n\t\t// User defined options\n\t\tfor (i in options) that.options[i] = options[i];\n\t\t\n\t\t// Set starting position\n\t\tthat.x = that.options.x;\n\t\tthat.y = that.options.y;\n\n\t\t// Normalize options\n\t\tthat.options.useTransform = hasTransform && that.options.useTransform;\n\t\tthat.options.hScrollbar = that.options.hScroll && that.options.hScrollbar;\n\t\tthat.options.vScrollbar = that.options.vScroll && that.options.vScrollbar;\n\t\tthat.options.zoom = that.options.useTransform && that.options.zoom;\n\t\tthat.options.useTransition = hasTransitionEnd && that.options.useTransition;\n\n\t\t// Helpers FIX ANDROID BUG!\n\t\t// translate3d and scale doesn't work together!\n\t\t// Ignoring 3d ONLY WHEN YOU SET that.options.zoom\n\t\tif ( that.options.zoom && isAndroid ){\n\t\t\ttranslateZ = '';\n\t\t}\n\t\t\n\t\t// Set some default styles\n\t\tthat.scroller.style[transitionProperty] = that.options.useTransform ? cssVendor + 'transform' : 'top left';\n\t\tthat.scroller.style[transitionDuration] = '0';\n\t\tthat.scroller.style[transformOrigin] = '0 0';\n\t\tif (that.options.useTransition) that.scroller.style[transitionTimingFunction] = 'cubic-bezier(0.33,0.66,0.66,1)';\n\t\t\n\t\tif (that.options.useTransform) that.scroller.style[transform] = 'translate(' + that.x + 'px,' + that.y + 'px)' + translateZ;\n\t\telse that.scroller.style.cssText += ';position:absolute;top:' + that.y + 'px;left:' + that.x + 'px';\n\n\t\tif (that.options.useTransition) that.options.fixedScrollbar = true;\n\n\t\tthat.refresh();\n\n\t\tthat._bind(RESIZE_EV, window);\n\t\tthat._bind(START_EV);\n\t\tif (!hasTouch) {\n\t\t\tif (that.options.wheelAction != 'none') {\n\t\t\t\tthat._bind('DOMMouseScroll');\n\t\t\t\tthat._bind('mousewheel');\n\t\t\t}\n\t\t}\n\n\t\tif (that.options.checkDOMChanges) that.checkDOMTime = setInterval(function () {\n\t\t\tthat._checkDOMChanges();\n\t\t}, 500);\n\t};\n\n// Prototype\niScroll.prototype = {\n\tenabled: true,\n\tx: 0,\n\ty: 0,\n\tsteps: [],\n\tscale: 1,\n\tcurrPageX: 0, currPageY: 0,\n\tpagesX: [], pagesY: [],\n\taniTime: null,\n\twheelZoomCount: 0,\n\t\n\thandleEvent: function (e) {\n\t\tvar that = this;\n\t\tswitch(e.type) {\n\t\t\tcase START_EV:\n\t\t\t\tif (!hasTouch && e.button !== 0) return;\n\t\t\t\tthat._start(e);\n\t\t\t\tbreak;\n\t\t\tcase MOVE_EV: that._move(e); break;\n\t\t\tcase END_EV:\n\t\t\tcase CANCEL_EV: that._end(e); break;\n\t\t\tcase RESIZE_EV: that._resize(); break;\n\t\t\tcase 'DOMMouseScroll': case 'mousewheel': that._wheel(e); break;\n\t\t\tcase TRNEND_EV: that._transitionEnd(e); break;\n\t\t}\n\t},\n\t\n\t_checkDOMChanges: function () {\n\t\tif (this.moved || this.zoomed || this.animating ||\n\t\t\t(this.scrollerW == this.scroller.offsetWidth * this.scale && this.scrollerH == this.scroller.offsetHeight * this.scale)) return;\n\n\t\tthis.refresh();\n\t},\n\t\n\t_scrollbar: function (dir) {\n\t\tvar that = this,\n\t\t\tbar;\n\n\t\tif (!that[dir + 'Scrollbar']) {\n\t\t\tif (that[dir + 'ScrollbarWrapper']) {\n\t\t\t\tif (hasTransform) that[dir + 'ScrollbarIndicator'].style[transform] = '';\n\t\t\t\tthat[dir + 'ScrollbarWrapper'].parentNode.removeChild(that[dir + 'ScrollbarWrapper']);\n\t\t\t\tthat[dir + 'ScrollbarWrapper'] = null;\n\t\t\t\tthat[dir + 'ScrollbarIndicator'] = null;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (!that[dir + 'ScrollbarWrapper']) {\n\t\t\t// Create the scrollbar wrapper\n\t\t\tbar = doc.createElement('div');\n\n\t\t\tif (that.options.scrollbarClass) bar.className = that.options.scrollbarClass + dir.toUpperCase();\n\t\t\telse bar.style.cssText = 'position:absolute;z-index:100;' + (dir == 'h' ? 'height:7px;bottom:1px;left:2px;right:' + (that.vScrollbar ? '7' : '2') + 'px' : 'width:7px;bottom:' + (that.hScrollbar ? '7' : '2') + 'px;top:2px;right:1px');\n\n\t\t\tbar.style.cssText += ';pointer-events:none;' + cssVendor + 'transition-property:opacity;' + cssVendor + 'transition-duration:' + (that.options.fadeScrollbar ? '350ms' : '0') + ';overflow:hidden;opacity:' + (that.options.hideScrollbar ? '0' : '1');\n\n\t\t\tthat.wrapper.appendChild(bar);\n\t\t\tthat[dir + 'ScrollbarWrapper'] = bar;\n\n\t\t\t// Create the scrollbar indicator\n\t\t\tbar = doc.createElement('div');\n\t\t\tif (!that.options.scrollbarClass) {\n\t\t\t\tbar.style.cssText = 'position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);' + cssVendor + 'background-clip:padding-box;' + cssVendor + 'box-sizing:border-box;' + (dir == 'h' ? 'height:100%' : 'width:100%') + ';' + cssVendor + 'border-radius:3px;border-radius:3px';\n\t\t\t}\n\t\t\tbar.style.cssText += ';pointer-events:none;' + cssVendor + 'transition-property:' + cssVendor + 'transform;' + cssVendor + 'transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);' + cssVendor + 'transition-duration:0;' + cssVendor + 'transform: translate(0,0)' + translateZ;\n\t\t\tif (that.options.useTransition) bar.style.cssText += ';' + cssVendor + 'transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)';\n\n\t\t\tthat[dir + 'ScrollbarWrapper'].appendChild(bar);\n\t\t\tthat[dir + 'ScrollbarIndicator'] = bar;\n\t\t}\n\n\t\tif (dir == 'h') {\n\t\t\tthat.hScrollbarSize = that.hScrollbarWrapper.clientWidth;\n\t\t\tthat.hScrollbarIndicatorSize = m.max(m.round(that.hScrollbarSize * that.hScrollbarSize / that.scrollerW), 8);\n\t\t\tthat.hScrollbarIndicator.style.width = that.hScrollbarIndicatorSize + 'px';\n\t\t\tthat.hScrollbarMaxScroll = that.hScrollbarSize - that.hScrollbarIndicatorSize;\n\t\t\tthat.hScrollbarProp = that.hScrollbarMaxScroll / that.maxScrollX;\n\t\t} else {\n\t\t\tthat.vScrollbarSize = that.vScrollbarWrapper.clientHeight;\n\t\t\tthat.vScrollbarIndicatorSize = m.max(m.round(that.vScrollbarSize * that.vScrollbarSize / that.scrollerH), 8);\n\t\t\tthat.vScrollbarIndicator.style.height = that.vScrollbarIndicatorSize + 'px';\n\t\t\tthat.vScrollbarMaxScroll = that.vScrollbarSize - that.vScrollbarIndicatorSize;\n\t\t\tthat.vScrollbarProp = that.vScrollbarMaxScroll / that.maxScrollY;\n\t\t}\n\n\t\t// Reset position\n\t\tthat._scrollbarPos(dir, true);\n\t},\n\t\n\t_resize: function () {\n\t\tvar that = this;\n\t\tsetTimeout(function () { that.refresh(); }, isAndroid ? 200 : 0);\n\t},\n\t\n\t_pos: function (x, y) {\n\t\tif (this.zoomed) return;\n\n\t\tx = this.hScroll ? x : 0;\n\t\ty = this.vScroll ? y : 0;\n\n\t\tif (this.options.useTransform) {\n\t\t\tthis.scroller.style[transform] = 'translate(' + x + 'px,' + y + 'px) scale(' + this.scale + ')' + translateZ;\n\t\t} else {\n\t\t\tx = m.round(x);\n\t\t\ty = m.round(y);\n\t\t\tthis.scroller.style.left = x + 'px';\n\t\t\tthis.scroller.style.top = y + 'px';\n\t\t}\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\tthis._scrollbarPos('h');\n\t\tthis._scrollbarPos('v');\n\t},\n\n\t_scrollbarPos: function (dir, hidden) {\n\t\tvar that = this,\n\t\t\tpos = dir == 'h' ? that.x : that.y,\n\t\t\tsize;\n\n\t\tif (!that[dir + 'Scrollbar']) return;\n\n\t\tpos = that[dir + 'ScrollbarProp'] * pos;\n\n\t\tif (pos < 0) {\n\t\t\tif (!that.options.fixedScrollbar) {\n\t\t\t\tsize = that[dir + 'ScrollbarIndicatorSize'] + m.round(pos * 3);\n\t\t\t\tif (size < 8) size = 8;\n\t\t\t\tthat[dir + 'ScrollbarIndicator'].style[dir == 'h' ? 'width' : 'height'] = size + 'px';\n\t\t\t}\n\t\t\tpos = 0;\n\t\t} else if (pos > that[dir + 'ScrollbarMaxScroll']) {\n\t\t\tif (!that.options.fixedScrollbar) {\n\t\t\t\tsize = that[dir + 'ScrollbarIndicatorSize'] - m.round((pos - that[dir + 'ScrollbarMaxScroll']) * 3);\n\t\t\t\tif (size < 8) size = 8;\n\t\t\t\tthat[dir + 'ScrollbarIndicator'].style[dir == 'h' ? 'width' : 'height'] = size + 'px';\n\t\t\t\tpos = that[dir + 'ScrollbarMaxScroll'] + (that[dir + 'ScrollbarIndicatorSize'] - size);\n\t\t\t} else {\n\t\t\t\tpos = that[dir + 'ScrollbarMaxScroll'];\n\t\t\t}\n\t\t}\n\n\t\tthat[dir + 'ScrollbarWrapper'].style[transitionDelay] = '0';\n\t\tthat[dir + 'ScrollbarWrapper'].style.opacity = hidden && that.options.hideScrollbar ? '0' : '1';\n\t\tthat[dir + 'ScrollbarIndicator'].style[transform] = 'translate(' + (dir == 'h' ? pos + 'px,0)' : '0,' + pos + 'px)') + translateZ;\n\t},\n\t\n\t_start: function (e) {\n\t\tvar that = this,\n\t\t\tpoint = hasTouch ? e.touches[0] : e,\n\t\t\tmatrix, x, y,\n\t\t\tc1, c2;\n\n\t\tif (!that.enabled) return;\n\n\t\tif (that.options.onBeforeScrollStart) that.options.onBeforeScrollStart.call(that, e);\n\n\t\tif (that.options.useTransition || that.options.zoom) that._transitionTime(0);\n\n\t\tthat.moved = false;\n\t\tthat.animating = false;\n\t\tthat.zoomed = false;\n\t\tthat.distX = 0;\n\t\tthat.distY = 0;\n\t\tthat.absDistX = 0;\n\t\tthat.absDistY = 0;\n\t\tthat.dirX = 0;\n\t\tthat.dirY = 0;\n\n\t\t// Gesture start\n\t\tif (that.options.zoom && hasTouch && e.touches.length > 1) {\n\t\t\tc1 = m.abs(e.touches[0].pageX-e.touches[1].pageX);\n\t\t\tc2 = m.abs(e.touches[0].pageY-e.touches[1].pageY);\n\t\t\tthat.touchesDistStart = m.sqrt(c1 * c1 + c2 * c2);\n\n\t\t\tthat.originX = m.abs(e.touches[0].pageX + e.touches[1].pageX - that.wrapperOffsetLeft * 2) / 2 - that.x;\n\t\t\tthat.originY = m.abs(e.touches[0].pageY + e.touches[1].pageY - that.wrapperOffsetTop * 2) / 2 - that.y;\n\n\t\t\tif (that.options.onZoomStart) that.options.onZoomStart.call(that, e);\n\t\t}\n\n\t\tif (that.options.momentum) {\n\t\t\tif (that.options.useTransform) {\n\t\t\t\t// Very lame general purpose alternative to CSSMatrix\n\t\t\t\tmatrix = getComputedStyle(that.scroller, null)[transform].replace(/[^0-9\\-.,]/g, '').split(',');\n\t\t\t\tx = +(matrix[12] || matrix[4]);\n\t\t\t\ty = +(matrix[13] || matrix[5]);\n\t\t\t} else {\n\t\t\t\tx = +getComputedStyle(that.scroller, null).left.replace(/[^0-9-]/g, '');\n\t\t\t\ty = +getComputedStyle(that.scroller, null).top.replace(/[^0-9-]/g, '');\n\t\t\t}\n\t\t\t\n\t\t\tif (x != that.x || y != that.y) {\n\t\t\t\tif (that.options.useTransition) that._unbind(TRNEND_EV);\n\t\t\t\telse cancelFrame(that.aniTime);\n\t\t\t\tthat.steps = [];\n\t\t\t\tthat._pos(x, y);\n\t\t\t\tif (that.options.onScrollEnd) that.options.onScrollEnd.call(that);\n\t\t\t}\n\t\t}\n\n\t\tthat.absStartX = that.x;\t// Needed by snap threshold\n\t\tthat.absStartY = that.y;\n\n\t\tthat.startX = that.x;\n\t\tthat.startY = that.y;\n\t\tthat.pointX = point.pageX;\n\t\tthat.pointY = point.pageY;\n\n\t\tthat.startTime = e.timeStamp || Date.now();\n\n\t\tif (that.options.onScrollStart) that.options.onScrollStart.call(that, e);\n\n\t\tthat._bind(MOVE_EV, window);\n\t\tthat._bind(END_EV, window);\n\t\tthat._bind(CANCEL_EV, window);\n\t},\n\t\n\t_move: function (e) {\n\t\tvar that = this,\n\t\t\tpoint = hasTouch ? e.touches[0] : e,\n\t\t\tdeltaX = point.pageX - that.pointX,\n\t\t\tdeltaY = point.pageY - that.pointY,\n\t\t\tnewX = that.x + deltaX,\n\t\t\tnewY = that.y + deltaY,\n\t\t\tc1, c2, scale,\n\t\t\ttimestamp = e.timeStamp || Date.now();\n\n\t\tif (that.options.onBeforeScrollMove) that.options.onBeforeScrollMove.call(that, e);\n\n\t\t// Zoom\n\t\tif (that.options.zoom && hasTouch && e.touches.length > 1) {\n\t\t\tc1 = m.abs(e.touches[0].pageX - e.touches[1].pageX);\n\t\t\tc2 = m.abs(e.touches[0].pageY - e.touches[1].pageY);\n\t\t\tthat.touchesDist = m.sqrt(c1*c1+c2*c2);\n\n\t\t\tthat.zoomed = true;\n\n\t\t\tscale = 1 / that.touchesDistStart * that.touchesDist * this.scale;\n\n\t\t\tif (scale < that.options.zoomMin) scale = 0.5 * that.options.zoomMin * Math.pow(2.0, scale / that.options.zoomMin);\n\t\t\telse if (scale > that.options.zoomMax) scale = 2.0 * that.options.zoomMax * Math.pow(0.5, that.options.zoomMax / scale);\n\n\t\t\tthat.lastScale = scale / this.scale;\n\n\t\t\tnewX = this.originX - this.originX * that.lastScale + this.x;\n\t\t\tnewY = this.originY - this.originY * that.lastScale + this.y;\n\n\t\t\tthis.scroller.style[transform] = 'translate(' + newX + 'px,' + newY + 'px) scale(' + scale + ')' + translateZ;\n\n\t\t\tif (that.options.onZoom) that.options.onZoom.call(that, e);\n\t\t\treturn;\n\t\t}\n\n\t\tthat.pointX = point.pageX;\n\t\tthat.pointY = point.pageY;\n\n\t\t// Slow down if outside of the boundaries\n\t\tif (newX > 0 || newX < that.maxScrollX) {\n\t\t\tnewX = that.options.bounce ? that.x + (deltaX / 2) : newX >= 0 || that.maxScrollX >= 0 ? 0 : that.maxScrollX;\n\t\t}\n\t\tif (newY > that.minScrollY || newY < that.maxScrollY) {\n\t\t\tnewY = that.options.bounce ? that.y + (deltaY / 2) : newY >= that.minScrollY || that.maxScrollY >= 0 ? that.minScrollY : that.maxScrollY;\n\t\t}\n\n\t\tthat.distX += deltaX;\n\t\tthat.distY += deltaY;\n\t\tthat.absDistX = m.abs(that.distX);\n\t\tthat.absDistY = m.abs(that.distY);\n\n\t\tif (that.absDistX < 6 && that.absDistY < 6) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Lock direction\n\t\tif (that.options.lockDirection) {\n\t\t\tif (that.absDistX > that.absDistY + 5) {\n\t\t\t\tnewY = that.y;\n\t\t\t\tdeltaY = 0;\n\t\t\t} else if (that.absDistY > that.absDistX + 5) {\n\t\t\t\tnewX = that.x;\n\t\t\t\tdeltaX = 0;\n\t\t\t}\n\t\t}\n\n\t\tthat.moved = true;\n\t\tthat._pos(newX, newY);\n\t\tthat.dirX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0;\n\t\tthat.dirY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0;\n\n\t\tif (timestamp - that.startTime > 300) {\n\t\t\tthat.startTime = timestamp;\n\t\t\tthat.startX = that.x;\n\t\t\tthat.startY = that.y;\n\t\t}\n\t\t\n\t\tif (that.options.onScrollMove) that.options.onScrollMove.call(that, e);\n\t},\n\t\n\t_end: function (e) {\n\t\tif (hasTouch && e.touches.length !== 0) return;\n\n\t\tvar that = this,\n\t\t\tpoint = hasTouch ? e.changedTouches[0] : e,\n\t\t\ttarget, ev,\n\t\t\tmomentumX = { dist:0, time:0 },\n\t\t\tmomentumY = { dist:0, time:0 },\n\t\t\tduration = (e.timeStamp || Date.now()) - that.startTime,\n\t\t\tnewPosX = that.x,\n\t\t\tnewPosY = that.y,\n\t\t\tdistX, distY,\n\t\t\tnewDuration,\n\t\t\tsnap,\n\t\t\tscale;\n\n\t\tthat._unbind(MOVE_EV, window);\n\t\tthat._unbind(END_EV, window);\n\t\tthat._unbind(CANCEL_EV, window);\n\n\t\tif (that.options.onBeforeScrollEnd) that.options.onBeforeScrollEnd.call(that, e);\n\n\t\tif (that.zoomed) {\n\t\t\tscale = that.scale * that.lastScale;\n\t\t\tscale = Math.max(that.options.zoomMin, scale);\n\t\t\tscale = Math.min(that.options.zoomMax, scale);\n\t\t\tthat.lastScale = scale / that.scale;\n\t\t\tthat.scale = scale;\n\n\t\t\tthat.x = that.originX - that.originX * that.lastScale + that.x;\n\t\t\tthat.y = that.originY - that.originY * that.lastScale + that.y;\n\t\t\t\n\t\t\tthat.scroller.style[transitionDuration] = '200ms';\n\t\t\tthat.scroller.style[transform] = 'translate(' + that.x + 'px,' + that.y + 'px) scale(' + that.scale + ')' + translateZ;\n\t\t\t\n\t\t\tthat.zoomed = false;\n\t\t\tthat.refresh();\n\n\t\t\tif (that.options.onZoomEnd) that.options.onZoomEnd.call(that, e);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!that.moved) {\n\t\t\tif (hasTouch) {\n\t\t\t\tif (that.doubleTapTimer && that.options.zoom) {\n\t\t\t\t\t// Double tapped\n\t\t\t\t\tclearTimeout(that.doubleTapTimer);\n\t\t\t\t\tthat.doubleTapTimer = null;\n\t\t\t\t\tif (that.options.onZoomStart) that.options.onZoomStart.call(that, e);\n\t\t\t\t\tthat.zoom(that.pointX, that.pointY, that.scale == 1 ? that.options.doubleTapZoom : 1);\n\t\t\t\t\tif (that.options.onZoomEnd) {\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tthat.options.onZoomEnd.call(that, e);\n\t\t\t\t\t\t}, 200); // 200 is default zoom duration\n\t\t\t\t\t}\n\t\t\t\t} else if (this.options.handleClick) {\n\t\t\t\t\tthat.doubleTapTimer = setTimeout(function () {\n\t\t\t\t\t\tthat.doubleTapTimer = null;\n\n\t\t\t\t\t\t// Find the last touched element\n\t\t\t\t\t\ttarget = point.target;\n\t\t\t\t\t\twhile (target.nodeType != 1) target = target.parentNode;\n\n\t\t\t\t\t\tif (target.tagName != 'SELECT' && target.tagName != 'INPUT' && target.tagName != 'TEXTAREA') {\n\t\t\t\t\t\t\tev = doc.createEvent('MouseEvents');\n\t\t\t\t\t\t\tev.initMouseEvent('click', true, true, e.view, 1,\n\t\t\t\t\t\t\t\tpoint.screenX, point.screenY, point.clientX, point.clientY,\n\t\t\t\t\t\t\t\te.ctrlKey, e.altKey, e.shiftKey, e.metaKey,\n\t\t\t\t\t\t\t\t0, null);\n\t\t\t\t\t\t\tev._fake = true;\n\t\t\t\t\t\t\ttarget.dispatchEvent(ev);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, that.options.zoom ? 250 : 0);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthat._resetPos(400);\n\n\t\t\tif (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);\n\t\t\treturn;\n\t\t}\n\n\t\tif (duration < 300 && that.options.momentum) {\n\t\t\tmomentumX = newPosX ? that._momentum(newPosX - that.startX, duration, -that.x, that.scrollerW - that.wrapperW + that.x, that.options.bounce ? that.wrapperW : 0) : momentumX;\n\t\t\tmomentumY = newPosY ? that._momentum(newPosY - that.startY, duration, -that.y, (that.maxScrollY < 0 ? that.scrollerH - that.wrapperH + that.y - that.minScrollY : 0), that.options.bounce ? that.wrapperH : 0) : momentumY;\n\n\t\t\tnewPosX = that.x + momentumX.dist;\n\t\t\tnewPosY = that.y + momentumY.dist;\n\n\t\t\tif ((that.x > 0 && newPosX > 0) || (that.x < that.maxScrollX && newPosX < that.maxScrollX)) momentumX = { dist:0, time:0 };\n\t\t\tif ((that.y > that.minScrollY && newPosY > that.minScrollY) || (that.y < that.maxScrollY && newPosY < that.maxScrollY)) momentumY = { dist:0, time:0 };\n\t\t}\n\n\t\tif (momentumX.dist || momentumY.dist) {\n\t\t\tnewDuration = m.max(m.max(momentumX.time, momentumY.time), 10);\n\n\t\t\t// Do we need to snap?\n\t\t\tif (that.options.snap) {\n\t\t\t\tdistX = newPosX - that.absStartX;\n\t\t\t\tdistY = newPosY - that.absStartY;\n\t\t\t\tif (m.abs(distX) < that.options.snapThreshold && m.abs(distY) < that.options.snapThreshold) { that.scrollTo(that.absStartX, that.absStartY, 200); }\n\t\t\t\telse {\n\t\t\t\t\tsnap = that._snap(newPosX, newPosY);\n\t\t\t\t\tnewPosX = snap.x;\n\t\t\t\t\tnewPosY = snap.y;\n\t\t\t\t\tnewDuration = m.max(snap.time, newDuration);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthat.scrollTo(m.round(newPosX), m.round(newPosY), newDuration);\n\n\t\t\tif (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);\n\t\t\treturn;\n\t\t}\n\n\t\t// Do we need to snap?\n\t\tif (that.options.snap) {\n\t\t\tdistX = newPosX - that.absStartX;\n\t\t\tdistY = newPosY - that.absStartY;\n\t\t\tif (m.abs(distX) < that.options.snapThreshold && m.abs(distY) < that.options.snapThreshold) that.scrollTo(that.absStartX, that.absStartY, 200);\n\t\t\telse {\n\t\t\t\tsnap = that._snap(that.x, that.y);\n\t\t\t\tif (snap.x != that.x || snap.y != that.y) that.scrollTo(snap.x, snap.y, snap.time);\n\t\t\t}\n\n\t\t\tif (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);\n\t\t\treturn;\n\t\t}\n\n\t\tthat._resetPos(200);\n\t\tif (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);\n\t},\n\t\n\t_resetPos: function (time) {\n\t\tvar that = this,\n\t\t\tresetX = that.x >= 0 ? 0 : that.x < that.maxScrollX ? that.maxScrollX : that.x,\n\t\t\tresetY = that.y >= that.minScrollY || that.maxScrollY > 0 ? that.minScrollY : that.y < that.maxScrollY ? that.maxScrollY : that.y;\n\n\t\tif (resetX == that.x && resetY == that.y) {\n\t\t\tif (that.moved) {\n\t\t\t\tthat.moved = false;\n\t\t\t\tif (that.options.onScrollEnd) that.options.onScrollEnd.call(that);\t\t// Execute custom code on scroll end\n\t\t\t}\n\n\t\t\tif (that.hScrollbar && that.options.hideScrollbar) {\n\t\t\t\tif (vendor == 'webkit') that.hScrollbarWrapper.style[transitionDelay] = '300ms';\n\t\t\t\tthat.hScrollbarWrapper.style.opacity = '0';\n\t\t\t}\n\t\t\tif (that.vScrollbar && that.options.hideScrollbar) {\n\t\t\t\tif (vendor == 'webkit') that.vScrollbarWrapper.style[transitionDelay] = '300ms';\n\t\t\t\tthat.vScrollbarWrapper.style.opacity = '0';\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tthat.scrollTo(resetX, resetY, time || 0);\n\t},\n\n\t_wheel: function (e) {\n\t\tvar that = this,\n\t\t\twheelDeltaX, wheelDeltaY,\n\t\t\tdeltaX, deltaY,\n\t\t\tdeltaScale;\n\n\t\tif ('wheelDeltaX' in e) {\n\t\t\twheelDeltaX = e.wheelDeltaX / 12;\n\t\t\twheelDeltaY = e.wheelDeltaY / 12;\n\t\t} else if('wheelDelta' in e) {\n\t\t\twheelDeltaX = wheelDeltaY = e.wheelDelta / 12;\n\t\t} else if ('detail' in e) {\n\t\t\twheelDeltaX = wheelDeltaY = -e.detail * 3;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif (that.options.wheelAction == 'zoom') {\n\t\t\tdeltaScale = that.scale * Math.pow(2, 1/3 * (wheelDeltaY ? wheelDeltaY / Math.abs(wheelDeltaY) : 0));\n\t\t\tif (deltaScale < that.options.zoomMin) deltaScale = that.options.zoomMin;\n\t\t\tif (deltaScale > that.options.zoomMax) deltaScale = that.options.zoomMax;\n\t\t\t\n\t\t\tif (deltaScale != that.scale) {\n\t\t\t\tif (!that.wheelZoomCount && that.options.onZoomStart) that.options.onZoomStart.call(that, e);\n\t\t\t\tthat.wheelZoomCount++;\n\t\t\t\t\n\t\t\t\tthat.zoom(e.pageX, e.pageY, deltaScale, 400);\n\t\t\t\t\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthat.wheelZoomCount--;\n\t\t\t\t\tif (!that.wheelZoomCount && that.options.onZoomEnd) that.options.onZoomEnd.call(that, e);\n\t\t\t\t}, 400);\n\t\t\t}\n\t\t\t\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tdeltaX = that.x + wheelDeltaX;\n\t\tdeltaY = that.y + wheelDeltaY;\n\n\t\tif (deltaX > 0) deltaX = 0;\n\t\telse if (deltaX < that.maxScrollX) deltaX = that.maxScrollX;\n\n\t\tif (deltaY > that.minScrollY) deltaY = that.minScrollY;\n\t\telse if (deltaY < that.maxScrollY) deltaY = that.maxScrollY;\n    \n\t\tif (that.maxScrollY < 0) {\n\t\t\tthat.scrollTo(deltaX, deltaY, 0);\n\t\t}\n\t},\n\t\n\t_transitionEnd: function (e) {\n\t\tvar that = this;\n\n\t\tif (e.target != that.scroller) return;\n\n\t\tthat._unbind(TRNEND_EV);\n\t\t\n\t\tthat._startAni();\n\t},\n\n\n\t/**\n\t*\n\t* Utilities\n\t*\n\t*/\n\t_startAni: function () {\n\t\tvar that = this,\n\t\t\tstartX = that.x, startY = that.y,\n\t\t\tstartTime = Date.now(),\n\t\t\tstep, easeOut,\n\t\t\tanimate;\n\n\t\tif (that.animating) return;\n\t\t\n\t\tif (!that.steps.length) {\n\t\t\tthat._resetPos(400);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tstep = that.steps.shift();\n\t\t\n\t\tif (step.x == startX && step.y == startY) step.time = 0;\n\n\t\tthat.animating = true;\n\t\tthat.moved = true;\n\t\t\n\t\tif (that.options.useTransition) {\n\t\t\tthat._transitionTime(step.time);\n\t\t\tthat._pos(step.x, step.y);\n\t\t\tthat.animating = false;\n\t\t\tif (step.time) that._bind(TRNEND_EV);\n\t\t\telse that._resetPos(0);\n\t\t\treturn;\n\t\t}\n\n\t\tanimate = function () {\n\t\t\tvar now = Date.now(),\n\t\t\t\tnewX, newY;\n\n\t\t\tif (now >= startTime + step.time) {\n\t\t\t\tthat._pos(step.x, step.y);\n\t\t\t\tthat.animating = false;\n\t\t\t\tif (that.options.onAnimationEnd) that.options.onAnimationEnd.call(that);\t\t\t// Execute custom code on animation end\n\t\t\t\tthat._startAni();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnow = (now - startTime) / step.time - 1;\n\t\t\teaseOut = m.sqrt(1 - now * now);\n\t\t\tnewX = (step.x - startX) * easeOut + startX;\n\t\t\tnewY = (step.y - startY) * easeOut + startY;\n\t\t\tthat._pos(newX, newY);\n\t\t\tif (that.animating) that.aniTime = nextFrame(animate);\n\t\t};\n\n\t\tanimate();\n\t},\n\n\t_transitionTime: function (time) {\n\t\ttime += 'ms';\n\t\tthis.scroller.style[transitionDuration] = time;\n\t\tif (this.hScrollbar) this.hScrollbarIndicator.style[transitionDuration] = time;\n\t\tif (this.vScrollbar) this.vScrollbarIndicator.style[transitionDuration] = time;\n\t},\n\n\t_momentum: function (dist, time, maxDistUpper, maxDistLower, size) {\n\t\tvar deceleration = 0.0006,\n\t\t\tspeed = m.abs(dist) / time,\n\t\t\tnewDist = (speed * speed) / (2 * deceleration),\n\t\t\tnewTime = 0, outsideDist = 0;\n\n\t\t// Proportinally reduce speed if we are outside of the boundaries\n\t\tif (dist > 0 && newDist > maxDistUpper) {\n\t\t\toutsideDist = size / (6 / (newDist / speed * deceleration));\n\t\t\tmaxDistUpper = maxDistUpper + outsideDist;\n\t\t\tspeed = speed * maxDistUpper / newDist;\n\t\t\tnewDist = maxDistUpper;\n\t\t} else if (dist < 0 && newDist > maxDistLower) {\n\t\t\toutsideDist = size / (6 / (newDist / speed * deceleration));\n\t\t\tmaxDistLower = maxDistLower + outsideDist;\n\t\t\tspeed = speed * maxDistLower / newDist;\n\t\t\tnewDist = maxDistLower;\n\t\t}\n\n\t\tnewDist = newDist * (dist < 0 ? -1 : 1);\n\t\tnewTime = speed / deceleration;\n\n\t\treturn { dist: newDist, time: m.round(newTime) };\n\t},\n\n\t_offset: function (el) {\n\t\tvar left = -el.offsetLeft,\n\t\t\ttop = -el.offsetTop;\n\t\t\t\n\t\twhile (el = el.offsetParent) {\n\t\t\tleft -= el.offsetLeft;\n\t\t\ttop -= el.offsetTop;\n\t\t}\n\t\t\n\t\tif (el != this.wrapper) {\n\t\t\tleft *= this.scale;\n\t\t\ttop *= this.scale;\n\t\t}\n\n\t\treturn { left: left, top: top };\n\t},\n\n\t_snap: function (x, y) {\n\t\tvar that = this,\n\t\t\ti, l,\n\t\t\tpage, time,\n\t\t\tsizeX, sizeY;\n\n\t\t// Check page X\n\t\tpage = that.pagesX.length - 1;\n\t\tfor (i=0, l=that.pagesX.length; i<l; i++) {\n\t\t\tif (x >= that.pagesX[i]) {\n\t\t\t\tpage = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (page == that.currPageX && page > 0 && that.dirX < 0) page--;\n\t\tx = that.pagesX[page];\n\t\tsizeX = m.abs(x - that.pagesX[that.currPageX]);\n\t\tsizeX = sizeX ? m.abs(that.x - x) / sizeX * 500 : 0;\n\t\tthat.currPageX = page;\n\n\t\t// Check page Y\n\t\tpage = that.pagesY.length-1;\n\t\tfor (i=0; i<page; i++) {\n\t\t\tif (y >= that.pagesY[i]) {\n\t\t\t\tpage = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (page == that.currPageY && page > 0 && that.dirY < 0) page--;\n\t\ty = that.pagesY[page];\n\t\tsizeY = m.abs(y - that.pagesY[that.currPageY]);\n\t\tsizeY = sizeY ? m.abs(that.y - y) / sizeY * 500 : 0;\n\t\tthat.currPageY = page;\n\n\t\t// Snap with constant speed (proportional duration)\n\t\ttime = m.round(m.max(sizeX, sizeY)) || 200;\n\n\t\treturn { x: x, y: y, time: time };\n\t},\n\n\t_bind: function (type, el, bubble) {\n\t\t(el || this.scroller).addEventListener(type, this, !!bubble);\n\t},\n\n\t_unbind: function (type, el, bubble) {\n\t\t(el || this.scroller).removeEventListener(type, this, !!bubble);\n\t},\n\n\n\t/**\n\t*\n\t* Public methods\n\t*\n\t*/\n\tdestroy: function () {\n\t\tvar that = this;\n\n\t\tthat.scroller.style[transform] = '';\n\n\t\t// Remove the scrollbars\n\t\tthat.hScrollbar = false;\n\t\tthat.vScrollbar = false;\n\t\tthat._scrollbar('h');\n\t\tthat._scrollbar('v');\n\n\t\t// Remove the event listeners\n\t\tthat._unbind(RESIZE_EV, window);\n\t\tthat._unbind(START_EV);\n\t\tthat._unbind(MOVE_EV, window);\n\t\tthat._unbind(END_EV, window);\n\t\tthat._unbind(CANCEL_EV, window);\n\t\t\n\t\tif (!that.options.hasTouch) {\n\t\t\tthat._unbind('DOMMouseScroll');\n\t\t\tthat._unbind('mousewheel');\n\t\t}\n\t\t\n\t\tif (that.options.useTransition) that._unbind(TRNEND_EV);\n\t\t\n\t\tif (that.options.checkDOMChanges) clearInterval(that.checkDOMTime);\n\t\t\n\t\tif (that.options.onDestroy) that.options.onDestroy.call(that);\n\t},\n\n\trefresh: function () {\n\t\tvar that = this,\n\t\t\toffset,\n\t\t\ti, l,\n\t\t\tels,\n\t\t\tpos = 0,\n\t\t\tpage = 0;\n\n\t\tif (that.scale < that.options.zoomMin) that.scale = that.options.zoomMin;\n\t\tthat.wrapperW = that.wrapper.clientWidth || 1;\n\t\tthat.wrapperH = that.wrapper.clientHeight || 1;\n\n\t\tthat.minScrollY = -that.options.topOffset || 0;\n\t\tthat.scrollerW = m.round(that.scroller.offsetWidth * that.scale);\n\t\tthat.scrollerH = m.round((that.scroller.offsetHeight + that.minScrollY) * that.scale);\n\t\tthat.maxScrollX = that.wrapperW - that.scrollerW;\n\t\tthat.maxScrollY = that.wrapperH - that.scrollerH + that.minScrollY;\n\t\tthat.dirX = 0;\n\t\tthat.dirY = 0;\n\n\t\tif (that.options.onRefresh) that.options.onRefresh.call(that);\n\n\t\tthat.hScroll = that.options.hScroll && that.maxScrollX < 0;\n\t\tthat.vScroll = that.options.vScroll && (!that.options.bounceLock && !that.hScroll || that.scrollerH > that.wrapperH);\n\n\t\tthat.hScrollbar = that.hScroll && that.options.hScrollbar;\n\t\tthat.vScrollbar = that.vScroll && that.options.vScrollbar && that.scrollerH > that.wrapperH;\n\n\t\toffset = that._offset(that.wrapper);\n\t\tthat.wrapperOffsetLeft = -offset.left;\n\t\tthat.wrapperOffsetTop = -offset.top;\n\n\t\t// Prepare snap\n\t\tif (typeof that.options.snap == 'string') {\n\t\t\tthat.pagesX = [];\n\t\t\tthat.pagesY = [];\n\t\t\tels = that.scroller.querySelectorAll(that.options.snap);\n\t\t\tfor (i=0, l=els.length; i<l; i++) {\n\t\t\t\tpos = that._offset(els[i]);\n\t\t\t\tpos.left += that.wrapperOffsetLeft;\n\t\t\t\tpos.top += that.wrapperOffsetTop;\n\t\t\t\tthat.pagesX[i] = pos.left < that.maxScrollX ? that.maxScrollX : pos.left * that.scale;\n\t\t\t\tthat.pagesY[i] = pos.top < that.maxScrollY ? that.maxScrollY : pos.top * that.scale;\n\t\t\t}\n\t\t} else if (that.options.snap) {\n\t\t\tthat.pagesX = [];\n\t\t\twhile (pos >= that.maxScrollX) {\n\t\t\t\tthat.pagesX[page] = pos;\n\t\t\t\tpos = pos - that.wrapperW;\n\t\t\t\tpage++;\n\t\t\t}\n\t\t\tif (that.maxScrollX%that.wrapperW) that.pagesX[that.pagesX.length] = that.maxScrollX - that.pagesX[that.pagesX.length-1] + that.pagesX[that.pagesX.length-1];\n\n\t\t\tpos = 0;\n\t\t\tpage = 0;\n\t\t\tthat.pagesY = [];\n\t\t\twhile (pos >= that.maxScrollY) {\n\t\t\t\tthat.pagesY[page] = pos;\n\t\t\t\tpos = pos - that.wrapperH;\n\t\t\t\tpage++;\n\t\t\t}\n\t\t\tif (that.maxScrollY%that.wrapperH) that.pagesY[that.pagesY.length] = that.maxScrollY - that.pagesY[that.pagesY.length-1] + that.pagesY[that.pagesY.length-1];\n\t\t}\n\n\t\t// Prepare the scrollbars\n\t\tthat._scrollbar('h');\n\t\tthat._scrollbar('v');\n\n\t\tif (!that.zoomed) {\n\t\t\tthat.scroller.style[transitionDuration] = '0';\n\t\t\tthat._resetPos(400);\n\t\t}\n\t},\n\n\tscrollTo: function (x, y, time, relative) {\n\t\tvar that = this,\n\t\t\tstep = x,\n\t\t\ti, l;\n\n\t\tthat.stop();\n\n\t\tif (!step.length) step = [{ x: x, y: y, time: time, relative: relative }];\n\t\t\n\t\tfor (i=0, l=step.length; i<l; i++) {\n\t\t\tif (step[i].relative) { step[i].x = that.x - step[i].x; step[i].y = that.y - step[i].y; }\n\t\t\tthat.steps.push({ x: step[i].x, y: step[i].y, time: step[i].time || 0 });\n\t\t}\n\n\t\tthat._startAni();\n\t},\n\n\tscrollToElement: function (el, time) {\n\t\tvar that = this, pos;\n\t\tel = el.nodeType ? el : that.scroller.querySelector(el);\n\t\tif (!el) return;\n\n\t\tpos = that._offset(el);\n\t\tpos.left += that.wrapperOffsetLeft;\n\t\tpos.top += that.wrapperOffsetTop;\n\n\t\tpos.left = pos.left > 0 ? 0 : pos.left < that.maxScrollX ? that.maxScrollX : pos.left;\n\t\tpos.top = pos.top > that.minScrollY ? that.minScrollY : pos.top < that.maxScrollY ? that.maxScrollY : pos.top;\n\t\ttime = time === undefined ? m.max(m.abs(pos.left)*2, m.abs(pos.top)*2) : time;\n\n\t\tthat.scrollTo(pos.left, pos.top, time);\n\t},\n\n\tscrollToPage: function (pageX, pageY, time) {\n\t\tvar that = this, x, y;\n\t\t\n\t\ttime = time === undefined ? 400 : time;\n\n\t\tif (that.options.onScrollStart) that.options.onScrollStart.call(that);\n\n\t\tif (that.options.snap) {\n\t\t\tpageX = pageX == 'next' ? that.currPageX+1 : pageX == 'prev' ? that.currPageX-1 : pageX;\n\t\t\tpageY = pageY == 'next' ? that.currPageY+1 : pageY == 'prev' ? that.currPageY-1 : pageY;\n\n\t\t\tpageX = pageX < 0 ? 0 : pageX > that.pagesX.length-1 ? that.pagesX.length-1 : pageX;\n\t\t\tpageY = pageY < 0 ? 0 : pageY > that.pagesY.length-1 ? that.pagesY.length-1 : pageY;\n\n\t\t\tthat.currPageX = pageX;\n\t\t\tthat.currPageY = pageY;\n\t\t\tx = that.pagesX[pageX];\n\t\t\ty = that.pagesY[pageY];\n\t\t} else {\n\t\t\tx = -that.wrapperW * pageX;\n\t\t\ty = -that.wrapperH * pageY;\n\t\t\tif (x < that.maxScrollX) x = that.maxScrollX;\n\t\t\tif (y < that.maxScrollY) y = that.maxScrollY;\n\t\t}\n\n\t\tthat.scrollTo(x, y, time);\n\t},\n\n\tdisable: function () {\n\t\tthis.stop();\n\t\tthis._resetPos(0);\n\t\tthis.enabled = false;\n\n\t\t// If disabled after touchstart we make sure that there are no left over events\n\t\tthis._unbind(MOVE_EV, window);\n\t\tthis._unbind(END_EV, window);\n\t\tthis._unbind(CANCEL_EV, window);\n\t},\n\t\n\tenable: function () {\n\t\tthis.enabled = true;\n\t},\n\t\n\tstop: function () {\n\t\tif (this.options.useTransition) this._unbind(TRNEND_EV);\n\t\telse cancelFrame(this.aniTime);\n\t\tthis.steps = [];\n\t\tthis.moved = false;\n\t\tthis.animating = false;\n\t},\n\t\n\tzoom: function (x, y, scale, time) {\n\t\tvar that = this,\n\t\t\trelScale = scale / that.scale;\n\n\t\tif (!that.options.useTransform) return;\n\n\t\tthat.zoomed = true;\n\t\ttime = time === undefined ? 200 : time;\n\t\tx = x - that.wrapperOffsetLeft - that.x;\n\t\ty = y - that.wrapperOffsetTop - that.y;\n\t\tthat.x = x - x * relScale + that.x;\n\t\tthat.y = y - y * relScale + that.y;\n\n\t\tthat.scale = scale;\n\t\tthat.refresh();\n\n\t\tthat.x = that.x > 0 ? 0 : that.x < that.maxScrollX ? that.maxScrollX : that.x;\n\t\tthat.y = that.y > that.minScrollY ? that.minScrollY : that.y < that.maxScrollY ? that.maxScrollY : that.y;\n\n\t\tthat.scroller.style[transitionDuration] = time + 'ms';\n\t\tthat.scroller.style[transform] = 'translate(' + that.x + 'px,' + that.y + 'px) scale(' + scale + ')' + translateZ;\n\t\tthat.zoomed = false;\n\t},\n\t\n\tisReady: function () {\n\t\treturn !this.moved && !this.zoomed && !this.animating;\n\t}\n};\n\nfunction prefixStyle (style) {\n\tif ( vendor === '' ) return style;\n\n\tstyle = style.charAt(0).toUpperCase() + style.substr(1);\n\treturn vendor + style;\n}\n\ndummyStyle = null;\t// for the sake of it\n\nif (true) exports.iScroll = iScroll;\nelse window.iScroll = iScroll;\n\n})(window, document);\n\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvaXNjcm9sbC5qcz8xYjM3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVMsT0FBTztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZ0NBQWdDO0FBQ3ZELEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esc0NBQXNDLG9CQUFvQixFQUFFO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLE9BQU87QUFDZDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsNEdBQTRHO0FBQzVHLHdJQUF3STtBQUN4STs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUdBQWlHLG9EQUFvRDtBQUNySjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxFQUFFOzs7QUFHRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFO0FBQzVFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFVBQVU7QUFDVixFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVO0FBQ1YsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQ0FBaUMsS0FBSztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsVUFBVTtBQUNWLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7OztBQUdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLEtBQUs7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsNkJBQTZCLDZDQUE2Qzs7QUFFMUUsMEJBQTBCLEtBQUs7QUFDL0IsMEJBQTBCLGdDQUFnQyxnQ0FBZ0M7QUFDMUYsb0JBQW9CLHNEQUFzRDtBQUMxRTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGtCQUFrQjs7QUFFbEI7QUFDQTs7QUFFQSxDQUFDIiwiZmlsZSI6IjguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqIElNUE9SVFMgRlJPTSBpbXBvcnRzLWxvYWRlciAqKiovXG52YXIgZGVmaW5lID0gZmFsc2U7XG5cbi8qIVxuICogaVNjcm9sbCB2NC4yLjUgfiBDb3B5cmlnaHQgKGMpIDIwMTIgTWF0dGVvIFNwaW5lbGxpLCBodHRwOi8vY3ViaXEub3JnXG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSwgaHR0cDovL2N1YmlxLm9yZy9saWNlbnNlXG4gKi9cbihmdW5jdGlvbih3aW5kb3csIGRvYyl7XG52YXIgbSA9IE1hdGgsXG5cdGR1bW15U3R5bGUgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jykuc3R5bGUsXG5cdHZlbmRvciA9IChmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHZlbmRvcnMgPSAndCx3ZWJraXRULE1velQsbXNULE9UJy5zcGxpdCgnLCcpLFxuXHRcdFx0dCxcblx0XHRcdGkgPSAwLFxuXHRcdFx0bCA9IHZlbmRvcnMubGVuZ3RoO1xuXG5cdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0dCA9IHZlbmRvcnNbaV0gKyAncmFuc2Zvcm0nO1xuXHRcdFx0aWYgKCB0IGluIGR1bW15U3R5bGUgKSB7XG5cdFx0XHRcdHJldHVybiB2ZW5kb3JzW2ldLnN1YnN0cigwLCB2ZW5kb3JzW2ldLmxlbmd0aCAtIDEpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fSkoKSxcblx0Y3NzVmVuZG9yID0gdmVuZG9yID8gJy0nICsgdmVuZG9yLnRvTG93ZXJDYXNlKCkgKyAnLScgOiAnJyxcblxuXHQvLyBTdHlsZSBwcm9wZXJ0aWVzXG5cdHRyYW5zZm9ybSA9IHByZWZpeFN0eWxlKCd0cmFuc2Zvcm0nKSxcblx0dHJhbnNpdGlvblByb3BlcnR5ID0gcHJlZml4U3R5bGUoJ3RyYW5zaXRpb25Qcm9wZXJ0eScpLFxuXHR0cmFuc2l0aW9uRHVyYXRpb24gPSBwcmVmaXhTdHlsZSgndHJhbnNpdGlvbkR1cmF0aW9uJyksXG5cdHRyYW5zZm9ybU9yaWdpbiA9IHByZWZpeFN0eWxlKCd0cmFuc2Zvcm1PcmlnaW4nKSxcblx0dHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0gcHJlZml4U3R5bGUoJ3RyYW5zaXRpb25UaW1pbmdGdW5jdGlvbicpLFxuXHR0cmFuc2l0aW9uRGVsYXkgPSBwcmVmaXhTdHlsZSgndHJhbnNpdGlvbkRlbGF5JyksXG5cbiAgICAvLyBCcm93c2VyIGNhcGFiaWxpdGllc1xuXHRpc0FuZHJvaWQgPSAoL2FuZHJvaWQvZ2kpLnRlc3QobmF2aWdhdG9yLmFwcFZlcnNpb24pLFxuXHRpc0lEZXZpY2UgPSAoL2lwaG9uZXxpcGFkL2dpKS50ZXN0KG5hdmlnYXRvci5hcHBWZXJzaW9uKSxcblx0aXNUb3VjaFBhZCA9ICgvaHAtdGFibGV0L2dpKS50ZXN0KG5hdmlnYXRvci5hcHBWZXJzaW9uKSxcblxuICAgIGhhczNkID0gcHJlZml4U3R5bGUoJ3BlcnNwZWN0aXZlJykgaW4gZHVtbXlTdHlsZSxcbiAgICBoYXNUb3VjaCA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyAmJiAhaXNUb3VjaFBhZCxcbiAgICBoYXNUcmFuc2Zvcm0gPSB2ZW5kb3IgIT09IGZhbHNlLFxuICAgIGhhc1RyYW5zaXRpb25FbmQgPSBwcmVmaXhTdHlsZSgndHJhbnNpdGlvbicpIGluIGR1bW15U3R5bGUsXG5cblx0UkVTSVpFX0VWID0gJ29ub3JpZW50YXRpb25jaGFuZ2UnIGluIHdpbmRvdyA/ICdvcmllbnRhdGlvbmNoYW5nZScgOiAncmVzaXplJyxcblx0U1RBUlRfRVYgPSBoYXNUb3VjaCA/ICd0b3VjaHN0YXJ0JyA6ICdtb3VzZWRvd24nLFxuXHRNT1ZFX0VWID0gaGFzVG91Y2ggPyAndG91Y2htb3ZlJyA6ICdtb3VzZW1vdmUnLFxuXHRFTkRfRVYgPSBoYXNUb3VjaCA/ICd0b3VjaGVuZCcgOiAnbW91c2V1cCcsXG5cdENBTkNFTF9FViA9IGhhc1RvdWNoID8gJ3RvdWNoY2FuY2VsJyA6ICdtb3VzZXVwJyxcblx0VFJORU5EX0VWID0gKGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoIHZlbmRvciA9PT0gZmFsc2UgKSByZXR1cm4gZmFsc2U7XG5cblx0XHR2YXIgdHJhbnNpdGlvbkVuZCA9IHtcblx0XHRcdFx0JydcdFx0XHQ6ICd0cmFuc2l0aW9uZW5kJyxcblx0XHRcdFx0J3dlYmtpdCdcdDogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuXHRcdFx0XHQnTW96J1x0XHQ6ICd0cmFuc2l0aW9uZW5kJyxcblx0XHRcdFx0J08nXHRcdFx0OiAnb3RyYW5zaXRpb25lbmQnLFxuXHRcdFx0XHQnbXMnXHRcdDogJ01TVHJhbnNpdGlvbkVuZCdcblx0XHRcdH07XG5cblx0XHRyZXR1cm4gdHJhbnNpdGlvbkVuZFt2ZW5kb3JdO1xuXHR9KSgpLFxuXG5cdG5leHRGcmFtZSA9IChmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0ZnVuY3Rpb24oY2FsbGJhY2spIHsgcmV0dXJuIHNldFRpbWVvdXQoY2FsbGJhY2ssIDEpOyB9O1xuXHR9KSgpLFxuXHRjYW5jZWxGcmFtZSA9IChmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHdpbmRvdy5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0d2luZG93LndlYmtpdENhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0d2luZG93Lm1vekNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0d2luZG93Lm9DYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0XHRcdHdpbmRvdy5tc0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHRcdFx0Y2xlYXJUaW1lb3V0O1xuXHR9KSgpLFxuXG5cdC8vIEhlbHBlcnNcblx0dHJhbnNsYXRlWiA9IGhhczNkID8gJyB0cmFuc2xhdGVaKDApJyA6ICcnLFxuXG5cdC8vIENvbnN0cnVjdG9yXG5cdGlTY3JvbGwgPSBmdW5jdGlvbiAoZWwsIG9wdGlvbnMpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRpO1xuXG5cdFx0dGhhdC53cmFwcGVyID0gdHlwZW9mIGVsID09ICdvYmplY3QnID8gZWwgOiBkb2MuZ2V0RWxlbWVudEJ5SWQoZWwpO1xuXHRcdHRoYXQud3JhcHBlci5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXHRcdHRoYXQuc2Nyb2xsZXIgPSB0aGF0LndyYXBwZXIuY2hpbGRyZW5bMF07XG5cblx0XHQvLyBEZWZhdWx0IG9wdGlvbnNcblx0XHR0aGF0Lm9wdGlvbnMgPSB7XG5cdFx0XHRoU2Nyb2xsOiB0cnVlLFxuXHRcdFx0dlNjcm9sbDogdHJ1ZSxcblx0XHRcdHg6IDAsXG5cdFx0XHR5OiAwLFxuXHRcdFx0Ym91bmNlOiB0cnVlLFxuXHRcdFx0Ym91bmNlTG9jazogZmFsc2UsXG5cdFx0XHRtb21lbnR1bTogdHJ1ZSxcblx0XHRcdGxvY2tEaXJlY3Rpb246IHRydWUsXG5cdFx0XHR1c2VUcmFuc2Zvcm06IHRydWUsXG5cdFx0XHR1c2VUcmFuc2l0aW9uOiBmYWxzZSxcblx0XHRcdHRvcE9mZnNldDogMCxcblx0XHRcdGNoZWNrRE9NQ2hhbmdlczogZmFsc2UsXHRcdC8vIEV4cGVyaW1lbnRhbFxuXHRcdFx0aGFuZGxlQ2xpY2s6IHRydWUsXG5cblx0XHRcdC8vIFNjcm9sbGJhclxuXHRcdFx0aFNjcm9sbGJhcjogdHJ1ZSxcblx0XHRcdHZTY3JvbGxiYXI6IHRydWUsXG5cdFx0XHRmaXhlZFNjcm9sbGJhcjogaXNBbmRyb2lkLFxuXHRcdFx0aGlkZVNjcm9sbGJhcjogaXNJRGV2aWNlLFxuXHRcdFx0ZmFkZVNjcm9sbGJhcjogaXNJRGV2aWNlICYmIGhhczNkLFxuXHRcdFx0c2Nyb2xsYmFyQ2xhc3M6ICcnLFxuXG5cdFx0XHQvLyBab29tXG5cdFx0XHR6b29tOiBmYWxzZSxcblx0XHRcdHpvb21NaW46IDEsXG5cdFx0XHR6b29tTWF4OiA0LFxuXHRcdFx0ZG91YmxlVGFwWm9vbTogMixcblx0XHRcdHdoZWVsQWN0aW9uOiAnc2Nyb2xsJyxcblxuXHRcdFx0Ly8gU25hcFxuXHRcdFx0c25hcDogZmFsc2UsXG5cdFx0XHRzbmFwVGhyZXNob2xkOiAxLFxuXG5cdFx0XHQvLyBFdmVudHNcblx0XHRcdG9uUmVmcmVzaDogbnVsbCxcblx0XHRcdG9uQmVmb3JlU2Nyb2xsU3RhcnQ6IGZ1bmN0aW9uIChlKSB7IGUucHJldmVudERlZmF1bHQoKTsgfSxcblx0XHRcdG9uU2Nyb2xsU3RhcnQ6IG51bGwsXG5cdFx0XHRvbkJlZm9yZVNjcm9sbE1vdmU6IG51bGwsXG5cdFx0XHRvblNjcm9sbE1vdmU6IG51bGwsXG5cdFx0XHRvbkJlZm9yZVNjcm9sbEVuZDogbnVsbCxcblx0XHRcdG9uU2Nyb2xsRW5kOiBudWxsLFxuXHRcdFx0b25Ub3VjaEVuZDogbnVsbCxcblx0XHRcdG9uRGVzdHJveTogbnVsbCxcblx0XHRcdG9uWm9vbVN0YXJ0OiBudWxsLFxuXHRcdFx0b25ab29tOiBudWxsLFxuXHRcdFx0b25ab29tRW5kOiBudWxsXG5cdFx0fTtcblxuXHRcdC8vIFVzZXIgZGVmaW5lZCBvcHRpb25zXG5cdFx0Zm9yIChpIGluIG9wdGlvbnMpIHRoYXQub3B0aW9uc1tpXSA9IG9wdGlvbnNbaV07XG5cdFx0XG5cdFx0Ly8gU2V0IHN0YXJ0aW5nIHBvc2l0aW9uXG5cdFx0dGhhdC54ID0gdGhhdC5vcHRpb25zLng7XG5cdFx0dGhhdC55ID0gdGhhdC5vcHRpb25zLnk7XG5cblx0XHQvLyBOb3JtYWxpemUgb3B0aW9uc1xuXHRcdHRoYXQub3B0aW9ucy51c2VUcmFuc2Zvcm0gPSBoYXNUcmFuc2Zvcm0gJiYgdGhhdC5vcHRpb25zLnVzZVRyYW5zZm9ybTtcblx0XHR0aGF0Lm9wdGlvbnMuaFNjcm9sbGJhciA9IHRoYXQub3B0aW9ucy5oU2Nyb2xsICYmIHRoYXQub3B0aW9ucy5oU2Nyb2xsYmFyO1xuXHRcdHRoYXQub3B0aW9ucy52U2Nyb2xsYmFyID0gdGhhdC5vcHRpb25zLnZTY3JvbGwgJiYgdGhhdC5vcHRpb25zLnZTY3JvbGxiYXI7XG5cdFx0dGhhdC5vcHRpb25zLnpvb20gPSB0aGF0Lm9wdGlvbnMudXNlVHJhbnNmb3JtICYmIHRoYXQub3B0aW9ucy56b29tO1xuXHRcdHRoYXQub3B0aW9ucy51c2VUcmFuc2l0aW9uID0gaGFzVHJhbnNpdGlvbkVuZCAmJiB0aGF0Lm9wdGlvbnMudXNlVHJhbnNpdGlvbjtcblxuXHRcdC8vIEhlbHBlcnMgRklYIEFORFJPSUQgQlVHIVxuXHRcdC8vIHRyYW5zbGF0ZTNkIGFuZCBzY2FsZSBkb2Vzbid0IHdvcmsgdG9nZXRoZXIhXG5cdFx0Ly8gSWdub3JpbmcgM2QgT05MWSBXSEVOIFlPVSBTRVQgdGhhdC5vcHRpb25zLnpvb21cblx0XHRpZiAoIHRoYXQub3B0aW9ucy56b29tICYmIGlzQW5kcm9pZCApe1xuXHRcdFx0dHJhbnNsYXRlWiA9ICcnO1xuXHRcdH1cblx0XHRcblx0XHQvLyBTZXQgc29tZSBkZWZhdWx0IHN0eWxlc1xuXHRcdHRoYXQuc2Nyb2xsZXIuc3R5bGVbdHJhbnNpdGlvblByb3BlcnR5XSA9IHRoYXQub3B0aW9ucy51c2VUcmFuc2Zvcm0gPyBjc3NWZW5kb3IgKyAndHJhbnNmb3JtJyA6ICd0b3AgbGVmdCc7XG5cdFx0dGhhdC5zY3JvbGxlci5zdHlsZVt0cmFuc2l0aW9uRHVyYXRpb25dID0gJzAnO1xuXHRcdHRoYXQuc2Nyb2xsZXIuc3R5bGVbdHJhbnNmb3JtT3JpZ2luXSA9ICcwIDAnO1xuXHRcdGlmICh0aGF0Lm9wdGlvbnMudXNlVHJhbnNpdGlvbikgdGhhdC5zY3JvbGxlci5zdHlsZVt0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb25dID0gJ2N1YmljLWJlemllcigwLjMzLDAuNjYsMC42NiwxKSc7XG5cdFx0XG5cdFx0aWYgKHRoYXQub3B0aW9ucy51c2VUcmFuc2Zvcm0pIHRoYXQuc2Nyb2xsZXIuc3R5bGVbdHJhbnNmb3JtXSA9ICd0cmFuc2xhdGUoJyArIHRoYXQueCArICdweCwnICsgdGhhdC55ICsgJ3B4KScgKyB0cmFuc2xhdGVaO1xuXHRcdGVsc2UgdGhhdC5zY3JvbGxlci5zdHlsZS5jc3NUZXh0ICs9ICc7cG9zaXRpb246YWJzb2x1dGU7dG9wOicgKyB0aGF0LnkgKyAncHg7bGVmdDonICsgdGhhdC54ICsgJ3B4JztcblxuXHRcdGlmICh0aGF0Lm9wdGlvbnMudXNlVHJhbnNpdGlvbikgdGhhdC5vcHRpb25zLmZpeGVkU2Nyb2xsYmFyID0gdHJ1ZTtcblxuXHRcdHRoYXQucmVmcmVzaCgpO1xuXG5cdFx0dGhhdC5fYmluZChSRVNJWkVfRVYsIHdpbmRvdyk7XG5cdFx0dGhhdC5fYmluZChTVEFSVF9FVik7XG5cdFx0aWYgKCFoYXNUb3VjaCkge1xuXHRcdFx0aWYgKHRoYXQub3B0aW9ucy53aGVlbEFjdGlvbiAhPSAnbm9uZScpIHtcblx0XHRcdFx0dGhhdC5fYmluZCgnRE9NTW91c2VTY3JvbGwnKTtcblx0XHRcdFx0dGhhdC5fYmluZCgnbW91c2V3aGVlbCcpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICh0aGF0Lm9wdGlvbnMuY2hlY2tET01DaGFuZ2VzKSB0aGF0LmNoZWNrRE9NVGltZSA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoYXQuX2NoZWNrRE9NQ2hhbmdlcygpO1xuXHRcdH0sIDUwMCk7XG5cdH07XG5cbi8vIFByb3RvdHlwZVxuaVNjcm9sbC5wcm90b3R5cGUgPSB7XG5cdGVuYWJsZWQ6IHRydWUsXG5cdHg6IDAsXG5cdHk6IDAsXG5cdHN0ZXBzOiBbXSxcblx0c2NhbGU6IDEsXG5cdGN1cnJQYWdlWDogMCwgY3VyclBhZ2VZOiAwLFxuXHRwYWdlc1g6IFtdLCBwYWdlc1k6IFtdLFxuXHRhbmlUaW1lOiBudWxsLFxuXHR3aGVlbFpvb21Db3VudDogMCxcblx0XG5cdGhhbmRsZUV2ZW50OiBmdW5jdGlvbiAoZSkge1xuXHRcdHZhciB0aGF0ID0gdGhpcztcblx0XHRzd2l0Y2goZS50eXBlKSB7XG5cdFx0XHRjYXNlIFNUQVJUX0VWOlxuXHRcdFx0XHRpZiAoIWhhc1RvdWNoICYmIGUuYnV0dG9uICE9PSAwKSByZXR1cm47XG5cdFx0XHRcdHRoYXQuX3N0YXJ0KGUpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgTU9WRV9FVjogdGhhdC5fbW92ZShlKTsgYnJlYWs7XG5cdFx0XHRjYXNlIEVORF9FVjpcblx0XHRcdGNhc2UgQ0FOQ0VMX0VWOiB0aGF0Ll9lbmQoZSk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBSRVNJWkVfRVY6IHRoYXQuX3Jlc2l6ZSgpOyBicmVhaztcblx0XHRcdGNhc2UgJ0RPTU1vdXNlU2Nyb2xsJzogY2FzZSAnbW91c2V3aGVlbCc6IHRoYXQuX3doZWVsKGUpOyBicmVhaztcblx0XHRcdGNhc2UgVFJORU5EX0VWOiB0aGF0Ll90cmFuc2l0aW9uRW5kKGUpOyBicmVhaztcblx0XHR9XG5cdH0sXG5cdFxuXHRfY2hlY2tET01DaGFuZ2VzOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMubW92ZWQgfHwgdGhpcy56b29tZWQgfHwgdGhpcy5hbmltYXRpbmcgfHxcblx0XHRcdCh0aGlzLnNjcm9sbGVyVyA9PSB0aGlzLnNjcm9sbGVyLm9mZnNldFdpZHRoICogdGhpcy5zY2FsZSAmJiB0aGlzLnNjcm9sbGVySCA9PSB0aGlzLnNjcm9sbGVyLm9mZnNldEhlaWdodCAqIHRoaXMuc2NhbGUpKSByZXR1cm47XG5cblx0XHR0aGlzLnJlZnJlc2goKTtcblx0fSxcblx0XG5cdF9zY3JvbGxiYXI6IGZ1bmN0aW9uIChkaXIpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRiYXI7XG5cblx0XHRpZiAoIXRoYXRbZGlyICsgJ1Njcm9sbGJhciddKSB7XG5cdFx0XHRpZiAodGhhdFtkaXIgKyAnU2Nyb2xsYmFyV3JhcHBlciddKSB7XG5cdFx0XHRcdGlmIChoYXNUcmFuc2Zvcm0pIHRoYXRbZGlyICsgJ1Njcm9sbGJhckluZGljYXRvciddLnN0eWxlW3RyYW5zZm9ybV0gPSAnJztcblx0XHRcdFx0dGhhdFtkaXIgKyAnU2Nyb2xsYmFyV3JhcHBlciddLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhhdFtkaXIgKyAnU2Nyb2xsYmFyV3JhcHBlciddKTtcblx0XHRcdFx0dGhhdFtkaXIgKyAnU2Nyb2xsYmFyV3JhcHBlciddID0gbnVsbDtcblx0XHRcdFx0dGhhdFtkaXIgKyAnU2Nyb2xsYmFySW5kaWNhdG9yJ10gPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGF0W2RpciArICdTY3JvbGxiYXJXcmFwcGVyJ10pIHtcblx0XHRcdC8vIENyZWF0ZSB0aGUgc2Nyb2xsYmFyIHdyYXBwZXJcblx0XHRcdGJhciA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuXHRcdFx0aWYgKHRoYXQub3B0aW9ucy5zY3JvbGxiYXJDbGFzcykgYmFyLmNsYXNzTmFtZSA9IHRoYXQub3B0aW9ucy5zY3JvbGxiYXJDbGFzcyArIGRpci50b1VwcGVyQ2FzZSgpO1xuXHRcdFx0ZWxzZSBiYXIuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjEwMDsnICsgKGRpciA9PSAnaCcgPyAnaGVpZ2h0OjdweDtib3R0b206MXB4O2xlZnQ6MnB4O3JpZ2h0OicgKyAodGhhdC52U2Nyb2xsYmFyID8gJzcnIDogJzInKSArICdweCcgOiAnd2lkdGg6N3B4O2JvdHRvbTonICsgKHRoYXQuaFNjcm9sbGJhciA/ICc3JyA6ICcyJykgKyAncHg7dG9wOjJweDtyaWdodDoxcHgnKTtcblxuXHRcdFx0YmFyLnN0eWxlLmNzc1RleHQgKz0gJztwb2ludGVyLWV2ZW50czpub25lOycgKyBjc3NWZW5kb3IgKyAndHJhbnNpdGlvbi1wcm9wZXJ0eTpvcGFjaXR5OycgKyBjc3NWZW5kb3IgKyAndHJhbnNpdGlvbi1kdXJhdGlvbjonICsgKHRoYXQub3B0aW9ucy5mYWRlU2Nyb2xsYmFyID8gJzM1MG1zJyA6ICcwJykgKyAnO292ZXJmbG93OmhpZGRlbjtvcGFjaXR5OicgKyAodGhhdC5vcHRpb25zLmhpZGVTY3JvbGxiYXIgPyAnMCcgOiAnMScpO1xuXG5cdFx0XHR0aGF0LndyYXBwZXIuYXBwZW5kQ2hpbGQoYmFyKTtcblx0XHRcdHRoYXRbZGlyICsgJ1Njcm9sbGJhcldyYXBwZXInXSA9IGJhcjtcblxuXHRcdFx0Ly8gQ3JlYXRlIHRoZSBzY3JvbGxiYXIgaW5kaWNhdG9yXG5cdFx0XHRiYXIgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRpZiAoIXRoYXQub3B0aW9ucy5zY3JvbGxiYXJDbGFzcykge1xuXHRcdFx0XHRiYXIuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjEwMDtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsMC41KTtib3JkZXI6MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC45KTsnICsgY3NzVmVuZG9yICsgJ2JhY2tncm91bmQtY2xpcDpwYWRkaW5nLWJveDsnICsgY3NzVmVuZG9yICsgJ2JveC1zaXppbmc6Ym9yZGVyLWJveDsnICsgKGRpciA9PSAnaCcgPyAnaGVpZ2h0OjEwMCUnIDogJ3dpZHRoOjEwMCUnKSArICc7JyArIGNzc1ZlbmRvciArICdib3JkZXItcmFkaXVzOjNweDtib3JkZXItcmFkaXVzOjNweCc7XG5cdFx0XHR9XG5cdFx0XHRiYXIuc3R5bGUuY3NzVGV4dCArPSAnO3BvaW50ZXItZXZlbnRzOm5vbmU7JyArIGNzc1ZlbmRvciArICd0cmFuc2l0aW9uLXByb3BlcnR5OicgKyBjc3NWZW5kb3IgKyAndHJhbnNmb3JtOycgKyBjc3NWZW5kb3IgKyAndHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMzMsMC42NiwwLjY2LDEpOycgKyBjc3NWZW5kb3IgKyAndHJhbnNpdGlvbi1kdXJhdGlvbjowOycgKyBjc3NWZW5kb3IgKyAndHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwwKScgKyB0cmFuc2xhdGVaO1xuXHRcdFx0aWYgKHRoYXQub3B0aW9ucy51c2VUcmFuc2l0aW9uKSBiYXIuc3R5bGUuY3NzVGV4dCArPSAnOycgKyBjc3NWZW5kb3IgKyAndHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKDAuMzMsMC42NiwwLjY2LDEpJztcblxuXHRcdFx0dGhhdFtkaXIgKyAnU2Nyb2xsYmFyV3JhcHBlciddLmFwcGVuZENoaWxkKGJhcik7XG5cdFx0XHR0aGF0W2RpciArICdTY3JvbGxiYXJJbmRpY2F0b3InXSA9IGJhcjtcblx0XHR9XG5cblx0XHRpZiAoZGlyID09ICdoJykge1xuXHRcdFx0dGhhdC5oU2Nyb2xsYmFyU2l6ZSA9IHRoYXQuaFNjcm9sbGJhcldyYXBwZXIuY2xpZW50V2lkdGg7XG5cdFx0XHR0aGF0LmhTY3JvbGxiYXJJbmRpY2F0b3JTaXplID0gbS5tYXgobS5yb3VuZCh0aGF0LmhTY3JvbGxiYXJTaXplICogdGhhdC5oU2Nyb2xsYmFyU2l6ZSAvIHRoYXQuc2Nyb2xsZXJXKSwgOCk7XG5cdFx0XHR0aGF0LmhTY3JvbGxiYXJJbmRpY2F0b3Iuc3R5bGUud2lkdGggPSB0aGF0LmhTY3JvbGxiYXJJbmRpY2F0b3JTaXplICsgJ3B4Jztcblx0XHRcdHRoYXQuaFNjcm9sbGJhck1heFNjcm9sbCA9IHRoYXQuaFNjcm9sbGJhclNpemUgLSB0aGF0LmhTY3JvbGxiYXJJbmRpY2F0b3JTaXplO1xuXHRcdFx0dGhhdC5oU2Nyb2xsYmFyUHJvcCA9IHRoYXQuaFNjcm9sbGJhck1heFNjcm9sbCAvIHRoYXQubWF4U2Nyb2xsWDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhhdC52U2Nyb2xsYmFyU2l6ZSA9IHRoYXQudlNjcm9sbGJhcldyYXBwZXIuY2xpZW50SGVpZ2h0O1xuXHRcdFx0dGhhdC52U2Nyb2xsYmFySW5kaWNhdG9yU2l6ZSA9IG0ubWF4KG0ucm91bmQodGhhdC52U2Nyb2xsYmFyU2l6ZSAqIHRoYXQudlNjcm9sbGJhclNpemUgLyB0aGF0LnNjcm9sbGVySCksIDgpO1xuXHRcdFx0dGhhdC52U2Nyb2xsYmFySW5kaWNhdG9yLnN0eWxlLmhlaWdodCA9IHRoYXQudlNjcm9sbGJhckluZGljYXRvclNpemUgKyAncHgnO1xuXHRcdFx0dGhhdC52U2Nyb2xsYmFyTWF4U2Nyb2xsID0gdGhhdC52U2Nyb2xsYmFyU2l6ZSAtIHRoYXQudlNjcm9sbGJhckluZGljYXRvclNpemU7XG5cdFx0XHR0aGF0LnZTY3JvbGxiYXJQcm9wID0gdGhhdC52U2Nyb2xsYmFyTWF4U2Nyb2xsIC8gdGhhdC5tYXhTY3JvbGxZO1xuXHRcdH1cblxuXHRcdC8vIFJlc2V0IHBvc2l0aW9uXG5cdFx0dGhhdC5fc2Nyb2xsYmFyUG9zKGRpciwgdHJ1ZSk7XG5cdH0sXG5cdFxuXHRfcmVzaXplOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0aGF0LnJlZnJlc2goKTsgfSwgaXNBbmRyb2lkID8gMjAwIDogMCk7XG5cdH0sXG5cdFxuXHRfcG9zOiBmdW5jdGlvbiAoeCwgeSkge1xuXHRcdGlmICh0aGlzLnpvb21lZCkgcmV0dXJuO1xuXG5cdFx0eCA9IHRoaXMuaFNjcm9sbCA/IHggOiAwO1xuXHRcdHkgPSB0aGlzLnZTY3JvbGwgPyB5IDogMDtcblxuXHRcdGlmICh0aGlzLm9wdGlvbnMudXNlVHJhbnNmb3JtKSB7XG5cdFx0XHR0aGlzLnNjcm9sbGVyLnN0eWxlW3RyYW5zZm9ybV0gPSAndHJhbnNsYXRlKCcgKyB4ICsgJ3B4LCcgKyB5ICsgJ3B4KSBzY2FsZSgnICsgdGhpcy5zY2FsZSArICcpJyArIHRyYW5zbGF0ZVo7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHggPSBtLnJvdW5kKHgpO1xuXHRcdFx0eSA9IG0ucm91bmQoeSk7XG5cdFx0XHR0aGlzLnNjcm9sbGVyLnN0eWxlLmxlZnQgPSB4ICsgJ3B4Jztcblx0XHRcdHRoaXMuc2Nyb2xsZXIuc3R5bGUudG9wID0geSArICdweCc7XG5cdFx0fVxuXG5cdFx0dGhpcy54ID0geDtcblx0XHR0aGlzLnkgPSB5O1xuXG5cdFx0dGhpcy5fc2Nyb2xsYmFyUG9zKCdoJyk7XG5cdFx0dGhpcy5fc2Nyb2xsYmFyUG9zKCd2Jyk7XG5cdH0sXG5cblx0X3Njcm9sbGJhclBvczogZnVuY3Rpb24gKGRpciwgaGlkZGVuKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0cG9zID0gZGlyID09ICdoJyA/IHRoYXQueCA6IHRoYXQueSxcblx0XHRcdHNpemU7XG5cblx0XHRpZiAoIXRoYXRbZGlyICsgJ1Njcm9sbGJhciddKSByZXR1cm47XG5cblx0XHRwb3MgPSB0aGF0W2RpciArICdTY3JvbGxiYXJQcm9wJ10gKiBwb3M7XG5cblx0XHRpZiAocG9zIDwgMCkge1xuXHRcdFx0aWYgKCF0aGF0Lm9wdGlvbnMuZml4ZWRTY3JvbGxiYXIpIHtcblx0XHRcdFx0c2l6ZSA9IHRoYXRbZGlyICsgJ1Njcm9sbGJhckluZGljYXRvclNpemUnXSArIG0ucm91bmQocG9zICogMyk7XG5cdFx0XHRcdGlmIChzaXplIDwgOCkgc2l6ZSA9IDg7XG5cdFx0XHRcdHRoYXRbZGlyICsgJ1Njcm9sbGJhckluZGljYXRvciddLnN0eWxlW2RpciA9PSAnaCcgPyAnd2lkdGgnIDogJ2hlaWdodCddID0gc2l6ZSArICdweCc7XG5cdFx0XHR9XG5cdFx0XHRwb3MgPSAwO1xuXHRcdH0gZWxzZSBpZiAocG9zID4gdGhhdFtkaXIgKyAnU2Nyb2xsYmFyTWF4U2Nyb2xsJ10pIHtcblx0XHRcdGlmICghdGhhdC5vcHRpb25zLmZpeGVkU2Nyb2xsYmFyKSB7XG5cdFx0XHRcdHNpemUgPSB0aGF0W2RpciArICdTY3JvbGxiYXJJbmRpY2F0b3JTaXplJ10gLSBtLnJvdW5kKChwb3MgLSB0aGF0W2RpciArICdTY3JvbGxiYXJNYXhTY3JvbGwnXSkgKiAzKTtcblx0XHRcdFx0aWYgKHNpemUgPCA4KSBzaXplID0gODtcblx0XHRcdFx0dGhhdFtkaXIgKyAnU2Nyb2xsYmFySW5kaWNhdG9yJ10uc3R5bGVbZGlyID09ICdoJyA/ICd3aWR0aCcgOiAnaGVpZ2h0J10gPSBzaXplICsgJ3B4Jztcblx0XHRcdFx0cG9zID0gdGhhdFtkaXIgKyAnU2Nyb2xsYmFyTWF4U2Nyb2xsJ10gKyAodGhhdFtkaXIgKyAnU2Nyb2xsYmFySW5kaWNhdG9yU2l6ZSddIC0gc2l6ZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwb3MgPSB0aGF0W2RpciArICdTY3JvbGxiYXJNYXhTY3JvbGwnXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGF0W2RpciArICdTY3JvbGxiYXJXcmFwcGVyJ10uc3R5bGVbdHJhbnNpdGlvbkRlbGF5XSA9ICcwJztcblx0XHR0aGF0W2RpciArICdTY3JvbGxiYXJXcmFwcGVyJ10uc3R5bGUub3BhY2l0eSA9IGhpZGRlbiAmJiB0aGF0Lm9wdGlvbnMuaGlkZVNjcm9sbGJhciA/ICcwJyA6ICcxJztcblx0XHR0aGF0W2RpciArICdTY3JvbGxiYXJJbmRpY2F0b3InXS5zdHlsZVt0cmFuc2Zvcm1dID0gJ3RyYW5zbGF0ZSgnICsgKGRpciA9PSAnaCcgPyBwb3MgKyAncHgsMCknIDogJzAsJyArIHBvcyArICdweCknKSArIHRyYW5zbGF0ZVo7XG5cdH0sXG5cdFxuXHRfc3RhcnQ6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0cG9pbnQgPSBoYXNUb3VjaCA/IGUudG91Y2hlc1swXSA6IGUsXG5cdFx0XHRtYXRyaXgsIHgsIHksXG5cdFx0XHRjMSwgYzI7XG5cblx0XHRpZiAoIXRoYXQuZW5hYmxlZCkgcmV0dXJuO1xuXG5cdFx0aWYgKHRoYXQub3B0aW9ucy5vbkJlZm9yZVNjcm9sbFN0YXJ0KSB0aGF0Lm9wdGlvbnMub25CZWZvcmVTY3JvbGxTdGFydC5jYWxsKHRoYXQsIGUpO1xuXG5cdFx0aWYgKHRoYXQub3B0aW9ucy51c2VUcmFuc2l0aW9uIHx8IHRoYXQub3B0aW9ucy56b29tKSB0aGF0Ll90cmFuc2l0aW9uVGltZSgwKTtcblxuXHRcdHRoYXQubW92ZWQgPSBmYWxzZTtcblx0XHR0aGF0LmFuaW1hdGluZyA9IGZhbHNlO1xuXHRcdHRoYXQuem9vbWVkID0gZmFsc2U7XG5cdFx0dGhhdC5kaXN0WCA9IDA7XG5cdFx0dGhhdC5kaXN0WSA9IDA7XG5cdFx0dGhhdC5hYnNEaXN0WCA9IDA7XG5cdFx0dGhhdC5hYnNEaXN0WSA9IDA7XG5cdFx0dGhhdC5kaXJYID0gMDtcblx0XHR0aGF0LmRpclkgPSAwO1xuXG5cdFx0Ly8gR2VzdHVyZSBzdGFydFxuXHRcdGlmICh0aGF0Lm9wdGlvbnMuem9vbSAmJiBoYXNUb3VjaCAmJiBlLnRvdWNoZXMubGVuZ3RoID4gMSkge1xuXHRcdFx0YzEgPSBtLmFicyhlLnRvdWNoZXNbMF0ucGFnZVgtZS50b3VjaGVzWzFdLnBhZ2VYKTtcblx0XHRcdGMyID0gbS5hYnMoZS50b3VjaGVzWzBdLnBhZ2VZLWUudG91Y2hlc1sxXS5wYWdlWSk7XG5cdFx0XHR0aGF0LnRvdWNoZXNEaXN0U3RhcnQgPSBtLnNxcnQoYzEgKiBjMSArIGMyICogYzIpO1xuXG5cdFx0XHR0aGF0Lm9yaWdpblggPSBtLmFicyhlLnRvdWNoZXNbMF0ucGFnZVggKyBlLnRvdWNoZXNbMV0ucGFnZVggLSB0aGF0LndyYXBwZXJPZmZzZXRMZWZ0ICogMikgLyAyIC0gdGhhdC54O1xuXHRcdFx0dGhhdC5vcmlnaW5ZID0gbS5hYnMoZS50b3VjaGVzWzBdLnBhZ2VZICsgZS50b3VjaGVzWzFdLnBhZ2VZIC0gdGhhdC53cmFwcGVyT2Zmc2V0VG9wICogMikgLyAyIC0gdGhhdC55O1xuXG5cdFx0XHRpZiAodGhhdC5vcHRpb25zLm9uWm9vbVN0YXJ0KSB0aGF0Lm9wdGlvbnMub25ab29tU3RhcnQuY2FsbCh0aGF0LCBlKTtcblx0XHR9XG5cblx0XHRpZiAodGhhdC5vcHRpb25zLm1vbWVudHVtKSB7XG5cdFx0XHRpZiAodGhhdC5vcHRpb25zLnVzZVRyYW5zZm9ybSkge1xuXHRcdFx0XHQvLyBWZXJ5IGxhbWUgZ2VuZXJhbCBwdXJwb3NlIGFsdGVybmF0aXZlIHRvIENTU01hdHJpeFxuXHRcdFx0XHRtYXRyaXggPSBnZXRDb21wdXRlZFN0eWxlKHRoYXQuc2Nyb2xsZXIsIG51bGwpW3RyYW5zZm9ybV0ucmVwbGFjZSgvW14wLTlcXC0uLF0vZywgJycpLnNwbGl0KCcsJyk7XG5cdFx0XHRcdHggPSArKG1hdHJpeFsxMl0gfHwgbWF0cml4WzRdKTtcblx0XHRcdFx0eSA9ICsobWF0cml4WzEzXSB8fCBtYXRyaXhbNV0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0eCA9ICtnZXRDb21wdXRlZFN0eWxlKHRoYXQuc2Nyb2xsZXIsIG51bGwpLmxlZnQucmVwbGFjZSgvW14wLTktXS9nLCAnJyk7XG5cdFx0XHRcdHkgPSArZ2V0Q29tcHV0ZWRTdHlsZSh0aGF0LnNjcm9sbGVyLCBudWxsKS50b3AucmVwbGFjZSgvW14wLTktXS9nLCAnJyk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmICh4ICE9IHRoYXQueCB8fCB5ICE9IHRoYXQueSkge1xuXHRcdFx0XHRpZiAodGhhdC5vcHRpb25zLnVzZVRyYW5zaXRpb24pIHRoYXQuX3VuYmluZChUUk5FTkRfRVYpO1xuXHRcdFx0XHRlbHNlIGNhbmNlbEZyYW1lKHRoYXQuYW5pVGltZSk7XG5cdFx0XHRcdHRoYXQuc3RlcHMgPSBbXTtcblx0XHRcdFx0dGhhdC5fcG9zKHgsIHkpO1xuXHRcdFx0XHRpZiAodGhhdC5vcHRpb25zLm9uU2Nyb2xsRW5kKSB0aGF0Lm9wdGlvbnMub25TY3JvbGxFbmQuY2FsbCh0aGF0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGF0LmFic1N0YXJ0WCA9IHRoYXQueDtcdC8vIE5lZWRlZCBieSBzbmFwIHRocmVzaG9sZFxuXHRcdHRoYXQuYWJzU3RhcnRZID0gdGhhdC55O1xuXG5cdFx0dGhhdC5zdGFydFggPSB0aGF0Lng7XG5cdFx0dGhhdC5zdGFydFkgPSB0aGF0Lnk7XG5cdFx0dGhhdC5wb2ludFggPSBwb2ludC5wYWdlWDtcblx0XHR0aGF0LnBvaW50WSA9IHBvaW50LnBhZ2VZO1xuXG5cdFx0dGhhdC5zdGFydFRpbWUgPSBlLnRpbWVTdGFtcCB8fCBEYXRlLm5vdygpO1xuXG5cdFx0aWYgKHRoYXQub3B0aW9ucy5vblNjcm9sbFN0YXJ0KSB0aGF0Lm9wdGlvbnMub25TY3JvbGxTdGFydC5jYWxsKHRoYXQsIGUpO1xuXG5cdFx0dGhhdC5fYmluZChNT1ZFX0VWLCB3aW5kb3cpO1xuXHRcdHRoYXQuX2JpbmQoRU5EX0VWLCB3aW5kb3cpO1xuXHRcdHRoYXQuX2JpbmQoQ0FOQ0VMX0VWLCB3aW5kb3cpO1xuXHR9LFxuXHRcblx0X21vdmU6IGZ1bmN0aW9uIChlKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0cG9pbnQgPSBoYXNUb3VjaCA/IGUudG91Y2hlc1swXSA6IGUsXG5cdFx0XHRkZWx0YVggPSBwb2ludC5wYWdlWCAtIHRoYXQucG9pbnRYLFxuXHRcdFx0ZGVsdGFZID0gcG9pbnQucGFnZVkgLSB0aGF0LnBvaW50WSxcblx0XHRcdG5ld1ggPSB0aGF0LnggKyBkZWx0YVgsXG5cdFx0XHRuZXdZID0gdGhhdC55ICsgZGVsdGFZLFxuXHRcdFx0YzEsIGMyLCBzY2FsZSxcblx0XHRcdHRpbWVzdGFtcCA9IGUudGltZVN0YW1wIHx8IERhdGUubm93KCk7XG5cblx0XHRpZiAodGhhdC5vcHRpb25zLm9uQmVmb3JlU2Nyb2xsTW92ZSkgdGhhdC5vcHRpb25zLm9uQmVmb3JlU2Nyb2xsTW92ZS5jYWxsKHRoYXQsIGUpO1xuXG5cdFx0Ly8gWm9vbVxuXHRcdGlmICh0aGF0Lm9wdGlvbnMuem9vbSAmJiBoYXNUb3VjaCAmJiBlLnRvdWNoZXMubGVuZ3RoID4gMSkge1xuXHRcdFx0YzEgPSBtLmFicyhlLnRvdWNoZXNbMF0ucGFnZVggLSBlLnRvdWNoZXNbMV0ucGFnZVgpO1xuXHRcdFx0YzIgPSBtLmFicyhlLnRvdWNoZXNbMF0ucGFnZVkgLSBlLnRvdWNoZXNbMV0ucGFnZVkpO1xuXHRcdFx0dGhhdC50b3VjaGVzRGlzdCA9IG0uc3FydChjMSpjMStjMipjMik7XG5cblx0XHRcdHRoYXQuem9vbWVkID0gdHJ1ZTtcblxuXHRcdFx0c2NhbGUgPSAxIC8gdGhhdC50b3VjaGVzRGlzdFN0YXJ0ICogdGhhdC50b3VjaGVzRGlzdCAqIHRoaXMuc2NhbGU7XG5cblx0XHRcdGlmIChzY2FsZSA8IHRoYXQub3B0aW9ucy56b29tTWluKSBzY2FsZSA9IDAuNSAqIHRoYXQub3B0aW9ucy56b29tTWluICogTWF0aC5wb3coMi4wLCBzY2FsZSAvIHRoYXQub3B0aW9ucy56b29tTWluKTtcblx0XHRcdGVsc2UgaWYgKHNjYWxlID4gdGhhdC5vcHRpb25zLnpvb21NYXgpIHNjYWxlID0gMi4wICogdGhhdC5vcHRpb25zLnpvb21NYXggKiBNYXRoLnBvdygwLjUsIHRoYXQub3B0aW9ucy56b29tTWF4IC8gc2NhbGUpO1xuXG5cdFx0XHR0aGF0Lmxhc3RTY2FsZSA9IHNjYWxlIC8gdGhpcy5zY2FsZTtcblxuXHRcdFx0bmV3WCA9IHRoaXMub3JpZ2luWCAtIHRoaXMub3JpZ2luWCAqIHRoYXQubGFzdFNjYWxlICsgdGhpcy54O1xuXHRcdFx0bmV3WSA9IHRoaXMub3JpZ2luWSAtIHRoaXMub3JpZ2luWSAqIHRoYXQubGFzdFNjYWxlICsgdGhpcy55O1xuXG5cdFx0XHR0aGlzLnNjcm9sbGVyLnN0eWxlW3RyYW5zZm9ybV0gPSAndHJhbnNsYXRlKCcgKyBuZXdYICsgJ3B4LCcgKyBuZXdZICsgJ3B4KSBzY2FsZSgnICsgc2NhbGUgKyAnKScgKyB0cmFuc2xhdGVaO1xuXG5cdFx0XHRpZiAodGhhdC5vcHRpb25zLm9uWm9vbSkgdGhhdC5vcHRpb25zLm9uWm9vbS5jYWxsKHRoYXQsIGUpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoYXQucG9pbnRYID0gcG9pbnQucGFnZVg7XG5cdFx0dGhhdC5wb2ludFkgPSBwb2ludC5wYWdlWTtcblxuXHRcdC8vIFNsb3cgZG93biBpZiBvdXRzaWRlIG9mIHRoZSBib3VuZGFyaWVzXG5cdFx0aWYgKG5ld1ggPiAwIHx8IG5ld1ggPCB0aGF0Lm1heFNjcm9sbFgpIHtcblx0XHRcdG5ld1ggPSB0aGF0Lm9wdGlvbnMuYm91bmNlID8gdGhhdC54ICsgKGRlbHRhWCAvIDIpIDogbmV3WCA+PSAwIHx8IHRoYXQubWF4U2Nyb2xsWCA+PSAwID8gMCA6IHRoYXQubWF4U2Nyb2xsWDtcblx0XHR9XG5cdFx0aWYgKG5ld1kgPiB0aGF0Lm1pblNjcm9sbFkgfHwgbmV3WSA8IHRoYXQubWF4U2Nyb2xsWSkge1xuXHRcdFx0bmV3WSA9IHRoYXQub3B0aW9ucy5ib3VuY2UgPyB0aGF0LnkgKyAoZGVsdGFZIC8gMikgOiBuZXdZID49IHRoYXQubWluU2Nyb2xsWSB8fCB0aGF0Lm1heFNjcm9sbFkgPj0gMCA/IHRoYXQubWluU2Nyb2xsWSA6IHRoYXQubWF4U2Nyb2xsWTtcblx0XHR9XG5cblx0XHR0aGF0LmRpc3RYICs9IGRlbHRhWDtcblx0XHR0aGF0LmRpc3RZICs9IGRlbHRhWTtcblx0XHR0aGF0LmFic0Rpc3RYID0gbS5hYnModGhhdC5kaXN0WCk7XG5cdFx0dGhhdC5hYnNEaXN0WSA9IG0uYWJzKHRoYXQuZGlzdFkpO1xuXG5cdFx0aWYgKHRoYXQuYWJzRGlzdFggPCA2ICYmIHRoYXQuYWJzRGlzdFkgPCA2KSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gTG9jayBkaXJlY3Rpb25cblx0XHRpZiAodGhhdC5vcHRpb25zLmxvY2tEaXJlY3Rpb24pIHtcblx0XHRcdGlmICh0aGF0LmFic0Rpc3RYID4gdGhhdC5hYnNEaXN0WSArIDUpIHtcblx0XHRcdFx0bmV3WSA9IHRoYXQueTtcblx0XHRcdFx0ZGVsdGFZID0gMDtcblx0XHRcdH0gZWxzZSBpZiAodGhhdC5hYnNEaXN0WSA+IHRoYXQuYWJzRGlzdFggKyA1KSB7XG5cdFx0XHRcdG5ld1ggPSB0aGF0Lng7XG5cdFx0XHRcdGRlbHRhWCA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhhdC5tb3ZlZCA9IHRydWU7XG5cdFx0dGhhdC5fcG9zKG5ld1gsIG5ld1kpO1xuXHRcdHRoYXQuZGlyWCA9IGRlbHRhWCA+IDAgPyAtMSA6IGRlbHRhWCA8IDAgPyAxIDogMDtcblx0XHR0aGF0LmRpclkgPSBkZWx0YVkgPiAwID8gLTEgOiBkZWx0YVkgPCAwID8gMSA6IDA7XG5cblx0XHRpZiAodGltZXN0YW1wIC0gdGhhdC5zdGFydFRpbWUgPiAzMDApIHtcblx0XHRcdHRoYXQuc3RhcnRUaW1lID0gdGltZXN0YW1wO1xuXHRcdFx0dGhhdC5zdGFydFggPSB0aGF0Lng7XG5cdFx0XHR0aGF0LnN0YXJ0WSA9IHRoYXQueTtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKHRoYXQub3B0aW9ucy5vblNjcm9sbE1vdmUpIHRoYXQub3B0aW9ucy5vblNjcm9sbE1vdmUuY2FsbCh0aGF0LCBlKTtcblx0fSxcblx0XG5cdF9lbmQ6IGZ1bmN0aW9uIChlKSB7XG5cdFx0aWYgKGhhc1RvdWNoICYmIGUudG91Y2hlcy5sZW5ndGggIT09IDApIHJldHVybjtcblxuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdHBvaW50ID0gaGFzVG91Y2ggPyBlLmNoYW5nZWRUb3VjaGVzWzBdIDogZSxcblx0XHRcdHRhcmdldCwgZXYsXG5cdFx0XHRtb21lbnR1bVggPSB7IGRpc3Q6MCwgdGltZTowIH0sXG5cdFx0XHRtb21lbnR1bVkgPSB7IGRpc3Q6MCwgdGltZTowIH0sXG5cdFx0XHRkdXJhdGlvbiA9IChlLnRpbWVTdGFtcCB8fCBEYXRlLm5vdygpKSAtIHRoYXQuc3RhcnRUaW1lLFxuXHRcdFx0bmV3UG9zWCA9IHRoYXQueCxcblx0XHRcdG5ld1Bvc1kgPSB0aGF0LnksXG5cdFx0XHRkaXN0WCwgZGlzdFksXG5cdFx0XHRuZXdEdXJhdGlvbixcblx0XHRcdHNuYXAsXG5cdFx0XHRzY2FsZTtcblxuXHRcdHRoYXQuX3VuYmluZChNT1ZFX0VWLCB3aW5kb3cpO1xuXHRcdHRoYXQuX3VuYmluZChFTkRfRVYsIHdpbmRvdyk7XG5cdFx0dGhhdC5fdW5iaW5kKENBTkNFTF9FViwgd2luZG93KTtcblxuXHRcdGlmICh0aGF0Lm9wdGlvbnMub25CZWZvcmVTY3JvbGxFbmQpIHRoYXQub3B0aW9ucy5vbkJlZm9yZVNjcm9sbEVuZC5jYWxsKHRoYXQsIGUpO1xuXG5cdFx0aWYgKHRoYXQuem9vbWVkKSB7XG5cdFx0XHRzY2FsZSA9IHRoYXQuc2NhbGUgKiB0aGF0Lmxhc3RTY2FsZTtcblx0XHRcdHNjYWxlID0gTWF0aC5tYXgodGhhdC5vcHRpb25zLnpvb21NaW4sIHNjYWxlKTtcblx0XHRcdHNjYWxlID0gTWF0aC5taW4odGhhdC5vcHRpb25zLnpvb21NYXgsIHNjYWxlKTtcblx0XHRcdHRoYXQubGFzdFNjYWxlID0gc2NhbGUgLyB0aGF0LnNjYWxlO1xuXHRcdFx0dGhhdC5zY2FsZSA9IHNjYWxlO1xuXG5cdFx0XHR0aGF0LnggPSB0aGF0Lm9yaWdpblggLSB0aGF0Lm9yaWdpblggKiB0aGF0Lmxhc3RTY2FsZSArIHRoYXQueDtcblx0XHRcdHRoYXQueSA9IHRoYXQub3JpZ2luWSAtIHRoYXQub3JpZ2luWSAqIHRoYXQubGFzdFNjYWxlICsgdGhhdC55O1xuXHRcdFx0XG5cdFx0XHR0aGF0LnNjcm9sbGVyLnN0eWxlW3RyYW5zaXRpb25EdXJhdGlvbl0gPSAnMjAwbXMnO1xuXHRcdFx0dGhhdC5zY3JvbGxlci5zdHlsZVt0cmFuc2Zvcm1dID0gJ3RyYW5zbGF0ZSgnICsgdGhhdC54ICsgJ3B4LCcgKyB0aGF0LnkgKyAncHgpIHNjYWxlKCcgKyB0aGF0LnNjYWxlICsgJyknICsgdHJhbnNsYXRlWjtcblx0XHRcdFxuXHRcdFx0dGhhdC56b29tZWQgPSBmYWxzZTtcblx0XHRcdHRoYXQucmVmcmVzaCgpO1xuXG5cdFx0XHRpZiAodGhhdC5vcHRpb25zLm9uWm9vbUVuZCkgdGhhdC5vcHRpb25zLm9uWm9vbUVuZC5jYWxsKHRoYXQsIGUpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICghdGhhdC5tb3ZlZCkge1xuXHRcdFx0aWYgKGhhc1RvdWNoKSB7XG5cdFx0XHRcdGlmICh0aGF0LmRvdWJsZVRhcFRpbWVyICYmIHRoYXQub3B0aW9ucy56b29tKSB7XG5cdFx0XHRcdFx0Ly8gRG91YmxlIHRhcHBlZFxuXHRcdFx0XHRcdGNsZWFyVGltZW91dCh0aGF0LmRvdWJsZVRhcFRpbWVyKTtcblx0XHRcdFx0XHR0aGF0LmRvdWJsZVRhcFRpbWVyID0gbnVsbDtcblx0XHRcdFx0XHRpZiAodGhhdC5vcHRpb25zLm9uWm9vbVN0YXJ0KSB0aGF0Lm9wdGlvbnMub25ab29tU3RhcnQuY2FsbCh0aGF0LCBlKTtcblx0XHRcdFx0XHR0aGF0Lnpvb20odGhhdC5wb2ludFgsIHRoYXQucG9pbnRZLCB0aGF0LnNjYWxlID09IDEgPyB0aGF0Lm9wdGlvbnMuZG91YmxlVGFwWm9vbSA6IDEpO1xuXHRcdFx0XHRcdGlmICh0aGF0Lm9wdGlvbnMub25ab29tRW5kKSB7XG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHR0aGF0Lm9wdGlvbnMub25ab29tRW5kLmNhbGwodGhhdCwgZSk7XG5cdFx0XHRcdFx0XHR9LCAyMDApOyAvLyAyMDAgaXMgZGVmYXVsdCB6b29tIGR1cmF0aW9uXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5oYW5kbGVDbGljaykge1xuXHRcdFx0XHRcdHRoYXQuZG91YmxlVGFwVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdHRoYXQuZG91YmxlVGFwVGltZXIgPSBudWxsO1xuXG5cdFx0XHRcdFx0XHQvLyBGaW5kIHRoZSBsYXN0IHRvdWNoZWQgZWxlbWVudFxuXHRcdFx0XHRcdFx0dGFyZ2V0ID0gcG9pbnQudGFyZ2V0O1xuXHRcdFx0XHRcdFx0d2hpbGUgKHRhcmdldC5ub2RlVHlwZSAhPSAxKSB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcblxuXHRcdFx0XHRcdFx0aWYgKHRhcmdldC50YWdOYW1lICE9ICdTRUxFQ1QnICYmIHRhcmdldC50YWdOYW1lICE9ICdJTlBVVCcgJiYgdGFyZ2V0LnRhZ05hbWUgIT0gJ1RFWFRBUkVBJykge1xuXHRcdFx0XHRcdFx0XHRldiA9IGRvYy5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcblx0XHRcdFx0XHRcdFx0ZXYuaW5pdE1vdXNlRXZlbnQoJ2NsaWNrJywgdHJ1ZSwgdHJ1ZSwgZS52aWV3LCAxLFxuXHRcdFx0XHRcdFx0XHRcdHBvaW50LnNjcmVlblgsIHBvaW50LnNjcmVlblksIHBvaW50LmNsaWVudFgsIHBvaW50LmNsaWVudFksXG5cdFx0XHRcdFx0XHRcdFx0ZS5jdHJsS2V5LCBlLmFsdEtleSwgZS5zaGlmdEtleSwgZS5tZXRhS2V5LFxuXHRcdFx0XHRcdFx0XHRcdDAsIG51bGwpO1xuXHRcdFx0XHRcdFx0XHRldi5fZmFrZSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdHRhcmdldC5kaXNwYXRjaEV2ZW50KGV2KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCB0aGF0Lm9wdGlvbnMuem9vbSA/IDI1MCA6IDApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHRoYXQuX3Jlc2V0UG9zKDQwMCk7XG5cblx0XHRcdGlmICh0aGF0Lm9wdGlvbnMub25Ub3VjaEVuZCkgdGhhdC5vcHRpb25zLm9uVG91Y2hFbmQuY2FsbCh0aGF0LCBlKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoZHVyYXRpb24gPCAzMDAgJiYgdGhhdC5vcHRpb25zLm1vbWVudHVtKSB7XG5cdFx0XHRtb21lbnR1bVggPSBuZXdQb3NYID8gdGhhdC5fbW9tZW50dW0obmV3UG9zWCAtIHRoYXQuc3RhcnRYLCBkdXJhdGlvbiwgLXRoYXQueCwgdGhhdC5zY3JvbGxlclcgLSB0aGF0LndyYXBwZXJXICsgdGhhdC54LCB0aGF0Lm9wdGlvbnMuYm91bmNlID8gdGhhdC53cmFwcGVyVyA6IDApIDogbW9tZW50dW1YO1xuXHRcdFx0bW9tZW50dW1ZID0gbmV3UG9zWSA/IHRoYXQuX21vbWVudHVtKG5ld1Bvc1kgLSB0aGF0LnN0YXJ0WSwgZHVyYXRpb24sIC10aGF0LnksICh0aGF0Lm1heFNjcm9sbFkgPCAwID8gdGhhdC5zY3JvbGxlckggLSB0aGF0LndyYXBwZXJIICsgdGhhdC55IC0gdGhhdC5taW5TY3JvbGxZIDogMCksIHRoYXQub3B0aW9ucy5ib3VuY2UgPyB0aGF0LndyYXBwZXJIIDogMCkgOiBtb21lbnR1bVk7XG5cblx0XHRcdG5ld1Bvc1ggPSB0aGF0LnggKyBtb21lbnR1bVguZGlzdDtcblx0XHRcdG5ld1Bvc1kgPSB0aGF0LnkgKyBtb21lbnR1bVkuZGlzdDtcblxuXHRcdFx0aWYgKCh0aGF0LnggPiAwICYmIG5ld1Bvc1ggPiAwKSB8fCAodGhhdC54IDwgdGhhdC5tYXhTY3JvbGxYICYmIG5ld1Bvc1ggPCB0aGF0Lm1heFNjcm9sbFgpKSBtb21lbnR1bVggPSB7IGRpc3Q6MCwgdGltZTowIH07XG5cdFx0XHRpZiAoKHRoYXQueSA+IHRoYXQubWluU2Nyb2xsWSAmJiBuZXdQb3NZID4gdGhhdC5taW5TY3JvbGxZKSB8fCAodGhhdC55IDwgdGhhdC5tYXhTY3JvbGxZICYmIG5ld1Bvc1kgPCB0aGF0Lm1heFNjcm9sbFkpKSBtb21lbnR1bVkgPSB7IGRpc3Q6MCwgdGltZTowIH07XG5cdFx0fVxuXG5cdFx0aWYgKG1vbWVudHVtWC5kaXN0IHx8IG1vbWVudHVtWS5kaXN0KSB7XG5cdFx0XHRuZXdEdXJhdGlvbiA9IG0ubWF4KG0ubWF4KG1vbWVudHVtWC50aW1lLCBtb21lbnR1bVkudGltZSksIDEwKTtcblxuXHRcdFx0Ly8gRG8gd2UgbmVlZCB0byBzbmFwP1xuXHRcdFx0aWYgKHRoYXQub3B0aW9ucy5zbmFwKSB7XG5cdFx0XHRcdGRpc3RYID0gbmV3UG9zWCAtIHRoYXQuYWJzU3RhcnRYO1xuXHRcdFx0XHRkaXN0WSA9IG5ld1Bvc1kgLSB0aGF0LmFic1N0YXJ0WTtcblx0XHRcdFx0aWYgKG0uYWJzKGRpc3RYKSA8IHRoYXQub3B0aW9ucy5zbmFwVGhyZXNob2xkICYmIG0uYWJzKGRpc3RZKSA8IHRoYXQub3B0aW9ucy5zbmFwVGhyZXNob2xkKSB7IHRoYXQuc2Nyb2xsVG8odGhhdC5hYnNTdGFydFgsIHRoYXQuYWJzU3RhcnRZLCAyMDApOyB9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdHNuYXAgPSB0aGF0Ll9zbmFwKG5ld1Bvc1gsIG5ld1Bvc1kpO1xuXHRcdFx0XHRcdG5ld1Bvc1ggPSBzbmFwLng7XG5cdFx0XHRcdFx0bmV3UG9zWSA9IHNuYXAueTtcblx0XHRcdFx0XHRuZXdEdXJhdGlvbiA9IG0ubWF4KHNuYXAudGltZSwgbmV3RHVyYXRpb24pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHRoYXQuc2Nyb2xsVG8obS5yb3VuZChuZXdQb3NYKSwgbS5yb3VuZChuZXdQb3NZKSwgbmV3RHVyYXRpb24pO1xuXG5cdFx0XHRpZiAodGhhdC5vcHRpb25zLm9uVG91Y2hFbmQpIHRoYXQub3B0aW9ucy5vblRvdWNoRW5kLmNhbGwodGhhdCwgZSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRG8gd2UgbmVlZCB0byBzbmFwP1xuXHRcdGlmICh0aGF0Lm9wdGlvbnMuc25hcCkge1xuXHRcdFx0ZGlzdFggPSBuZXdQb3NYIC0gdGhhdC5hYnNTdGFydFg7XG5cdFx0XHRkaXN0WSA9IG5ld1Bvc1kgLSB0aGF0LmFic1N0YXJ0WTtcblx0XHRcdGlmIChtLmFicyhkaXN0WCkgPCB0aGF0Lm9wdGlvbnMuc25hcFRocmVzaG9sZCAmJiBtLmFicyhkaXN0WSkgPCB0aGF0Lm9wdGlvbnMuc25hcFRocmVzaG9sZCkgdGhhdC5zY3JvbGxUbyh0aGF0LmFic1N0YXJ0WCwgdGhhdC5hYnNTdGFydFksIDIwMCk7XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0c25hcCA9IHRoYXQuX3NuYXAodGhhdC54LCB0aGF0LnkpO1xuXHRcdFx0XHRpZiAoc25hcC54ICE9IHRoYXQueCB8fCBzbmFwLnkgIT0gdGhhdC55KSB0aGF0LnNjcm9sbFRvKHNuYXAueCwgc25hcC55LCBzbmFwLnRpbWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhhdC5vcHRpb25zLm9uVG91Y2hFbmQpIHRoYXQub3B0aW9ucy5vblRvdWNoRW5kLmNhbGwodGhhdCwgZSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhhdC5fcmVzZXRQb3MoMjAwKTtcblx0XHRpZiAodGhhdC5vcHRpb25zLm9uVG91Y2hFbmQpIHRoYXQub3B0aW9ucy5vblRvdWNoRW5kLmNhbGwodGhhdCwgZSk7XG5cdH0sXG5cdFxuXHRfcmVzZXRQb3M6IGZ1bmN0aW9uICh0aW1lKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0cmVzZXRYID0gdGhhdC54ID49IDAgPyAwIDogdGhhdC54IDwgdGhhdC5tYXhTY3JvbGxYID8gdGhhdC5tYXhTY3JvbGxYIDogdGhhdC54LFxuXHRcdFx0cmVzZXRZID0gdGhhdC55ID49IHRoYXQubWluU2Nyb2xsWSB8fCB0aGF0Lm1heFNjcm9sbFkgPiAwID8gdGhhdC5taW5TY3JvbGxZIDogdGhhdC55IDwgdGhhdC5tYXhTY3JvbGxZID8gdGhhdC5tYXhTY3JvbGxZIDogdGhhdC55O1xuXG5cdFx0aWYgKHJlc2V0WCA9PSB0aGF0LnggJiYgcmVzZXRZID09IHRoYXQueSkge1xuXHRcdFx0aWYgKHRoYXQubW92ZWQpIHtcblx0XHRcdFx0dGhhdC5tb3ZlZCA9IGZhbHNlO1xuXHRcdFx0XHRpZiAodGhhdC5vcHRpb25zLm9uU2Nyb2xsRW5kKSB0aGF0Lm9wdGlvbnMub25TY3JvbGxFbmQuY2FsbCh0aGF0KTtcdFx0Ly8gRXhlY3V0ZSBjdXN0b20gY29kZSBvbiBzY3JvbGwgZW5kXG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGF0LmhTY3JvbGxiYXIgJiYgdGhhdC5vcHRpb25zLmhpZGVTY3JvbGxiYXIpIHtcblx0XHRcdFx0aWYgKHZlbmRvciA9PSAnd2Via2l0JykgdGhhdC5oU2Nyb2xsYmFyV3JhcHBlci5zdHlsZVt0cmFuc2l0aW9uRGVsYXldID0gJzMwMG1zJztcblx0XHRcdFx0dGhhdC5oU2Nyb2xsYmFyV3JhcHBlci5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRoYXQudlNjcm9sbGJhciAmJiB0aGF0Lm9wdGlvbnMuaGlkZVNjcm9sbGJhcikge1xuXHRcdFx0XHRpZiAodmVuZG9yID09ICd3ZWJraXQnKSB0aGF0LnZTY3JvbGxiYXJXcmFwcGVyLnN0eWxlW3RyYW5zaXRpb25EZWxheV0gPSAnMzAwbXMnO1xuXHRcdFx0XHR0aGF0LnZTY3JvbGxiYXJXcmFwcGVyLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGF0LnNjcm9sbFRvKHJlc2V0WCwgcmVzZXRZLCB0aW1lIHx8IDApO1xuXHR9LFxuXG5cdF93aGVlbDogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHR3aGVlbERlbHRhWCwgd2hlZWxEZWx0YVksXG5cdFx0XHRkZWx0YVgsIGRlbHRhWSxcblx0XHRcdGRlbHRhU2NhbGU7XG5cblx0XHRpZiAoJ3doZWVsRGVsdGFYJyBpbiBlKSB7XG5cdFx0XHR3aGVlbERlbHRhWCA9IGUud2hlZWxEZWx0YVggLyAxMjtcblx0XHRcdHdoZWVsRGVsdGFZID0gZS53aGVlbERlbHRhWSAvIDEyO1xuXHRcdH0gZWxzZSBpZignd2hlZWxEZWx0YScgaW4gZSkge1xuXHRcdFx0d2hlZWxEZWx0YVggPSB3aGVlbERlbHRhWSA9IGUud2hlZWxEZWx0YSAvIDEyO1xuXHRcdH0gZWxzZSBpZiAoJ2RldGFpbCcgaW4gZSkge1xuXHRcdFx0d2hlZWxEZWx0YVggPSB3aGVlbERlbHRhWSA9IC1lLmRldGFpbCAqIDM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKHRoYXQub3B0aW9ucy53aGVlbEFjdGlvbiA9PSAnem9vbScpIHtcblx0XHRcdGRlbHRhU2NhbGUgPSB0aGF0LnNjYWxlICogTWF0aC5wb3coMiwgMS8zICogKHdoZWVsRGVsdGFZID8gd2hlZWxEZWx0YVkgLyBNYXRoLmFicyh3aGVlbERlbHRhWSkgOiAwKSk7XG5cdFx0XHRpZiAoZGVsdGFTY2FsZSA8IHRoYXQub3B0aW9ucy56b29tTWluKSBkZWx0YVNjYWxlID0gdGhhdC5vcHRpb25zLnpvb21NaW47XG5cdFx0XHRpZiAoZGVsdGFTY2FsZSA+IHRoYXQub3B0aW9ucy56b29tTWF4KSBkZWx0YVNjYWxlID0gdGhhdC5vcHRpb25zLnpvb21NYXg7XG5cdFx0XHRcblx0XHRcdGlmIChkZWx0YVNjYWxlICE9IHRoYXQuc2NhbGUpIHtcblx0XHRcdFx0aWYgKCF0aGF0LndoZWVsWm9vbUNvdW50ICYmIHRoYXQub3B0aW9ucy5vblpvb21TdGFydCkgdGhhdC5vcHRpb25zLm9uWm9vbVN0YXJ0LmNhbGwodGhhdCwgZSk7XG5cdFx0XHRcdHRoYXQud2hlZWxab29tQ291bnQrKztcblx0XHRcdFx0XG5cdFx0XHRcdHRoYXQuem9vbShlLnBhZ2VYLCBlLnBhZ2VZLCBkZWx0YVNjYWxlLCA0MDApO1xuXHRcdFx0XHRcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR0aGF0LndoZWVsWm9vbUNvdW50LS07XG5cdFx0XHRcdFx0aWYgKCF0aGF0LndoZWVsWm9vbUNvdW50ICYmIHRoYXQub3B0aW9ucy5vblpvb21FbmQpIHRoYXQub3B0aW9ucy5vblpvb21FbmQuY2FsbCh0aGF0LCBlKTtcblx0XHRcdFx0fSwgNDAwKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRcblx0XHRkZWx0YVggPSB0aGF0LnggKyB3aGVlbERlbHRhWDtcblx0XHRkZWx0YVkgPSB0aGF0LnkgKyB3aGVlbERlbHRhWTtcblxuXHRcdGlmIChkZWx0YVggPiAwKSBkZWx0YVggPSAwO1xuXHRcdGVsc2UgaWYgKGRlbHRhWCA8IHRoYXQubWF4U2Nyb2xsWCkgZGVsdGFYID0gdGhhdC5tYXhTY3JvbGxYO1xuXG5cdFx0aWYgKGRlbHRhWSA+IHRoYXQubWluU2Nyb2xsWSkgZGVsdGFZID0gdGhhdC5taW5TY3JvbGxZO1xuXHRcdGVsc2UgaWYgKGRlbHRhWSA8IHRoYXQubWF4U2Nyb2xsWSkgZGVsdGFZID0gdGhhdC5tYXhTY3JvbGxZO1xuICAgIFxuXHRcdGlmICh0aGF0Lm1heFNjcm9sbFkgPCAwKSB7XG5cdFx0XHR0aGF0LnNjcm9sbFRvKGRlbHRhWCwgZGVsdGFZLCAwKTtcblx0XHR9XG5cdH0sXG5cdFxuXHRfdHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gKGUpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cblx0XHRpZiAoZS50YXJnZXQgIT0gdGhhdC5zY3JvbGxlcikgcmV0dXJuO1xuXG5cdFx0dGhhdC5fdW5iaW5kKFRSTkVORF9FVik7XG5cdFx0XG5cdFx0dGhhdC5fc3RhcnRBbmkoKTtcblx0fSxcblxuXG5cdC8qKlxuXHQqXG5cdCogVXRpbGl0aWVzXG5cdCpcblx0Ki9cblx0X3N0YXJ0QW5pOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0c3RhcnRYID0gdGhhdC54LCBzdGFydFkgPSB0aGF0LnksXG5cdFx0XHRzdGFydFRpbWUgPSBEYXRlLm5vdygpLFxuXHRcdFx0c3RlcCwgZWFzZU91dCxcblx0XHRcdGFuaW1hdGU7XG5cblx0XHRpZiAodGhhdC5hbmltYXRpbmcpIHJldHVybjtcblx0XHRcblx0XHRpZiAoIXRoYXQuc3RlcHMubGVuZ3RoKSB7XG5cdFx0XHR0aGF0Ll9yZXNldFBvcyg0MDApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRcblx0XHRzdGVwID0gdGhhdC5zdGVwcy5zaGlmdCgpO1xuXHRcdFxuXHRcdGlmIChzdGVwLnggPT0gc3RhcnRYICYmIHN0ZXAueSA9PSBzdGFydFkpIHN0ZXAudGltZSA9IDA7XG5cblx0XHR0aGF0LmFuaW1hdGluZyA9IHRydWU7XG5cdFx0dGhhdC5tb3ZlZCA9IHRydWU7XG5cdFx0XG5cdFx0aWYgKHRoYXQub3B0aW9ucy51c2VUcmFuc2l0aW9uKSB7XG5cdFx0XHR0aGF0Ll90cmFuc2l0aW9uVGltZShzdGVwLnRpbWUpO1xuXHRcdFx0dGhhdC5fcG9zKHN0ZXAueCwgc3RlcC55KTtcblx0XHRcdHRoYXQuYW5pbWF0aW5nID0gZmFsc2U7XG5cdFx0XHRpZiAoc3RlcC50aW1lKSB0aGF0Ll9iaW5kKFRSTkVORF9FVik7XG5cdFx0XHRlbHNlIHRoYXQuX3Jlc2V0UG9zKDApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGFuaW1hdGUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgbm93ID0gRGF0ZS5ub3coKSxcblx0XHRcdFx0bmV3WCwgbmV3WTtcblxuXHRcdFx0aWYgKG5vdyA+PSBzdGFydFRpbWUgKyBzdGVwLnRpbWUpIHtcblx0XHRcdFx0dGhhdC5fcG9zKHN0ZXAueCwgc3RlcC55KTtcblx0XHRcdFx0dGhhdC5hbmltYXRpbmcgPSBmYWxzZTtcblx0XHRcdFx0aWYgKHRoYXQub3B0aW9ucy5vbkFuaW1hdGlvbkVuZCkgdGhhdC5vcHRpb25zLm9uQW5pbWF0aW9uRW5kLmNhbGwodGhhdCk7XHRcdFx0Ly8gRXhlY3V0ZSBjdXN0b20gY29kZSBvbiBhbmltYXRpb24gZW5kXG5cdFx0XHRcdHRoYXQuX3N0YXJ0QW5pKCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0bm93ID0gKG5vdyAtIHN0YXJ0VGltZSkgLyBzdGVwLnRpbWUgLSAxO1xuXHRcdFx0ZWFzZU91dCA9IG0uc3FydCgxIC0gbm93ICogbm93KTtcblx0XHRcdG5ld1ggPSAoc3RlcC54IC0gc3RhcnRYKSAqIGVhc2VPdXQgKyBzdGFydFg7XG5cdFx0XHRuZXdZID0gKHN0ZXAueSAtIHN0YXJ0WSkgKiBlYXNlT3V0ICsgc3RhcnRZO1xuXHRcdFx0dGhhdC5fcG9zKG5ld1gsIG5ld1kpO1xuXHRcdFx0aWYgKHRoYXQuYW5pbWF0aW5nKSB0aGF0LmFuaVRpbWUgPSBuZXh0RnJhbWUoYW5pbWF0ZSk7XG5cdFx0fTtcblxuXHRcdGFuaW1hdGUoKTtcblx0fSxcblxuXHRfdHJhbnNpdGlvblRpbWU6IGZ1bmN0aW9uICh0aW1lKSB7XG5cdFx0dGltZSArPSAnbXMnO1xuXHRcdHRoaXMuc2Nyb2xsZXIuc3R5bGVbdHJhbnNpdGlvbkR1cmF0aW9uXSA9IHRpbWU7XG5cdFx0aWYgKHRoaXMuaFNjcm9sbGJhcikgdGhpcy5oU2Nyb2xsYmFySW5kaWNhdG9yLnN0eWxlW3RyYW5zaXRpb25EdXJhdGlvbl0gPSB0aW1lO1xuXHRcdGlmICh0aGlzLnZTY3JvbGxiYXIpIHRoaXMudlNjcm9sbGJhckluZGljYXRvci5zdHlsZVt0cmFuc2l0aW9uRHVyYXRpb25dID0gdGltZTtcblx0fSxcblxuXHRfbW9tZW50dW06IGZ1bmN0aW9uIChkaXN0LCB0aW1lLCBtYXhEaXN0VXBwZXIsIG1heERpc3RMb3dlciwgc2l6ZSkge1xuXHRcdHZhciBkZWNlbGVyYXRpb24gPSAwLjAwMDYsXG5cdFx0XHRzcGVlZCA9IG0uYWJzKGRpc3QpIC8gdGltZSxcblx0XHRcdG5ld0Rpc3QgPSAoc3BlZWQgKiBzcGVlZCkgLyAoMiAqIGRlY2VsZXJhdGlvbiksXG5cdFx0XHRuZXdUaW1lID0gMCwgb3V0c2lkZURpc3QgPSAwO1xuXG5cdFx0Ly8gUHJvcG9ydGluYWxseSByZWR1Y2Ugc3BlZWQgaWYgd2UgYXJlIG91dHNpZGUgb2YgdGhlIGJvdW5kYXJpZXNcblx0XHRpZiAoZGlzdCA+IDAgJiYgbmV3RGlzdCA+IG1heERpc3RVcHBlcikge1xuXHRcdFx0b3V0c2lkZURpc3QgPSBzaXplIC8gKDYgLyAobmV3RGlzdCAvIHNwZWVkICogZGVjZWxlcmF0aW9uKSk7XG5cdFx0XHRtYXhEaXN0VXBwZXIgPSBtYXhEaXN0VXBwZXIgKyBvdXRzaWRlRGlzdDtcblx0XHRcdHNwZWVkID0gc3BlZWQgKiBtYXhEaXN0VXBwZXIgLyBuZXdEaXN0O1xuXHRcdFx0bmV3RGlzdCA9IG1heERpc3RVcHBlcjtcblx0XHR9IGVsc2UgaWYgKGRpc3QgPCAwICYmIG5ld0Rpc3QgPiBtYXhEaXN0TG93ZXIpIHtcblx0XHRcdG91dHNpZGVEaXN0ID0gc2l6ZSAvICg2IC8gKG5ld0Rpc3QgLyBzcGVlZCAqIGRlY2VsZXJhdGlvbikpO1xuXHRcdFx0bWF4RGlzdExvd2VyID0gbWF4RGlzdExvd2VyICsgb3V0c2lkZURpc3Q7XG5cdFx0XHRzcGVlZCA9IHNwZWVkICogbWF4RGlzdExvd2VyIC8gbmV3RGlzdDtcblx0XHRcdG5ld0Rpc3QgPSBtYXhEaXN0TG93ZXI7XG5cdFx0fVxuXG5cdFx0bmV3RGlzdCA9IG5ld0Rpc3QgKiAoZGlzdCA8IDAgPyAtMSA6IDEpO1xuXHRcdG5ld1RpbWUgPSBzcGVlZCAvIGRlY2VsZXJhdGlvbjtcblxuXHRcdHJldHVybiB7IGRpc3Q6IG5ld0Rpc3QsIHRpbWU6IG0ucm91bmQobmV3VGltZSkgfTtcblx0fSxcblxuXHRfb2Zmc2V0OiBmdW5jdGlvbiAoZWwpIHtcblx0XHR2YXIgbGVmdCA9IC1lbC5vZmZzZXRMZWZ0LFxuXHRcdFx0dG9wID0gLWVsLm9mZnNldFRvcDtcblx0XHRcdFxuXHRcdHdoaWxlIChlbCA9IGVsLm9mZnNldFBhcmVudCkge1xuXHRcdFx0bGVmdCAtPSBlbC5vZmZzZXRMZWZ0O1xuXHRcdFx0dG9wIC09IGVsLm9mZnNldFRvcDtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKGVsICE9IHRoaXMud3JhcHBlcikge1xuXHRcdFx0bGVmdCAqPSB0aGlzLnNjYWxlO1xuXHRcdFx0dG9wICo9IHRoaXMuc2NhbGU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgbGVmdDogbGVmdCwgdG9wOiB0b3AgfTtcblx0fSxcblxuXHRfc25hcDogZnVuY3Rpb24gKHgsIHkpIHtcblx0XHR2YXIgdGhhdCA9IHRoaXMsXG5cdFx0XHRpLCBsLFxuXHRcdFx0cGFnZSwgdGltZSxcblx0XHRcdHNpemVYLCBzaXplWTtcblxuXHRcdC8vIENoZWNrIHBhZ2UgWFxuXHRcdHBhZ2UgPSB0aGF0LnBhZ2VzWC5sZW5ndGggLSAxO1xuXHRcdGZvciAoaT0wLCBsPXRoYXQucGFnZXNYLmxlbmd0aDsgaTxsOyBpKyspIHtcblx0XHRcdGlmICh4ID49IHRoYXQucGFnZXNYW2ldKSB7XG5cdFx0XHRcdHBhZ2UgPSBpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKHBhZ2UgPT0gdGhhdC5jdXJyUGFnZVggJiYgcGFnZSA+IDAgJiYgdGhhdC5kaXJYIDwgMCkgcGFnZS0tO1xuXHRcdHggPSB0aGF0LnBhZ2VzWFtwYWdlXTtcblx0XHRzaXplWCA9IG0uYWJzKHggLSB0aGF0LnBhZ2VzWFt0aGF0LmN1cnJQYWdlWF0pO1xuXHRcdHNpemVYID0gc2l6ZVggPyBtLmFicyh0aGF0LnggLSB4KSAvIHNpemVYICogNTAwIDogMDtcblx0XHR0aGF0LmN1cnJQYWdlWCA9IHBhZ2U7XG5cblx0XHQvLyBDaGVjayBwYWdlIFlcblx0XHRwYWdlID0gdGhhdC5wYWdlc1kubGVuZ3RoLTE7XG5cdFx0Zm9yIChpPTA7IGk8cGFnZTsgaSsrKSB7XG5cdFx0XHRpZiAoeSA+PSB0aGF0LnBhZ2VzWVtpXSkge1xuXHRcdFx0XHRwYWdlID0gaTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChwYWdlID09IHRoYXQuY3VyclBhZ2VZICYmIHBhZ2UgPiAwICYmIHRoYXQuZGlyWSA8IDApIHBhZ2UtLTtcblx0XHR5ID0gdGhhdC5wYWdlc1lbcGFnZV07XG5cdFx0c2l6ZVkgPSBtLmFicyh5IC0gdGhhdC5wYWdlc1lbdGhhdC5jdXJyUGFnZVldKTtcblx0XHRzaXplWSA9IHNpemVZID8gbS5hYnModGhhdC55IC0geSkgLyBzaXplWSAqIDUwMCA6IDA7XG5cdFx0dGhhdC5jdXJyUGFnZVkgPSBwYWdlO1xuXG5cdFx0Ly8gU25hcCB3aXRoIGNvbnN0YW50IHNwZWVkIChwcm9wb3J0aW9uYWwgZHVyYXRpb24pXG5cdFx0dGltZSA9IG0ucm91bmQobS5tYXgoc2l6ZVgsIHNpemVZKSkgfHwgMjAwO1xuXG5cdFx0cmV0dXJuIHsgeDogeCwgeTogeSwgdGltZTogdGltZSB9O1xuXHR9LFxuXG5cdF9iaW5kOiBmdW5jdGlvbiAodHlwZSwgZWwsIGJ1YmJsZSkge1xuXHRcdChlbCB8fCB0aGlzLnNjcm9sbGVyKS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIHRoaXMsICEhYnViYmxlKTtcblx0fSxcblxuXHRfdW5iaW5kOiBmdW5jdGlvbiAodHlwZSwgZWwsIGJ1YmJsZSkge1xuXHRcdChlbCB8fCB0aGlzLnNjcm9sbGVyKS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIHRoaXMsICEhYnViYmxlKTtcblx0fSxcblxuXG5cdC8qKlxuXHQqXG5cdCogUHVibGljIG1ldGhvZHNcblx0KlxuXHQqL1xuXHRkZXN0cm95OiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXG5cdFx0dGhhdC5zY3JvbGxlci5zdHlsZVt0cmFuc2Zvcm1dID0gJyc7XG5cblx0XHQvLyBSZW1vdmUgdGhlIHNjcm9sbGJhcnNcblx0XHR0aGF0LmhTY3JvbGxiYXIgPSBmYWxzZTtcblx0XHR0aGF0LnZTY3JvbGxiYXIgPSBmYWxzZTtcblx0XHR0aGF0Ll9zY3JvbGxiYXIoJ2gnKTtcblx0XHR0aGF0Ll9zY3JvbGxiYXIoJ3YnKTtcblxuXHRcdC8vIFJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXJzXG5cdFx0dGhhdC5fdW5iaW5kKFJFU0laRV9FViwgd2luZG93KTtcblx0XHR0aGF0Ll91bmJpbmQoU1RBUlRfRVYpO1xuXHRcdHRoYXQuX3VuYmluZChNT1ZFX0VWLCB3aW5kb3cpO1xuXHRcdHRoYXQuX3VuYmluZChFTkRfRVYsIHdpbmRvdyk7XG5cdFx0dGhhdC5fdW5iaW5kKENBTkNFTF9FViwgd2luZG93KTtcblx0XHRcblx0XHRpZiAoIXRoYXQub3B0aW9ucy5oYXNUb3VjaCkge1xuXHRcdFx0dGhhdC5fdW5iaW5kKCdET01Nb3VzZVNjcm9sbCcpO1xuXHRcdFx0dGhhdC5fdW5iaW5kKCdtb3VzZXdoZWVsJyk7XG5cdFx0fVxuXHRcdFxuXHRcdGlmICh0aGF0Lm9wdGlvbnMudXNlVHJhbnNpdGlvbikgdGhhdC5fdW5iaW5kKFRSTkVORF9FVik7XG5cdFx0XG5cdFx0aWYgKHRoYXQub3B0aW9ucy5jaGVja0RPTUNoYW5nZXMpIGNsZWFySW50ZXJ2YWwodGhhdC5jaGVja0RPTVRpbWUpO1xuXHRcdFxuXHRcdGlmICh0aGF0Lm9wdGlvbnMub25EZXN0cm95KSB0aGF0Lm9wdGlvbnMub25EZXN0cm95LmNhbGwodGhhdCk7XG5cdH0sXG5cblx0cmVmcmVzaDogZnVuY3Rpb24gKCkge1xuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdG9mZnNldCxcblx0XHRcdGksIGwsXG5cdFx0XHRlbHMsXG5cdFx0XHRwb3MgPSAwLFxuXHRcdFx0cGFnZSA9IDA7XG5cblx0XHRpZiAodGhhdC5zY2FsZSA8IHRoYXQub3B0aW9ucy56b29tTWluKSB0aGF0LnNjYWxlID0gdGhhdC5vcHRpb25zLnpvb21NaW47XG5cdFx0dGhhdC53cmFwcGVyVyA9IHRoYXQud3JhcHBlci5jbGllbnRXaWR0aCB8fCAxO1xuXHRcdHRoYXQud3JhcHBlckggPSB0aGF0LndyYXBwZXIuY2xpZW50SGVpZ2h0IHx8IDE7XG5cblx0XHR0aGF0Lm1pblNjcm9sbFkgPSAtdGhhdC5vcHRpb25zLnRvcE9mZnNldCB8fCAwO1xuXHRcdHRoYXQuc2Nyb2xsZXJXID0gbS5yb3VuZCh0aGF0LnNjcm9sbGVyLm9mZnNldFdpZHRoICogdGhhdC5zY2FsZSk7XG5cdFx0dGhhdC5zY3JvbGxlckggPSBtLnJvdW5kKCh0aGF0LnNjcm9sbGVyLm9mZnNldEhlaWdodCArIHRoYXQubWluU2Nyb2xsWSkgKiB0aGF0LnNjYWxlKTtcblx0XHR0aGF0Lm1heFNjcm9sbFggPSB0aGF0LndyYXBwZXJXIC0gdGhhdC5zY3JvbGxlclc7XG5cdFx0dGhhdC5tYXhTY3JvbGxZID0gdGhhdC53cmFwcGVySCAtIHRoYXQuc2Nyb2xsZXJIICsgdGhhdC5taW5TY3JvbGxZO1xuXHRcdHRoYXQuZGlyWCA9IDA7XG5cdFx0dGhhdC5kaXJZID0gMDtcblxuXHRcdGlmICh0aGF0Lm9wdGlvbnMub25SZWZyZXNoKSB0aGF0Lm9wdGlvbnMub25SZWZyZXNoLmNhbGwodGhhdCk7XG5cblx0XHR0aGF0LmhTY3JvbGwgPSB0aGF0Lm9wdGlvbnMuaFNjcm9sbCAmJiB0aGF0Lm1heFNjcm9sbFggPCAwO1xuXHRcdHRoYXQudlNjcm9sbCA9IHRoYXQub3B0aW9ucy52U2Nyb2xsICYmICghdGhhdC5vcHRpb25zLmJvdW5jZUxvY2sgJiYgIXRoYXQuaFNjcm9sbCB8fCB0aGF0LnNjcm9sbGVySCA+IHRoYXQud3JhcHBlckgpO1xuXG5cdFx0dGhhdC5oU2Nyb2xsYmFyID0gdGhhdC5oU2Nyb2xsICYmIHRoYXQub3B0aW9ucy5oU2Nyb2xsYmFyO1xuXHRcdHRoYXQudlNjcm9sbGJhciA9IHRoYXQudlNjcm9sbCAmJiB0aGF0Lm9wdGlvbnMudlNjcm9sbGJhciAmJiB0aGF0LnNjcm9sbGVySCA+IHRoYXQud3JhcHBlckg7XG5cblx0XHRvZmZzZXQgPSB0aGF0Ll9vZmZzZXQodGhhdC53cmFwcGVyKTtcblx0XHR0aGF0LndyYXBwZXJPZmZzZXRMZWZ0ID0gLW9mZnNldC5sZWZ0O1xuXHRcdHRoYXQud3JhcHBlck9mZnNldFRvcCA9IC1vZmZzZXQudG9wO1xuXG5cdFx0Ly8gUHJlcGFyZSBzbmFwXG5cdFx0aWYgKHR5cGVvZiB0aGF0Lm9wdGlvbnMuc25hcCA9PSAnc3RyaW5nJykge1xuXHRcdFx0dGhhdC5wYWdlc1ggPSBbXTtcblx0XHRcdHRoYXQucGFnZXNZID0gW107XG5cdFx0XHRlbHMgPSB0aGF0LnNjcm9sbGVyLnF1ZXJ5U2VsZWN0b3JBbGwodGhhdC5vcHRpb25zLnNuYXApO1xuXHRcdFx0Zm9yIChpPTAsIGw9ZWxzLmxlbmd0aDsgaTxsOyBpKyspIHtcblx0XHRcdFx0cG9zID0gdGhhdC5fb2Zmc2V0KGVsc1tpXSk7XG5cdFx0XHRcdHBvcy5sZWZ0ICs9IHRoYXQud3JhcHBlck9mZnNldExlZnQ7XG5cdFx0XHRcdHBvcy50b3AgKz0gdGhhdC53cmFwcGVyT2Zmc2V0VG9wO1xuXHRcdFx0XHR0aGF0LnBhZ2VzWFtpXSA9IHBvcy5sZWZ0IDwgdGhhdC5tYXhTY3JvbGxYID8gdGhhdC5tYXhTY3JvbGxYIDogcG9zLmxlZnQgKiB0aGF0LnNjYWxlO1xuXHRcdFx0XHR0aGF0LnBhZ2VzWVtpXSA9IHBvcy50b3AgPCB0aGF0Lm1heFNjcm9sbFkgPyB0aGF0Lm1heFNjcm9sbFkgOiBwb3MudG9wICogdGhhdC5zY2FsZTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKHRoYXQub3B0aW9ucy5zbmFwKSB7XG5cdFx0XHR0aGF0LnBhZ2VzWCA9IFtdO1xuXHRcdFx0d2hpbGUgKHBvcyA+PSB0aGF0Lm1heFNjcm9sbFgpIHtcblx0XHRcdFx0dGhhdC5wYWdlc1hbcGFnZV0gPSBwb3M7XG5cdFx0XHRcdHBvcyA9IHBvcyAtIHRoYXQud3JhcHBlclc7XG5cdFx0XHRcdHBhZ2UrKztcblx0XHRcdH1cblx0XHRcdGlmICh0aGF0Lm1heFNjcm9sbFgldGhhdC53cmFwcGVyVykgdGhhdC5wYWdlc1hbdGhhdC5wYWdlc1gubGVuZ3RoXSA9IHRoYXQubWF4U2Nyb2xsWCAtIHRoYXQucGFnZXNYW3RoYXQucGFnZXNYLmxlbmd0aC0xXSArIHRoYXQucGFnZXNYW3RoYXQucGFnZXNYLmxlbmd0aC0xXTtcblxuXHRcdFx0cG9zID0gMDtcblx0XHRcdHBhZ2UgPSAwO1xuXHRcdFx0dGhhdC5wYWdlc1kgPSBbXTtcblx0XHRcdHdoaWxlIChwb3MgPj0gdGhhdC5tYXhTY3JvbGxZKSB7XG5cdFx0XHRcdHRoYXQucGFnZXNZW3BhZ2VdID0gcG9zO1xuXHRcdFx0XHRwb3MgPSBwb3MgLSB0aGF0LndyYXBwZXJIO1xuXHRcdFx0XHRwYWdlKys7XG5cdFx0XHR9XG5cdFx0XHRpZiAodGhhdC5tYXhTY3JvbGxZJXRoYXQud3JhcHBlckgpIHRoYXQucGFnZXNZW3RoYXQucGFnZXNZLmxlbmd0aF0gPSB0aGF0Lm1heFNjcm9sbFkgLSB0aGF0LnBhZ2VzWVt0aGF0LnBhZ2VzWS5sZW5ndGgtMV0gKyB0aGF0LnBhZ2VzWVt0aGF0LnBhZ2VzWS5sZW5ndGgtMV07XG5cdFx0fVxuXG5cdFx0Ly8gUHJlcGFyZSB0aGUgc2Nyb2xsYmFyc1xuXHRcdHRoYXQuX3Njcm9sbGJhcignaCcpO1xuXHRcdHRoYXQuX3Njcm9sbGJhcigndicpO1xuXG5cdFx0aWYgKCF0aGF0Lnpvb21lZCkge1xuXHRcdFx0dGhhdC5zY3JvbGxlci5zdHlsZVt0cmFuc2l0aW9uRHVyYXRpb25dID0gJzAnO1xuXHRcdFx0dGhhdC5fcmVzZXRQb3MoNDAwKTtcblx0XHR9XG5cdH0sXG5cblx0c2Nyb2xsVG86IGZ1bmN0aW9uICh4LCB5LCB0aW1lLCByZWxhdGl2ZSkge1xuXHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdHN0ZXAgPSB4LFxuXHRcdFx0aSwgbDtcblxuXHRcdHRoYXQuc3RvcCgpO1xuXG5cdFx0aWYgKCFzdGVwLmxlbmd0aCkgc3RlcCA9IFt7IHg6IHgsIHk6IHksIHRpbWU6IHRpbWUsIHJlbGF0aXZlOiByZWxhdGl2ZSB9XTtcblx0XHRcblx0XHRmb3IgKGk9MCwgbD1zdGVwLmxlbmd0aDsgaTxsOyBpKyspIHtcblx0XHRcdGlmIChzdGVwW2ldLnJlbGF0aXZlKSB7IHN0ZXBbaV0ueCA9IHRoYXQueCAtIHN0ZXBbaV0ueDsgc3RlcFtpXS55ID0gdGhhdC55IC0gc3RlcFtpXS55OyB9XG5cdFx0XHR0aGF0LnN0ZXBzLnB1c2goeyB4OiBzdGVwW2ldLngsIHk6IHN0ZXBbaV0ueSwgdGltZTogc3RlcFtpXS50aW1lIHx8IDAgfSk7XG5cdFx0fVxuXG5cdFx0dGhhdC5fc3RhcnRBbmkoKTtcblx0fSxcblxuXHRzY3JvbGxUb0VsZW1lbnQ6IGZ1bmN0aW9uIChlbCwgdGltZSkge1xuXHRcdHZhciB0aGF0ID0gdGhpcywgcG9zO1xuXHRcdGVsID0gZWwubm9kZVR5cGUgPyBlbCA6IHRoYXQuc2Nyb2xsZXIucXVlcnlTZWxlY3RvcihlbCk7XG5cdFx0aWYgKCFlbCkgcmV0dXJuO1xuXG5cdFx0cG9zID0gdGhhdC5fb2Zmc2V0KGVsKTtcblx0XHRwb3MubGVmdCArPSB0aGF0LndyYXBwZXJPZmZzZXRMZWZ0O1xuXHRcdHBvcy50b3AgKz0gdGhhdC53cmFwcGVyT2Zmc2V0VG9wO1xuXG5cdFx0cG9zLmxlZnQgPSBwb3MubGVmdCA+IDAgPyAwIDogcG9zLmxlZnQgPCB0aGF0Lm1heFNjcm9sbFggPyB0aGF0Lm1heFNjcm9sbFggOiBwb3MubGVmdDtcblx0XHRwb3MudG9wID0gcG9zLnRvcCA+IHRoYXQubWluU2Nyb2xsWSA/IHRoYXQubWluU2Nyb2xsWSA6IHBvcy50b3AgPCB0aGF0Lm1heFNjcm9sbFkgPyB0aGF0Lm1heFNjcm9sbFkgOiBwb3MudG9wO1xuXHRcdHRpbWUgPSB0aW1lID09PSB1bmRlZmluZWQgPyBtLm1heChtLmFicyhwb3MubGVmdCkqMiwgbS5hYnMocG9zLnRvcCkqMikgOiB0aW1lO1xuXG5cdFx0dGhhdC5zY3JvbGxUbyhwb3MubGVmdCwgcG9zLnRvcCwgdGltZSk7XG5cdH0sXG5cblx0c2Nyb2xsVG9QYWdlOiBmdW5jdGlvbiAocGFnZVgsIHBhZ2VZLCB0aW1lKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLCB4LCB5O1xuXHRcdFxuXHRcdHRpbWUgPSB0aW1lID09PSB1bmRlZmluZWQgPyA0MDAgOiB0aW1lO1xuXG5cdFx0aWYgKHRoYXQub3B0aW9ucy5vblNjcm9sbFN0YXJ0KSB0aGF0Lm9wdGlvbnMub25TY3JvbGxTdGFydC5jYWxsKHRoYXQpO1xuXG5cdFx0aWYgKHRoYXQub3B0aW9ucy5zbmFwKSB7XG5cdFx0XHRwYWdlWCA9IHBhZ2VYID09ICduZXh0JyA/IHRoYXQuY3VyclBhZ2VYKzEgOiBwYWdlWCA9PSAncHJldicgPyB0aGF0LmN1cnJQYWdlWC0xIDogcGFnZVg7XG5cdFx0XHRwYWdlWSA9IHBhZ2VZID09ICduZXh0JyA/IHRoYXQuY3VyclBhZ2VZKzEgOiBwYWdlWSA9PSAncHJldicgPyB0aGF0LmN1cnJQYWdlWS0xIDogcGFnZVk7XG5cblx0XHRcdHBhZ2VYID0gcGFnZVggPCAwID8gMCA6IHBhZ2VYID4gdGhhdC5wYWdlc1gubGVuZ3RoLTEgPyB0aGF0LnBhZ2VzWC5sZW5ndGgtMSA6IHBhZ2VYO1xuXHRcdFx0cGFnZVkgPSBwYWdlWSA8IDAgPyAwIDogcGFnZVkgPiB0aGF0LnBhZ2VzWS5sZW5ndGgtMSA/IHRoYXQucGFnZXNZLmxlbmd0aC0xIDogcGFnZVk7XG5cblx0XHRcdHRoYXQuY3VyclBhZ2VYID0gcGFnZVg7XG5cdFx0XHR0aGF0LmN1cnJQYWdlWSA9IHBhZ2VZO1xuXHRcdFx0eCA9IHRoYXQucGFnZXNYW3BhZ2VYXTtcblx0XHRcdHkgPSB0aGF0LnBhZ2VzWVtwYWdlWV07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHggPSAtdGhhdC53cmFwcGVyVyAqIHBhZ2VYO1xuXHRcdFx0eSA9IC10aGF0LndyYXBwZXJIICogcGFnZVk7XG5cdFx0XHRpZiAoeCA8IHRoYXQubWF4U2Nyb2xsWCkgeCA9IHRoYXQubWF4U2Nyb2xsWDtcblx0XHRcdGlmICh5IDwgdGhhdC5tYXhTY3JvbGxZKSB5ID0gdGhhdC5tYXhTY3JvbGxZO1xuXHRcdH1cblxuXHRcdHRoYXQuc2Nyb2xsVG8oeCwgeSwgdGltZSk7XG5cdH0sXG5cblx0ZGlzYWJsZTogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuc3RvcCgpO1xuXHRcdHRoaXMuX3Jlc2V0UG9zKDApO1xuXHRcdHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuXG5cdFx0Ly8gSWYgZGlzYWJsZWQgYWZ0ZXIgdG91Y2hzdGFydCB3ZSBtYWtlIHN1cmUgdGhhdCB0aGVyZSBhcmUgbm8gbGVmdCBvdmVyIGV2ZW50c1xuXHRcdHRoaXMuX3VuYmluZChNT1ZFX0VWLCB3aW5kb3cpO1xuXHRcdHRoaXMuX3VuYmluZChFTkRfRVYsIHdpbmRvdyk7XG5cdFx0dGhpcy5fdW5iaW5kKENBTkNFTF9FViwgd2luZG93KTtcblx0fSxcblx0XG5cdGVuYWJsZTogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuZW5hYmxlZCA9IHRydWU7XG5cdH0sXG5cdFxuXHRzdG9wOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHRoaXMub3B0aW9ucy51c2VUcmFuc2l0aW9uKSB0aGlzLl91bmJpbmQoVFJORU5EX0VWKTtcblx0XHRlbHNlIGNhbmNlbEZyYW1lKHRoaXMuYW5pVGltZSk7XG5cdFx0dGhpcy5zdGVwcyA9IFtdO1xuXHRcdHRoaXMubW92ZWQgPSBmYWxzZTtcblx0XHR0aGlzLmFuaW1hdGluZyA9IGZhbHNlO1xuXHR9LFxuXHRcblx0em9vbTogZnVuY3Rpb24gKHgsIHksIHNjYWxlLCB0aW1lKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0cmVsU2NhbGUgPSBzY2FsZSAvIHRoYXQuc2NhbGU7XG5cblx0XHRpZiAoIXRoYXQub3B0aW9ucy51c2VUcmFuc2Zvcm0pIHJldHVybjtcblxuXHRcdHRoYXQuem9vbWVkID0gdHJ1ZTtcblx0XHR0aW1lID0gdGltZSA9PT0gdW5kZWZpbmVkID8gMjAwIDogdGltZTtcblx0XHR4ID0geCAtIHRoYXQud3JhcHBlck9mZnNldExlZnQgLSB0aGF0Lng7XG5cdFx0eSA9IHkgLSB0aGF0LndyYXBwZXJPZmZzZXRUb3AgLSB0aGF0Lnk7XG5cdFx0dGhhdC54ID0geCAtIHggKiByZWxTY2FsZSArIHRoYXQueDtcblx0XHR0aGF0LnkgPSB5IC0geSAqIHJlbFNjYWxlICsgdGhhdC55O1xuXG5cdFx0dGhhdC5zY2FsZSA9IHNjYWxlO1xuXHRcdHRoYXQucmVmcmVzaCgpO1xuXG5cdFx0dGhhdC54ID0gdGhhdC54ID4gMCA/IDAgOiB0aGF0LnggPCB0aGF0Lm1heFNjcm9sbFggPyB0aGF0Lm1heFNjcm9sbFggOiB0aGF0Lng7XG5cdFx0dGhhdC55ID0gdGhhdC55ID4gdGhhdC5taW5TY3JvbGxZID8gdGhhdC5taW5TY3JvbGxZIDogdGhhdC55IDwgdGhhdC5tYXhTY3JvbGxZID8gdGhhdC5tYXhTY3JvbGxZIDogdGhhdC55O1xuXG5cdFx0dGhhdC5zY3JvbGxlci5zdHlsZVt0cmFuc2l0aW9uRHVyYXRpb25dID0gdGltZSArICdtcyc7XG5cdFx0dGhhdC5zY3JvbGxlci5zdHlsZVt0cmFuc2Zvcm1dID0gJ3RyYW5zbGF0ZSgnICsgdGhhdC54ICsgJ3B4LCcgKyB0aGF0LnkgKyAncHgpIHNjYWxlKCcgKyBzY2FsZSArICcpJyArIHRyYW5zbGF0ZVo7XG5cdFx0dGhhdC56b29tZWQgPSBmYWxzZTtcblx0fSxcblx0XG5cdGlzUmVhZHk6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gIXRoaXMubW92ZWQgJiYgIXRoaXMuem9vbWVkICYmICF0aGlzLmFuaW1hdGluZztcblx0fVxufTtcblxuZnVuY3Rpb24gcHJlZml4U3R5bGUgKHN0eWxlKSB7XG5cdGlmICggdmVuZG9yID09PSAnJyApIHJldHVybiBzdHlsZTtcblxuXHRzdHlsZSA9IHN0eWxlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3R5bGUuc3Vic3RyKDEpO1xuXHRyZXR1cm4gdmVuZG9yICsgc3R5bGU7XG59XG5cbmR1bW15U3R5bGUgPSBudWxsO1x0Ly8gZm9yIHRoZSBzYWtlIG9mIGl0XG5cbmlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIGV4cG9ydHMuaVNjcm9sbCA9IGlTY3JvbGw7XG5lbHNlIHdpbmRvdy5pU2Nyb2xsID0gaVNjcm9sbDtcblxufSkod2luZG93LCBkb2N1bWVudCk7XG5cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvanMvaXNjcm9sbC5qc1xuICoqIG1vZHVsZSBpZCA9IDhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMlxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 9 */
/***/ function(module, exports, __webpack_require__) {

	eval("/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n/**\n * Swiper 3.3.1\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * \n * http://www.idangero.us/swiper/\n * \n * Copyright 2016, Vladimir Kharlampidi\n * The iDangero.us\n * http://www.idangero.us/\n * \n * Licensed under MIT\n * \n * Released on: February 7, 2016\n */\n! function() {\n\t\"use strict\";\n\n\tfunction e(e) {\n\t\te.fn.swiper = function(a) {\n\t\t\tvar r;\n\t\t\treturn e(this).each(function() {\n\t\t\t\tvar e = new t(this, a);\n\t\t\t\tr || (r = e)\n\t\t\t}), r\n\t\t}\n\t}\n\tvar a, t = function(e, i) {\n\t\tfunction s(e) {\n\t\t\treturn Math.floor(e)\n\t\t}\n\n\t\tfunction n() {\n\t\t\tb.autoplayTimeoutId = setTimeout(function() {\n\t\t\t\tb.params.loop ? (b.fixLoop(), b._slideNext(), b.emit(\"onAutoplay\", b)) : b.isEnd ? i.autoplayStopOnLast ? b.stopAutoplay() : (b._slideTo(0), b.emit(\"onAutoplay\", b)) : (b._slideNext(), b.emit(\"onAutoplay\", b))\n\t\t\t}, b.params.autoplay)\n\t\t}\n\n\t\tfunction o(e, t) {\n\t\t\tvar r = a(e.target);\n\t\t\tif (!r.is(t))\n\t\t\t\tif (\"string\" == typeof t) r = r.parents(t);\n\t\t\t\telse if (t.nodeType) {\n\t\t\t\tvar i;\n\t\t\t\treturn r.parents().each(function(e, a) {\n\t\t\t\t\ta === t && (i = t)\n\t\t\t\t}), i ? t : void 0\n\t\t\t}\n\t\t\tif (0 !== r.length) return r[0]\n\t\t}\n\n\t\tfunction l(e, a) {\n\t\t\ta = a || {};\n\t\t\tvar t = window.MutationObserver || window.WebkitMutationObserver,\n\t\t\t\tr = new t(function(e) {\n\t\t\t\t\te.forEach(function(e) {\n\t\t\t\t\t\tb.onResize(!0), b.emit(\"onObserverUpdate\", b, e)\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\tr.observe(e, {\n\t\t\t\tattributes: \"undefined\" == typeof a.attributes ? !0 : a.attributes,\n\t\t\t\tchildList: \"undefined\" == typeof a.childList ? !0 : a.childList,\n\t\t\t\tcharacterData: \"undefined\" == typeof a.characterData ? !0 : a.characterData\n\t\t\t}), b.observers.push(r)\n\t\t}\n\n\t\tfunction p(e) {\n\t\t\te.originalEvent && (e = e.originalEvent);\n\t\t\tvar a = e.keyCode || e.charCode;\n\t\t\tif (!b.params.allowSwipeToNext && (b.isHorizontal() && 39 === a || !b.isHorizontal() && 40 === a)) return !1;\n\t\t\tif (!b.params.allowSwipeToPrev && (b.isHorizontal() && 37 === a || !b.isHorizontal() && 38 === a)) return !1;\n\t\t\tif (!(e.shiftKey || e.altKey || e.ctrlKey || e.metaKey || document.activeElement && document.activeElement.nodeName && (\"input\" === document.activeElement.nodeName.toLowerCase() || \"textarea\" === document.activeElement.nodeName.toLowerCase()))) {\n\t\t\t\tif (37 === a || 39 === a || 38 === a || 40 === a) {\n\t\t\t\t\tvar t = !1;\n\t\t\t\t\tif (b.container.parents(\".swiper-slide\").length > 0 && 0 === b.container.parents(\".swiper-slide-active\").length) return;\n\t\t\t\t\tvar r = {\n\t\t\t\t\t\t\tleft: window.pageXOffset,\n\t\t\t\t\t\t\ttop: window.pageYOffset\n\t\t\t\t\t\t},\n\t\t\t\t\t\ti = window.innerWidth,\n\t\t\t\t\t\ts = window.innerHeight,\n\t\t\t\t\t\tn = b.container.offset();\n\t\t\t\t\tb.rtl && (n.left = n.left - b.container[0].scrollLeft);\n\t\t\t\t\tfor (var o = [\n\t\t\t\t\t\t\t[n.left, n.top],\n\t\t\t\t\t\t\t[n.left + b.width, n.top],\n\t\t\t\t\t\t\t[n.left, n.top + b.height],\n\t\t\t\t\t\t\t[n.left + b.width, n.top + b.height]\n\t\t\t\t\t\t], l = 0; l < o.length; l++) {\n\t\t\t\t\t\tvar p = o[l];\n\t\t\t\t\t\tp[0] >= r.left && p[0] <= r.left + i && p[1] >= r.top && p[1] <= r.top + s && (t = !0)\n\t\t\t\t\t}\n\t\t\t\t\tif (!t) return\n\t\t\t\t}\n\t\t\t\tb.isHorizontal() ? ((37 === a || 39 === a) && (e.preventDefault ? e.preventDefault() : e.returnValue = !1), (39 === a && !b.rtl || 37 === a && b.rtl) && b.slideNext(), (37 === a && !b.rtl || 39 === a && b.rtl) && b.slidePrev()) : ((38 === a || 40 === a) && (e.preventDefault ? e.preventDefault() : e.returnValue = !1), 40 === a && b.slideNext(), 38 === a && b.slidePrev())\n\t\t\t}\n\t\t}\n\n\t\tfunction d(e) {\n\t\t\te.originalEvent && (e = e.originalEvent);\n\t\t\tvar a = b.mousewheel.event,\n\t\t\t\tt = 0,\n\t\t\t\tr = b.rtl ? -1 : 1;\n\t\t\tif (\"mousewheel\" === a)\n\t\t\t\tif (b.params.mousewheelForceToAxis)\n\t\t\t\t\tif (b.isHorizontal()) {\n\t\t\t\t\t\tif (!(Math.abs(e.wheelDeltaX) > Math.abs(e.wheelDeltaY))) return;\n\t\t\t\t\t\tt = e.wheelDeltaX * r\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!(Math.abs(e.wheelDeltaY) > Math.abs(e.wheelDeltaX))) return;\n\t\t\t\t\t\tt = e.wheelDeltaY\n\t\t\t\t\t}\n\t\t\telse t = Math.abs(e.wheelDeltaX) > Math.abs(e.wheelDeltaY) ? -e.wheelDeltaX * r : -e.wheelDeltaY;\n\t\t\telse if (\"DOMMouseScroll\" === a) t = -e.detail;\n\t\t\telse if (\"wheel\" === a)\n\t\t\t\tif (b.params.mousewheelForceToAxis)\n\t\t\t\t\tif (b.isHorizontal()) {\n\t\t\t\t\t\tif (!(Math.abs(e.deltaX) > Math.abs(e.deltaY))) return;\n\t\t\t\t\t\tt = -e.deltaX * r\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!(Math.abs(e.deltaY) > Math.abs(e.deltaX))) return;\n\t\t\t\t\t\tt = -e.deltaY\n\t\t\t\t\t}\n\t\t\telse t = Math.abs(e.deltaX) > Math.abs(e.deltaY) ? -e.deltaX * r : -e.deltaY;\n\t\t\tif (0 !== t) {\n\t\t\t\tif (b.params.mousewheelInvert && (t = -t), b.params.freeMode) {\n\t\t\t\t\tvar i = b.getWrapperTranslate() + t * b.params.mousewheelSensitivity,\n\t\t\t\t\t\ts = b.isBeginning,\n\t\t\t\t\t\tn = b.isEnd;\n\t\t\t\t\tif (i >= b.minTranslate() && (i = b.minTranslate()), i <= b.maxTranslate() && (i = b.maxTranslate()), b.setWrapperTransition(0), b.setWrapperTranslate(i), b.updateProgress(), b.updateActiveIndex(), (!s && b.isBeginning || !n && b.isEnd) && b.updateClasses(), b.params.freeModeSticky ? (clearTimeout(b.mousewheel.timeout), b.mousewheel.timeout = setTimeout(function() {\n\t\t\t\t\t\t\tb.slideReset()\n\t\t\t\t\t\t}, 300)) : b.params.lazyLoading && b.lazy && b.lazy.load(), 0 === i || i === b.maxTranslate()) return\n\t\t\t\t} else {\n\t\t\t\t\tif ((new window.Date).getTime() - b.mousewheel.lastScrollTime > 60)\n\t\t\t\t\t\tif (0 > t)\n\t\t\t\t\t\t\tif (b.isEnd && !b.params.loop || b.animating) {\n\t\t\t\t\t\t\t\tif (b.params.mousewheelReleaseOnEdges) return !0\n\t\t\t\t\t\t\t} else b.slideNext();\n\t\t\t\t\telse if (b.isBeginning && !b.params.loop || b.animating) {\n\t\t\t\t\t\tif (b.params.mousewheelReleaseOnEdges) return !0\n\t\t\t\t\t} else b.slidePrev();\n\t\t\t\t\tb.mousewheel.lastScrollTime = (new window.Date).getTime()\n\t\t\t\t}\n\t\t\t\treturn b.params.autoplay && b.stopAutoplay(), e.preventDefault ? e.preventDefault() : e.returnValue = !1, !1\n\t\t\t}\n\t\t}\n\n\t\tfunction u(e, t) {\n\t\t\te = a(e);\n\t\t\tvar r, i, s, n = b.rtl ? -1 : 1;\n\t\t\tr = e.attr(\"data-swiper-parallax\") || \"0\", i = e.attr(\"data-swiper-parallax-x\"), s = e.attr(\"data-swiper-parallax-y\"), i || s ? (i = i || \"0\", s = s || \"0\") : b.isHorizontal() ? (i = r, s = \"0\") : (s = r, i = \"0\"), i = i.indexOf(\"%\") >= 0 ? parseInt(i, 10) * t * n + \"%\" : i * t * n + \"px\", s = s.indexOf(\"%\") >= 0 ? parseInt(s, 10) * t + \"%\" : s * t + \"px\", e.transform(\"translate3d(\" + i + \", \" + s + \",0px)\")\n\t\t}\n\n\t\tfunction c(e) {\n\t\t\treturn 0 !== e.indexOf(\"on\") && (e = e[0] !== e[0].toUpperCase() ? \"on\" + e[0].toUpperCase() + e.substring(1) : \"on\" + e), e\n\t\t}\n\t\tif (!(this instanceof t)) return new t(e, i);\n\t\tvar m = {\n\t\t\t\tdirection: \"horizontal\",\n\t\t\t\ttouchEventsTarget: \"container\",\n\t\t\t\tinitialSlide: 0,\n\t\t\t\tspeed: 300,\n\t\t\t\tautoplay: !1,\n\t\t\t\tautoplayDisableOnInteraction: !0,\n\t\t\t\tautoplayStopOnLast: !1,\n\t\t\t\tiOSEdgeSwipeDetection: !1,\n\t\t\t\tiOSEdgeSwipeThreshold: 20,\n\t\t\t\tfreeMode: !1,\n\t\t\t\tfreeModeMomentum: !0,\n\t\t\t\tfreeModeMomentumRatio: 1,\n\t\t\t\tfreeModeMomentumBounce: !0,\n\t\t\t\tfreeModeMomentumBounceRatio: 1,\n\t\t\t\tfreeModeSticky: !1,\n\t\t\t\tfreeModeMinimumVelocity: .02,\n\t\t\t\tautoHeight: !1,\n\t\t\t\tsetWrapperSize: !1,\n\t\t\t\tvirtualTranslate: !1,\n\t\t\t\teffect: \"slide\",\n\t\t\t\tcoverflow: {\n\t\t\t\t\trotate: 50,\n\t\t\t\t\tstretch: 0,\n\t\t\t\t\tdepth: 100,\n\t\t\t\t\tmodifier: 1,\n\t\t\t\t\tslideShadows: !0\n\t\t\t\t},\n\t\t\t\tflip: {\n\t\t\t\t\tslideShadows: !0,\n\t\t\t\t\tlimitRotation: !0\n\t\t\t\t},\n\t\t\t\tcube: {\n\t\t\t\t\tslideShadows: !0,\n\t\t\t\t\tshadow: !0,\n\t\t\t\t\tshadowOffset: 20,\n\t\t\t\t\tshadowScale: .94\n\t\t\t\t},\n\t\t\t\tfade: {\n\t\t\t\t\tcrossFade: !1\n\t\t\t\t},\n\t\t\t\tparallax: !1,\n\t\t\t\tscrollbar: null,\n\t\t\t\tscrollbarHide: !0,\n\t\t\t\tscrollbarDraggable: !1,\n\t\t\t\tscrollbarSnapOnRelease: !1,\n\t\t\t\tkeyboardControl: !1,\n\t\t\t\tmousewheelControl: !1,\n\t\t\t\tmousewheelReleaseOnEdges: !1,\n\t\t\t\tmousewheelInvert: !1,\n\t\t\t\tmousewheelForceToAxis: !1,\n\t\t\t\tmousewheelSensitivity: 1,\n\t\t\t\thashnav: !1,\n\t\t\t\tbreakpoints: void 0,\n\t\t\t\tspaceBetween: 0,\n\t\t\t\tslidesPerView: 1,\n\t\t\t\tslidesPerColumn: 1,\n\t\t\t\tslidesPerColumnFill: \"column\",\n\t\t\t\tslidesPerGroup: 1,\n\t\t\t\tcenteredSlides: !1,\n\t\t\t\tslidesOffsetBefore: 0,\n\t\t\t\tslidesOffsetAfter: 0,\n\t\t\t\troundLengths: !1,\n\t\t\t\ttouchRatio: 1,\n\t\t\t\ttouchAngle: 45,\n\t\t\t\tsimulateTouch: !0,\n\t\t\t\tshortSwipes: !0,\n\t\t\t\tlongSwipes: !0,\n\t\t\t\tlongSwipesRatio: .5,\n\t\t\t\tlongSwipesMs: 300,\n\t\t\t\tfollowFinger: !0,\n\t\t\t\tonlyExternal: !1,\n\t\t\t\tthreshold: 0,\n\t\t\t\ttouchMoveStopPropagation: !0,\n\t\t\t\tuniqueNavElements: !0,\n\t\t\t\tpagination: null,\n\t\t\t\tpaginationElement: \"span\",\n\t\t\t\tpaginationClickable: !1,\n\t\t\t\tpaginationHide: !1,\n\t\t\t\tpaginationBulletRender: null,\n\t\t\t\tpaginationProgressRender: null,\n\t\t\t\tpaginationFractionRender: null,\n\t\t\t\tpaginationCustomRender: null,\n\t\t\t\tpaginationType: \"bullets\",\n\t\t\t\tresistance: !0,\n\t\t\t\tresistanceRatio: .85,\n\t\t\t\tnextButton: null,\n\t\t\t\tprevButton: null,\n\t\t\t\twatchSlidesProgress: !1,\n\t\t\t\twatchSlidesVisibility: !1,\n\t\t\t\tgrabCursor: !1,\n\t\t\t\tpreventClicks: !0,\n\t\t\t\tpreventClicksPropagation: !0,\n\t\t\t\tslideToClickedSlide: !1,\n\t\t\t\tlazyLoading: !1,\n\t\t\t\tlazyLoadingInPrevNext: !1,\n\t\t\t\tlazyLoadingInPrevNextAmount: 1,\n\t\t\t\tlazyLoadingOnTransitionStart: !1,\n\t\t\t\tpreloadImages: !0,\n\t\t\t\tupdateOnImagesReady: !0,\n\t\t\t\tloop: !1,\n\t\t\t\tloopAdditionalSlides: 0,\n\t\t\t\tloopedSlides: null,\n\t\t\t\tcontrol: void 0,\n\t\t\t\tcontrolInverse: !1,\n\t\t\t\tcontrolBy: \"slide\",\n\t\t\t\tallowSwipeToPrev: !0,\n\t\t\t\tallowSwipeToNext: !0,\n\t\t\t\tswipeHandler: null,\n\t\t\t\tnoSwiping: !0,\n\t\t\t\tnoSwipingClass: \"swiper-no-swiping\",\n\t\t\t\tslideClass: \"swiper-slide\",\n\t\t\t\tslideActiveClass: \"swiper-slide-active\",\n\t\t\t\tslideVisibleClass: \"swiper-slide-visible\",\n\t\t\t\tslideDuplicateClass: \"swiper-slide-duplicate\",\n\t\t\t\tslideNextClass: \"swiper-slide-next\",\n\t\t\t\tslidePrevClass: \"swiper-slide-prev\",\n\t\t\t\twrapperClass: \"swiper-wrapper\",\n\t\t\t\tbulletClass: \"swiper-pagination-bullet\",\n\t\t\t\tbulletActiveClass: \"swiper-pagination-bullet-active\",\n\t\t\t\tbuttonDisabledClass: \"swiper-button-disabled\",\n\t\t\t\tpaginationCurrentClass: \"swiper-pagination-current\",\n\t\t\t\tpaginationTotalClass: \"swiper-pagination-total\",\n\t\t\t\tpaginationHiddenClass: \"swiper-pagination-hidden\",\n\t\t\t\tpaginationProgressbarClass: \"swiper-pagination-progressbar\",\n\t\t\t\tobserver: !1,\n\t\t\t\tobserveParents: !1,\n\t\t\t\ta11y: !1,\n\t\t\t\tprevSlideMessage: \"Previous slide\",\n\t\t\t\tnextSlideMessage: \"Next slide\",\n\t\t\t\tfirstSlideMessage: \"This is the first slide\",\n\t\t\t\tlastSlideMessage: \"This is the last slide\",\n\t\t\t\tpaginationBulletMessage: \"Go to slide {{index}}\",\n\t\t\t\trunCallbacksOnInit: !0\n\t\t\t},\n\t\t\th = i && i.virtualTranslate;\n\t\ti = i || {};\n\t\tvar f = {};\n\t\tfor (var g in i)\n\t\t\tif (\"object\" != typeof i[g] || null === i[g] || (i[g].nodeType || i[g] === window || i[g] === document || \"undefined\" != typeof r && i[g] instanceof r || \"undefined\" != typeof jQuery && i[g] instanceof jQuery)) f[g] = i[g];\n\t\t\telse {\n\t\t\t\tf[g] = {};\n\t\t\t\tfor (var v in i[g]) f[g][v] = i[g][v]\n\t\t\t}\n\t\tfor (var w in m)\n\t\t\tif (\"undefined\" == typeof i[w]) i[w] = m[w];\n\t\t\telse if (\"object\" == typeof i[w])\n\t\t\tfor (var y in m[w]) \"undefined\" == typeof i[w][y] && (i[w][y] = m[w][y]);\n\t\tvar b = this;\n\t\tif (b.params = i, b.originalParams = f, b.classNames = [], \"undefined\" != typeof a && \"undefined\" != typeof r && (a = r), (\"undefined\" != typeof a || (a = \"undefined\" == typeof r ? window.Dom7 || window.Zepto || window.jQuery : r)) && (b.$ = a, b.currentBreakpoint = void 0, b.getActiveBreakpoint = function() {\n\t\t\t\tif (!b.params.breakpoints) return !1;\n\t\t\t\tvar e, a = !1,\n\t\t\t\t\tt = [];\n\t\t\t\tfor (e in b.params.breakpoints) b.params.breakpoints.hasOwnProperty(e) && t.push(e);\n\t\t\t\tt.sort(function(e, a) {\n\t\t\t\t\treturn parseInt(e, 10) > parseInt(a, 10)\n\t\t\t\t});\n\t\t\t\tfor (var r = 0; r < t.length; r++) e = t[r], e >= window.innerWidth && !a && (a = e);\n\t\t\t\treturn a || \"max\"\n\t\t\t}, b.setBreakpoint = function() {\n\t\t\t\tvar e = b.getActiveBreakpoint();\n\t\t\t\tif (e && b.currentBreakpoint !== e) {\n\t\t\t\t\tvar a = e in b.params.breakpoints ? b.params.breakpoints[e] : b.originalParams,\n\t\t\t\t\t\tt = b.params.loop && a.slidesPerView !== b.params.slidesPerView;\n\t\t\t\t\tfor (var r in a) b.params[r] = a[r];\n\t\t\t\t\tb.currentBreakpoint = e, t && b.destroyLoop && b.reLoop(!0)\n\t\t\t\t}\n\t\t\t}, b.params.breakpoints && b.setBreakpoint(), b.container = a(e), 0 !== b.container.length)) {\n\t\t\tif (b.container.length > 1) {\n\t\t\t\tvar x = [];\n\t\t\t\treturn b.container.each(function() {\n\t\t\t\t\tx.push(new t(this, i))\n\t\t\t\t}), x\n\t\t\t}\n\t\t\tb.container[0].swiper = b, b.container.data(\"swiper\", b), b.classNames.push(\"swiper-container-\" + b.params.direction), b.params.freeMode && b.classNames.push(\"swiper-container-free-mode\"), b.support.flexbox || (b.classNames.push(\"swiper-container-no-flexbox\"), b.params.slidesPerColumn = 1), b.params.autoHeight && b.classNames.push(\"swiper-container-autoheight\"), (b.params.parallax || b.params.watchSlidesVisibility) && (b.params.watchSlidesProgress = !0), [\"cube\", \"coverflow\", \"flip\"].indexOf(b.params.effect) >= 0 && (b.support.transforms3d ? (b.params.watchSlidesProgress = !0, b.classNames.push(\"swiper-container-3d\")) : b.params.effect = \"slide\"), \"slide\" !== b.params.effect && b.classNames.push(\"swiper-container-\" + b.params.effect), \"cube\" === b.params.effect && (b.params.resistanceRatio = 0, b.params.slidesPerView = 1, b.params.slidesPerColumn = 1, b.params.slidesPerGroup = 1, b.params.centeredSlides = !1, b.params.spaceBetween = 0, b.params.virtualTranslate = !0, b.params.setWrapperSize = !1), (\"fade\" === b.params.effect || \"flip\" === b.params.effect) && (b.params.slidesPerView = 1, b.params.slidesPerColumn = 1, b.params.slidesPerGroup = 1, b.params.watchSlidesProgress = !0, b.params.spaceBetween = 0, b.params.setWrapperSize = !1, \"undefined\" == typeof h && (b.params.virtualTranslate = !0)), b.params.grabCursor && b.support.touch && (b.params.grabCursor = !1), b.wrapper = b.container.children(\".\" + b.params.wrapperClass), b.params.pagination && (b.paginationContainer = a(b.params.pagination), b.params.uniqueNavElements && \"string\" == typeof b.params.pagination && b.paginationContainer.length > 1 && 1 === b.container.find(b.params.pagination).length && (b.paginationContainer = b.container.find(b.params.pagination)), \"bullets\" === b.params.paginationType && b.params.paginationClickable ? b.paginationContainer.addClass(\"swiper-pagination-clickable\") : b.params.paginationClickable = !1, b.paginationContainer.addClass(\"swiper-pagination-\" + b.params.paginationType)), (b.params.nextButton || b.params.prevButton) && (b.params.nextButton && (b.nextButton = a(b.params.nextButton), b.params.uniqueNavElements && \"string\" == typeof b.params.nextButton && b.nextButton.length > 1 && 1 === b.container.find(b.params.nextButton).length && (b.nextButton = b.container.find(b.params.nextButton))), b.params.prevButton && (b.prevButton = a(b.params.prevButton), b.params.uniqueNavElements && \"string\" == typeof b.params.prevButton && b.prevButton.length > 1 && 1 === b.container.find(b.params.prevButton).length && (b.prevButton = b.container.find(b.params.prevButton)))), b.isHorizontal = function() {\n\t\t\t\treturn \"horizontal\" === b.params.direction\n\t\t\t}, b.rtl = b.isHorizontal() && (\"rtl\" === b.container[0].dir.toLowerCase() || \"rtl\" === b.container.css(\"direction\")), b.rtl && b.classNames.push(\"swiper-container-rtl\"), b.rtl && (b.wrongRTL = \"-webkit-box\" === b.wrapper.css(\"display\")), b.params.slidesPerColumn > 1 && b.classNames.push(\"swiper-container-multirow\"), b.device.android && b.classNames.push(\"swiper-container-android\"), b.container.addClass(b.classNames.join(\" \")), b.translate = 0, b.progress = 0, b.velocity = 0, b.lockSwipeToNext = function() {\n\t\t\t\tb.params.allowSwipeToNext = !1\n\t\t\t}, b.lockSwipeToPrev = function() {\n\t\t\t\tb.params.allowSwipeToPrev = !1\n\t\t\t}, b.lockSwipes = function() {\n\t\t\t\tb.params.allowSwipeToNext = b.params.allowSwipeToPrev = !1\n\t\t\t}, b.unlockSwipeToNext = function() {\n\t\t\t\tb.params.allowSwipeToNext = !0\n\t\t\t}, b.unlockSwipeToPrev = function() {\n\t\t\t\tb.params.allowSwipeToPrev = !0\n\t\t\t}, b.unlockSwipes = function() {\n\t\t\t\tb.params.allowSwipeToNext = b.params.allowSwipeToPrev = !0\n\t\t\t}, b.params.grabCursor && (b.container[0].style.cursor = \"move\", b.container[0].style.cursor = \"-webkit-grab\", b.container[0].style.cursor = \"-moz-grab\", b.container[0].style.cursor = \"grab\"), b.imagesToLoad = [], b.imagesLoaded = 0, b.loadImage = function(e, a, t, r, i) {\n\t\t\t\tfunction s() {\n\t\t\t\t\ti && i()\n\t\t\t\t}\n\t\t\t\tvar n;\n\t\t\t\te.complete && r ? s() : a ? (n = new window.Image, n.onload = s, n.onerror = s, t && (n.srcset = t), a && (n.src = a)) : s()\n\t\t\t}, b.preloadImages = function() {\n\t\t\t\tfunction e() {\n\t\t\t\t\t\"undefined\" != typeof b && null !== b && (void 0 !== b.imagesLoaded && b.imagesLoaded++, b.imagesLoaded === b.imagesToLoad.length && (b.params.updateOnImagesReady && b.update(), b.emit(\"onImagesReady\", b)))\n\t\t\t\t}\n\t\t\t\tb.imagesToLoad = b.container.find(\"img\");\n\t\t\t\tfor (var a = 0; a < b.imagesToLoad.length; a++) b.loadImage(b.imagesToLoad[a], b.imagesToLoad[a].currentSrc || b.imagesToLoad[a].getAttribute(\"src\"), b.imagesToLoad[a].srcset || b.imagesToLoad[a].getAttribute(\"srcset\"), !0, e)\n\t\t\t}, b.autoplayTimeoutId = void 0, b.autoplaying = !1, b.autoplayPaused = !1, b.startAutoplay = function() {\n\t\t\t\treturn \"undefined\" != typeof b.autoplayTimeoutId ? !1 : b.params.autoplay ? b.autoplaying ? !1 : (b.autoplaying = !0, b.emit(\"onAutoplayStart\", b), void n()) : !1\n\t\t\t}, b.stopAutoplay = function(e) {\n\t\t\t\tb.autoplayTimeoutId && (b.autoplayTimeoutId && clearTimeout(b.autoplayTimeoutId), b.autoplaying = !1, b.autoplayTimeoutId = void 0, b.emit(\"onAutoplayStop\", b))\n\t\t\t}, b.pauseAutoplay = function(e) {\n\t\t\t\tb.autoplayPaused || (b.autoplayTimeoutId && clearTimeout(b.autoplayTimeoutId), b.autoplayPaused = !0, 0 === e ? (b.autoplayPaused = !1, n()) : b.wrapper.transitionEnd(function() {\n\t\t\t\t\tb && (b.autoplayPaused = !1, b.autoplaying ? n() : b.stopAutoplay())\n\t\t\t\t}))\n\t\t\t}, b.minTranslate = function() {\n\t\t\t\treturn -b.snapGrid[0]\n\t\t\t}, b.maxTranslate = function() {\n\t\t\t\treturn -b.snapGrid[b.snapGrid.length - 1]\n\t\t\t}, b.updateAutoHeight = function() {\n\t\t\t\tvar e = b.slides.eq(b.activeIndex)[0];\n\t\t\t\tif (\"undefined\" != typeof e) {\n\t\t\t\t\tvar a = e.offsetHeight;\n\t\t\t\t\ta && b.wrapper.css(\"height\", a + \"px\")\n\t\t\t\t}\n\t\t\t}, b.updateContainerSize = function() {\n\t\t\t\tvar e, a;\n\t\t\t\te = \"undefined\" != typeof b.params.width ? b.params.width : b.container[0].clientWidth, a = \"undefined\" != typeof b.params.height ? b.params.height : b.container[0].clientHeight, 0 === e && b.isHorizontal() || 0 === a && !b.isHorizontal() || (e = e - parseInt(b.container.css(\"padding-left\"), 10) - parseInt(b.container.css(\"padding-right\"), 10), a = a - parseInt(b.container.css(\"padding-top\"), 10) - parseInt(b.container.css(\"padding-bottom\"), 10), b.width = e, b.height = a, b.size = b.isHorizontal() ? b.width : b.height)\n\t\t\t}, b.updateSlidesSize = function() {\n\t\t\t\tb.slides = b.wrapper.children(\".\" + b.params.slideClass), b.snapGrid = [], b.slidesGrid = [], b.slidesSizesGrid = [];\n\t\t\t\tvar e, a = b.params.spaceBetween,\n\t\t\t\t\tt = -b.params.slidesOffsetBefore,\n\t\t\t\t\tr = 0,\n\t\t\t\t\ti = 0;\n\t\t\t\tif (\"undefined\" != typeof b.size) {\n\t\t\t\t\t\"string\" == typeof a && a.indexOf(\"%\") >= 0 && (a = parseFloat(a.replace(\"%\", \"\")) / 100 * b.size), b.virtualSize = -a, b.rtl ? b.slides.css({\n\t\t\t\t\t\tmarginLeft: \"\",\n\t\t\t\t\t\tmarginTop: \"\"\n\t\t\t\t\t}) : b.slides.css({\n\t\t\t\t\t\tmarginRight: \"\",\n\t\t\t\t\t\tmarginBottom: \"\"\n\t\t\t\t\t});\n\t\t\t\t\tvar n;\n\t\t\t\t\tb.params.slidesPerColumn > 1 && (n = Math.floor(b.slides.length / b.params.slidesPerColumn) === b.slides.length / b.params.slidesPerColumn ? b.slides.length : Math.ceil(b.slides.length / b.params.slidesPerColumn) * b.params.slidesPerColumn, \"auto\" !== b.params.slidesPerView && \"row\" === b.params.slidesPerColumnFill && (n = Math.max(n, b.params.slidesPerView * b.params.slidesPerColumn)));\n\t\t\t\t\tvar o, l = b.params.slidesPerColumn,\n\t\t\t\t\t\tp = n / l,\n\t\t\t\t\t\td = p - (b.params.slidesPerColumn * p - b.slides.length);\n\t\t\t\t\tfor (e = 0; e < b.slides.length; e++) {\n\t\t\t\t\t\to = 0;\n\t\t\t\t\t\tvar u = b.slides.eq(e);\n\t\t\t\t\t\tif (b.params.slidesPerColumn > 1) {\n\t\t\t\t\t\t\tvar c, m, h;\n\t\t\t\t\t\t\t\"column\" === b.params.slidesPerColumnFill ? (m = Math.floor(e / l), h = e - m * l, (m > d || m === d && h === l - 1) && ++h >= l && (h = 0, m++), c = m + h * n / l, u.css({\n\t\t\t\t\t\t\t\t\"-webkit-box-ordinal-group\": c,\n\t\t\t\t\t\t\t\t\"-moz-box-ordinal-group\": c,\n\t\t\t\t\t\t\t\t\"-ms-flex-order\": c,\n\t\t\t\t\t\t\t\t\"-webkit-order\": c,\n\t\t\t\t\t\t\t\torder: c\n\t\t\t\t\t\t\t})) : (h = Math.floor(e / p), m = e - h * p), u.css({\n\t\t\t\t\t\t\t\t\"margin-top\": 0 !== h && b.params.spaceBetween && b.params.spaceBetween + \"px\"\n\t\t\t\t\t\t\t}).attr(\"data-swiper-column\", m).attr(\"data-swiper-row\", h)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\"none\" !== u.css(\"display\") && (\"auto\" === b.params.slidesPerView ? (o = b.isHorizontal() ? u.outerWidth(!0) : u.outerHeight(!0), b.params.roundLengths && (o = s(o))) : (o = (b.size - (b.params.slidesPerView - 1) * a) / b.params.slidesPerView, b.params.roundLengths && (o = s(o)), b.isHorizontal() ? b.slides[e].style.width = o + \"px\" : b.slides[e].style.height = o + \"px\"), b.slides[e].swiperSlideSize = o, b.slidesSizesGrid.push(o), b.params.centeredSlides ? (t = t + o / 2 + r / 2 + a, 0 === e && (t = t - b.size / 2 - a), Math.abs(t) < .001 && (t = 0), i % b.params.slidesPerGroup === 0 && b.snapGrid.push(t), b.slidesGrid.push(t)) : (i % b.params.slidesPerGroup === 0 && b.snapGrid.push(t), b.slidesGrid.push(t), t = t + o + a), b.virtualSize += o + a, r = o, i++)\n\t\t\t\t\t}\n\t\t\t\t\tb.virtualSize = Math.max(b.virtualSize, b.size) + b.params.slidesOffsetAfter;\n\t\t\t\t\tvar f;\n\t\t\t\t\tif (b.rtl && b.wrongRTL && (\"slide\" === b.params.effect || \"coverflow\" === b.params.effect) && b.wrapper.css({\n\t\t\t\t\t\t\twidth: b.virtualSize + b.params.spaceBetween + \"px\"\n\t\t\t\t\t\t}), (!b.support.flexbox || b.params.setWrapperSize) && (b.isHorizontal() ? b.wrapper.css({\n\t\t\t\t\t\t\twidth: b.virtualSize + b.params.spaceBetween + \"px\"\n\t\t\t\t\t\t}) : b.wrapper.css({\n\t\t\t\t\t\t\theight: b.virtualSize + b.params.spaceBetween + \"px\"\n\t\t\t\t\t\t})), b.params.slidesPerColumn > 1 && (b.virtualSize = (o + b.params.spaceBetween) * n, b.virtualSize = Math.ceil(b.virtualSize / b.params.slidesPerColumn) - b.params.spaceBetween, b.wrapper.css({\n\t\t\t\t\t\t\twidth: b.virtualSize + b.params.spaceBetween + \"px\"\n\t\t\t\t\t\t}), b.params.centeredSlides)) {\n\t\t\t\t\t\tfor (f = [], e = 0; e < b.snapGrid.length; e++) b.snapGrid[e] < b.virtualSize + b.snapGrid[0] && f.push(b.snapGrid[e]);\n\t\t\t\t\t\tb.snapGrid = f\n\t\t\t\t\t}\n\t\t\t\t\tif (!b.params.centeredSlides) {\n\t\t\t\t\t\tfor (f = [], e = 0; e < b.snapGrid.length; e++) b.snapGrid[e] <= b.virtualSize - b.size && f.push(b.snapGrid[e]);\n\t\t\t\t\t\tb.snapGrid = f, Math.floor(b.virtualSize - b.size) - Math.floor(b.snapGrid[b.snapGrid.length - 1]) > 1 && b.snapGrid.push(b.virtualSize - b.size)\n\t\t\t\t\t}\n\t\t\t\t\t0 === b.snapGrid.length && (b.snapGrid = [0]), 0 !== b.params.spaceBetween && (b.isHorizontal() ? b.rtl ? b.slides.css({\n\t\t\t\t\t\tmarginLeft: a + \"px\"\n\t\t\t\t\t}) : b.slides.css({\n\t\t\t\t\t\tmarginRight: a + \"px\"\n\t\t\t\t\t}) : b.slides.css({\n\t\t\t\t\t\tmarginBottom: a + \"px\"\n\t\t\t\t\t})), b.params.watchSlidesProgress && b.updateSlidesOffset()\n\t\t\t\t}\n\t\t\t}, b.updateSlidesOffset = function() {\n\t\t\t\tfor (var e = 0; e < b.slides.length; e++) b.slides[e].swiperSlideOffset = b.isHorizontal() ? b.slides[e].offsetLeft : b.slides[e].offsetTop\n\t\t\t}, b.updateSlidesProgress = function(e) {\n\t\t\t\tif (\"undefined\" == typeof e && (e = b.translate || 0), 0 !== b.slides.length) {\n\t\t\t\t\t\"undefined\" == typeof b.slides[0].swiperSlideOffset && b.updateSlidesOffset();\n\t\t\t\t\tvar a = -e;\n\t\t\t\t\tb.rtl && (a = e), b.slides.removeClass(b.params.slideVisibleClass);\n\t\t\t\t\tfor (var t = 0; t < b.slides.length; t++) {\n\t\t\t\t\t\tvar r = b.slides[t],\n\t\t\t\t\t\t\ti = (a - r.swiperSlideOffset) / (r.swiperSlideSize + b.params.spaceBetween);\n\t\t\t\t\t\tif (b.params.watchSlidesVisibility) {\n\t\t\t\t\t\t\tvar s = -(a - r.swiperSlideOffset),\n\t\t\t\t\t\t\t\tn = s + b.slidesSizesGrid[t],\n\t\t\t\t\t\t\t\to = s >= 0 && s < b.size || n > 0 && n <= b.size || 0 >= s && n >= b.size;\n\t\t\t\t\t\t\to && b.slides.eq(t).addClass(b.params.slideVisibleClass)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tr.progress = b.rtl ? -i : i\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, b.updateProgress = function(e) {\n\t\t\t\t\"undefined\" == typeof e && (e = b.translate || 0);\n\t\t\t\tvar a = b.maxTranslate() - b.minTranslate(),\n\t\t\t\t\tt = b.isBeginning,\n\t\t\t\t\tr = b.isEnd;\n\t\t\t\t0 === a ? (b.progress = 0, b.isBeginning = b.isEnd = !0) : (b.progress = (e - b.minTranslate()) / a, b.isBeginning = b.progress <= 0, b.isEnd = b.progress >= 1), b.isBeginning && !t && b.emit(\"onReachBeginning\", b), b.isEnd && !r && b.emit(\"onReachEnd\", b), b.params.watchSlidesProgress && b.updateSlidesProgress(e), b.emit(\"onProgress\", b, b.progress)\n\t\t\t}, b.updateActiveIndex = function() {\n\t\t\t\tvar e, a, t, r = b.rtl ? b.translate : -b.translate;\n\t\t\t\tfor (a = 0; a < b.slidesGrid.length; a++) \"undefined\" != typeof b.slidesGrid[a + 1] ? r >= b.slidesGrid[a] && r < b.slidesGrid[a + 1] - (b.slidesGrid[a + 1] - b.slidesGrid[a]) / 2 ? e = a : r >= b.slidesGrid[a] && r < b.slidesGrid[a + 1] && (e = a + 1) : r >= b.slidesGrid[a] && (e = a);\n\t\t\t\t(0 > e || \"undefined\" == typeof e) && (e = 0), t = Math.floor(e / b.params.slidesPerGroup), t >= b.snapGrid.length && (t = b.snapGrid.length - 1), e !== b.activeIndex && (b.snapIndex = t, b.previousIndex = b.activeIndex, b.activeIndex = e, b.updateClasses())\n\t\t\t}, b.updateClasses = function() {\n\t\t\t\tb.slides.removeClass(b.params.slideActiveClass + \" \" + b.params.slideNextClass + \" \" + b.params.slidePrevClass);\n\t\t\t\tvar e = b.slides.eq(b.activeIndex);\n\t\t\t\te.addClass(b.params.slideActiveClass);\n\t\t\t\tvar t = e.next(\".\" + b.params.slideClass).addClass(b.params.slideNextClass);\n\t\t\t\tb.params.loop && 0 === t.length && b.slides.eq(0).addClass(b.params.slideNextClass);\n\t\t\t\tvar r = e.prev(\".\" + b.params.slideClass).addClass(b.params.slidePrevClass);\n\t\t\t\tif (b.params.loop && 0 === r.length && b.slides.eq(-1).addClass(b.params.slidePrevClass), b.paginationContainer && b.paginationContainer.length > 0) {\n\t\t\t\t\tvar i, s = b.params.loop ? Math.ceil((b.slides.length - 2 * b.loopedSlides) / b.params.slidesPerGroup) : b.snapGrid.length;\n\t\t\t\t\tif (b.params.loop ? (i = Math.ceil((b.activeIndex - b.loopedSlides) / b.params.slidesPerGroup), i > b.slides.length - 1 - 2 * b.loopedSlides && (i -= b.slides.length - 2 * b.loopedSlides), i > s - 1 && (i -= s), 0 > i && \"bullets\" !== b.params.paginationType && (i = s + i)) : i = \"undefined\" != typeof b.snapIndex ? b.snapIndex : b.activeIndex || 0, \"bullets\" === b.params.paginationType && b.bullets && b.bullets.length > 0 && (b.bullets.removeClass(b.params.bulletActiveClass), b.paginationContainer.length > 1 ? b.bullets.each(function() {\n\t\t\t\t\t\t\ta(this).index() === i && a(this).addClass(b.params.bulletActiveClass)\n\t\t\t\t\t\t}) : b.bullets.eq(i).addClass(b.params.bulletActiveClass)), \"fraction\" === b.params.paginationType && (b.paginationContainer.find(\".\" + b.params.paginationCurrentClass).text(i + 1), b.paginationContainer.find(\".\" + b.params.paginationTotalClass).text(s)), \"progress\" === b.params.paginationType) {\n\t\t\t\t\t\tvar n = (i + 1) / s,\n\t\t\t\t\t\t\to = n,\n\t\t\t\t\t\t\tl = 1;\n\t\t\t\t\t\tb.isHorizontal() || (l = n, o = 1), b.paginationContainer.find(\".\" + b.params.paginationProgressbarClass).transform(\"translate3d(0,0,0) scaleX(\" + o + \") scaleY(\" + l + \")\").transition(b.params.speed)\n\t\t\t\t\t}\n\t\t\t\t\t\"custom\" === b.params.paginationType && b.params.paginationCustomRender && (b.paginationContainer.html(b.params.paginationCustomRender(b, i + 1, s)), b.emit(\"onPaginationRendered\", b, b.paginationContainer[0]))\n\t\t\t\t}\n\t\t\t\tb.params.loop || (b.params.prevButton && b.prevButton && b.prevButton.length > 0 && (b.isBeginning ? (b.prevButton.addClass(b.params.buttonDisabledClass), b.params.a11y && b.a11y && b.a11y.disable(b.prevButton)) : (b.prevButton.removeClass(b.params.buttonDisabledClass), b.params.a11y && b.a11y && b.a11y.enable(b.prevButton))), b.params.nextButton && b.nextButton && b.nextButton.length > 0 && (b.isEnd ? (b.nextButton.addClass(b.params.buttonDisabledClass), b.params.a11y && b.a11y && b.a11y.disable(b.nextButton)) : (b.nextButton.removeClass(b.params.buttonDisabledClass), b.params.a11y && b.a11y && b.a11y.enable(b.nextButton))))\n\t\t\t}, b.updatePagination = function() {\n\t\t\t\tif (b.params.pagination && b.paginationContainer && b.paginationContainer.length > 0) {\n\t\t\t\t\tvar e = \"\";\n\t\t\t\t\tif (\"bullets\" === b.params.paginationType) {\n\t\t\t\t\t\tfor (var a = b.params.loop ? Math.ceil((b.slides.length - 2 * b.loopedSlides) / b.params.slidesPerGroup) : b.snapGrid.length, t = 0; a > t; t++) e += b.params.paginationBulletRender ? b.params.paginationBulletRender(t, b.params.bulletClass) : \"<\" + b.params.paginationElement + ' class=\"' + b.params.bulletClass + '\"></' + b.params.paginationElement + \">\";\n\t\t\t\t\t\tb.paginationContainer.html(e), b.bullets = b.paginationContainer.find(\".\" + b.params.bulletClass), b.params.paginationClickable && b.params.a11y && b.a11y && b.a11y.initPagination()\n\t\t\t\t\t}\n\t\t\t\t\t\"fraction\" === b.params.paginationType && (e = b.params.paginationFractionRender ? b.params.paginationFractionRender(b, b.params.paginationCurrentClass, b.params.paginationTotalClass) : '<span class=\"' + b.params.paginationCurrentClass + '\"></span> / <span class=\"' + b.params.paginationTotalClass + '\"></span>', b.paginationContainer.html(e)), \"progress\" === b.params.paginationType && (e = b.params.paginationProgressRender ? b.params.paginationProgressRender(b, b.params.paginationProgressbarClass) : '<span class=\"' + b.params.paginationProgressbarClass + '\"></span>', b.paginationContainer.html(e)), \"custom\" !== b.params.paginationType && b.emit(\"onPaginationRendered\", b, b.paginationContainer[0])\n\t\t\t\t}\n\t\t\t}, b.update = function(e) {\n\t\t\t\tfunction a() {\n\t\t\t\t\tr = Math.min(Math.max(b.translate, b.maxTranslate()), b.minTranslate()), b.setWrapperTranslate(r), b.updateActiveIndex(), b.updateClasses()\n\t\t\t\t}\n\t\t\t\tif (b.updateContainerSize(), b.updateSlidesSize(), b.updateProgress(), b.updatePagination(), b.updateClasses(), b.params.scrollbar && b.scrollbar && b.scrollbar.set(), e) {\n\t\t\t\t\tvar t, r;\n\t\t\t\t\tb.controller && b.controller.spline && (b.controller.spline = void 0), b.params.freeMode ? (a(), b.params.autoHeight && b.updateAutoHeight()) : (t = (\"auto\" === b.params.slidesPerView || b.params.slidesPerView > 1) && b.isEnd && !b.params.centeredSlides ? b.slideTo(b.slides.length - 1, 0, !1, !0) : b.slideTo(b.activeIndex, 0, !1, !0), t || a())\n\t\t\t\t} else b.params.autoHeight && b.updateAutoHeight()\n\t\t\t}, b.onResize = function(e) {\n\t\t\t\tb.params.breakpoints && b.setBreakpoint();\n\t\t\t\tvar a = b.params.allowSwipeToPrev,\n\t\t\t\t\tt = b.params.allowSwipeToNext;\n\t\t\t\tb.params.allowSwipeToPrev = b.params.allowSwipeToNext = !0, b.updateContainerSize(), b.updateSlidesSize(), (\"auto\" === b.params.slidesPerView || b.params.freeMode || e) && b.updatePagination(), b.params.scrollbar && b.scrollbar && b.scrollbar.set(), b.controller && b.controller.spline && (b.controller.spline = void 0);\n\t\t\t\tvar r = !1;\n\t\t\t\tif (b.params.freeMode) {\n\t\t\t\t\tvar i = Math.min(Math.max(b.translate, b.maxTranslate()), b.minTranslate());\n\t\t\t\t\tb.setWrapperTranslate(i), b.updateActiveIndex(), b.updateClasses(), b.params.autoHeight && b.updateAutoHeight()\n\t\t\t\t} else b.updateClasses(), r = (\"auto\" === b.params.slidesPerView || b.params.slidesPerView > 1) && b.isEnd && !b.params.centeredSlides ? b.slideTo(b.slides.length - 1, 0, !1, !0) : b.slideTo(b.activeIndex, 0, !1, !0);\n\t\t\t\tb.params.lazyLoading && !r && b.lazy && b.lazy.load(), b.params.allowSwipeToPrev = a, b.params.allowSwipeToNext = t\n\t\t\t};\n\t\t\tvar T = [\"mousedown\", \"mousemove\", \"mouseup\"];\n\t\t\twindow.navigator.pointerEnabled ? T = [\"pointerdown\", \"pointermove\", \"pointerup\"] : window.navigator.msPointerEnabled && (T = [\"MSPointerDown\", \"MSPointerMove\", \"MSPointerUp\"]), b.touchEvents = {\n\t\t\t\tstart: b.support.touch || !b.params.simulateTouch ? \"touchstart\" : T[0],\n\t\t\t\tmove: b.support.touch || !b.params.simulateTouch ? \"touchmove\" : T[1],\n\t\t\t\tend: b.support.touch || !b.params.simulateTouch ? \"touchend\" : T[2]\n\t\t\t}, (window.navigator.pointerEnabled || window.navigator.msPointerEnabled) && (\"container\" === b.params.touchEventsTarget ? b.container : b.wrapper).addClass(\"swiper-wp8-\" + b.params.direction), b.initEvents = function(e) {\n\t\t\t\tvar a = e ? \"off\" : \"on\",\n\t\t\t\t\tt = e ? \"removeEventListener\" : \"addEventListener\",\n\t\t\t\t\tr = \"container\" === b.params.touchEventsTarget ? b.container[0] : b.wrapper[0],\n\t\t\t\t\ts = b.support.touch ? r : document,\n\t\t\t\t\tn = b.params.nested ? !0 : !1;\n\t\t\t\tb.browser.ie ? (r[t](b.touchEvents.start, b.onTouchStart, !1), s[t](b.touchEvents.move, b.onTouchMove, n), s[t](b.touchEvents.end, b.onTouchEnd, !1)) : (b.support.touch && (r[t](b.touchEvents.start, b.onTouchStart, !1), r[t](b.touchEvents.move, b.onTouchMove, n), r[t](b.touchEvents.end, b.onTouchEnd, !1)), !i.simulateTouch || b.device.ios || b.device.android || (r[t](\"mousedown\", b.onTouchStart, !1), document[t](\"mousemove\", b.onTouchMove, n), document[t](\"mouseup\", b.onTouchEnd, !1))), window[t](\"resize\", b.onResize), b.params.nextButton && b.nextButton && b.nextButton.length > 0 && (b.nextButton[a](\"click\", b.onClickNext), b.params.a11y && b.a11y && b.nextButton[a](\"keydown\", b.a11y.onEnterKey)), b.params.prevButton && b.prevButton && b.prevButton.length > 0 && (b.prevButton[a](\"click\", b.onClickPrev), b.params.a11y && b.a11y && b.prevButton[a](\"keydown\", b.a11y.onEnterKey)), b.params.pagination && b.params.paginationClickable && (b.paginationContainer[a](\"click\", \".\" + b.params.bulletClass, b.onClickIndex), b.params.a11y && b.a11y && b.paginationContainer[a](\"keydown\", \".\" + b.params.bulletClass, b.a11y.onEnterKey)), (b.params.preventClicks || b.params.preventClicksPropagation) && r[t](\"click\", b.preventClicks, !0)\n\t\t\t}, b.attachEvents = function() {\n\t\t\t\tb.initEvents()\n\t\t\t}, b.detachEvents = function() {\n\t\t\t\tb.initEvents(!0)\n\t\t\t}, b.allowClick = !0, b.preventClicks = function(e) {\n\t\t\t\tb.allowClick || (b.params.preventClicks && e.preventDefault(), b.params.preventClicksPropagation && b.animating && (e.stopPropagation(), e.stopImmediatePropagation()))\n\t\t\t}, b.onClickNext = function(e) {\n\t\t\t\te.preventDefault(), (!b.isEnd || b.params.loop) && b.slideNext()\n\t\t\t}, b.onClickPrev = function(e) {\n\t\t\t\te.preventDefault(), (!b.isBeginning || b.params.loop) && b.slidePrev()\n\t\t\t}, b.onClickIndex = function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar t = a(this).index() * b.params.slidesPerGroup;\n\t\t\t\tb.params.loop && (t += b.loopedSlides), b.slideTo(t)\n\t\t\t}, b.updateClickedSlide = function(e) {\n\t\t\t\tvar t = o(e, \".\" + b.params.slideClass),\n\t\t\t\t\tr = !1;\n\t\t\t\tif (t)\n\t\t\t\t\tfor (var i = 0; i < b.slides.length; i++) b.slides[i] === t && (r = !0);\n\t\t\t\tif (!t || !r) return b.clickedSlide = void 0, void(b.clickedIndex = void 0);\n\t\t\t\tif (b.clickedSlide = t, b.clickedIndex = a(t).index(), b.params.slideToClickedSlide && void 0 !== b.clickedIndex && b.clickedIndex !== b.activeIndex) {\n\t\t\t\t\tvar s, n = b.clickedIndex;\n\t\t\t\t\tif (b.params.loop) {\n\t\t\t\t\t\tif (b.animating) return;\n\t\t\t\t\t\ts = a(b.clickedSlide).attr(\"data-swiper-slide-index\"), b.params.centeredSlides ? n < b.loopedSlides - b.params.slidesPerView / 2 || n > b.slides.length - b.loopedSlides + b.params.slidesPerView / 2 ? (b.fixLoop(), n = b.wrapper.children(\".\" + b.params.slideClass + '[data-swiper-slide-index=\"' + s + '\"]:not(.swiper-slide-duplicate)').eq(0).index(), setTimeout(function() {\n\t\t\t\t\t\t\tb.slideTo(n)\n\t\t\t\t\t\t}, 0)) : b.slideTo(n) : n > b.slides.length - b.params.slidesPerView ? (b.fixLoop(), n = b.wrapper.children(\".\" + b.params.slideClass + '[data-swiper-slide-index=\"' + s + '\"]:not(.swiper-slide-duplicate)').eq(0).index(), setTimeout(function() {\n\t\t\t\t\t\t\tb.slideTo(n)\n\t\t\t\t\t\t}, 0)) : b.slideTo(n)\n\t\t\t\t\t} else b.slideTo(n)\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar S, C, z, M, E, P, k, I, L, B, D = \"input, select, textarea, button\",\n\t\t\t\tH = Date.now(),\n\t\t\t\tA = [];\n\t\t\tb.animating = !1, b.touches = {\n\t\t\t\tstartX: 0,\n\t\t\t\tstartY: 0,\n\t\t\t\tcurrentX: 0,\n\t\t\t\tcurrentY: 0,\n\t\t\t\tdiff: 0\n\t\t\t};\n\t\t\tvar G, O;\n\t\t\tif (b.onTouchStart = function(e) {\n\t\t\t\t\tif (e.originalEvent && (e = e.originalEvent), G = \"touchstart\" === e.type, G || !(\"which\" in e) || 3 !== e.which) {\n\t\t\t\t\t\tif (b.params.noSwiping && o(e, \".\" + b.params.noSwipingClass)) return void(b.allowClick = !0);\n\t\t\t\t\t\tif (!b.params.swipeHandler || o(e, b.params.swipeHandler)) {\n\t\t\t\t\t\t\tvar t = b.touches.currentX = \"touchstart\" === e.type ? e.targetTouches[0].pageX : e.pageX,\n\t\t\t\t\t\t\t\tr = b.touches.currentY = \"touchstart\" === e.type ? e.targetTouches[0].pageY : e.pageY;\n\t\t\t\t\t\t\tif (!(b.device.ios && b.params.iOSEdgeSwipeDetection && t <= b.params.iOSEdgeSwipeThreshold)) {\n\t\t\t\t\t\t\t\tif (S = !0, C = !1, z = !0, E = void 0, O = void 0, b.touches.startX = t, b.touches.startY = r, M = Date.now(), b.allowClick = !0, b.updateContainerSize(), b.swipeDirection = void 0, b.params.threshold > 0 && (I = !1), \"touchstart\" !== e.type) {\n\t\t\t\t\t\t\t\t\tvar i = !0;\n\t\t\t\t\t\t\t\t\ta(e.target).is(D) && (i = !1), document.activeElement && a(document.activeElement).is(D) && document.activeElement.blur(), i && e.preventDefault()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tb.emit(\"onTouchStart\", b, e)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, b.onTouchMove = function(e) {\n\t\t\t\t\tif (e.originalEvent && (e = e.originalEvent), !G || \"mousemove\" !== e.type) {\n\t\t\t\t\t\tif (e.preventedByNestedSwiper) return b.touches.startX = \"touchmove\" === e.type ? e.targetTouches[0].pageX : e.pageX, void(b.touches.startY = \"touchmove\" === e.type ? e.targetTouches[0].pageY : e.pageY);\n\t\t\t\t\t\tif (b.params.onlyExternal) return b.allowClick = !1, void(S && (b.touches.startX = b.touches.currentX = \"touchmove\" === e.type ? e.targetTouches[0].pageX : e.pageX, b.touches.startY = b.touches.currentY = \"touchmove\" === e.type ? e.targetTouches[0].pageY : e.pageY, M = Date.now()));\n\t\t\t\t\t\tif (G && document.activeElement && e.target === document.activeElement && a(e.target).is(D)) return C = !0, void(b.allowClick = !1);\n\t\t\t\t\t\tif (z && b.emit(\"onTouchMove\", b, e), !(e.targetTouches && e.targetTouches.length > 1)) {\n\t\t\t\t\t\t\tif (b.touches.currentX = \"touchmove\" === e.type ? e.targetTouches[0].pageX : e.pageX, b.touches.currentY = \"touchmove\" === e.type ? e.targetTouches[0].pageY : e.pageY, \"undefined\" == typeof E) {\n\t\t\t\t\t\t\t\tvar t = 180 * Math.atan2(Math.abs(b.touches.currentY - b.touches.startY), Math.abs(b.touches.currentX - b.touches.startX)) / Math.PI;\n\t\t\t\t\t\t\t\tE = b.isHorizontal() ? t > b.params.touchAngle : 90 - t > b.params.touchAngle\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (E && b.emit(\"onTouchMoveOpposite\", b, e), \"undefined\" == typeof O && b.browser.ieTouch && (b.touches.currentX !== b.touches.startX || b.touches.currentY !== b.touches.startY) && (O = !0), S) {\n\t\t\t\t\t\t\t\tif (E) return void(S = !1);\n\t\t\t\t\t\t\t\tif (O || !b.browser.ieTouch) {\n\t\t\t\t\t\t\t\t\tb.allowClick = !1, b.emit(\"onSliderMove\", b, e), e.preventDefault(), b.params.touchMoveStopPropagation && !b.params.nested && e.stopPropagation(), C || (i.loop && b.fixLoop(), k = b.getWrapperTranslate(), b.setWrapperTransition(0), b.animating && b.wrapper.trigger(\"webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd\"), b.params.autoplay && b.autoplaying && (b.params.autoplayDisableOnInteraction ? b.stopAutoplay() : b.pauseAutoplay()), B = !1, b.params.grabCursor && (b.container[0].style.cursor = \"move\", b.container[0].style.cursor = \"-webkit-grabbing\", b.container[0].style.cursor = \"-moz-grabbin\", b.container[0].style.cursor = \"grabbing\")), C = !0;\n\t\t\t\t\t\t\t\t\tvar r = b.touches.diff = b.isHorizontal() ? b.touches.currentX - b.touches.startX : b.touches.currentY - b.touches.startY;\n\t\t\t\t\t\t\t\t\tr *= b.params.touchRatio, b.rtl && (r = -r), b.swipeDirection = r > 0 ? \"prev\" : \"next\", P = r + k;\n\t\t\t\t\t\t\t\t\tvar s = !0;\n\t\t\t\t\t\t\t\t\tif (r > 0 && P > b.minTranslate() ? (s = !1, b.params.resistance && (P = b.minTranslate() - 1 + Math.pow(-b.minTranslate() + k + r, b.params.resistanceRatio))) : 0 > r && P < b.maxTranslate() && (s = !1, b.params.resistance && (P = b.maxTranslate() + 1 - Math.pow(b.maxTranslate() - k - r, b.params.resistanceRatio))),\n\t\t\t\t\t\t\t\t\t\ts && (e.preventedByNestedSwiper = !0), !b.params.allowSwipeToNext && \"next\" === b.swipeDirection && k > P && (P = k), !b.params.allowSwipeToPrev && \"prev\" === b.swipeDirection && P > k && (P = k), b.params.followFinger) {\n\t\t\t\t\t\t\t\t\t\tif (b.params.threshold > 0) {\n\t\t\t\t\t\t\t\t\t\t\tif (!(Math.abs(r) > b.params.threshold || I)) return void(P = k);\n\t\t\t\t\t\t\t\t\t\t\tif (!I) return I = !0, b.touches.startX = b.touches.currentX, b.touches.startY = b.touches.currentY, P = k, void(b.touches.diff = b.isHorizontal() ? b.touches.currentX - b.touches.startX : b.touches.currentY - b.touches.startY)\n\t\t\t\t\t\t\t\t\t\t}(b.params.freeMode || b.params.watchSlidesProgress) && b.updateActiveIndex(), b.params.freeMode && (0 === A.length && A.push({\n\t\t\t\t\t\t\t\t\t\t\tposition: b.touches[b.isHorizontal() ? \"startX\" : \"startY\"],\n\t\t\t\t\t\t\t\t\t\t\ttime: M\n\t\t\t\t\t\t\t\t\t\t}), A.push({\n\t\t\t\t\t\t\t\t\t\t\tposition: b.touches[b.isHorizontal() ? \"currentX\" : \"currentY\"],\n\t\t\t\t\t\t\t\t\t\t\ttime: (new window.Date).getTime()\n\t\t\t\t\t\t\t\t\t\t})), b.updateProgress(P), b.setWrapperTranslate(P)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, b.onTouchEnd = function(e) {\n\t\t\t\t\tif (e.originalEvent && (e = e.originalEvent), z && b.emit(\"onTouchEnd\", b, e), z = !1, S) {\n\t\t\t\t\t\tb.params.grabCursor && C && S && (b.container[0].style.cursor = \"move\", b.container[0].style.cursor = \"-webkit-grab\", b.container[0].style.cursor = \"-moz-grab\", b.container[0].style.cursor = \"grab\");\n\t\t\t\t\t\tvar t = Date.now(),\n\t\t\t\t\t\t\tr = t - M;\n\t\t\t\t\t\tif (b.allowClick && (b.updateClickedSlide(e), b.emit(\"onTap\", b, e), 300 > r && t - H > 300 && (L && clearTimeout(L), L = setTimeout(function() {\n\t\t\t\t\t\t\t\tb && (b.params.paginationHide && b.paginationContainer.length > 0 && !a(e.target).hasClass(b.params.bulletClass) && b.paginationContainer.toggleClass(b.params.paginationHiddenClass), b.emit(\"onClick\", b, e))\n\t\t\t\t\t\t\t}, 300)), 300 > r && 300 > t - H && (L && clearTimeout(L), b.emit(\"onDoubleTap\", b, e))), H = Date.now(), setTimeout(function() {\n\t\t\t\t\t\t\t\tb && (b.allowClick = !0)\n\t\t\t\t\t\t\t}, 0), !S || !C || !b.swipeDirection || 0 === b.touches.diff || P === k) return void(S = C = !1);\n\t\t\t\t\t\tS = C = !1;\n\t\t\t\t\t\tvar i;\n\t\t\t\t\t\tif (i = b.params.followFinger ? b.rtl ? b.translate : -b.translate : -P, b.params.freeMode) {\n\t\t\t\t\t\t\tif (i < -b.minTranslate()) return void b.slideTo(b.activeIndex);\n\t\t\t\t\t\t\tif (i > -b.maxTranslate()) return void(b.slides.length < b.snapGrid.length ? b.slideTo(b.snapGrid.length - 1) : b.slideTo(b.slides.length - 1));\n\t\t\t\t\t\t\tif (b.params.freeModeMomentum) {\n\t\t\t\t\t\t\t\tif (A.length > 1) {\n\t\t\t\t\t\t\t\t\tvar s = A.pop(),\n\t\t\t\t\t\t\t\t\t\tn = A.pop(),\n\t\t\t\t\t\t\t\t\t\to = s.position - n.position,\n\t\t\t\t\t\t\t\t\t\tl = s.time - n.time;\n\t\t\t\t\t\t\t\t\tb.velocity = o / l, b.velocity = b.velocity / 2, Math.abs(b.velocity) < b.params.freeModeMinimumVelocity && (b.velocity = 0), (l > 150 || (new window.Date).getTime() - s.time > 300) && (b.velocity = 0)\n\t\t\t\t\t\t\t\t} else b.velocity = 0;\n\t\t\t\t\t\t\t\tA.length = 0;\n\t\t\t\t\t\t\t\tvar p = 1e3 * b.params.freeModeMomentumRatio,\n\t\t\t\t\t\t\t\t\td = b.velocity * p,\n\t\t\t\t\t\t\t\t\tu = b.translate + d;\n\t\t\t\t\t\t\t\tb.rtl && (u = -u);\n\t\t\t\t\t\t\t\tvar c, m = !1,\n\t\t\t\t\t\t\t\t\th = 20 * Math.abs(b.velocity) * b.params.freeModeMomentumBounceRatio;\n\t\t\t\t\t\t\t\tif (u < b.maxTranslate()) b.params.freeModeMomentumBounce ? (u + b.maxTranslate() < -h && (u = b.maxTranslate() - h), c = b.maxTranslate(), m = !0, B = !0) : u = b.maxTranslate();\n\t\t\t\t\t\t\t\telse if (u > b.minTranslate()) b.params.freeModeMomentumBounce ? (u - b.minTranslate() > h && (u = b.minTranslate() + h), c = b.minTranslate(), m = !0, B = !0) : u = b.minTranslate();\n\t\t\t\t\t\t\t\telse if (b.params.freeModeSticky) {\n\t\t\t\t\t\t\t\t\tvar f, g = 0;\n\t\t\t\t\t\t\t\t\tfor (g = 0; g < b.snapGrid.length; g += 1)\n\t\t\t\t\t\t\t\t\t\tif (b.snapGrid[g] > -u) {\n\t\t\t\t\t\t\t\t\t\t\tf = g;\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tu = Math.abs(b.snapGrid[f] - u) < Math.abs(b.snapGrid[f - 1] - u) || \"next\" === b.swipeDirection ? b.snapGrid[f] : b.snapGrid[f - 1], b.rtl || (u = -u)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (0 !== b.velocity) p = b.rtl ? Math.abs((-u - b.translate) / b.velocity) : Math.abs((u - b.translate) / b.velocity);\n\t\t\t\t\t\t\t\telse if (b.params.freeModeSticky) return void b.slideReset();\n\t\t\t\t\t\t\t\tb.params.freeModeMomentumBounce && m ? (b.updateProgress(c), b.setWrapperTransition(p), b.setWrapperTranslate(u), b.onTransitionStart(), b.animating = !0, b.wrapper.transitionEnd(function() {\n\t\t\t\t\t\t\t\t\tb && B && (b.emit(\"onMomentumBounce\", b), b.setWrapperTransition(b.params.speed), b.setWrapperTranslate(c), b.wrapper.transitionEnd(function() {\n\t\t\t\t\t\t\t\t\t\tb && b.onTransitionEnd()\n\t\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t})) : b.velocity ? (b.updateProgress(u), b.setWrapperTransition(p), b.setWrapperTranslate(u), b.onTransitionStart(), b.animating || (b.animating = !0, b.wrapper.transitionEnd(function() {\n\t\t\t\t\t\t\t\t\tb && b.onTransitionEnd()\n\t\t\t\t\t\t\t\t}))) : b.updateProgress(u), b.updateActiveIndex()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn void((!b.params.freeModeMomentum || r >= b.params.longSwipesMs) && (b.updateProgress(), b.updateActiveIndex()))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar v, w = 0,\n\t\t\t\t\t\t\ty = b.slidesSizesGrid[0];\n\t\t\t\t\t\tfor (v = 0; v < b.slidesGrid.length; v += b.params.slidesPerGroup) \"undefined\" != typeof b.slidesGrid[v + b.params.slidesPerGroup] ? i >= b.slidesGrid[v] && i < b.slidesGrid[v + b.params.slidesPerGroup] && (w = v, y = b.slidesGrid[v + b.params.slidesPerGroup] - b.slidesGrid[v]) : i >= b.slidesGrid[v] && (w = v, y = b.slidesGrid[b.slidesGrid.length - 1] - b.slidesGrid[b.slidesGrid.length - 2]);\n\t\t\t\t\t\tvar x = (i - b.slidesGrid[w]) / y;\n\t\t\t\t\t\tif (r > b.params.longSwipesMs) {\n\t\t\t\t\t\t\tif (!b.params.longSwipes) return void b.slideTo(b.activeIndex);\n\t\t\t\t\t\t\t\"next\" === b.swipeDirection && (x >= b.params.longSwipesRatio ? b.slideTo(w + b.params.slidesPerGroup) : b.slideTo(w)), \"prev\" === b.swipeDirection && (x > 1 - b.params.longSwipesRatio ? b.slideTo(w + b.params.slidesPerGroup) : b.slideTo(w))\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (!b.params.shortSwipes) return void b.slideTo(b.activeIndex);\n\t\t\t\t\t\t\t\"next\" === b.swipeDirection && b.slideTo(w + b.params.slidesPerGroup), \"prev\" === b.swipeDirection && b.slideTo(w)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, b._slideTo = function(e, a) {\n\t\t\t\t\treturn b.slideTo(e, a, !0, !0)\n\t\t\t\t}, b.slideTo = function(e, a, t, r) {\n\t\t\t\t\t\"undefined\" == typeof t && (t = !0), \"undefined\" == typeof e && (e = 0), 0 > e && (e = 0), b.snapIndex = Math.floor(e / b.params.slidesPerGroup), b.snapIndex >= b.snapGrid.length && (b.snapIndex = b.snapGrid.length - 1);\n\t\t\t\t\tvar i = -b.snapGrid[b.snapIndex];\n\t\t\t\t\tb.params.autoplay && b.autoplaying && (r || !b.params.autoplayDisableOnInteraction ? b.pauseAutoplay(a) : b.stopAutoplay()), b.updateProgress(i);\n\t\t\t\t\tfor (var s = 0; s < b.slidesGrid.length; s++) - Math.floor(100 * i) >= Math.floor(100 * b.slidesGrid[s]) && (e = s);\n\t\t\t\t\treturn !b.params.allowSwipeToNext && i < b.translate && i < b.minTranslate() ? !1 : !b.params.allowSwipeToPrev && i > b.translate && i > b.maxTranslate() && (b.activeIndex || 0) !== e ? !1 : (\"undefined\" == typeof a && (a = b.params.speed), b.previousIndex = b.activeIndex || 0, b.activeIndex = e, b.rtl && -i === b.translate || !b.rtl && i === b.translate ? (b.params.autoHeight && b.updateAutoHeight(), b.updateClasses(), \"slide\" !== b.params.effect && b.setWrapperTranslate(i), !1) : (b.updateClasses(), b.onTransitionStart(t), 0 === a ? (b.setWrapperTranslate(i), b.setWrapperTransition(0), b.onTransitionEnd(t)) : (b.setWrapperTranslate(i), b.setWrapperTransition(a), b.animating || (b.animating = !0, b.wrapper.transitionEnd(function() {\n\t\t\t\t\t\tb && b.onTransitionEnd(t)\n\t\t\t\t\t}))), !0))\n\t\t\t\t}, b.onTransitionStart = function(e) {\n\t\t\t\t\t\"undefined\" == typeof e && (e = !0), b.params.autoHeight && b.updateAutoHeight(), b.lazy && b.lazy.onTransitionStart(), e && (b.emit(\"onTransitionStart\", b), b.activeIndex !== b.previousIndex && (b.emit(\"onSlideChangeStart\", b), b.activeIndex > b.previousIndex ? b.emit(\"onSlideNextStart\", b) : b.emit(\"onSlidePrevStart\", b)))\n\t\t\t\t}, b.onTransitionEnd = function(e) {\n\t\t\t\t\tb.animating = !1, b.setWrapperTransition(0), \"undefined\" == typeof e && (e = !0), b.lazy && b.lazy.onTransitionEnd(), e && (b.emit(\"onTransitionEnd\", b), b.activeIndex !== b.previousIndex && (b.emit(\"onSlideChangeEnd\", b), b.activeIndex > b.previousIndex ? b.emit(\"onSlideNextEnd\", b) : b.emit(\"onSlidePrevEnd\", b))), b.params.hashnav && b.hashnav && b.hashnav.setHash()\n\t\t\t\t}, b.slideNext = function(e, a, t) {\n\t\t\t\t\tif (b.params.loop) {\n\t\t\t\t\t\tif (b.animating) return !1;\n\t\t\t\t\t\tb.fixLoop();\n\t\t\t\t\t\tb.container[0].clientLeft;\n\t\t\t\t\t\treturn b.slideTo(b.activeIndex + b.params.slidesPerGroup, a, e, t)\n\t\t\t\t\t}\n\t\t\t\t\treturn b.slideTo(b.activeIndex + b.params.slidesPerGroup, a, e, t)\n\t\t\t\t}, b._slideNext = function(e) {\n\t\t\t\t\treturn b.slideNext(!0, e, !0)\n\t\t\t\t}, b.slidePrev = function(e, a, t) {\n\t\t\t\t\tif (b.params.loop) {\n\t\t\t\t\t\tif (b.animating) return !1;\n\t\t\t\t\t\tb.fixLoop();\n\t\t\t\t\t\tb.container[0].clientLeft;\n\t\t\t\t\t\treturn b.slideTo(b.activeIndex - 1, a, e, t)\n\t\t\t\t\t}\n\t\t\t\t\treturn b.slideTo(b.activeIndex - 1, a, e, t)\n\t\t\t\t}, b._slidePrev = function(e) {\n\t\t\t\t\treturn b.slidePrev(!0, e, !0)\n\t\t\t\t}, b.slideReset = function(e, a, t) {\n\t\t\t\t\treturn b.slideTo(b.activeIndex, a, e)\n\t\t\t\t}, b.setWrapperTransition = function(e, a) {\n\t\t\t\t\tb.wrapper.transition(e), \"slide\" !== b.params.effect && b.effects[b.params.effect] && b.effects[b.params.effect].setTransition(e), b.params.parallax && b.parallax && b.parallax.setTransition(e), b.params.scrollbar && b.scrollbar && b.scrollbar.setTransition(e), b.params.control && b.controller && b.controller.setTransition(e, a), b.emit(\"onSetTransition\", b, e)\n\t\t\t\t}, b.setWrapperTranslate = function(e, a, t) {\n\t\t\t\t\tvar r = 0,\n\t\t\t\t\t\ti = 0,\n\t\t\t\t\t\tn = 0;\n\t\t\t\t\tb.isHorizontal() ? r = b.rtl ? -e : e : i = e, b.params.roundLengths && (r = s(r), i = s(i)), b.params.virtualTranslate || (b.support.transforms3d ? b.wrapper.transform(\"translate3d(\" + r + \"px, \" + i + \"px, \" + n + \"px)\") : b.wrapper.transform(\"translate(\" + r + \"px, \" + i + \"px)\")), b.translate = b.isHorizontal() ? r : i;\n\t\t\t\t\tvar o, l = b.maxTranslate() - b.minTranslate();\n\t\t\t\t\to = 0 === l ? 0 : (e - b.minTranslate()) / l, o !== b.progress && b.updateProgress(e), a && b.updateActiveIndex(), \"slide\" !== b.params.effect && b.effects[b.params.effect] && b.effects[b.params.effect].setTranslate(b.translate), b.params.parallax && b.parallax && b.parallax.setTranslate(b.translate), b.params.scrollbar && b.scrollbar && b.scrollbar.setTranslate(b.translate), b.params.control && b.controller && b.controller.setTranslate(b.translate, t), b.emit(\"onSetTranslate\", b, b.translate)\n\t\t\t\t}, b.getTranslate = function(e, a) {\n\t\t\t\t\tvar t, r, i, s;\n\t\t\t\t\treturn \"undefined\" == typeof a && (a = \"x\"), b.params.virtualTranslate ? b.rtl ? -b.translate : b.translate : (i = window.getComputedStyle(e, null), window.WebKitCSSMatrix ? (r = i.transform || i.webkitTransform, r.split(\",\").length > 6 && (r = r.split(\", \").map(function(e) {\n\t\t\t\t\t\treturn e.replace(\",\", \".\")\n\t\t\t\t\t}).join(\", \")), s = new window.WebKitCSSMatrix(\"none\" === r ? \"\" : r)) : (s = i.MozTransform || i.OTransform || i.MsTransform || i.msTransform || i.transform || i.getPropertyValue(\"transform\").replace(\"translate(\", \"matrix(1, 0, 0, 1,\"), t = s.toString().split(\",\")), \"x\" === a && (r = window.WebKitCSSMatrix ? s.m41 : 16 === t.length ? parseFloat(t[12]) : parseFloat(t[4])), \"y\" === a && (r = window.WebKitCSSMatrix ? s.m42 : 16 === t.length ? parseFloat(t[13]) : parseFloat(t[5])), b.rtl && r && (r = -r), r || 0)\n\t\t\t\t}, b.getWrapperTranslate = function(e) {\n\t\t\t\t\treturn \"undefined\" == typeof e && (e = b.isHorizontal() ? \"x\" : \"y\"), b.getTranslate(b.wrapper[0], e)\n\t\t\t\t}, b.observers = [], b.initObservers = function() {\n\t\t\t\t\tif (b.params.observeParents)\n\t\t\t\t\t\tfor (var e = b.container.parents(), a = 0; a < e.length; a++) l(e[a]);\n\t\t\t\t\tl(b.container[0], {\n\t\t\t\t\t\tchildList: !1\n\t\t\t\t\t}), l(b.wrapper[0], {\n\t\t\t\t\t\tattributes: !1\n\t\t\t\t\t})\n\t\t\t\t}, b.disconnectObservers = function() {\n\t\t\t\t\tfor (var e = 0; e < b.observers.length; e++) b.observers[e].disconnect();\n\t\t\t\t\tb.observers = []\n\t\t\t\t}, b.createLoop = function() {\n\t\t\t\t\tb.wrapper.children(\".\" + b.params.slideClass + \".\" + b.params.slideDuplicateClass).remove();\n\t\t\t\t\tvar e = b.wrapper.children(\".\" + b.params.slideClass);\n\t\t\t\t\t\"auto\" !== b.params.slidesPerView || b.params.loopedSlides || (b.params.loopedSlides = e.length), b.loopedSlides = parseInt(b.params.loopedSlides || b.params.slidesPerView, 10), b.loopedSlides = b.loopedSlides + b.params.loopAdditionalSlides, b.loopedSlides > e.length && (b.loopedSlides = e.length);\n\t\t\t\t\tvar t, r = [],\n\t\t\t\t\t\ti = [];\n\t\t\t\t\tfor (e.each(function(t, s) {\n\t\t\t\t\t\t\tvar n = a(this);\n\t\t\t\t\t\t\tt < b.loopedSlides && i.push(s), t < e.length && t >= e.length - b.loopedSlides && r.push(s), n.attr(\"data-swiper-slide-index\", t)\n\t\t\t\t\t\t}), t = 0; t < i.length; t++) b.wrapper.append(a(i[t].cloneNode(!0)).addClass(b.params.slideDuplicateClass));\n\t\t\t\t\tfor (t = r.length - 1; t >= 0; t--) b.wrapper.prepend(a(r[t].cloneNode(!0)).addClass(b.params.slideDuplicateClass))\n\t\t\t\t}, b.destroyLoop = function() {\n\t\t\t\t\tb.wrapper.children(\".\" + b.params.slideClass + \".\" + b.params.slideDuplicateClass).remove(), b.slides.removeAttr(\"data-swiper-slide-index\")\n\t\t\t\t}, b.reLoop = function(e) {\n\t\t\t\t\tvar a = b.activeIndex - b.loopedSlides;\n\t\t\t\t\tb.destroyLoop(), b.createLoop(), b.updateSlidesSize(), e && b.slideTo(a + b.loopedSlides, 0, !1)\n\t\t\t\t}, b.fixLoop = function() {\n\t\t\t\t\tvar e;\n\t\t\t\t\tb.activeIndex < b.loopedSlides ? (e = b.slides.length - 3 * b.loopedSlides + b.activeIndex, e += b.loopedSlides, b.slideTo(e, 0, !1, !0)) : (\"auto\" === b.params.slidesPerView && b.activeIndex >= 2 * b.loopedSlides || b.activeIndex > b.slides.length - 2 * b.params.slidesPerView) && (e = -b.slides.length + b.activeIndex + b.loopedSlides, e += b.loopedSlides, b.slideTo(e, 0, !1, !0))\n\t\t\t\t}, b.appendSlide = function(e) {\n\t\t\t\t\tif (b.params.loop && b.destroyLoop(), \"object\" == typeof e && e.length)\n\t\t\t\t\t\tfor (var a = 0; a < e.length; a++) e[a] && b.wrapper.append(e[a]);\n\t\t\t\t\telse b.wrapper.append(e);\n\t\t\t\t\tb.params.loop && b.createLoop(), b.params.observer && b.support.observer || b.update(!0)\n\t\t\t\t}, b.prependSlide = function(e) {\n\t\t\t\t\tb.params.loop && b.destroyLoop();\n\t\t\t\t\tvar a = b.activeIndex + 1;\n\t\t\t\t\tif (\"object\" == typeof e && e.length) {\n\t\t\t\t\t\tfor (var t = 0; t < e.length; t++) e[t] && b.wrapper.prepend(e[t]);\n\t\t\t\t\t\ta = b.activeIndex + e.length\n\t\t\t\t\t} else b.wrapper.prepend(e);\n\t\t\t\t\tb.params.loop && b.createLoop(), b.params.observer && b.support.observer || b.update(!0), b.slideTo(a, 0, !1)\n\t\t\t\t}, b.removeSlide = function(e) {\n\t\t\t\t\tb.params.loop && (b.destroyLoop(), b.slides = b.wrapper.children(\".\" + b.params.slideClass));\n\t\t\t\t\tvar a, t = b.activeIndex;\n\t\t\t\t\tif (\"object\" == typeof e && e.length) {\n\t\t\t\t\t\tfor (var r = 0; r < e.length; r++) a = e[r], b.slides[a] && b.slides.eq(a).remove(), t > a && t--;\n\t\t\t\t\t\tt = Math.max(t, 0)\n\t\t\t\t\t} else a = e, b.slides[a] && b.slides.eq(a).remove(), t > a && t--, t = Math.max(t, 0);\n\t\t\t\t\tb.params.loop && b.createLoop(), b.params.observer && b.support.observer || b.update(!0), b.params.loop ? b.slideTo(t + b.loopedSlides, 0, !1) : b.slideTo(t, 0, !1)\n\t\t\t\t}, b.removeAllSlides = function() {\n\t\t\t\t\tfor (var e = [], a = 0; a < b.slides.length; a++) e.push(a);\n\t\t\t\t\tb.removeSlide(e)\n\t\t\t\t}, b.effects = {\n\t\t\t\t\tfade: {\n\t\t\t\t\t\tsetTranslate: function() {\n\t\t\t\t\t\t\tfor (var e = 0; e < b.slides.length; e++) {\n\t\t\t\t\t\t\t\tvar a = b.slides.eq(e),\n\t\t\t\t\t\t\t\t\tt = a[0].swiperSlideOffset,\n\t\t\t\t\t\t\t\t\tr = -t;\n\t\t\t\t\t\t\t\tb.params.virtualTranslate || (r -= b.translate);\n\t\t\t\t\t\t\t\tvar i = 0;\n\t\t\t\t\t\t\t\tb.isHorizontal() || (i = r, r = 0);\n\t\t\t\t\t\t\t\tvar s = b.params.fade.crossFade ? Math.max(1 - Math.abs(a[0].progress), 0) : 1 + Math.min(Math.max(a[0].progress, -1), 0);\n\t\t\t\t\t\t\t\ta.css({\n\t\t\t\t\t\t\t\t\topacity: s\n\t\t\t\t\t\t\t\t}).transform(\"translate3d(\" + r + \"px, \" + i + \"px, 0px)\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsetTransition: function(e) {\n\t\t\t\t\t\t\tif (b.slides.transition(e), b.params.virtualTranslate && 0 !== e) {\n\t\t\t\t\t\t\t\tvar a = !1;\n\t\t\t\t\t\t\t\tb.slides.transitionEnd(function() {\n\t\t\t\t\t\t\t\t\tif (!a && b) {\n\t\t\t\t\t\t\t\t\t\ta = !0, b.animating = !1;\n\t\t\t\t\t\t\t\t\t\tfor (var e = [\"webkitTransitionEnd\", \"transitionend\", \"oTransitionEnd\", \"MSTransitionEnd\", \"msTransitionEnd\"], t = 0; t < e.length; t++) b.wrapper.trigger(e[t])\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tflip: {\n\t\t\t\t\t\tsetTranslate: function() {\n\t\t\t\t\t\t\tfor (var e = 0; e < b.slides.length; e++) {\n\t\t\t\t\t\t\t\tvar t = b.slides.eq(e),\n\t\t\t\t\t\t\t\t\tr = t[0].progress;\n\t\t\t\t\t\t\t\tb.params.flip.limitRotation && (r = Math.max(Math.min(t[0].progress, 1), -1));\n\t\t\t\t\t\t\t\tvar i = t[0].swiperSlideOffset,\n\t\t\t\t\t\t\t\t\ts = -180 * r,\n\t\t\t\t\t\t\t\t\tn = s,\n\t\t\t\t\t\t\t\t\to = 0,\n\t\t\t\t\t\t\t\t\tl = -i,\n\t\t\t\t\t\t\t\t\tp = 0;\n\t\t\t\t\t\t\t\tif (b.isHorizontal() ? b.rtl && (n = -n) : (p = l, l = 0, o = -n, n = 0), t[0].style.zIndex = -Math.abs(Math.round(r)) + b.slides.length, b.params.flip.slideShadows) {\n\t\t\t\t\t\t\t\t\tvar d = b.isHorizontal() ? t.find(\".swiper-slide-shadow-left\") : t.find(\".swiper-slide-shadow-top\"),\n\t\t\t\t\t\t\t\t\t\tu = b.isHorizontal() ? t.find(\".swiper-slide-shadow-right\") : t.find(\".swiper-slide-shadow-bottom\");\n\t\t\t\t\t\t\t\t\t0 === d.length && (d = a('<div class=\"swiper-slide-shadow-' + (b.isHorizontal() ? \"left\" : \"top\") + '\"></div>'), t.append(d)), 0 === u.length && (u = a('<div class=\"swiper-slide-shadow-' + (b.isHorizontal() ? \"right\" : \"bottom\") + '\"></div>'), t.append(u)), d.length && (d[0].style.opacity = Math.max(-r, 0)), u.length && (u[0].style.opacity = Math.max(r, 0))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tt.transform(\"translate3d(\" + l + \"px, \" + p + \"px, 0px) rotateX(\" + o + \"deg) rotateY(\" + n + \"deg)\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsetTransition: function(e) {\n\t\t\t\t\t\t\tif (b.slides.transition(e).find(\".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left\").transition(e), b.params.virtualTranslate && 0 !== e) {\n\t\t\t\t\t\t\t\tvar t = !1;\n\t\t\t\t\t\t\t\tb.slides.eq(b.activeIndex).transitionEnd(function() {\n\t\t\t\t\t\t\t\t\tif (!t && b && a(this).hasClass(b.params.slideActiveClass)) {\n\t\t\t\t\t\t\t\t\t\tt = !0, b.animating = !1;\n\t\t\t\t\t\t\t\t\t\tfor (var e = [\"webkitTransitionEnd\", \"transitionend\", \"oTransitionEnd\", \"MSTransitionEnd\", \"msTransitionEnd\"], r = 0; r < e.length; r++) b.wrapper.trigger(e[r])\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcube: {\n\t\t\t\t\t\tsetTranslate: function() {\n\t\t\t\t\t\t\tvar e, t = 0;\n\t\t\t\t\t\t\tb.params.cube.shadow && (b.isHorizontal() ? (e = b.wrapper.find(\".swiper-cube-shadow\"), 0 === e.length && (e = a('<div class=\"swiper-cube-shadow\"></div>'), b.wrapper.append(e)), e.css({\n\t\t\t\t\t\t\t\theight: b.width + \"px\"\n\t\t\t\t\t\t\t})) : (e = b.container.find(\".swiper-cube-shadow\"), 0 === e.length && (e = a('<div class=\"swiper-cube-shadow\"></div>'), b.container.append(e))));\n\t\t\t\t\t\t\tfor (var r = 0; r < b.slides.length; r++) {\n\t\t\t\t\t\t\t\tvar i = b.slides.eq(r),\n\t\t\t\t\t\t\t\t\ts = 90 * r,\n\t\t\t\t\t\t\t\t\tn = Math.floor(s / 360);\n\t\t\t\t\t\t\t\tb.rtl && (s = -s, n = Math.floor(-s / 360));\n\t\t\t\t\t\t\t\tvar o = Math.max(Math.min(i[0].progress, 1), -1),\n\t\t\t\t\t\t\t\t\tl = 0,\n\t\t\t\t\t\t\t\t\tp = 0,\n\t\t\t\t\t\t\t\t\td = 0;\n\t\t\t\t\t\t\t\tr % 4 === 0 ? (l = 4 * -n * b.size, d = 0) : (r - 1) % 4 === 0 ? (l = 0, d = 4 * -n * b.size) : (r - 2) % 4 === 0 ? (l = b.size + 4 * n * b.size, d = b.size) : (r - 3) % 4 === 0 && (l = -b.size, d = 3 * b.size + 4 * b.size * n), b.rtl && (l = -l), b.isHorizontal() || (p = l, l = 0);\n\t\t\t\t\t\t\t\tvar u = \"rotateX(\" + (b.isHorizontal() ? 0 : -s) + \"deg) rotateY(\" + (b.isHorizontal() ? s : 0) + \"deg) translate3d(\" + l + \"px, \" + p + \"px, \" + d + \"px)\";\n\t\t\t\t\t\t\t\tif (1 >= o && o > -1 && (t = 90 * r + 90 * o, b.rtl && (t = 90 * -r - 90 * o)), i.transform(u), b.params.cube.slideShadows) {\n\t\t\t\t\t\t\t\t\tvar c = b.isHorizontal() ? i.find(\".swiper-slide-shadow-left\") : i.find(\".swiper-slide-shadow-top\"),\n\t\t\t\t\t\t\t\t\t\tm = b.isHorizontal() ? i.find(\".swiper-slide-shadow-right\") : i.find(\".swiper-slide-shadow-bottom\");\n\t\t\t\t\t\t\t\t\t0 === c.length && (c = a('<div class=\"swiper-slide-shadow-' + (b.isHorizontal() ? \"left\" : \"top\") + '\"></div>'), i.append(c)), 0 === m.length && (m = a('<div class=\"swiper-slide-shadow-' + (b.isHorizontal() ? \"right\" : \"bottom\") + '\"></div>'), i.append(m)), c.length && (c[0].style.opacity = Math.max(-o, 0)), m.length && (m[0].style.opacity = Math.max(o, 0))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (b.wrapper.css({\n\t\t\t\t\t\t\t\t\t\"-webkit-transform-origin\": \"50% 50% -\" + b.size / 2 + \"px\",\n\t\t\t\t\t\t\t\t\t\"-moz-transform-origin\": \"50% 50% -\" + b.size / 2 + \"px\",\n\t\t\t\t\t\t\t\t\t\"-ms-transform-origin\": \"50% 50% -\" + b.size / 2 + \"px\",\n\t\t\t\t\t\t\t\t\t\"transform-origin\": \"50% 50% -\" + b.size / 2 + \"px\"\n\t\t\t\t\t\t\t\t}), b.params.cube.shadow)\n\t\t\t\t\t\t\t\tif (b.isHorizontal()) e.transform(\"translate3d(0px, \" + (b.width / 2 + b.params.cube.shadowOffset) + \"px, \" + -b.width / 2 + \"px) rotateX(90deg) rotateZ(0deg) scale(\" + b.params.cube.shadowScale + \")\");\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tvar h = Math.abs(t) - 90 * Math.floor(Math.abs(t) / 90),\n\t\t\t\t\t\t\t\t\t\tf = 1.5 - (Math.sin(2 * h * Math.PI / 360) / 2 + Math.cos(2 * h * Math.PI / 360) / 2),\n\t\t\t\t\t\t\t\t\t\tg = b.params.cube.shadowScale,\n\t\t\t\t\t\t\t\t\t\tv = b.params.cube.shadowScale / f,\n\t\t\t\t\t\t\t\t\t\tw = b.params.cube.shadowOffset;\n\t\t\t\t\t\t\t\t\te.transform(\"scale3d(\" + g + \", 1, \" + v + \") translate3d(0px, \" + (b.height / 2 + w) + \"px, \" + -b.height / 2 / v + \"px) rotateX(-90deg)\")\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar y = b.isSafari || b.isUiWebView ? -b.size / 2 : 0;\n\t\t\t\t\t\t\tb.wrapper.transform(\"translate3d(0px,0,\" + y + \"px) rotateX(\" + (b.isHorizontal() ? 0 : t) + \"deg) rotateY(\" + (b.isHorizontal() ? -t : 0) + \"deg)\")\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsetTransition: function(e) {\n\t\t\t\t\t\t\tb.slides.transition(e).find(\".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left\").transition(e), b.params.cube.shadow && !b.isHorizontal() && b.container.find(\".swiper-cube-shadow\").transition(e)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcoverflow: {\n\t\t\t\t\t\tsetTranslate: function() {\n\t\t\t\t\t\t\tfor (var e = b.translate, t = b.isHorizontal() ? -e + b.width / 2 : -e + b.height / 2, r = b.isHorizontal() ? b.params.coverflow.rotate : -b.params.coverflow.rotate, i = b.params.coverflow.depth, s = 0, n = b.slides.length; n > s; s++) {\n\t\t\t\t\t\t\t\tvar o = b.slides.eq(s),\n\t\t\t\t\t\t\t\t\tl = b.slidesSizesGrid[s],\n\t\t\t\t\t\t\t\t\tp = o[0].swiperSlideOffset,\n\t\t\t\t\t\t\t\t\td = (t - p - l / 2) / l * b.params.coverflow.modifier,\n\t\t\t\t\t\t\t\t\tu = b.isHorizontal() ? r * d : 0,\n\t\t\t\t\t\t\t\t\tc = b.isHorizontal() ? 0 : r * d,\n\t\t\t\t\t\t\t\t\tm = -i * Math.abs(d),\n\t\t\t\t\t\t\t\t\th = b.isHorizontal() ? 0 : b.params.coverflow.stretch * d,\n\t\t\t\t\t\t\t\t\tf = b.isHorizontal() ? b.params.coverflow.stretch * d : 0;\n\t\t\t\t\t\t\t\tMath.abs(f) < .001 && (f = 0), Math.abs(h) < .001 && (h = 0), Math.abs(m) < .001 && (m = 0), Math.abs(u) < .001 && (u = 0), Math.abs(c) < .001 && (c = 0);\n\t\t\t\t\t\t\t\tvar g = \"translate3d(\" + f + \"px,\" + h + \"px,\" + m + \"px)  rotateX(\" + c + \"deg) rotateY(\" + u + \"deg)\";\n\t\t\t\t\t\t\t\tif (o.transform(g), o[0].style.zIndex = -Math.abs(Math.round(d)) + 1, b.params.coverflow.slideShadows) {\n\t\t\t\t\t\t\t\t\tvar v = b.isHorizontal() ? o.find(\".swiper-slide-shadow-left\") : o.find(\".swiper-slide-shadow-top\"),\n\t\t\t\t\t\t\t\t\t\tw = b.isHorizontal() ? o.find(\".swiper-slide-shadow-right\") : o.find(\".swiper-slide-shadow-bottom\");\n\t\t\t\t\t\t\t\t\t0 === v.length && (v = a('<div class=\"swiper-slide-shadow-' + (b.isHorizontal() ? \"left\" : \"top\") + '\"></div>'), o.append(v)), 0 === w.length && (w = a('<div class=\"swiper-slide-shadow-' + (b.isHorizontal() ? \"right\" : \"bottom\") + '\"></div>'), o.append(w)), v.length && (v[0].style.opacity = d > 0 ? d : 0), w.length && (w[0].style.opacity = -d > 0 ? -d : 0)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (b.browser.ie) {\n\t\t\t\t\t\t\t\tvar y = b.wrapper[0].style;\n\t\t\t\t\t\t\t\ty.perspectiveOrigin = t + \"px 50%\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsetTransition: function(e) {\n\t\t\t\t\t\t\tb.slides.transition(e).find(\".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left\").transition(e)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, b.lazy = {\n\t\t\t\t\tinitialImageLoaded: !1,\n\t\t\t\t\tloadImageInSlide: function(e, t) {\n\t\t\t\t\t\tif (\"undefined\" != typeof e && (\"undefined\" == typeof t && (t = !0), 0 !== b.slides.length)) {\n\t\t\t\t\t\t\tvar r = b.slides.eq(e),\n\t\t\t\t\t\t\t\ti = r.find(\".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)\");\n\t\t\t\t\t\t\t!r.hasClass(\"swiper-lazy\") || r.hasClass(\"swiper-lazy-loaded\") || r.hasClass(\"swiper-lazy-loading\") || (i = i.add(r[0])), 0 !== i.length && i.each(function() {\n\t\t\t\t\t\t\t\tvar e = a(this);\n\t\t\t\t\t\t\t\te.addClass(\"swiper-lazy-loading\");\n\t\t\t\t\t\t\t\tvar i = e.attr(\"data-background\"),\n\t\t\t\t\t\t\t\t\ts = e.attr(\"data-src\"),\n\t\t\t\t\t\t\t\t\tn = e.attr(\"data-srcset\");\n\t\t\t\t\t\t\t\tb.loadImage(e[0], s || i, n, !1, function() {\n\t\t\t\t\t\t\t\t\tif (i ? (e.css(\"background-image\", 'url(\"' + i + '\")'), e.removeAttr(\"data-background\")) : (n && (e.attr(\"srcset\", n), e.removeAttr(\"data-srcset\")), s && (e.attr(\"src\", s), e.removeAttr(\"data-src\"))), e.addClass(\"swiper-lazy-loaded\").removeClass(\"swiper-lazy-loading\"), r.find(\".swiper-lazy-preloader, .preloader\").remove(), b.params.loop && t) {\n\t\t\t\t\t\t\t\t\t\tvar a = r.attr(\"data-swiper-slide-index\");\n\t\t\t\t\t\t\t\t\t\tif (r.hasClass(b.params.slideDuplicateClass)) {\n\t\t\t\t\t\t\t\t\t\t\tvar o = b.wrapper.children('[data-swiper-slide-index=\"' + a + '\"]:not(.' + b.params.slideDuplicateClass + \")\");\n\t\t\t\t\t\t\t\t\t\t\tb.lazy.loadImageInSlide(o.index(), !1)\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tvar l = b.wrapper.children(\".\" + b.params.slideDuplicateClass + '[data-swiper-slide-index=\"' + a + '\"]');\n\t\t\t\t\t\t\t\t\t\t\tb.lazy.loadImageInSlide(l.index(), !1)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tb.emit(\"onLazyImageReady\", b, r[0], e[0])\n\t\t\t\t\t\t\t\t}), b.emit(\"onLazyImageLoad\", b, r[0], e[0])\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tload: function() {\n\t\t\t\t\t\tvar e;\n\t\t\t\t\t\tif (b.params.watchSlidesVisibility) b.wrapper.children(\".\" + b.params.slideVisibleClass).each(function() {\n\t\t\t\t\t\t\tb.lazy.loadImageInSlide(a(this).index())\n\t\t\t\t\t\t});\n\t\t\t\t\t\telse if (b.params.slidesPerView > 1)\n\t\t\t\t\t\t\tfor (e = b.activeIndex; e < b.activeIndex + b.params.slidesPerView; e++) b.slides[e] && b.lazy.loadImageInSlide(e);\n\t\t\t\t\t\telse b.lazy.loadImageInSlide(b.activeIndex);\n\t\t\t\t\t\tif (b.params.lazyLoadingInPrevNext)\n\t\t\t\t\t\t\tif (b.params.slidesPerView > 1 || b.params.lazyLoadingInPrevNextAmount && b.params.lazyLoadingInPrevNextAmount > 1) {\n\t\t\t\t\t\t\t\tvar t = b.params.lazyLoadingInPrevNextAmount,\n\t\t\t\t\t\t\t\t\tr = b.params.slidesPerView,\n\t\t\t\t\t\t\t\t\ti = Math.min(b.activeIndex + r + Math.max(t, r), b.slides.length),\n\t\t\t\t\t\t\t\t\ts = Math.max(b.activeIndex - Math.max(r, t), 0);\n\t\t\t\t\t\t\t\tfor (e = b.activeIndex + b.params.slidesPerView; i > e; e++) b.slides[e] && b.lazy.loadImageInSlide(e);\n\t\t\t\t\t\t\t\tfor (e = s; e < b.activeIndex; e++) b.slides[e] && b.lazy.loadImageInSlide(e)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar n = b.wrapper.children(\".\" + b.params.slideNextClass);\n\t\t\t\t\t\t\t\tn.length > 0 && b.lazy.loadImageInSlide(n.index());\n\t\t\t\t\t\t\t\tvar o = b.wrapper.children(\".\" + b.params.slidePrevClass);\n\t\t\t\t\t\t\t\to.length > 0 && b.lazy.loadImageInSlide(o.index())\n\t\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tonTransitionStart: function() {\n\t\t\t\t\t\tb.params.lazyLoading && (b.params.lazyLoadingOnTransitionStart || !b.params.lazyLoadingOnTransitionStart && !b.lazy.initialImageLoaded) && b.lazy.load()\n\t\t\t\t\t},\n\t\t\t\t\tonTransitionEnd: function() {\n\t\t\t\t\t\tb.params.lazyLoading && !b.params.lazyLoadingOnTransitionStart && b.lazy.load()\n\t\t\t\t\t}\n\t\t\t\t}, b.scrollbar = {\n\t\t\t\t\tisTouched: !1,\n\t\t\t\t\tsetDragPosition: function(e) {\n\t\t\t\t\t\tvar a = b.scrollbar,\n\t\t\t\t\t\t\tt = b.isHorizontal() ? \"touchstart\" === e.type || \"touchmove\" === e.type ? e.targetTouches[0].pageX : e.pageX || e.clientX : \"touchstart\" === e.type || \"touchmove\" === e.type ? e.targetTouches[0].pageY : e.pageY || e.clientY,\n\t\t\t\t\t\t\tr = t - a.track.offset()[b.isHorizontal() ? \"left\" : \"top\"] - a.dragSize / 2,\n\t\t\t\t\t\t\ti = -b.minTranslate() * a.moveDivider,\n\t\t\t\t\t\t\ts = -b.maxTranslate() * a.moveDivider;\n\t\t\t\t\t\ti > r ? r = i : r > s && (r = s), r = -r / a.moveDivider, b.updateProgress(r), b.setWrapperTranslate(r, !0)\n\t\t\t\t\t},\n\t\t\t\t\tdragStart: function(e) {\n\t\t\t\t\t\tvar a = b.scrollbar;\n\t\t\t\t\t\ta.isTouched = !0, e.preventDefault(), e.stopPropagation(), a.setDragPosition(e), clearTimeout(a.dragTimeout), a.track.transition(0), b.params.scrollbarHide && a.track.css(\"opacity\", 1), b.wrapper.transition(100), a.drag.transition(100), b.emit(\"onScrollbarDragStart\", b)\n\t\t\t\t\t},\n\t\t\t\t\tdragMove: function(e) {\n\t\t\t\t\t\tvar a = b.scrollbar;\n\t\t\t\t\t\ta.isTouched && (e.preventDefault ? e.preventDefault() : e.returnValue = !1, a.setDragPosition(e), b.wrapper.transition(0), a.track.transition(0), a.drag.transition(0), b.emit(\"onScrollbarDragMove\", b))\n\t\t\t\t\t},\n\t\t\t\t\tdragEnd: function(e) {\n\t\t\t\t\t\tvar a = b.scrollbar;\n\t\t\t\t\t\ta.isTouched && (a.isTouched = !1, b.params.scrollbarHide && (clearTimeout(a.dragTimeout), a.dragTimeout = setTimeout(function() {\n\t\t\t\t\t\t\ta.track.css(\"opacity\", 0), a.track.transition(400)\n\t\t\t\t\t\t}, 1e3)), b.emit(\"onScrollbarDragEnd\", b), b.params.scrollbarSnapOnRelease && b.slideReset())\n\t\t\t\t\t},\n\t\t\t\t\tenableDraggable: function() {\n\t\t\t\t\t\tvar e = b.scrollbar,\n\t\t\t\t\t\t\tt = b.support.touch ? e.track : document;\n\t\t\t\t\t\ta(e.track).on(b.touchEvents.start, e.dragStart), a(t).on(b.touchEvents.move, e.dragMove), a(t).on(b.touchEvents.end, e.dragEnd)\n\t\t\t\t\t},\n\t\t\t\t\tdisableDraggable: function() {\n\t\t\t\t\t\tvar e = b.scrollbar,\n\t\t\t\t\t\t\tt = b.support.touch ? e.track : document;\n\t\t\t\t\t\ta(e.track).off(b.touchEvents.start, e.dragStart), a(t).off(b.touchEvents.move, e.dragMove), a(t).off(b.touchEvents.end, e.dragEnd)\n\t\t\t\t\t},\n\t\t\t\t\tset: function() {\n\t\t\t\t\t\tif (b.params.scrollbar) {\n\t\t\t\t\t\t\tvar e = b.scrollbar;\n\t\t\t\t\t\t\te.track = a(b.params.scrollbar), b.params.uniqueNavElements && \"string\" == typeof b.params.scrollbar && e.track.length > 1 && 1 === b.container.find(b.params.scrollbar).length && (e.track = b.container.find(b.params.scrollbar)), e.drag = e.track.find(\".swiper-scrollbar-drag\"), 0 === e.drag.length && (e.drag = a('<div class=\"swiper-scrollbar-drag\"></div>'), e.track.append(e.drag)), e.drag[0].style.width = \"\", e.drag[0].style.height = \"\", e.trackSize = b.isHorizontal() ? e.track[0].offsetWidth : e.track[0].offsetHeight, e.divider = b.size / b.virtualSize, e.moveDivider = e.divider * (e.trackSize / b.size), e.dragSize = e.trackSize * e.divider, b.isHorizontal() ? e.drag[0].style.width = e.dragSize + \"px\" : e.drag[0].style.height = e.dragSize + \"px\", e.divider >= 1 ? e.track[0].style.display = \"none\" : e.track[0].style.display = \"\", b.params.scrollbarHide && (e.track[0].style.opacity = 0)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsetTranslate: function() {\n\t\t\t\t\t\tif (b.params.scrollbar) {\n\t\t\t\t\t\t\tvar e, a = b.scrollbar,\n\t\t\t\t\t\t\t\tt = (b.translate || 0, a.dragSize);\n\t\t\t\t\t\t\te = (a.trackSize - a.dragSize) * b.progress, b.rtl && b.isHorizontal() ? (e = -e, e > 0 ? (t = a.dragSize - e, e = 0) : -e + a.dragSize > a.trackSize && (t = a.trackSize + e)) : 0 > e ? (t = a.dragSize + e, e = 0) : e + a.dragSize > a.trackSize && (t = a.trackSize - e), b.isHorizontal() ? (b.support.transforms3d ? a.drag.transform(\"translate3d(\" + e + \"px, 0, 0)\") : a.drag.transform(\"translateX(\" + e + \"px)\"), a.drag[0].style.width = t + \"px\") : (b.support.transforms3d ? a.drag.transform(\"translate3d(0px, \" + e + \"px, 0)\") : a.drag.transform(\"translateY(\" + e + \"px)\"), a.drag[0].style.height = t + \"px\"), b.params.scrollbarHide && (clearTimeout(a.timeout), a.track[0].style.opacity = 1, a.timeout = setTimeout(function() {\n\t\t\t\t\t\t\t\ta.track[0].style.opacity = 0, a.track.transition(400)\n\t\t\t\t\t\t\t}, 1e3))\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsetTransition: function(e) {\n\t\t\t\t\t\tb.params.scrollbar && b.scrollbar.drag.transition(e)\n\t\t\t\t\t}\n\t\t\t\t}, b.controller = {\n\t\t\t\t\tLinearSpline: function(e, a) {\n\t\t\t\t\t\tthis.x = e, this.y = a, this.lastIndex = e.length - 1;\n\t\t\t\t\t\tvar t, r;\n\t\t\t\t\t\tthis.x.length;\n\t\t\t\t\t\tthis.interpolate = function(e) {\n\t\t\t\t\t\t\treturn e ? (r = i(this.x, e), t = r - 1, (e - this.x[t]) * (this.y[r] - this.y[t]) / (this.x[r] - this.x[t]) + this.y[t]) : 0\n\t\t\t\t\t\t};\n\t\t\t\t\t\tvar i = function() {\n\t\t\t\t\t\t\tvar e, a, t;\n\t\t\t\t\t\t\treturn function(r, i) {\n\t\t\t\t\t\t\t\tfor (a = -1, e = r.length; e - a > 1;) r[t = e + a >> 1] <= i ? a = t : e = t;\n\t\t\t\t\t\t\t\treturn e\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}()\n\t\t\t\t\t},\n\t\t\t\t\tgetInterpolateFunction: function(e) {\n\t\t\t\t\t\tb.controller.spline || (b.controller.spline = b.params.loop ? new b.controller.LinearSpline(b.slidesGrid, e.slidesGrid) : new b.controller.LinearSpline(b.snapGrid, e.snapGrid))\n\t\t\t\t\t},\n\t\t\t\t\tsetTranslate: function(e, a) {\n\t\t\t\t\t\tfunction r(a) {\n\t\t\t\t\t\t\te = a.rtl && \"horizontal\" === a.params.direction ? -b.translate : b.translate, \"slide\" === b.params.controlBy && (b.controller.getInterpolateFunction(a), s = -b.controller.spline.interpolate(-e)), s && \"container\" !== b.params.controlBy || (i = (a.maxTranslate() - a.minTranslate()) / (b.maxTranslate() - b.minTranslate()), s = (e - b.minTranslate()) * i + a.minTranslate()), b.params.controlInverse && (s = a.maxTranslate() - s), a.updateProgress(s), a.setWrapperTranslate(s, !1, b), a.updateActiveIndex()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar i, s, n = b.params.control;\n\t\t\t\t\t\tif (b.isArray(n))\n\t\t\t\t\t\t\tfor (var o = 0; o < n.length; o++) n[o] !== a && n[o] instanceof t && r(n[o]);\n\t\t\t\t\t\telse n instanceof t && a !== n && r(n)\n\t\t\t\t\t},\n\t\t\t\t\tsetTransition: function(e, a) {\n\t\t\t\t\t\tfunction r(a) {\n\t\t\t\t\t\t\ta.setWrapperTransition(e, b), 0 !== e && (a.onTransitionStart(), a.wrapper.transitionEnd(function() {\n\t\t\t\t\t\t\t\ts && (a.params.loop && \"slide\" === b.params.controlBy && a.fixLoop(), a.onTransitionEnd())\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar i, s = b.params.control;\n\t\t\t\t\t\tif (b.isArray(s))\n\t\t\t\t\t\t\tfor (i = 0; i < s.length; i++) s[i] !== a && s[i] instanceof t && r(s[i]);\n\t\t\t\t\t\telse s instanceof t && a !== s && r(s)\n\t\t\t\t\t}\n\t\t\t\t}, b.hashnav = {\n\t\t\t\t\tinit: function() {\n\t\t\t\t\t\tif (b.params.hashnav) {\n\t\t\t\t\t\t\tb.hashnav.initialized = !0;\n\t\t\t\t\t\t\tvar e = document.location.hash.replace(\"#\", \"\");\n\t\t\t\t\t\t\tif (e)\n\t\t\t\t\t\t\t\tfor (var a = 0, t = 0, r = b.slides.length; r > t; t++) {\n\t\t\t\t\t\t\t\t\tvar i = b.slides.eq(t),\n\t\t\t\t\t\t\t\t\t\ts = i.attr(\"data-hash\");\n\t\t\t\t\t\t\t\t\tif (s === e && !i.hasClass(b.params.slideDuplicateClass)) {\n\t\t\t\t\t\t\t\t\t\tvar n = i.index();\n\t\t\t\t\t\t\t\t\t\tb.slideTo(n, a, b.params.runCallbacksOnInit, !0)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsetHash: function() {\n\t\t\t\t\t\tb.hashnav.initialized && b.params.hashnav && (document.location.hash = b.slides.eq(b.activeIndex).attr(\"data-hash\") || \"\")\n\t\t\t\t\t}\n\t\t\t\t}, b.disableKeyboardControl = function() {\n\t\t\t\t\tb.params.keyboardControl = !1, a(document).off(\"keydown\", p)\n\t\t\t\t}, b.enableKeyboardControl = function() {\n\t\t\t\t\tb.params.keyboardControl = !0, a(document).on(\"keydown\", p)\n\t\t\t\t}, b.mousewheel = {\n\t\t\t\t\tevent: !1,\n\t\t\t\t\tlastScrollTime: (new window.Date).getTime()\n\t\t\t\t}, b.params.mousewheelControl) {\n\t\t\t\ttry {\n\t\t\t\t\tnew window.WheelEvent(\"wheel\"), b.mousewheel.event = \"wheel\"\n\t\t\t\t} catch (N) {\n\t\t\t\t\t(window.WheelEvent || b.container[0] && \"wheel\" in b.container[0]) && (b.mousewheel.event = \"wheel\")\n\t\t\t\t}!b.mousewheel.event && window.WheelEvent, b.mousewheel.event || void 0 === document.onmousewheel || (b.mousewheel.event = \"mousewheel\"), b.mousewheel.event || (b.mousewheel.event = \"DOMMouseScroll\")\n\t\t\t}\n\t\t\tb.disableMousewheelControl = function() {\n\t\t\t\treturn b.mousewheel.event ? (b.container.off(b.mousewheel.event, d), !0) : !1\n\t\t\t}, b.enableMousewheelControl = function() {\n\t\t\t\treturn b.mousewheel.event ? (b.container.on(b.mousewheel.event, d), !0) : !1\n\t\t\t}, b.parallax = {\n\t\t\t\tsetTranslate: function() {\n\t\t\t\t\tb.container.children(\"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]\").each(function() {\n\t\t\t\t\t\tu(this, b.progress)\n\t\t\t\t\t}), b.slides.each(function() {\n\t\t\t\t\t\tvar e = a(this);\n\t\t\t\t\t\te.find(\"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]\").each(function() {\n\t\t\t\t\t\t\tvar a = Math.min(Math.max(e[0].progress, -1), 1);\n\t\t\t\t\t\t\tu(this, a)\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tsetTransition: function(e) {\n\t\t\t\t\t\"undefined\" == typeof e && (e = b.params.speed), b.container.find(\"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]\").each(function() {\n\t\t\t\t\t\tvar t = a(this),\n\t\t\t\t\t\t\tr = parseInt(t.attr(\"data-swiper-parallax-duration\"), 10) || e;\n\t\t\t\t\t\t0 === e && (r = 0), t.transition(r)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}, b._plugins = [];\n\t\t\tfor (var R in b.plugins) {\n\t\t\t\tvar W = b.plugins[R](b, b.params[R]);\n\t\t\t\tW && b._plugins.push(W)\n\t\t\t}\n\t\t\treturn b.callPlugins = function(e) {\n\t\t\t\tfor (var a = 0; a < b._plugins.length; a++) e in b._plugins[a] && b._plugins[a][e](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5])\n\t\t\t}, b.emitterEventListeners = {}, b.emit = function(e) {\n\t\t\t\tb.params[e] && b.params[e](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n\t\t\t\tvar a;\n\t\t\t\tif (b.emitterEventListeners[e])\n\t\t\t\t\tfor (a = 0; a < b.emitterEventListeners[e].length; a++) b.emitterEventListeners[e][a](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n\t\t\t\tb.callPlugins && b.callPlugins(e, arguments[1], arguments[2], arguments[3], arguments[4], arguments[5])\n\t\t\t}, b.on = function(e, a) {\n\t\t\t\treturn e = c(e), b.emitterEventListeners[e] || (b.emitterEventListeners[e] = []), b.emitterEventListeners[e].push(a), b\n\t\t\t}, b.off = function(e, a) {\n\t\t\t\tvar t;\n\t\t\t\tif (e = c(e), \"undefined\" == typeof a) return b.emitterEventListeners[e] = [], b;\n\t\t\t\tif (b.emitterEventListeners[e] && 0 !== b.emitterEventListeners[e].length) {\n\t\t\t\t\tfor (t = 0; t < b.emitterEventListeners[e].length; t++) b.emitterEventListeners[e][t] === a && b.emitterEventListeners[e].splice(t, 1);\n\t\t\t\t\treturn b\n\t\t\t\t}\n\t\t\t}, b.once = function(e, a) {\n\t\t\t\te = c(e);\n\t\t\t\tvar t = function() {\n\t\t\t\t\ta(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]), b.off(e, t)\n\t\t\t\t};\n\t\t\t\treturn b.on(e, t), b\n\t\t\t}, b.a11y = {\n\t\t\t\tmakeFocusable: function(e) {\n\t\t\t\t\treturn e.attr(\"tabIndex\", \"0\"), e\n\t\t\t\t},\n\t\t\t\taddRole: function(e, a) {\n\t\t\t\t\treturn e.attr(\"role\", a), e\n\t\t\t\t},\n\t\t\t\taddLabel: function(e, a) {\n\t\t\t\t\treturn e.attr(\"aria-label\", a), e\n\t\t\t\t},\n\t\t\t\tdisable: function(e) {\n\t\t\t\t\treturn e.attr(\"aria-disabled\", !0), e\n\t\t\t\t},\n\t\t\t\tenable: function(e) {\n\t\t\t\t\treturn e.attr(\"aria-disabled\", !1), e\n\t\t\t\t},\n\t\t\t\tonEnterKey: function(e) {\n\t\t\t\t\t13 === e.keyCode && (a(e.target).is(b.params.nextButton) ? (b.onClickNext(e), b.isEnd ? b.a11y.notify(b.params.lastSlideMessage) : b.a11y.notify(b.params.nextSlideMessage)) : a(e.target).is(b.params.prevButton) && (b.onClickPrev(e), b.isBeginning ? b.a11y.notify(b.params.firstSlideMessage) : b.a11y.notify(b.params.prevSlideMessage)), a(e.target).is(\".\" + b.params.bulletClass) && a(e.target)[0].click())\n\t\t\t\t},\n\t\t\t\tliveRegion: a('<span class=\"swiper-notification\" aria-live=\"assertive\" aria-atomic=\"true\"></span>'),\n\t\t\t\tnotify: function(e) {\n\t\t\t\t\tvar a = b.a11y.liveRegion;\n\t\t\t\t\t0 !== a.length && (a.html(\"\"), a.html(e))\n\t\t\t\t},\n\t\t\t\tinit: function() {\n\t\t\t\t\tb.params.nextButton && b.nextButton && b.nextButton.length > 0 && (b.a11y.makeFocusable(b.nextButton), b.a11y.addRole(b.nextButton, \"button\"), b.a11y.addLabel(b.nextButton, b.params.nextSlideMessage)), b.params.prevButton && b.prevButton && b.prevButton.length > 0 && (b.a11y.makeFocusable(b.prevButton), b.a11y.addRole(b.prevButton, \"button\"), b.a11y.addLabel(b.prevButton, b.params.prevSlideMessage)), a(b.container).append(b.a11y.liveRegion)\n\t\t\t\t},\n\t\t\t\tinitPagination: function() {\n\t\t\t\t\tb.params.pagination && b.params.paginationClickable && b.bullets && b.bullets.length && b.bullets.each(function() {\n\t\t\t\t\t\tvar e = a(this);\n\t\t\t\t\t\tb.a11y.makeFocusable(e), b.a11y.addRole(e, \"button\"), b.a11y.addLabel(e, b.params.paginationBulletMessage.replace(/{{index}}/, e.index() + 1))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tdestroy: function() {\n\t\t\t\t\tb.a11y.liveRegion && b.a11y.liveRegion.length > 0 && b.a11y.liveRegion.remove()\n\t\t\t\t}\n\t\t\t}, b.init = function() {\n\t\t\t\tb.params.loop && b.createLoop(), b.updateContainerSize(), b.updateSlidesSize(), b.updatePagination(), b.params.scrollbar && b.scrollbar && (b.scrollbar.set(), b.params.scrollbarDraggable && b.scrollbar.enableDraggable()), \"slide\" !== b.params.effect && b.effects[b.params.effect] && (b.params.loop || b.updateProgress(), b.effects[b.params.effect].setTranslate()), b.params.loop ? b.slideTo(b.params.initialSlide + b.loopedSlides, 0, b.params.runCallbacksOnInit) : (b.slideTo(b.params.initialSlide, 0, b.params.runCallbacksOnInit), 0 === b.params.initialSlide && (b.parallax && b.params.parallax && b.parallax.setTranslate(), b.lazy && b.params.lazyLoading && (b.lazy.load(), b.lazy.initialImageLoaded = !0))), b.attachEvents(), b.params.observer && b.support.observer && b.initObservers(), b.params.preloadImages && !b.params.lazyLoading && b.preloadImages(), b.params.autoplay && b.startAutoplay(), b.params.keyboardControl && b.enableKeyboardControl && b.enableKeyboardControl(), b.params.mousewheelControl && b.enableMousewheelControl && b.enableMousewheelControl(),\n\t\t\t\t\tb.params.hashnav && b.hashnav && b.hashnav.init(), b.params.a11y && b.a11y && b.a11y.init(), b.emit(\"onInit\", b)\n\t\t\t}, b.cleanupStyles = function() {\n\t\t\t\tb.container.removeClass(b.classNames.join(\" \")).removeAttr(\"style\"), b.wrapper.removeAttr(\"style\"), b.slides && b.slides.length && b.slides.removeClass([b.params.slideVisibleClass, b.params.slideActiveClass, b.params.slideNextClass, b.params.slidePrevClass].join(\" \")).removeAttr(\"style\").removeAttr(\"data-swiper-column\").removeAttr(\"data-swiper-row\"), b.paginationContainer && b.paginationContainer.length && b.paginationContainer.removeClass(b.params.paginationHiddenClass), b.bullets && b.bullets.length && b.bullets.removeClass(b.params.bulletActiveClass), b.params.prevButton && a(b.params.prevButton).removeClass(b.params.buttonDisabledClass), b.params.nextButton && a(b.params.nextButton).removeClass(b.params.buttonDisabledClass), b.params.scrollbar && b.scrollbar && (b.scrollbar.track && b.scrollbar.track.length && b.scrollbar.track.removeAttr(\"style\"), b.scrollbar.drag && b.scrollbar.drag.length && b.scrollbar.drag.removeAttr(\"style\"))\n\t\t\t}, b.destroy = function(e, a) {\n\t\t\t\tb.detachEvents(), b.stopAutoplay(), b.params.scrollbar && b.scrollbar && b.params.scrollbarDraggable && b.scrollbar.disableDraggable(), b.params.loop && b.destroyLoop(), a && b.cleanupStyles(), b.disconnectObservers(), b.params.keyboardControl && b.disableKeyboardControl && b.disableKeyboardControl(), b.params.mousewheelControl && b.disableMousewheelControl && b.disableMousewheelControl(), b.params.a11y && b.a11y && b.a11y.destroy(), b.emit(\"onDestroy\"), e !== !1 && (b = null)\n\t\t\t}, b.init(), b\n\t\t}\n\t};\n\tt.prototype = {\n\t\tisSafari: function() {\n\t\t\tvar e = navigator.userAgent.toLowerCase();\n\t\t\treturn e.indexOf(\"safari\") >= 0 && e.indexOf(\"chrome\") < 0 && e.indexOf(\"android\") < 0\n\t\t}(),\n\t\tisUiWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),\n\t\tisArray: function(e) {\n\t\t\treturn \"[object Array]\" === Object.prototype.toString.apply(e)\n\t\t},\n\t\tbrowser: {\n\t\t\tie: window.navigator.pointerEnabled || window.navigator.msPointerEnabled,\n\t\t\tieTouch: window.navigator.msPointerEnabled && window.navigator.msMaxTouchPoints > 1 || window.navigator.pointerEnabled && window.navigator.maxTouchPoints > 1\n\t\t},\n\t\tdevice: function() {\n\t\t\tvar e = navigator.userAgent,\n\t\t\t\ta = e.match(/(Android);?[\\s\\/]+([\\d.]+)?/),\n\t\t\t\tt = e.match(/(iPad).*OS\\s([\\d_]+)/),\n\t\t\t\tr = e.match(/(iPod)(.*OS\\s([\\d_]+))?/),\n\t\t\t\ti = !t && e.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n\t\t\treturn {\n\t\t\t\tios: t || i || r,\n\t\t\t\tandroid: a\n\t\t\t}\n\t\t}(),\n\t\tsupport: {\n\t\t\ttouch: window.Modernizr && Modernizr.touch === !0 || function() {\n\t\t\t\treturn !!(\"ontouchstart\" in window || window.DocumentTouch && document instanceof DocumentTouch)\n\t\t\t}(),\n\t\t\ttransforms3d: window.Modernizr && Modernizr.csstransforms3d === !0 || function() {\n\t\t\t\tvar e = document.createElement(\"div\").style;\n\t\t\t\treturn \"webkitPerspective\" in e || \"MozPerspective\" in e || \"OPerspective\" in e || \"MsPerspective\" in e || \"perspective\" in e\n\t\t\t}(),\n\t\t\tflexbox: function() {\n\t\t\t\tfor (var e = document.createElement(\"div\").style, a = \"alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient\".split(\" \"), t = 0; t < a.length; t++)\n\t\t\t\t\tif (a[t] in e) return !0\n\t\t\t}(),\n\t\t\tobserver: function() {\n\t\t\t\treturn \"MutationObserver\" in window || \"WebkitMutationObserver\" in window\n\t\t\t}()\n\t\t},\n\t\tplugins: {}\n\t};\n\tfor (var r = (function() {\n\t\t\tvar e = function(e) {\n\t\t\t\t\tvar a = this,\n\t\t\t\t\t\tt = 0;\n\t\t\t\t\tfor (t = 0; t < e.length; t++) a[t] = e[t];\n\t\t\t\t\treturn a.length = e.length, this\n\t\t\t\t},\n\t\t\t\ta = function(a, t) {\n\t\t\t\t\tvar r = [],\n\t\t\t\t\t\ti = 0;\n\t\t\t\t\tif (a && !t && a instanceof e) return a;\n\t\t\t\t\tif (a)\n\t\t\t\t\t\tif (\"string\" == typeof a) {\n\t\t\t\t\t\t\tvar s, n, o = a.trim();\n\t\t\t\t\t\t\tif (o.indexOf(\"<\") >= 0 && o.indexOf(\">\") >= 0) {\n\t\t\t\t\t\t\t\tvar l = \"div\";\n\t\t\t\t\t\t\t\tfor (0 === o.indexOf(\"<li\") && (l = \"ul\"), 0 === o.indexOf(\"<tr\") && (l = \"tbody\"), (0 === o.indexOf(\"<td\") || 0 === o.indexOf(\"<th\")) && (l = \"tr\"), 0 === o.indexOf(\"<tbody\") && (l = \"table\"), 0 === o.indexOf(\"<option\") && (l = \"select\"), n = document.createElement(l), n.innerHTML = a, i = 0; i < n.childNodes.length; i++) r.push(n.childNodes[i])\n\t\t\t\t\t\t\t} else\n\t\t\t\t\t\t\t\tfor (s = t || \"#\" !== a[0] || a.match(/[ .<>:~]/) ? (t || document).querySelectorAll(a) : [document.getElementById(a.split(\"#\")[1])], i = 0; i < s.length; i++) s[i] && r.push(s[i])\n\t\t\t\t\t\t} else if (a.nodeType || a === window || a === document) r.push(a);\n\t\t\t\t\telse if (a.length > 0 && a[0].nodeType)\n\t\t\t\t\t\tfor (i = 0; i < a.length; i++) r.push(a[i]);\n\t\t\t\t\treturn new e(r)\n\t\t\t\t};\n\t\t\treturn e.prototype = {\n\t\t\t\taddClass: function(e) {\n\t\t\t\t\tif (\"undefined\" == typeof e) return this;\n\t\t\t\t\tfor (var a = e.split(\" \"), t = 0; t < a.length; t++)\n\t\t\t\t\t\tfor (var r = 0; r < this.length; r++) this[r].classList.add(a[t]);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\tremoveClass: function(e) {\n\t\t\t\t\tfor (var a = e.split(\" \"), t = 0; t < a.length; t++)\n\t\t\t\t\t\tfor (var r = 0; r < this.length; r++) this[r].classList.remove(a[t]);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\thasClass: function(e) {\n\t\t\t\t\treturn this[0] ? this[0].classList.contains(e) : !1\n\t\t\t\t},\n\t\t\t\ttoggleClass: function(e) {\n\t\t\t\t\tfor (var a = e.split(\" \"), t = 0; t < a.length; t++)\n\t\t\t\t\t\tfor (var r = 0; r < this.length; r++) this[r].classList.toggle(a[t]);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\tattr: function(e, a) {\n\t\t\t\t\tif (1 === arguments.length && \"string\" == typeof e) return this[0] ? this[0].getAttribute(e) : void 0;\n\t\t\t\t\tfor (var t = 0; t < this.length; t++)\n\t\t\t\t\t\tif (2 === arguments.length) this[t].setAttribute(e, a);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tfor (var r in e) this[t][r] = e[r], this[t].setAttribute(r, e[r]);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\tremoveAttr: function(e) {\n\t\t\t\t\tfor (var a = 0; a < this.length; a++) this[a].removeAttribute(e);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\tdata: function(e, a) {\n\t\t\t\t\tif (\"undefined\" != typeof a) {\n\t\t\t\t\t\tfor (var t = 0; t < this.length; t++) {\n\t\t\t\t\t\t\tvar r = this[t];\n\t\t\t\t\t\t\tr.dom7ElementDataStorage || (r.dom7ElementDataStorage = {}), r.dom7ElementDataStorage[e] = a\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn this\n\t\t\t\t\t}\n\t\t\t\t\tif (this[0]) {\n\t\t\t\t\t\tvar i = this[0].getAttribute(\"data-\" + e);\n\t\t\t\t\t\treturn i ? i : this[0].dom7ElementDataStorage && e in this[0].dom7ElementDataStorage ? this[0].dom7ElementDataStorage[e] : void 0\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttransform: function(e) {\n\t\t\t\t\tfor (var a = 0; a < this.length; a++) {\n\t\t\t\t\t\tvar t = this[a].style;\n\t\t\t\t\t\tt.webkitTransform = t.MsTransform = t.msTransform = t.MozTransform = t.OTransform = t.transform = e\n\t\t\t\t\t}\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\ttransition: function(e) {\n\t\t\t\t\t\"string\" != typeof e && (e += \"ms\");\n\t\t\t\t\tfor (var a = 0; a < this.length; a++) {\n\t\t\t\t\t\tvar t = this[a].style;\n\t\t\t\t\t\tt.webkitTransitionDuration = t.MsTransitionDuration = t.msTransitionDuration = t.MozTransitionDuration = t.OTransitionDuration = t.transitionDuration = e\n\t\t\t\t\t}\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\ton: function(e, t, r, i) {\n\t\t\t\t\tfunction s(e) {\n\t\t\t\t\t\tvar i = e.target;\n\t\t\t\t\t\tif (a(i).is(t)) r.call(i, e);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tfor (var s = a(i).parents(), n = 0; n < s.length; n++) a(s[n]).is(t) && r.call(s[n], e)\n\t\t\t\t\t}\n\t\t\t\t\tvar n, o, l = e.split(\" \");\n\t\t\t\t\tfor (n = 0; n < this.length; n++)\n\t\t\t\t\t\tif (\"function\" == typeof t || t === !1)\n\t\t\t\t\t\t\tfor (\"function\" == typeof t && (r = arguments[1], i = arguments[2] || !1), o = 0; o < l.length; o++) this[n].addEventListener(l[o], r, i);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tfor (o = 0; o < l.length; o++) this[n].dom7LiveListeners || (this[n].dom7LiveListeners = []), this[n].dom7LiveListeners.push({\n\t\t\t\t\t\t\t\tlistener: r,\n\t\t\t\t\t\t\t\tliveListener: s\n\t\t\t\t\t\t\t}), this[n].addEventListener(l[o], s, i);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\toff: function(e, a, t, r) {\n\t\t\t\t\tfor (var i = e.split(\" \"), s = 0; s < i.length; s++)\n\t\t\t\t\t\tfor (var n = 0; n < this.length; n++)\n\t\t\t\t\t\t\tif (\"function\" == typeof a || a === !1) \"function\" == typeof a && (t = arguments[1], r = arguments[2] || !1), this[n].removeEventListener(i[s], t, r);\n\t\t\t\t\t\t\telse if (this[n].dom7LiveListeners)\n\t\t\t\t\t\tfor (var o = 0; o < this[n].dom7LiveListeners.length; o++) this[n].dom7LiveListeners[o].listener === t && this[n].removeEventListener(i[s], this[n].dom7LiveListeners[o].liveListener, r);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\tonce: function(e, a, t, r) {\n\t\t\t\t\tfunction i(n) {\n\t\t\t\t\t\tt(n), s.off(e, a, i, r)\n\t\t\t\t\t}\n\t\t\t\t\tvar s = this;\n\t\t\t\t\t\"function\" == typeof a && (a = !1, t = arguments[1], r = arguments[2]), s.on(e, a, i, r)\n\t\t\t\t},\n\t\t\t\ttrigger: function(e, a) {\n\t\t\t\t\tfor (var t = 0; t < this.length; t++) {\n\t\t\t\t\t\tvar r;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tr = new window.CustomEvent(e, {\n\t\t\t\t\t\t\t\tdetail: a,\n\t\t\t\t\t\t\t\tbubbles: !0,\n\t\t\t\t\t\t\t\tcancelable: !0\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} catch (i) {\n\t\t\t\t\t\t\tr = document.createEvent(\"Event\"), r.initEvent(e, !0, !0), r.detail = a\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis[t].dispatchEvent(r)\n\t\t\t\t\t}\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\ttransitionEnd: function(e) {\n\t\t\t\t\tfunction a(s) {\n\t\t\t\t\t\tif (s.target === this)\n\t\t\t\t\t\t\tfor (e.call(this, s), t = 0; t < r.length; t++) i.off(r[t], a)\n\t\t\t\t\t}\n\t\t\t\t\tvar t, r = [\"webkitTransitionEnd\", \"transitionend\", \"oTransitionEnd\", \"MSTransitionEnd\", \"msTransitionEnd\"],\n\t\t\t\t\t\ti = this;\n\t\t\t\t\tif (e)\n\t\t\t\t\t\tfor (t = 0; t < r.length; t++) i.on(r[t], a);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\twidth: function() {\n\t\t\t\t\treturn this[0] === window ? window.innerWidth : this.length > 0 ? parseFloat(this.css(\"width\")) : null\n\t\t\t\t},\n\t\t\t\touterWidth: function(e) {\n\t\t\t\t\treturn this.length > 0 ? e ? this[0].offsetWidth + parseFloat(this.css(\"margin-right\")) + parseFloat(this.css(\"margin-left\")) : this[0].offsetWidth : null\n\t\t\t\t},\n\t\t\t\theight: function() {\n\t\t\t\t\treturn this[0] === window ? window.innerHeight : this.length > 0 ? parseFloat(this.css(\"height\")) : null\n\t\t\t\t},\n\t\t\t\touterHeight: function(e) {\n\t\t\t\t\treturn this.length > 0 ? e ? this[0].offsetHeight + parseFloat(this.css(\"margin-top\")) + parseFloat(this.css(\"margin-bottom\")) : this[0].offsetHeight : null\n\t\t\t\t},\n\t\t\t\toffset: function() {\n\t\t\t\t\tif (this.length > 0) {\n\t\t\t\t\t\tvar e = this[0],\n\t\t\t\t\t\t\ta = e.getBoundingClientRect(),\n\t\t\t\t\t\t\tt = document.body,\n\t\t\t\t\t\t\tr = e.clientTop || t.clientTop || 0,\n\t\t\t\t\t\t\ti = e.clientLeft || t.clientLeft || 0,\n\t\t\t\t\t\t\ts = window.pageYOffset || e.scrollTop,\n\t\t\t\t\t\t\tn = window.pageXOffset || e.scrollLeft;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttop: a.top + s - r,\n\t\t\t\t\t\t\tleft: a.left + n - i\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null\n\t\t\t\t},\n\t\t\t\tcss: function(e, a) {\n\t\t\t\t\tvar t;\n\t\t\t\t\tif (1 === arguments.length) {\n\t\t\t\t\t\tif (\"string\" != typeof e) {\n\t\t\t\t\t\t\tfor (t = 0; t < this.length; t++)\n\t\t\t\t\t\t\t\tfor (var r in e) this[t].style[r] = e[r];\n\t\t\t\t\t\t\treturn this\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(e)\n\t\t\t\t\t}\n\t\t\t\t\tif (2 === arguments.length && \"string\" == typeof e) {\n\t\t\t\t\t\tfor (t = 0; t < this.length; t++) this[t].style[e] = a;\n\t\t\t\t\t\treturn this\n\t\t\t\t\t}\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\teach: function(e) {\n\t\t\t\t\tfor (var a = 0; a < this.length; a++) e.call(this[a], a, this[a]);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\thtml: function(e) {\n\t\t\t\t\tif (\"undefined\" == typeof e) return this[0] ? this[0].innerHTML : void 0;\n\t\t\t\t\tfor (var a = 0; a < this.length; a++) this[a].innerHTML = e;\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\ttext: function(e) {\n\t\t\t\t\tif (\"undefined\" == typeof e) return this[0] ? this[0].textContent.trim() : null;\n\t\t\t\t\tfor (var a = 0; a < this.length; a++) this[a].textContent = e;\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\tis: function(t) {\n\t\t\t\t\tif (!this[0]) return !1;\n\t\t\t\t\tvar r, i;\n\t\t\t\t\tif (\"string\" == typeof t) {\n\t\t\t\t\t\tvar s = this[0];\n\t\t\t\t\t\tif (s === document) return t === document;\n\t\t\t\t\t\tif (s === window) return t === window;\n\t\t\t\t\t\tif (s.matches) return s.matches(t);\n\t\t\t\t\t\tif (s.webkitMatchesSelector) return s.webkitMatchesSelector(t);\n\t\t\t\t\t\tif (s.mozMatchesSelector) return s.mozMatchesSelector(t);\n\t\t\t\t\t\tif (s.msMatchesSelector) return s.msMatchesSelector(t);\n\t\t\t\t\t\tfor (r = a(t), i = 0; i < r.length; i++)\n\t\t\t\t\t\t\tif (r[i] === this[0]) return !0;\n\t\t\t\t\t\treturn !1\n\t\t\t\t\t}\n\t\t\t\t\tif (t === document) return this[0] === document;\n\t\t\t\t\tif (t === window) return this[0] === window;\n\t\t\t\t\tif (t.nodeType || t instanceof e) {\n\t\t\t\t\t\tfor (r = t.nodeType ? [t] : t, i = 0; i < r.length; i++)\n\t\t\t\t\t\t\tif (r[i] === this[0]) return !0;\n\t\t\t\t\t\treturn !1\n\t\t\t\t\t}\n\t\t\t\t\treturn !1\n\t\t\t\t},\n\t\t\t\tindex: function() {\n\t\t\t\t\tif (this[0]) {\n\t\t\t\t\t\tfor (var e = this[0], a = 0; null !== (e = e.previousSibling);) 1 === e.nodeType && a++;\n\t\t\t\t\t\treturn a\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\teq: function(a) {\n\t\t\t\t\tif (\"undefined\" == typeof a) return this;\n\t\t\t\t\tvar t, r = this.length;\n\t\t\t\t\treturn a > r - 1 ? new e([]) : 0 > a ? (t = r + a, new e(0 > t ? [] : [this[t]])) : new e([this[a]])\n\t\t\t\t},\n\t\t\t\tappend: function(a) {\n\t\t\t\t\tvar t, r;\n\t\t\t\t\tfor (t = 0; t < this.length; t++)\n\t\t\t\t\t\tif (\"string\" == typeof a) {\n\t\t\t\t\t\t\tvar i = document.createElement(\"div\");\n\t\t\t\t\t\t\tfor (i.innerHTML = a; i.firstChild;) this[t].appendChild(i.firstChild)\n\t\t\t\t\t\t} else if (a instanceof e)\n\t\t\t\t\t\tfor (r = 0; r < a.length; r++) this[t].appendChild(a[r]);\n\t\t\t\t\telse this[t].appendChild(a);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\tprepend: function(a) {\n\t\t\t\t\tvar t, r;\n\t\t\t\t\tfor (t = 0; t < this.length; t++)\n\t\t\t\t\t\tif (\"string\" == typeof a) {\n\t\t\t\t\t\t\tvar i = document.createElement(\"div\");\n\t\t\t\t\t\t\tfor (i.innerHTML = a, r = i.childNodes.length - 1; r >= 0; r--) this[t].insertBefore(i.childNodes[r], this[t].childNodes[0])\n\t\t\t\t\t\t} else if (a instanceof e)\n\t\t\t\t\t\tfor (r = 0; r < a.length; r++) this[t].insertBefore(a[r], this[t].childNodes[0]);\n\t\t\t\t\telse this[t].insertBefore(a, this[t].childNodes[0]);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\tinsertBefore: function(e) {\n\t\t\t\t\tfor (var t = a(e), r = 0; r < this.length; r++)\n\t\t\t\t\t\tif (1 === t.length) t[0].parentNode.insertBefore(this[r], t[0]);\n\t\t\t\t\t\telse if (t.length > 1)\n\t\t\t\t\t\tfor (var i = 0; i < t.length; i++) t[i].parentNode.insertBefore(this[r].cloneNode(!0), t[i])\n\t\t\t\t},\n\t\t\t\tinsertAfter: function(e) {\n\t\t\t\t\tfor (var t = a(e), r = 0; r < this.length; r++)\n\t\t\t\t\t\tif (1 === t.length) t[0].parentNode.insertBefore(this[r], t[0].nextSibling);\n\t\t\t\t\t\telse if (t.length > 1)\n\t\t\t\t\t\tfor (var i = 0; i < t.length; i++) t[i].parentNode.insertBefore(this[r].cloneNode(!0), t[i].nextSibling)\n\t\t\t\t},\n\t\t\t\tnext: function(t) {\n\t\t\t\t\treturn new e(this.length > 0 ? t ? this[0].nextElementSibling && a(this[0].nextElementSibling).is(t) ? [this[0].nextElementSibling] : [] : this[0].nextElementSibling ? [this[0].nextElementSibling] : [] : [])\n\t\t\t\t},\n\t\t\t\tnextAll: function(t) {\n\t\t\t\t\tvar r = [],\n\t\t\t\t\t\ti = this[0];\n\t\t\t\t\tif (!i) return new e([]);\n\t\t\t\t\tfor (; i.nextElementSibling;) {\n\t\t\t\t\t\tvar s = i.nextElementSibling;\n\t\t\t\t\t\tt ? a(s).is(t) && r.push(s) : r.push(s), i = s\n\t\t\t\t\t}\n\t\t\t\t\treturn new e(r)\n\t\t\t\t},\n\t\t\t\tprev: function(t) {\n\t\t\t\t\treturn new e(this.length > 0 ? t ? this[0].previousElementSibling && a(this[0].previousElementSibling).is(t) ? [this[0].previousElementSibling] : [] : this[0].previousElementSibling ? [this[0].previousElementSibling] : [] : [])\n\t\t\t\t},\n\t\t\t\tprevAll: function(t) {\n\t\t\t\t\tvar r = [],\n\t\t\t\t\t\ti = this[0];\n\t\t\t\t\tif (!i) return new e([]);\n\t\t\t\t\tfor (; i.previousElementSibling;) {\n\t\t\t\t\t\tvar s = i.previousElementSibling;\n\t\t\t\t\t\tt ? a(s).is(t) && r.push(s) : r.push(s), i = s\n\t\t\t\t\t}\n\t\t\t\t\treturn new e(r)\n\t\t\t\t},\n\t\t\t\tparent: function(e) {\n\t\t\t\t\tfor (var t = [], r = 0; r < this.length; r++) e ? a(this[r].parentNode).is(e) && t.push(this[r].parentNode) : t.push(this[r].parentNode);\n\t\t\t\t\treturn a(a.unique(t))\n\t\t\t\t},\n\t\t\t\tparents: function(e) {\n\t\t\t\t\tfor (var t = [], r = 0; r < this.length; r++)\n\t\t\t\t\t\tfor (var i = this[r].parentNode; i;) e ? a(i).is(e) && t.push(i) : t.push(i), i = i.parentNode;\n\t\t\t\t\treturn a(a.unique(t))\n\t\t\t\t},\n\t\t\t\tfind: function(a) {\n\t\t\t\t\tfor (var t = [], r = 0; r < this.length; r++)\n\t\t\t\t\t\tfor (var i = this[r].querySelectorAll(a), s = 0; s < i.length; s++) t.push(i[s]);\n\t\t\t\t\treturn new e(t)\n\t\t\t\t},\n\t\t\t\tchildren: function(t) {\n\t\t\t\t\tfor (var r = [], i = 0; i < this.length; i++)\n\t\t\t\t\t\tfor (var s = this[i].childNodes, n = 0; n < s.length; n++) t ? 1 === s[n].nodeType && a(s[n]).is(t) && r.push(s[n]) : 1 === s[n].nodeType && r.push(s[n]);\n\t\t\t\t\treturn new e(a.unique(r))\n\t\t\t\t},\n\t\t\t\tremove: function() {\n\t\t\t\t\tfor (var e = 0; e < this.length; e++) this[e].parentNode && this[e].parentNode.removeChild(this[e]);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\tadd: function() {\n\t\t\t\t\tvar e, t, r = this;\n\t\t\t\t\tfor (e = 0; e < arguments.length; e++) {\n\t\t\t\t\t\tvar i = a(arguments[e]);\n\t\t\t\t\t\tfor (t = 0; t < i.length; t++) r[r.length] = i[t], r.length++\n\t\t\t\t\t}\n\t\t\t\t\treturn r\n\t\t\t\t}\n\t\t\t}, a.fn = e.prototype, a.unique = function(e) {\n\t\t\t\tfor (var a = [], t = 0; t < e.length; t++) - 1 === a.indexOf(e[t]) && a.push(e[t]);\n\t\t\t\treturn a\n\t\t\t}, a\n\t\t}()), i = [\"jQuery\", \"Zepto\", \"Dom7\"], s = 0; s < i.length; s++) window[i[s]] && e(window[i[s]]);\n\tvar n;\n\tn = \"undefined\" == typeof r ? window.Dom7 || window.Zepto || window.jQuery : r, n && (\"transitionEnd\" in n.fn || (n.fn.transitionEnd = function(e) {\n\t\tfunction a(s) {\n\t\t\tif (s.target === this)\n\t\t\t\tfor (e.call(this, s), t = 0; t < r.length; t++) i.off(r[t], a)\n\t\t}\n\t\tvar t, r = [\"webkitTransitionEnd\", \"transitionend\", \"oTransitionEnd\", \"MSTransitionEnd\", \"msTransitionEnd\"],\n\t\t\ti = this;\n\t\tif (e)\n\t\t\tfor (t = 0; t < r.length; t++) i.on(r[t], a);\n\t\treturn this\n\t}), \"transform\" in n.fn || (n.fn.transform = function(e) {\n\t\tfor (var a = 0; a < this.length; a++) {\n\t\t\tvar t = this[a].style;\n\t\t\tt.webkitTransform = t.MsTransform = t.msTransform = t.MozTransform = t.OTransform = t.transform = e\n\t\t}\n\t\treturn this\n\t}), \"transition\" in n.fn || (n.fn.transition = function(e) {\n\t\t\"string\" != typeof e && (e += \"ms\");\n\t\tfor (var a = 0; a < this.length; a++) {\n\t\t\tvar t = this[a].style;\n\t\t\tt.webkitTransitionDuration = t.MsTransitionDuration = t.msTransitionDuration = t.MozTransitionDuration = t.OTransitionDuration = t.transitionDuration = e\n\t\t}\n\t\treturn this\n\t})), window.Swiper = t\n}(),  true ? module.exports = window.Swiper : \"function\" == typeof define && define.amd && define([], function() {\n\t\"use strict\";\n\treturn window.Swiper\n});\n//# sourceMappingURL=maps/swiper.min.js.map\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvc3dpcGVyLTMuMy4xLm1pbi5qcz9mNjQ1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxjQUFjO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxPQUFPO0FBQ25EO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxtQkFBbUIsY0FBYztBQUNqQztBQUNBLElBQUk7QUFDSjtBQUNB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QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEIiwiZmlsZSI6IjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqIElNUE9SVFMgRlJPTSBpbXBvcnRzLWxvYWRlciAqKiovXG52YXIgZGVmaW5lID0gZmFsc2U7XG5cbi8qKlxuICogU3dpcGVyIDMuMy4xXG4gKiBNb3N0IG1vZGVybiBtb2JpbGUgdG91Y2ggc2xpZGVyIGFuZCBmcmFtZXdvcmsgd2l0aCBoYXJkd2FyZSBhY2NlbGVyYXRlZCB0cmFuc2l0aW9uc1xuICogXG4gKiBodHRwOi8vd3d3LmlkYW5nZXJvLnVzL3N3aXBlci9cbiAqIFxuICogQ29weXJpZ2h0IDIwMTYsIFZsYWRpbWlyIEtoYXJsYW1waWRpXG4gKiBUaGUgaURhbmdlcm8udXNcbiAqIGh0dHA6Ly93d3cuaWRhbmdlcm8udXMvXG4gKiBcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVFxuICogXG4gKiBSZWxlYXNlZCBvbjogRmVicnVhcnkgNywgMjAxNlxuICovXG4hIGZ1bmN0aW9uKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRmdW5jdGlvbiBlKGUpIHtcblx0XHRlLmZuLnN3aXBlciA9IGZ1bmN0aW9uKGEpIHtcblx0XHRcdHZhciByO1xuXHRcdFx0cmV0dXJuIGUodGhpcykuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGUgPSBuZXcgdCh0aGlzLCBhKTtcblx0XHRcdFx0ciB8fCAociA9IGUpXG5cdFx0XHR9KSwgclxuXHRcdH1cblx0fVxuXHR2YXIgYSwgdCA9IGZ1bmN0aW9uKGUsIGkpIHtcblx0XHRmdW5jdGlvbiBzKGUpIHtcblx0XHRcdHJldHVybiBNYXRoLmZsb29yKGUpXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gbigpIHtcblx0XHRcdGIuYXV0b3BsYXlUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRiLnBhcmFtcy5sb29wID8gKGIuZml4TG9vcCgpLCBiLl9zbGlkZU5leHQoKSwgYi5lbWl0KFwib25BdXRvcGxheVwiLCBiKSkgOiBiLmlzRW5kID8gaS5hdXRvcGxheVN0b3BPbkxhc3QgPyBiLnN0b3BBdXRvcGxheSgpIDogKGIuX3NsaWRlVG8oMCksIGIuZW1pdChcIm9uQXV0b3BsYXlcIiwgYikpIDogKGIuX3NsaWRlTmV4dCgpLCBiLmVtaXQoXCJvbkF1dG9wbGF5XCIsIGIpKVxuXHRcdFx0fSwgYi5wYXJhbXMuYXV0b3BsYXkpXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gbyhlLCB0KSB7XG5cdFx0XHR2YXIgciA9IGEoZS50YXJnZXQpO1xuXHRcdFx0aWYgKCFyLmlzKHQpKVxuXHRcdFx0XHRpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCkgciA9IHIucGFyZW50cyh0KTtcblx0XHRcdFx0ZWxzZSBpZiAodC5ub2RlVHlwZSkge1xuXHRcdFx0XHR2YXIgaTtcblx0XHRcdFx0cmV0dXJuIHIucGFyZW50cygpLmVhY2goZnVuY3Rpb24oZSwgYSkge1xuXHRcdFx0XHRcdGEgPT09IHQgJiYgKGkgPSB0KVxuXHRcdFx0XHR9KSwgaSA/IHQgOiB2b2lkIDBcblx0XHRcdH1cblx0XHRcdGlmICgwICE9PSByLmxlbmd0aCkgcmV0dXJuIHJbMF1cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBsKGUsIGEpIHtcblx0XHRcdGEgPSBhIHx8IHt9O1xuXHRcdFx0dmFyIHQgPSB3aW5kb3cuTXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuV2Via2l0TXV0YXRpb25PYnNlcnZlcixcblx0XHRcdFx0ciA9IG5ldyB0KGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRlLmZvckVhY2goZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdFx0Yi5vblJlc2l6ZSghMCksIGIuZW1pdChcIm9uT2JzZXJ2ZXJVcGRhdGVcIiwgYiwgZSlcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9KTtcblx0XHRcdHIub2JzZXJ2ZShlLCB7XG5cdFx0XHRcdGF0dHJpYnV0ZXM6IFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGEuYXR0cmlidXRlcyA/ICEwIDogYS5hdHRyaWJ1dGVzLFxuXHRcdFx0XHRjaGlsZExpc3Q6IFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGEuY2hpbGRMaXN0ID8gITAgOiBhLmNoaWxkTGlzdCxcblx0XHRcdFx0Y2hhcmFjdGVyRGF0YTogXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgYS5jaGFyYWN0ZXJEYXRhID8gITAgOiBhLmNoYXJhY3RlckRhdGFcblx0XHRcdH0pLCBiLm9ic2VydmVycy5wdXNoKHIpXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcChlKSB7XG5cdFx0XHRlLm9yaWdpbmFsRXZlbnQgJiYgKGUgPSBlLm9yaWdpbmFsRXZlbnQpO1xuXHRcdFx0dmFyIGEgPSBlLmtleUNvZGUgfHwgZS5jaGFyQ29kZTtcblx0XHRcdGlmICghYi5wYXJhbXMuYWxsb3dTd2lwZVRvTmV4dCAmJiAoYi5pc0hvcml6b250YWwoKSAmJiAzOSA9PT0gYSB8fCAhYi5pc0hvcml6b250YWwoKSAmJiA0MCA9PT0gYSkpIHJldHVybiAhMTtcblx0XHRcdGlmICghYi5wYXJhbXMuYWxsb3dTd2lwZVRvUHJldiAmJiAoYi5pc0hvcml6b250YWwoKSAmJiAzNyA9PT0gYSB8fCAhYi5pc0hvcml6b250YWwoKSAmJiAzOCA9PT0gYSkpIHJldHVybiAhMTtcblx0XHRcdGlmICghKGUuc2hpZnRLZXkgfHwgZS5hbHRLZXkgfHwgZS5jdHJsS2V5IHx8IGUubWV0YUtleSB8fCBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUgJiYgKFwiaW5wdXRcIiA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIHx8IFwidGV4dGFyZWFcIiA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSkpIHtcblx0XHRcdFx0aWYgKDM3ID09PSBhIHx8IDM5ID09PSBhIHx8IDM4ID09PSBhIHx8IDQwID09PSBhKSB7XG5cdFx0XHRcdFx0dmFyIHQgPSAhMTtcblx0XHRcdFx0XHRpZiAoYi5jb250YWluZXIucGFyZW50cyhcIi5zd2lwZXItc2xpZGVcIikubGVuZ3RoID4gMCAmJiAwID09PSBiLmNvbnRhaW5lci5wYXJlbnRzKFwiLnN3aXBlci1zbGlkZS1hY3RpdmVcIikubGVuZ3RoKSByZXR1cm47XG5cdFx0XHRcdFx0dmFyIHIgPSB7XG5cdFx0XHRcdFx0XHRcdGxlZnQ6IHdpbmRvdy5wYWdlWE9mZnNldCxcblx0XHRcdFx0XHRcdFx0dG9wOiB3aW5kb3cucGFnZVlPZmZzZXRcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRpID0gd2luZG93LmlubmVyV2lkdGgsXG5cdFx0XHRcdFx0XHRzID0gd2luZG93LmlubmVySGVpZ2h0LFxuXHRcdFx0XHRcdFx0biA9IGIuY29udGFpbmVyLm9mZnNldCgpO1xuXHRcdFx0XHRcdGIucnRsICYmIChuLmxlZnQgPSBuLmxlZnQgLSBiLmNvbnRhaW5lclswXS5zY3JvbGxMZWZ0KTtcblx0XHRcdFx0XHRmb3IgKHZhciBvID0gW1xuXHRcdFx0XHRcdFx0XHRbbi5sZWZ0LCBuLnRvcF0sXG5cdFx0XHRcdFx0XHRcdFtuLmxlZnQgKyBiLndpZHRoLCBuLnRvcF0sXG5cdFx0XHRcdFx0XHRcdFtuLmxlZnQsIG4udG9wICsgYi5oZWlnaHRdLFxuXHRcdFx0XHRcdFx0XHRbbi5sZWZ0ICsgYi53aWR0aCwgbi50b3AgKyBiLmhlaWdodF1cblx0XHRcdFx0XHRcdF0sIGwgPSAwOyBsIDwgby5sZW5ndGg7IGwrKykge1xuXHRcdFx0XHRcdFx0dmFyIHAgPSBvW2xdO1xuXHRcdFx0XHRcdFx0cFswXSA+PSByLmxlZnQgJiYgcFswXSA8PSByLmxlZnQgKyBpICYmIHBbMV0gPj0gci50b3AgJiYgcFsxXSA8PSByLnRvcCArIHMgJiYgKHQgPSAhMClcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCF0KSByZXR1cm5cblx0XHRcdFx0fVxuXHRcdFx0XHRiLmlzSG9yaXpvbnRhbCgpID8gKCgzNyA9PT0gYSB8fCAzOSA9PT0gYSkgJiYgKGUucHJldmVudERlZmF1bHQgPyBlLnByZXZlbnREZWZhdWx0KCkgOiBlLnJldHVyblZhbHVlID0gITEpLCAoMzkgPT09IGEgJiYgIWIucnRsIHx8IDM3ID09PSBhICYmIGIucnRsKSAmJiBiLnNsaWRlTmV4dCgpLCAoMzcgPT09IGEgJiYgIWIucnRsIHx8IDM5ID09PSBhICYmIGIucnRsKSAmJiBiLnNsaWRlUHJldigpKSA6ICgoMzggPT09IGEgfHwgNDAgPT09IGEpICYmIChlLnByZXZlbnREZWZhdWx0ID8gZS5wcmV2ZW50RGVmYXVsdCgpIDogZS5yZXR1cm5WYWx1ZSA9ICExKSwgNDAgPT09IGEgJiYgYi5zbGlkZU5leHQoKSwgMzggPT09IGEgJiYgYi5zbGlkZVByZXYoKSlcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmdW5jdGlvbiBkKGUpIHtcblx0XHRcdGUub3JpZ2luYWxFdmVudCAmJiAoZSA9IGUub3JpZ2luYWxFdmVudCk7XG5cdFx0XHR2YXIgYSA9IGIubW91c2V3aGVlbC5ldmVudCxcblx0XHRcdFx0dCA9IDAsXG5cdFx0XHRcdHIgPSBiLnJ0bCA/IC0xIDogMTtcblx0XHRcdGlmIChcIm1vdXNld2hlZWxcIiA9PT0gYSlcblx0XHRcdFx0aWYgKGIucGFyYW1zLm1vdXNld2hlZWxGb3JjZVRvQXhpcylcblx0XHRcdFx0XHRpZiAoYi5pc0hvcml6b250YWwoKSkge1xuXHRcdFx0XHRcdFx0aWYgKCEoTWF0aC5hYnMoZS53aGVlbERlbHRhWCkgPiBNYXRoLmFicyhlLndoZWVsRGVsdGFZKSkpIHJldHVybjtcblx0XHRcdFx0XHRcdHQgPSBlLndoZWVsRGVsdGFYICogclxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRpZiAoIShNYXRoLmFicyhlLndoZWVsRGVsdGFZKSA+IE1hdGguYWJzKGUud2hlZWxEZWx0YVgpKSkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0dCA9IGUud2hlZWxEZWx0YVlcblx0XHRcdFx0XHR9XG5cdFx0XHRlbHNlIHQgPSBNYXRoLmFicyhlLndoZWVsRGVsdGFYKSA+IE1hdGguYWJzKGUud2hlZWxEZWx0YVkpID8gLWUud2hlZWxEZWx0YVggKiByIDogLWUud2hlZWxEZWx0YVk7XG5cdFx0XHRlbHNlIGlmIChcIkRPTU1vdXNlU2Nyb2xsXCIgPT09IGEpIHQgPSAtZS5kZXRhaWw7XG5cdFx0XHRlbHNlIGlmIChcIndoZWVsXCIgPT09IGEpXG5cdFx0XHRcdGlmIChiLnBhcmFtcy5tb3VzZXdoZWVsRm9yY2VUb0F4aXMpXG5cdFx0XHRcdFx0aWYgKGIuaXNIb3Jpem9udGFsKCkpIHtcblx0XHRcdFx0XHRcdGlmICghKE1hdGguYWJzKGUuZGVsdGFYKSA+IE1hdGguYWJzKGUuZGVsdGFZKSkpIHJldHVybjtcblx0XHRcdFx0XHRcdHQgPSAtZS5kZWx0YVggKiByXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlmICghKE1hdGguYWJzKGUuZGVsdGFZKSA+IE1hdGguYWJzKGUuZGVsdGFYKSkpIHJldHVybjtcblx0XHRcdFx0XHRcdHQgPSAtZS5kZWx0YVlcblx0XHRcdFx0XHR9XG5cdFx0XHRlbHNlIHQgPSBNYXRoLmFicyhlLmRlbHRhWCkgPiBNYXRoLmFicyhlLmRlbHRhWSkgPyAtZS5kZWx0YVggKiByIDogLWUuZGVsdGFZO1xuXHRcdFx0aWYgKDAgIT09IHQpIHtcblx0XHRcdFx0aWYgKGIucGFyYW1zLm1vdXNld2hlZWxJbnZlcnQgJiYgKHQgPSAtdCksIGIucGFyYW1zLmZyZWVNb2RlKSB7XG5cdFx0XHRcdFx0dmFyIGkgPSBiLmdldFdyYXBwZXJUcmFuc2xhdGUoKSArIHQgKiBiLnBhcmFtcy5tb3VzZXdoZWVsU2Vuc2l0aXZpdHksXG5cdFx0XHRcdFx0XHRzID0gYi5pc0JlZ2lubmluZyxcblx0XHRcdFx0XHRcdG4gPSBiLmlzRW5kO1xuXHRcdFx0XHRcdGlmIChpID49IGIubWluVHJhbnNsYXRlKCkgJiYgKGkgPSBiLm1pblRyYW5zbGF0ZSgpKSwgaSA8PSBiLm1heFRyYW5zbGF0ZSgpICYmIChpID0gYi5tYXhUcmFuc2xhdGUoKSksIGIuc2V0V3JhcHBlclRyYW5zaXRpb24oMCksIGIuc2V0V3JhcHBlclRyYW5zbGF0ZShpKSwgYi51cGRhdGVQcm9ncmVzcygpLCBiLnVwZGF0ZUFjdGl2ZUluZGV4KCksICghcyAmJiBiLmlzQmVnaW5uaW5nIHx8ICFuICYmIGIuaXNFbmQpICYmIGIudXBkYXRlQ2xhc3NlcygpLCBiLnBhcmFtcy5mcmVlTW9kZVN0aWNreSA/IChjbGVhclRpbWVvdXQoYi5tb3VzZXdoZWVsLnRpbWVvdXQpLCBiLm1vdXNld2hlZWwudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdGIuc2xpZGVSZXNldCgpXG5cdFx0XHRcdFx0XHR9LCAzMDApKSA6IGIucGFyYW1zLmxhenlMb2FkaW5nICYmIGIubGF6eSAmJiBiLmxhenkubG9hZCgpLCAwID09PSBpIHx8IGkgPT09IGIubWF4VHJhbnNsYXRlKCkpIHJldHVyblxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmICgobmV3IHdpbmRvdy5EYXRlKS5nZXRUaW1lKCkgLSBiLm1vdXNld2hlZWwubGFzdFNjcm9sbFRpbWUgPiA2MClcblx0XHRcdFx0XHRcdGlmICgwID4gdClcblx0XHRcdFx0XHRcdFx0aWYgKGIuaXNFbmQgJiYgIWIucGFyYW1zLmxvb3AgfHwgYi5hbmltYXRpbmcpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoYi5wYXJhbXMubW91c2V3aGVlbFJlbGVhc2VPbkVkZ2VzKSByZXR1cm4gITBcblx0XHRcdFx0XHRcdFx0fSBlbHNlIGIuc2xpZGVOZXh0KCk7XG5cdFx0XHRcdFx0ZWxzZSBpZiAoYi5pc0JlZ2lubmluZyAmJiAhYi5wYXJhbXMubG9vcCB8fCBiLmFuaW1hdGluZykge1xuXHRcdFx0XHRcdFx0aWYgKGIucGFyYW1zLm1vdXNld2hlZWxSZWxlYXNlT25FZGdlcykgcmV0dXJuICEwXG5cdFx0XHRcdFx0fSBlbHNlIGIuc2xpZGVQcmV2KCk7XG5cdFx0XHRcdFx0Yi5tb3VzZXdoZWVsLmxhc3RTY3JvbGxUaW1lID0gKG5ldyB3aW5kb3cuRGF0ZSkuZ2V0VGltZSgpXG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGIucGFyYW1zLmF1dG9wbGF5ICYmIGIuc3RvcEF1dG9wbGF5KCksIGUucHJldmVudERlZmF1bHQgPyBlLnByZXZlbnREZWZhdWx0KCkgOiBlLnJldHVyblZhbHVlID0gITEsICExXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gdShlLCB0KSB7XG5cdFx0XHRlID0gYShlKTtcblx0XHRcdHZhciByLCBpLCBzLCBuID0gYi5ydGwgPyAtMSA6IDE7XG5cdFx0XHRyID0gZS5hdHRyKFwiZGF0YS1zd2lwZXItcGFyYWxsYXhcIikgfHwgXCIwXCIsIGkgPSBlLmF0dHIoXCJkYXRhLXN3aXBlci1wYXJhbGxheC14XCIpLCBzID0gZS5hdHRyKFwiZGF0YS1zd2lwZXItcGFyYWxsYXgteVwiKSwgaSB8fCBzID8gKGkgPSBpIHx8IFwiMFwiLCBzID0gcyB8fCBcIjBcIikgOiBiLmlzSG9yaXpvbnRhbCgpID8gKGkgPSByLCBzID0gXCIwXCIpIDogKHMgPSByLCBpID0gXCIwXCIpLCBpID0gaS5pbmRleE9mKFwiJVwiKSA+PSAwID8gcGFyc2VJbnQoaSwgMTApICogdCAqIG4gKyBcIiVcIiA6IGkgKiB0ICogbiArIFwicHhcIiwgcyA9IHMuaW5kZXhPZihcIiVcIikgPj0gMCA/IHBhcnNlSW50KHMsIDEwKSAqIHQgKyBcIiVcIiA6IHMgKiB0ICsgXCJweFwiLCBlLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKFwiICsgaSArIFwiLCBcIiArIHMgKyBcIiwwcHgpXCIpXG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gYyhlKSB7XG5cdFx0XHRyZXR1cm4gMCAhPT0gZS5pbmRleE9mKFwib25cIikgJiYgKGUgPSBlWzBdICE9PSBlWzBdLnRvVXBwZXJDYXNlKCkgPyBcIm9uXCIgKyBlWzBdLnRvVXBwZXJDYXNlKCkgKyBlLnN1YnN0cmluZygxKSA6IFwib25cIiArIGUpLCBlXG5cdFx0fVxuXHRcdGlmICghKHRoaXMgaW5zdGFuY2VvZiB0KSkgcmV0dXJuIG5ldyB0KGUsIGkpO1xuXHRcdHZhciBtID0ge1xuXHRcdFx0XHRkaXJlY3Rpb246IFwiaG9yaXpvbnRhbFwiLFxuXHRcdFx0XHR0b3VjaEV2ZW50c1RhcmdldDogXCJjb250YWluZXJcIixcblx0XHRcdFx0aW5pdGlhbFNsaWRlOiAwLFxuXHRcdFx0XHRzcGVlZDogMzAwLFxuXHRcdFx0XHRhdXRvcGxheTogITEsXG5cdFx0XHRcdGF1dG9wbGF5RGlzYWJsZU9uSW50ZXJhY3Rpb246ICEwLFxuXHRcdFx0XHRhdXRvcGxheVN0b3BPbkxhc3Q6ICExLFxuXHRcdFx0XHRpT1NFZGdlU3dpcGVEZXRlY3Rpb246ICExLFxuXHRcdFx0XHRpT1NFZGdlU3dpcGVUaHJlc2hvbGQ6IDIwLFxuXHRcdFx0XHRmcmVlTW9kZTogITEsXG5cdFx0XHRcdGZyZWVNb2RlTW9tZW50dW06ICEwLFxuXHRcdFx0XHRmcmVlTW9kZU1vbWVudHVtUmF0aW86IDEsXG5cdFx0XHRcdGZyZWVNb2RlTW9tZW50dW1Cb3VuY2U6ICEwLFxuXHRcdFx0XHRmcmVlTW9kZU1vbWVudHVtQm91bmNlUmF0aW86IDEsXG5cdFx0XHRcdGZyZWVNb2RlU3RpY2t5OiAhMSxcblx0XHRcdFx0ZnJlZU1vZGVNaW5pbXVtVmVsb2NpdHk6IC4wMixcblx0XHRcdFx0YXV0b0hlaWdodDogITEsXG5cdFx0XHRcdHNldFdyYXBwZXJTaXplOiAhMSxcblx0XHRcdFx0dmlydHVhbFRyYW5zbGF0ZTogITEsXG5cdFx0XHRcdGVmZmVjdDogXCJzbGlkZVwiLFxuXHRcdFx0XHRjb3ZlcmZsb3c6IHtcblx0XHRcdFx0XHRyb3RhdGU6IDUwLFxuXHRcdFx0XHRcdHN0cmV0Y2g6IDAsXG5cdFx0XHRcdFx0ZGVwdGg6IDEwMCxcblx0XHRcdFx0XHRtb2RpZmllcjogMSxcblx0XHRcdFx0XHRzbGlkZVNoYWRvd3M6ICEwXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGZsaXA6IHtcblx0XHRcdFx0XHRzbGlkZVNoYWRvd3M6ICEwLFxuXHRcdFx0XHRcdGxpbWl0Um90YXRpb246ICEwXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGN1YmU6IHtcblx0XHRcdFx0XHRzbGlkZVNoYWRvd3M6ICEwLFxuXHRcdFx0XHRcdHNoYWRvdzogITAsXG5cdFx0XHRcdFx0c2hhZG93T2Zmc2V0OiAyMCxcblx0XHRcdFx0XHRzaGFkb3dTY2FsZTogLjk0XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGZhZGU6IHtcblx0XHRcdFx0XHRjcm9zc0ZhZGU6ICExXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHBhcmFsbGF4OiAhMSxcblx0XHRcdFx0c2Nyb2xsYmFyOiBudWxsLFxuXHRcdFx0XHRzY3JvbGxiYXJIaWRlOiAhMCxcblx0XHRcdFx0c2Nyb2xsYmFyRHJhZ2dhYmxlOiAhMSxcblx0XHRcdFx0c2Nyb2xsYmFyU25hcE9uUmVsZWFzZTogITEsXG5cdFx0XHRcdGtleWJvYXJkQ29udHJvbDogITEsXG5cdFx0XHRcdG1vdXNld2hlZWxDb250cm9sOiAhMSxcblx0XHRcdFx0bW91c2V3aGVlbFJlbGVhc2VPbkVkZ2VzOiAhMSxcblx0XHRcdFx0bW91c2V3aGVlbEludmVydDogITEsXG5cdFx0XHRcdG1vdXNld2hlZWxGb3JjZVRvQXhpczogITEsXG5cdFx0XHRcdG1vdXNld2hlZWxTZW5zaXRpdml0eTogMSxcblx0XHRcdFx0aGFzaG5hdjogITEsXG5cdFx0XHRcdGJyZWFrcG9pbnRzOiB2b2lkIDAsXG5cdFx0XHRcdHNwYWNlQmV0d2VlbjogMCxcblx0XHRcdFx0c2xpZGVzUGVyVmlldzogMSxcblx0XHRcdFx0c2xpZGVzUGVyQ29sdW1uOiAxLFxuXHRcdFx0XHRzbGlkZXNQZXJDb2x1bW5GaWxsOiBcImNvbHVtblwiLFxuXHRcdFx0XHRzbGlkZXNQZXJHcm91cDogMSxcblx0XHRcdFx0Y2VudGVyZWRTbGlkZXM6ICExLFxuXHRcdFx0XHRzbGlkZXNPZmZzZXRCZWZvcmU6IDAsXG5cdFx0XHRcdHNsaWRlc09mZnNldEFmdGVyOiAwLFxuXHRcdFx0XHRyb3VuZExlbmd0aHM6ICExLFxuXHRcdFx0XHR0b3VjaFJhdGlvOiAxLFxuXHRcdFx0XHR0b3VjaEFuZ2xlOiA0NSxcblx0XHRcdFx0c2ltdWxhdGVUb3VjaDogITAsXG5cdFx0XHRcdHNob3J0U3dpcGVzOiAhMCxcblx0XHRcdFx0bG9uZ1N3aXBlczogITAsXG5cdFx0XHRcdGxvbmdTd2lwZXNSYXRpbzogLjUsXG5cdFx0XHRcdGxvbmdTd2lwZXNNczogMzAwLFxuXHRcdFx0XHRmb2xsb3dGaW5nZXI6ICEwLFxuXHRcdFx0XHRvbmx5RXh0ZXJuYWw6ICExLFxuXHRcdFx0XHR0aHJlc2hvbGQ6IDAsXG5cdFx0XHRcdHRvdWNoTW92ZVN0b3BQcm9wYWdhdGlvbjogITAsXG5cdFx0XHRcdHVuaXF1ZU5hdkVsZW1lbnRzOiAhMCxcblx0XHRcdFx0cGFnaW5hdGlvbjogbnVsbCxcblx0XHRcdFx0cGFnaW5hdGlvbkVsZW1lbnQ6IFwic3BhblwiLFxuXHRcdFx0XHRwYWdpbmF0aW9uQ2xpY2thYmxlOiAhMSxcblx0XHRcdFx0cGFnaW5hdGlvbkhpZGU6ICExLFxuXHRcdFx0XHRwYWdpbmF0aW9uQnVsbGV0UmVuZGVyOiBudWxsLFxuXHRcdFx0XHRwYWdpbmF0aW9uUHJvZ3Jlc3NSZW5kZXI6IG51bGwsXG5cdFx0XHRcdHBhZ2luYXRpb25GcmFjdGlvblJlbmRlcjogbnVsbCxcblx0XHRcdFx0cGFnaW5hdGlvbkN1c3RvbVJlbmRlcjogbnVsbCxcblx0XHRcdFx0cGFnaW5hdGlvblR5cGU6IFwiYnVsbGV0c1wiLFxuXHRcdFx0XHRyZXNpc3RhbmNlOiAhMCxcblx0XHRcdFx0cmVzaXN0YW5jZVJhdGlvOiAuODUsXG5cdFx0XHRcdG5leHRCdXR0b246IG51bGwsXG5cdFx0XHRcdHByZXZCdXR0b246IG51bGwsXG5cdFx0XHRcdHdhdGNoU2xpZGVzUHJvZ3Jlc3M6ICExLFxuXHRcdFx0XHR3YXRjaFNsaWRlc1Zpc2liaWxpdHk6ICExLFxuXHRcdFx0XHRncmFiQ3Vyc29yOiAhMSxcblx0XHRcdFx0cHJldmVudENsaWNrczogITAsXG5cdFx0XHRcdHByZXZlbnRDbGlja3NQcm9wYWdhdGlvbjogITAsXG5cdFx0XHRcdHNsaWRlVG9DbGlja2VkU2xpZGU6ICExLFxuXHRcdFx0XHRsYXp5TG9hZGluZzogITEsXG5cdFx0XHRcdGxhenlMb2FkaW5nSW5QcmV2TmV4dDogITEsXG5cdFx0XHRcdGxhenlMb2FkaW5nSW5QcmV2TmV4dEFtb3VudDogMSxcblx0XHRcdFx0bGF6eUxvYWRpbmdPblRyYW5zaXRpb25TdGFydDogITEsXG5cdFx0XHRcdHByZWxvYWRJbWFnZXM6ICEwLFxuXHRcdFx0XHR1cGRhdGVPbkltYWdlc1JlYWR5OiAhMCxcblx0XHRcdFx0bG9vcDogITEsXG5cdFx0XHRcdGxvb3BBZGRpdGlvbmFsU2xpZGVzOiAwLFxuXHRcdFx0XHRsb29wZWRTbGlkZXM6IG51bGwsXG5cdFx0XHRcdGNvbnRyb2w6IHZvaWQgMCxcblx0XHRcdFx0Y29udHJvbEludmVyc2U6ICExLFxuXHRcdFx0XHRjb250cm9sQnk6IFwic2xpZGVcIixcblx0XHRcdFx0YWxsb3dTd2lwZVRvUHJldjogITAsXG5cdFx0XHRcdGFsbG93U3dpcGVUb05leHQ6ICEwLFxuXHRcdFx0XHRzd2lwZUhhbmRsZXI6IG51bGwsXG5cdFx0XHRcdG5vU3dpcGluZzogITAsXG5cdFx0XHRcdG5vU3dpcGluZ0NsYXNzOiBcInN3aXBlci1uby1zd2lwaW5nXCIsXG5cdFx0XHRcdHNsaWRlQ2xhc3M6IFwic3dpcGVyLXNsaWRlXCIsXG5cdFx0XHRcdHNsaWRlQWN0aXZlQ2xhc3M6IFwic3dpcGVyLXNsaWRlLWFjdGl2ZVwiLFxuXHRcdFx0XHRzbGlkZVZpc2libGVDbGFzczogXCJzd2lwZXItc2xpZGUtdmlzaWJsZVwiLFxuXHRcdFx0XHRzbGlkZUR1cGxpY2F0ZUNsYXNzOiBcInN3aXBlci1zbGlkZS1kdXBsaWNhdGVcIixcblx0XHRcdFx0c2xpZGVOZXh0Q2xhc3M6IFwic3dpcGVyLXNsaWRlLW5leHRcIixcblx0XHRcdFx0c2xpZGVQcmV2Q2xhc3M6IFwic3dpcGVyLXNsaWRlLXByZXZcIixcblx0XHRcdFx0d3JhcHBlckNsYXNzOiBcInN3aXBlci13cmFwcGVyXCIsXG5cdFx0XHRcdGJ1bGxldENsYXNzOiBcInN3aXBlci1wYWdpbmF0aW9uLWJ1bGxldFwiLFxuXHRcdFx0XHRidWxsZXRBY3RpdmVDbGFzczogXCJzd2lwZXItcGFnaW5hdGlvbi1idWxsZXQtYWN0aXZlXCIsXG5cdFx0XHRcdGJ1dHRvbkRpc2FibGVkQ2xhc3M6IFwic3dpcGVyLWJ1dHRvbi1kaXNhYmxlZFwiLFxuXHRcdFx0XHRwYWdpbmF0aW9uQ3VycmVudENsYXNzOiBcInN3aXBlci1wYWdpbmF0aW9uLWN1cnJlbnRcIixcblx0XHRcdFx0cGFnaW5hdGlvblRvdGFsQ2xhc3M6IFwic3dpcGVyLXBhZ2luYXRpb24tdG90YWxcIixcblx0XHRcdFx0cGFnaW5hdGlvbkhpZGRlbkNsYXNzOiBcInN3aXBlci1wYWdpbmF0aW9uLWhpZGRlblwiLFxuXHRcdFx0XHRwYWdpbmF0aW9uUHJvZ3Jlc3NiYXJDbGFzczogXCJzd2lwZXItcGFnaW5hdGlvbi1wcm9ncmVzc2JhclwiLFxuXHRcdFx0XHRvYnNlcnZlcjogITEsXG5cdFx0XHRcdG9ic2VydmVQYXJlbnRzOiAhMSxcblx0XHRcdFx0YTExeTogITEsXG5cdFx0XHRcdHByZXZTbGlkZU1lc3NhZ2U6IFwiUHJldmlvdXMgc2xpZGVcIixcblx0XHRcdFx0bmV4dFNsaWRlTWVzc2FnZTogXCJOZXh0IHNsaWRlXCIsXG5cdFx0XHRcdGZpcnN0U2xpZGVNZXNzYWdlOiBcIlRoaXMgaXMgdGhlIGZpcnN0IHNsaWRlXCIsXG5cdFx0XHRcdGxhc3RTbGlkZU1lc3NhZ2U6IFwiVGhpcyBpcyB0aGUgbGFzdCBzbGlkZVwiLFxuXHRcdFx0XHRwYWdpbmF0aW9uQnVsbGV0TWVzc2FnZTogXCJHbyB0byBzbGlkZSB7e2luZGV4fX1cIixcblx0XHRcdFx0cnVuQ2FsbGJhY2tzT25Jbml0OiAhMFxuXHRcdFx0fSxcblx0XHRcdGggPSBpICYmIGkudmlydHVhbFRyYW5zbGF0ZTtcblx0XHRpID0gaSB8fCB7fTtcblx0XHR2YXIgZiA9IHt9O1xuXHRcdGZvciAodmFyIGcgaW4gaSlcblx0XHRcdGlmIChcIm9iamVjdFwiICE9IHR5cGVvZiBpW2ddIHx8IG51bGwgPT09IGlbZ10gfHwgKGlbZ10ubm9kZVR5cGUgfHwgaVtnXSA9PT0gd2luZG93IHx8IGlbZ10gPT09IGRvY3VtZW50IHx8IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHIgJiYgaVtnXSBpbnN0YW5jZW9mIHIgfHwgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgalF1ZXJ5ICYmIGlbZ10gaW5zdGFuY2VvZiBqUXVlcnkpKSBmW2ddID0gaVtnXTtcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRmW2ddID0ge307XG5cdFx0XHRcdGZvciAodmFyIHYgaW4gaVtnXSkgZltnXVt2XSA9IGlbZ11bdl1cblx0XHRcdH1cblx0XHRmb3IgKHZhciB3IGluIG0pXG5cdFx0XHRpZiAoXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgaVt3XSkgaVt3XSA9IG1bd107XG5cdFx0XHRlbHNlIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBpW3ddKVxuXHRcdFx0Zm9yICh2YXIgeSBpbiBtW3ddKSBcInVuZGVmaW5lZFwiID09IHR5cGVvZiBpW3ddW3ldICYmIChpW3ddW3ldID0gbVt3XVt5XSk7XG5cdFx0dmFyIGIgPSB0aGlzO1xuXHRcdGlmIChiLnBhcmFtcyA9IGksIGIub3JpZ2luYWxQYXJhbXMgPSBmLCBiLmNsYXNzTmFtZXMgPSBbXSwgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgYSAmJiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiByICYmIChhID0gciksIChcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBhIHx8IChhID0gXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgciA/IHdpbmRvdy5Eb203IHx8IHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5IDogcikpICYmIChiLiQgPSBhLCBiLmN1cnJlbnRCcmVha3BvaW50ID0gdm9pZCAwLCBiLmdldEFjdGl2ZUJyZWFrcG9pbnQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCFiLnBhcmFtcy5icmVha3BvaW50cykgcmV0dXJuICExO1xuXHRcdFx0XHR2YXIgZSwgYSA9ICExLFxuXHRcdFx0XHRcdHQgPSBbXTtcblx0XHRcdFx0Zm9yIChlIGluIGIucGFyYW1zLmJyZWFrcG9pbnRzKSBiLnBhcmFtcy5icmVha3BvaW50cy5oYXNPd25Qcm9wZXJ0eShlKSAmJiB0LnB1c2goZSk7XG5cdFx0XHRcdHQuc29ydChmdW5jdGlvbihlLCBhKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcnNlSW50KGUsIDEwKSA+IHBhcnNlSW50KGEsIDEwKVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0Zm9yICh2YXIgciA9IDA7IHIgPCB0Lmxlbmd0aDsgcisrKSBlID0gdFtyXSwgZSA+PSB3aW5kb3cuaW5uZXJXaWR0aCAmJiAhYSAmJiAoYSA9IGUpO1xuXHRcdFx0XHRyZXR1cm4gYSB8fCBcIm1heFwiXG5cdFx0XHR9LCBiLnNldEJyZWFrcG9pbnQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGUgPSBiLmdldEFjdGl2ZUJyZWFrcG9pbnQoKTtcblx0XHRcdFx0aWYgKGUgJiYgYi5jdXJyZW50QnJlYWtwb2ludCAhPT0gZSkge1xuXHRcdFx0XHRcdHZhciBhID0gZSBpbiBiLnBhcmFtcy5icmVha3BvaW50cyA/IGIucGFyYW1zLmJyZWFrcG9pbnRzW2VdIDogYi5vcmlnaW5hbFBhcmFtcyxcblx0XHRcdFx0XHRcdHQgPSBiLnBhcmFtcy5sb29wICYmIGEuc2xpZGVzUGVyVmlldyAhPT0gYi5wYXJhbXMuc2xpZGVzUGVyVmlldztcblx0XHRcdFx0XHRmb3IgKHZhciByIGluIGEpIGIucGFyYW1zW3JdID0gYVtyXTtcblx0XHRcdFx0XHRiLmN1cnJlbnRCcmVha3BvaW50ID0gZSwgdCAmJiBiLmRlc3Ryb3lMb29wICYmIGIucmVMb29wKCEwKVxuXHRcdFx0XHR9XG5cdFx0XHR9LCBiLnBhcmFtcy5icmVha3BvaW50cyAmJiBiLnNldEJyZWFrcG9pbnQoKSwgYi5jb250YWluZXIgPSBhKGUpLCAwICE9PSBiLmNvbnRhaW5lci5sZW5ndGgpKSB7XG5cdFx0XHRpZiAoYi5jb250YWluZXIubGVuZ3RoID4gMSkge1xuXHRcdFx0XHR2YXIgeCA9IFtdO1xuXHRcdFx0XHRyZXR1cm4gYi5jb250YWluZXIuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR4LnB1c2gobmV3IHQodGhpcywgaSkpXG5cdFx0XHRcdH0pLCB4XG5cdFx0XHR9XG5cdFx0XHRiLmNvbnRhaW5lclswXS5zd2lwZXIgPSBiLCBiLmNvbnRhaW5lci5kYXRhKFwic3dpcGVyXCIsIGIpLCBiLmNsYXNzTmFtZXMucHVzaChcInN3aXBlci1jb250YWluZXItXCIgKyBiLnBhcmFtcy5kaXJlY3Rpb24pLCBiLnBhcmFtcy5mcmVlTW9kZSAmJiBiLmNsYXNzTmFtZXMucHVzaChcInN3aXBlci1jb250YWluZXItZnJlZS1tb2RlXCIpLCBiLnN1cHBvcnQuZmxleGJveCB8fCAoYi5jbGFzc05hbWVzLnB1c2goXCJzd2lwZXItY29udGFpbmVyLW5vLWZsZXhib3hcIiksIGIucGFyYW1zLnNsaWRlc1BlckNvbHVtbiA9IDEpLCBiLnBhcmFtcy5hdXRvSGVpZ2h0ICYmIGIuY2xhc3NOYW1lcy5wdXNoKFwic3dpcGVyLWNvbnRhaW5lci1hdXRvaGVpZ2h0XCIpLCAoYi5wYXJhbXMucGFyYWxsYXggfHwgYi5wYXJhbXMud2F0Y2hTbGlkZXNWaXNpYmlsaXR5KSAmJiAoYi5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyA9ICEwKSwgW1wiY3ViZVwiLCBcImNvdmVyZmxvd1wiLCBcImZsaXBcIl0uaW5kZXhPZihiLnBhcmFtcy5lZmZlY3QpID49IDAgJiYgKGIuc3VwcG9ydC50cmFuc2Zvcm1zM2QgPyAoYi5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyA9ICEwLCBiLmNsYXNzTmFtZXMucHVzaChcInN3aXBlci1jb250YWluZXItM2RcIikpIDogYi5wYXJhbXMuZWZmZWN0ID0gXCJzbGlkZVwiKSwgXCJzbGlkZVwiICE9PSBiLnBhcmFtcy5lZmZlY3QgJiYgYi5jbGFzc05hbWVzLnB1c2goXCJzd2lwZXItY29udGFpbmVyLVwiICsgYi5wYXJhbXMuZWZmZWN0KSwgXCJjdWJlXCIgPT09IGIucGFyYW1zLmVmZmVjdCAmJiAoYi5wYXJhbXMucmVzaXN0YW5jZVJhdGlvID0gMCwgYi5wYXJhbXMuc2xpZGVzUGVyVmlldyA9IDEsIGIucGFyYW1zLnNsaWRlc1BlckNvbHVtbiA9IDEsIGIucGFyYW1zLnNsaWRlc1Blckdyb3VwID0gMSwgYi5wYXJhbXMuY2VudGVyZWRTbGlkZXMgPSAhMSwgYi5wYXJhbXMuc3BhY2VCZXR3ZWVuID0gMCwgYi5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSA9ICEwLCBiLnBhcmFtcy5zZXRXcmFwcGVyU2l6ZSA9ICExKSwgKFwiZmFkZVwiID09PSBiLnBhcmFtcy5lZmZlY3QgfHwgXCJmbGlwXCIgPT09IGIucGFyYW1zLmVmZmVjdCkgJiYgKGIucGFyYW1zLnNsaWRlc1BlclZpZXcgPSAxLCBiLnBhcmFtcy5zbGlkZXNQZXJDb2x1bW4gPSAxLCBiLnBhcmFtcy5zbGlkZXNQZXJHcm91cCA9IDEsIGIucGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgPSAhMCwgYi5wYXJhbXMuc3BhY2VCZXR3ZWVuID0gMCwgYi5wYXJhbXMuc2V0V3JhcHBlclNpemUgPSAhMSwgXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgaCAmJiAoYi5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSA9ICEwKSksIGIucGFyYW1zLmdyYWJDdXJzb3IgJiYgYi5zdXBwb3J0LnRvdWNoICYmIChiLnBhcmFtcy5ncmFiQ3Vyc29yID0gITEpLCBiLndyYXBwZXIgPSBiLmNvbnRhaW5lci5jaGlsZHJlbihcIi5cIiArIGIucGFyYW1zLndyYXBwZXJDbGFzcyksIGIucGFyYW1zLnBhZ2luYXRpb24gJiYgKGIucGFnaW5hdGlvbkNvbnRhaW5lciA9IGEoYi5wYXJhbXMucGFnaW5hdGlvbiksIGIucGFyYW1zLnVuaXF1ZU5hdkVsZW1lbnRzICYmIFwic3RyaW5nXCIgPT0gdHlwZW9mIGIucGFyYW1zLnBhZ2luYXRpb24gJiYgYi5wYWdpbmF0aW9uQ29udGFpbmVyLmxlbmd0aCA+IDEgJiYgMSA9PT0gYi5jb250YWluZXIuZmluZChiLnBhcmFtcy5wYWdpbmF0aW9uKS5sZW5ndGggJiYgKGIucGFnaW5hdGlvbkNvbnRhaW5lciA9IGIuY29udGFpbmVyLmZpbmQoYi5wYXJhbXMucGFnaW5hdGlvbikpLCBcImJ1bGxldHNcIiA9PT0gYi5wYXJhbXMucGFnaW5hdGlvblR5cGUgJiYgYi5wYXJhbXMucGFnaW5hdGlvbkNsaWNrYWJsZSA/IGIucGFnaW5hdGlvbkNvbnRhaW5lci5hZGRDbGFzcyhcInN3aXBlci1wYWdpbmF0aW9uLWNsaWNrYWJsZVwiKSA6IGIucGFyYW1zLnBhZ2luYXRpb25DbGlja2FibGUgPSAhMSwgYi5wYWdpbmF0aW9uQ29udGFpbmVyLmFkZENsYXNzKFwic3dpcGVyLXBhZ2luYXRpb24tXCIgKyBiLnBhcmFtcy5wYWdpbmF0aW9uVHlwZSkpLCAoYi5wYXJhbXMubmV4dEJ1dHRvbiB8fCBiLnBhcmFtcy5wcmV2QnV0dG9uKSAmJiAoYi5wYXJhbXMubmV4dEJ1dHRvbiAmJiAoYi5uZXh0QnV0dG9uID0gYShiLnBhcmFtcy5uZXh0QnV0dG9uKSwgYi5wYXJhbXMudW5pcXVlTmF2RWxlbWVudHMgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgYi5wYXJhbXMubmV4dEJ1dHRvbiAmJiBiLm5leHRCdXR0b24ubGVuZ3RoID4gMSAmJiAxID09PSBiLmNvbnRhaW5lci5maW5kKGIucGFyYW1zLm5leHRCdXR0b24pLmxlbmd0aCAmJiAoYi5uZXh0QnV0dG9uID0gYi5jb250YWluZXIuZmluZChiLnBhcmFtcy5uZXh0QnV0dG9uKSkpLCBiLnBhcmFtcy5wcmV2QnV0dG9uICYmIChiLnByZXZCdXR0b24gPSBhKGIucGFyYW1zLnByZXZCdXR0b24pLCBiLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyAmJiBcInN0cmluZ1wiID09IHR5cGVvZiBiLnBhcmFtcy5wcmV2QnV0dG9uICYmIGIucHJldkJ1dHRvbi5sZW5ndGggPiAxICYmIDEgPT09IGIuY29udGFpbmVyLmZpbmQoYi5wYXJhbXMucHJldkJ1dHRvbikubGVuZ3RoICYmIChiLnByZXZCdXR0b24gPSBiLmNvbnRhaW5lci5maW5kKGIucGFyYW1zLnByZXZCdXR0b24pKSkpLCBiLmlzSG9yaXpvbnRhbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gXCJob3Jpem9udGFsXCIgPT09IGIucGFyYW1zLmRpcmVjdGlvblxuXHRcdFx0fSwgYi5ydGwgPSBiLmlzSG9yaXpvbnRhbCgpICYmIChcInJ0bFwiID09PSBiLmNvbnRhaW5lclswXS5kaXIudG9Mb3dlckNhc2UoKSB8fCBcInJ0bFwiID09PSBiLmNvbnRhaW5lci5jc3MoXCJkaXJlY3Rpb25cIikpLCBiLnJ0bCAmJiBiLmNsYXNzTmFtZXMucHVzaChcInN3aXBlci1jb250YWluZXItcnRsXCIpLCBiLnJ0bCAmJiAoYi53cm9uZ1JUTCA9IFwiLXdlYmtpdC1ib3hcIiA9PT0gYi53cmFwcGVyLmNzcyhcImRpc3BsYXlcIikpLCBiLnBhcmFtcy5zbGlkZXNQZXJDb2x1bW4gPiAxICYmIGIuY2xhc3NOYW1lcy5wdXNoKFwic3dpcGVyLWNvbnRhaW5lci1tdWx0aXJvd1wiKSwgYi5kZXZpY2UuYW5kcm9pZCAmJiBiLmNsYXNzTmFtZXMucHVzaChcInN3aXBlci1jb250YWluZXItYW5kcm9pZFwiKSwgYi5jb250YWluZXIuYWRkQ2xhc3MoYi5jbGFzc05hbWVzLmpvaW4oXCIgXCIpKSwgYi50cmFuc2xhdGUgPSAwLCBiLnByb2dyZXNzID0gMCwgYi52ZWxvY2l0eSA9IDAsIGIubG9ja1N3aXBlVG9OZXh0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGIucGFyYW1zLmFsbG93U3dpcGVUb05leHQgPSAhMVxuXHRcdFx0fSwgYi5sb2NrU3dpcGVUb1ByZXYgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0Yi5wYXJhbXMuYWxsb3dTd2lwZVRvUHJldiA9ICExXG5cdFx0XHR9LCBiLmxvY2tTd2lwZXMgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0Yi5wYXJhbXMuYWxsb3dTd2lwZVRvTmV4dCA9IGIucGFyYW1zLmFsbG93U3dpcGVUb1ByZXYgPSAhMVxuXHRcdFx0fSwgYi51bmxvY2tTd2lwZVRvTmV4dCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRiLnBhcmFtcy5hbGxvd1N3aXBlVG9OZXh0ID0gITBcblx0XHRcdH0sIGIudW5sb2NrU3dpcGVUb1ByZXYgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0Yi5wYXJhbXMuYWxsb3dTd2lwZVRvUHJldiA9ICEwXG5cdFx0XHR9LCBiLnVubG9ja1N3aXBlcyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRiLnBhcmFtcy5hbGxvd1N3aXBlVG9OZXh0ID0gYi5wYXJhbXMuYWxsb3dTd2lwZVRvUHJldiA9ICEwXG5cdFx0XHR9LCBiLnBhcmFtcy5ncmFiQ3Vyc29yICYmIChiLmNvbnRhaW5lclswXS5zdHlsZS5jdXJzb3IgPSBcIm1vdmVcIiwgYi5jb250YWluZXJbMF0uc3R5bGUuY3Vyc29yID0gXCItd2Via2l0LWdyYWJcIiwgYi5jb250YWluZXJbMF0uc3R5bGUuY3Vyc29yID0gXCItbW96LWdyYWJcIiwgYi5jb250YWluZXJbMF0uc3R5bGUuY3Vyc29yID0gXCJncmFiXCIpLCBiLmltYWdlc1RvTG9hZCA9IFtdLCBiLmltYWdlc0xvYWRlZCA9IDAsIGIubG9hZEltYWdlID0gZnVuY3Rpb24oZSwgYSwgdCwgciwgaSkge1xuXHRcdFx0XHRmdW5jdGlvbiBzKCkge1xuXHRcdFx0XHRcdGkgJiYgaSgpXG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyIG47XG5cdFx0XHRcdGUuY29tcGxldGUgJiYgciA/IHMoKSA6IGEgPyAobiA9IG5ldyB3aW5kb3cuSW1hZ2UsIG4ub25sb2FkID0gcywgbi5vbmVycm9yID0gcywgdCAmJiAobi5zcmNzZXQgPSB0KSwgYSAmJiAobi5zcmMgPSBhKSkgOiBzKClcblx0XHRcdH0sIGIucHJlbG9hZEltYWdlcyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRmdW5jdGlvbiBlKCkge1xuXHRcdFx0XHRcdFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGIgJiYgbnVsbCAhPT0gYiAmJiAodm9pZCAwICE9PSBiLmltYWdlc0xvYWRlZCAmJiBiLmltYWdlc0xvYWRlZCsrLCBiLmltYWdlc0xvYWRlZCA9PT0gYi5pbWFnZXNUb0xvYWQubGVuZ3RoICYmIChiLnBhcmFtcy51cGRhdGVPbkltYWdlc1JlYWR5ICYmIGIudXBkYXRlKCksIGIuZW1pdChcIm9uSW1hZ2VzUmVhZHlcIiwgYikpKVxuXHRcdFx0XHR9XG5cdFx0XHRcdGIuaW1hZ2VzVG9Mb2FkID0gYi5jb250YWluZXIuZmluZChcImltZ1wiKTtcblx0XHRcdFx0Zm9yICh2YXIgYSA9IDA7IGEgPCBiLmltYWdlc1RvTG9hZC5sZW5ndGg7IGErKykgYi5sb2FkSW1hZ2UoYi5pbWFnZXNUb0xvYWRbYV0sIGIuaW1hZ2VzVG9Mb2FkW2FdLmN1cnJlbnRTcmMgfHwgYi5pbWFnZXNUb0xvYWRbYV0uZ2V0QXR0cmlidXRlKFwic3JjXCIpLCBiLmltYWdlc1RvTG9hZFthXS5zcmNzZXQgfHwgYi5pbWFnZXNUb0xvYWRbYV0uZ2V0QXR0cmlidXRlKFwic3Jjc2V0XCIpLCAhMCwgZSlcblx0XHRcdH0sIGIuYXV0b3BsYXlUaW1lb3V0SWQgPSB2b2lkIDAsIGIuYXV0b3BsYXlpbmcgPSAhMSwgYi5hdXRvcGxheVBhdXNlZCA9ICExLCBiLnN0YXJ0QXV0b3BsYXkgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGIuYXV0b3BsYXlUaW1lb3V0SWQgPyAhMSA6IGIucGFyYW1zLmF1dG9wbGF5ID8gYi5hdXRvcGxheWluZyA/ICExIDogKGIuYXV0b3BsYXlpbmcgPSAhMCwgYi5lbWl0KFwib25BdXRvcGxheVN0YXJ0XCIsIGIpLCB2b2lkIG4oKSkgOiAhMVxuXHRcdFx0fSwgYi5zdG9wQXV0b3BsYXkgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGIuYXV0b3BsYXlUaW1lb3V0SWQgJiYgKGIuYXV0b3BsYXlUaW1lb3V0SWQgJiYgY2xlYXJUaW1lb3V0KGIuYXV0b3BsYXlUaW1lb3V0SWQpLCBiLmF1dG9wbGF5aW5nID0gITEsIGIuYXV0b3BsYXlUaW1lb3V0SWQgPSB2b2lkIDAsIGIuZW1pdChcIm9uQXV0b3BsYXlTdG9wXCIsIGIpKVxuXHRcdFx0fSwgYi5wYXVzZUF1dG9wbGF5ID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRiLmF1dG9wbGF5UGF1c2VkIHx8IChiLmF1dG9wbGF5VGltZW91dElkICYmIGNsZWFyVGltZW91dChiLmF1dG9wbGF5VGltZW91dElkKSwgYi5hdXRvcGxheVBhdXNlZCA9ICEwLCAwID09PSBlID8gKGIuYXV0b3BsYXlQYXVzZWQgPSAhMSwgbigpKSA6IGIud3JhcHBlci50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGIgJiYgKGIuYXV0b3BsYXlQYXVzZWQgPSAhMSwgYi5hdXRvcGxheWluZyA/IG4oKSA6IGIuc3RvcEF1dG9wbGF5KCkpXG5cdFx0XHRcdH0pKVxuXHRcdFx0fSwgYi5taW5UcmFuc2xhdGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIC1iLnNuYXBHcmlkWzBdXG5cdFx0XHR9LCBiLm1heFRyYW5zbGF0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gLWIuc25hcEdyaWRbYi5zbmFwR3JpZC5sZW5ndGggLSAxXVxuXHRcdFx0fSwgYi51cGRhdGVBdXRvSGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBlID0gYi5zbGlkZXMuZXEoYi5hY3RpdmVJbmRleClbMF07XG5cdFx0XHRcdGlmIChcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBlKSB7XG5cdFx0XHRcdFx0dmFyIGEgPSBlLm9mZnNldEhlaWdodDtcblx0XHRcdFx0XHRhICYmIGIud3JhcHBlci5jc3MoXCJoZWlnaHRcIiwgYSArIFwicHhcIilcblx0XHRcdFx0fVxuXHRcdFx0fSwgYi51cGRhdGVDb250YWluZXJTaXplID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBlLCBhO1xuXHRcdFx0XHRlID0gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgYi5wYXJhbXMud2lkdGggPyBiLnBhcmFtcy53aWR0aCA6IGIuY29udGFpbmVyWzBdLmNsaWVudFdpZHRoLCBhID0gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgYi5wYXJhbXMuaGVpZ2h0ID8gYi5wYXJhbXMuaGVpZ2h0IDogYi5jb250YWluZXJbMF0uY2xpZW50SGVpZ2h0LCAwID09PSBlICYmIGIuaXNIb3Jpem9udGFsKCkgfHwgMCA9PT0gYSAmJiAhYi5pc0hvcml6b250YWwoKSB8fCAoZSA9IGUgLSBwYXJzZUludChiLmNvbnRhaW5lci5jc3MoXCJwYWRkaW5nLWxlZnRcIiksIDEwKSAtIHBhcnNlSW50KGIuY29udGFpbmVyLmNzcyhcInBhZGRpbmctcmlnaHRcIiksIDEwKSwgYSA9IGEgLSBwYXJzZUludChiLmNvbnRhaW5lci5jc3MoXCJwYWRkaW5nLXRvcFwiKSwgMTApIC0gcGFyc2VJbnQoYi5jb250YWluZXIuY3NzKFwicGFkZGluZy1ib3R0b21cIiksIDEwKSwgYi53aWR0aCA9IGUsIGIuaGVpZ2h0ID0gYSwgYi5zaXplID0gYi5pc0hvcml6b250YWwoKSA/IGIud2lkdGggOiBiLmhlaWdodClcblx0XHRcdH0sIGIudXBkYXRlU2xpZGVzU2l6ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRiLnNsaWRlcyA9IGIud3JhcHBlci5jaGlsZHJlbihcIi5cIiArIGIucGFyYW1zLnNsaWRlQ2xhc3MpLCBiLnNuYXBHcmlkID0gW10sIGIuc2xpZGVzR3JpZCA9IFtdLCBiLnNsaWRlc1NpemVzR3JpZCA9IFtdO1xuXHRcdFx0XHR2YXIgZSwgYSA9IGIucGFyYW1zLnNwYWNlQmV0d2Vlbixcblx0XHRcdFx0XHR0ID0gLWIucGFyYW1zLnNsaWRlc09mZnNldEJlZm9yZSxcblx0XHRcdFx0XHRyID0gMCxcblx0XHRcdFx0XHRpID0gMDtcblx0XHRcdFx0aWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGIuc2l6ZSkge1xuXHRcdFx0XHRcdFwic3RyaW5nXCIgPT0gdHlwZW9mIGEgJiYgYS5pbmRleE9mKFwiJVwiKSA+PSAwICYmIChhID0gcGFyc2VGbG9hdChhLnJlcGxhY2UoXCIlXCIsIFwiXCIpKSAvIDEwMCAqIGIuc2l6ZSksIGIudmlydHVhbFNpemUgPSAtYSwgYi5ydGwgPyBiLnNsaWRlcy5jc3Moe1xuXHRcdFx0XHRcdFx0bWFyZ2luTGVmdDogXCJcIixcblx0XHRcdFx0XHRcdG1hcmdpblRvcDogXCJcIlxuXHRcdFx0XHRcdH0pIDogYi5zbGlkZXMuY3NzKHtcblx0XHRcdFx0XHRcdG1hcmdpblJpZ2h0OiBcIlwiLFxuXHRcdFx0XHRcdFx0bWFyZ2luQm90dG9tOiBcIlwiXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0dmFyIG47XG5cdFx0XHRcdFx0Yi5wYXJhbXMuc2xpZGVzUGVyQ29sdW1uID4gMSAmJiAobiA9IE1hdGguZmxvb3IoYi5zbGlkZXMubGVuZ3RoIC8gYi5wYXJhbXMuc2xpZGVzUGVyQ29sdW1uKSA9PT0gYi5zbGlkZXMubGVuZ3RoIC8gYi5wYXJhbXMuc2xpZGVzUGVyQ29sdW1uID8gYi5zbGlkZXMubGVuZ3RoIDogTWF0aC5jZWlsKGIuc2xpZGVzLmxlbmd0aCAvIGIucGFyYW1zLnNsaWRlc1BlckNvbHVtbikgKiBiLnBhcmFtcy5zbGlkZXNQZXJDb2x1bW4sIFwiYXV0b1wiICE9PSBiLnBhcmFtcy5zbGlkZXNQZXJWaWV3ICYmIFwicm93XCIgPT09IGIucGFyYW1zLnNsaWRlc1BlckNvbHVtbkZpbGwgJiYgKG4gPSBNYXRoLm1heChuLCBiLnBhcmFtcy5zbGlkZXNQZXJWaWV3ICogYi5wYXJhbXMuc2xpZGVzUGVyQ29sdW1uKSkpO1xuXHRcdFx0XHRcdHZhciBvLCBsID0gYi5wYXJhbXMuc2xpZGVzUGVyQ29sdW1uLFxuXHRcdFx0XHRcdFx0cCA9IG4gLyBsLFxuXHRcdFx0XHRcdFx0ZCA9IHAgLSAoYi5wYXJhbXMuc2xpZGVzUGVyQ29sdW1uICogcCAtIGIuc2xpZGVzLmxlbmd0aCk7XG5cdFx0XHRcdFx0Zm9yIChlID0gMDsgZSA8IGIuc2xpZGVzLmxlbmd0aDsgZSsrKSB7XG5cdFx0XHRcdFx0XHRvID0gMDtcblx0XHRcdFx0XHRcdHZhciB1ID0gYi5zbGlkZXMuZXEoZSk7XG5cdFx0XHRcdFx0XHRpZiAoYi5wYXJhbXMuc2xpZGVzUGVyQ29sdW1uID4gMSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgYywgbSwgaDtcblx0XHRcdFx0XHRcdFx0XCJjb2x1bW5cIiA9PT0gYi5wYXJhbXMuc2xpZGVzUGVyQ29sdW1uRmlsbCA/IChtID0gTWF0aC5mbG9vcihlIC8gbCksIGggPSBlIC0gbSAqIGwsIChtID4gZCB8fCBtID09PSBkICYmIGggPT09IGwgLSAxKSAmJiArK2ggPj0gbCAmJiAoaCA9IDAsIG0rKyksIGMgPSBtICsgaCAqIG4gLyBsLCB1LmNzcyh7XG5cdFx0XHRcdFx0XHRcdFx0XCItd2Via2l0LWJveC1vcmRpbmFsLWdyb3VwXCI6IGMsXG5cdFx0XHRcdFx0XHRcdFx0XCItbW96LWJveC1vcmRpbmFsLWdyb3VwXCI6IGMsXG5cdFx0XHRcdFx0XHRcdFx0XCItbXMtZmxleC1vcmRlclwiOiBjLFxuXHRcdFx0XHRcdFx0XHRcdFwiLXdlYmtpdC1vcmRlclwiOiBjLFxuXHRcdFx0XHRcdFx0XHRcdG9yZGVyOiBjXG5cdFx0XHRcdFx0XHRcdH0pKSA6IChoID0gTWF0aC5mbG9vcihlIC8gcCksIG0gPSBlIC0gaCAqIHApLCB1LmNzcyh7XG5cdFx0XHRcdFx0XHRcdFx0XCJtYXJnaW4tdG9wXCI6IDAgIT09IGggJiYgYi5wYXJhbXMuc3BhY2VCZXR3ZWVuICYmIGIucGFyYW1zLnNwYWNlQmV0d2VlbiArIFwicHhcIlxuXHRcdFx0XHRcdFx0XHR9KS5hdHRyKFwiZGF0YS1zd2lwZXItY29sdW1uXCIsIG0pLmF0dHIoXCJkYXRhLXN3aXBlci1yb3dcIiwgaClcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFwibm9uZVwiICE9PSB1LmNzcyhcImRpc3BsYXlcIikgJiYgKFwiYXV0b1wiID09PSBiLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID8gKG8gPSBiLmlzSG9yaXpvbnRhbCgpID8gdS5vdXRlcldpZHRoKCEwKSA6IHUub3V0ZXJIZWlnaHQoITApLCBiLnBhcmFtcy5yb3VuZExlbmd0aHMgJiYgKG8gPSBzKG8pKSkgOiAobyA9IChiLnNpemUgLSAoYi5wYXJhbXMuc2xpZGVzUGVyVmlldyAtIDEpICogYSkgLyBiLnBhcmFtcy5zbGlkZXNQZXJWaWV3LCBiLnBhcmFtcy5yb3VuZExlbmd0aHMgJiYgKG8gPSBzKG8pKSwgYi5pc0hvcml6b250YWwoKSA/IGIuc2xpZGVzW2VdLnN0eWxlLndpZHRoID0gbyArIFwicHhcIiA6IGIuc2xpZGVzW2VdLnN0eWxlLmhlaWdodCA9IG8gKyBcInB4XCIpLCBiLnNsaWRlc1tlXS5zd2lwZXJTbGlkZVNpemUgPSBvLCBiLnNsaWRlc1NpemVzR3JpZC5wdXNoKG8pLCBiLnBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/ICh0ID0gdCArIG8gLyAyICsgciAvIDIgKyBhLCAwID09PSBlICYmICh0ID0gdCAtIGIuc2l6ZSAvIDIgLSBhKSwgTWF0aC5hYnModCkgPCAuMDAxICYmICh0ID0gMCksIGkgJSBiLnBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMCAmJiBiLnNuYXBHcmlkLnB1c2godCksIGIuc2xpZGVzR3JpZC5wdXNoKHQpKSA6IChpICUgYi5wYXJhbXMuc2xpZGVzUGVyR3JvdXAgPT09IDAgJiYgYi5zbmFwR3JpZC5wdXNoKHQpLCBiLnNsaWRlc0dyaWQucHVzaCh0KSwgdCA9IHQgKyBvICsgYSksIGIudmlydHVhbFNpemUgKz0gbyArIGEsIHIgPSBvLCBpKyspXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGIudmlydHVhbFNpemUgPSBNYXRoLm1heChiLnZpcnR1YWxTaXplLCBiLnNpemUpICsgYi5wYXJhbXMuc2xpZGVzT2Zmc2V0QWZ0ZXI7XG5cdFx0XHRcdFx0dmFyIGY7XG5cdFx0XHRcdFx0aWYgKGIucnRsICYmIGIud3JvbmdSVEwgJiYgKFwic2xpZGVcIiA9PT0gYi5wYXJhbXMuZWZmZWN0IHx8IFwiY292ZXJmbG93XCIgPT09IGIucGFyYW1zLmVmZmVjdCkgJiYgYi53cmFwcGVyLmNzcyh7XG5cdFx0XHRcdFx0XHRcdHdpZHRoOiBiLnZpcnR1YWxTaXplICsgYi5wYXJhbXMuc3BhY2VCZXR3ZWVuICsgXCJweFwiXG5cdFx0XHRcdFx0XHR9KSwgKCFiLnN1cHBvcnQuZmxleGJveCB8fCBiLnBhcmFtcy5zZXRXcmFwcGVyU2l6ZSkgJiYgKGIuaXNIb3Jpem9udGFsKCkgPyBiLndyYXBwZXIuY3NzKHtcblx0XHRcdFx0XHRcdFx0d2lkdGg6IGIudmlydHVhbFNpemUgKyBiLnBhcmFtcy5zcGFjZUJldHdlZW4gKyBcInB4XCJcblx0XHRcdFx0XHRcdH0pIDogYi53cmFwcGVyLmNzcyh7XG5cdFx0XHRcdFx0XHRcdGhlaWdodDogYi52aXJ0dWFsU2l6ZSArIGIucGFyYW1zLnNwYWNlQmV0d2VlbiArIFwicHhcIlxuXHRcdFx0XHRcdFx0fSkpLCBiLnBhcmFtcy5zbGlkZXNQZXJDb2x1bW4gPiAxICYmIChiLnZpcnR1YWxTaXplID0gKG8gKyBiLnBhcmFtcy5zcGFjZUJldHdlZW4pICogbiwgYi52aXJ0dWFsU2l6ZSA9IE1hdGguY2VpbChiLnZpcnR1YWxTaXplIC8gYi5wYXJhbXMuc2xpZGVzUGVyQ29sdW1uKSAtIGIucGFyYW1zLnNwYWNlQmV0d2VlbiwgYi53cmFwcGVyLmNzcyh7XG5cdFx0XHRcdFx0XHRcdHdpZHRoOiBiLnZpcnR1YWxTaXplICsgYi5wYXJhbXMuc3BhY2VCZXR3ZWVuICsgXCJweFwiXG5cdFx0XHRcdFx0XHR9KSwgYi5wYXJhbXMuY2VudGVyZWRTbGlkZXMpKSB7XG5cdFx0XHRcdFx0XHRmb3IgKGYgPSBbXSwgZSA9IDA7IGUgPCBiLnNuYXBHcmlkLmxlbmd0aDsgZSsrKSBiLnNuYXBHcmlkW2VdIDwgYi52aXJ0dWFsU2l6ZSArIGIuc25hcEdyaWRbMF0gJiYgZi5wdXNoKGIuc25hcEdyaWRbZV0pO1xuXHRcdFx0XHRcdFx0Yi5zbmFwR3JpZCA9IGZcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCFiLnBhcmFtcy5jZW50ZXJlZFNsaWRlcykge1xuXHRcdFx0XHRcdFx0Zm9yIChmID0gW10sIGUgPSAwOyBlIDwgYi5zbmFwR3JpZC5sZW5ndGg7IGUrKykgYi5zbmFwR3JpZFtlXSA8PSBiLnZpcnR1YWxTaXplIC0gYi5zaXplICYmIGYucHVzaChiLnNuYXBHcmlkW2VdKTtcblx0XHRcdFx0XHRcdGIuc25hcEdyaWQgPSBmLCBNYXRoLmZsb29yKGIudmlydHVhbFNpemUgLSBiLnNpemUpIC0gTWF0aC5mbG9vcihiLnNuYXBHcmlkW2Iuc25hcEdyaWQubGVuZ3RoIC0gMV0pID4gMSAmJiBiLnNuYXBHcmlkLnB1c2goYi52aXJ0dWFsU2l6ZSAtIGIuc2l6ZSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0MCA9PT0gYi5zbmFwR3JpZC5sZW5ndGggJiYgKGIuc25hcEdyaWQgPSBbMF0pLCAwICE9PSBiLnBhcmFtcy5zcGFjZUJldHdlZW4gJiYgKGIuaXNIb3Jpem9udGFsKCkgPyBiLnJ0bCA/IGIuc2xpZGVzLmNzcyh7XG5cdFx0XHRcdFx0XHRtYXJnaW5MZWZ0OiBhICsgXCJweFwiXG5cdFx0XHRcdFx0fSkgOiBiLnNsaWRlcy5jc3Moe1xuXHRcdFx0XHRcdFx0bWFyZ2luUmlnaHQ6IGEgKyBcInB4XCJcblx0XHRcdFx0XHR9KSA6IGIuc2xpZGVzLmNzcyh7XG5cdFx0XHRcdFx0XHRtYXJnaW5Cb3R0b206IGEgKyBcInB4XCJcblx0XHRcdFx0XHR9KSksIGIucGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgJiYgYi51cGRhdGVTbGlkZXNPZmZzZXQoKVxuXHRcdFx0XHR9XG5cdFx0XHR9LCBiLnVwZGF0ZVNsaWRlc09mZnNldCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRmb3IgKHZhciBlID0gMDsgZSA8IGIuc2xpZGVzLmxlbmd0aDsgZSsrKSBiLnNsaWRlc1tlXS5zd2lwZXJTbGlkZU9mZnNldCA9IGIuaXNIb3Jpem9udGFsKCkgPyBiLnNsaWRlc1tlXS5vZmZzZXRMZWZ0IDogYi5zbGlkZXNbZV0ub2Zmc2V0VG9wXG5cdFx0XHR9LCBiLnVwZGF0ZVNsaWRlc1Byb2dyZXNzID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRpZiAoXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgZSAmJiAoZSA9IGIudHJhbnNsYXRlIHx8IDApLCAwICE9PSBiLnNsaWRlcy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcInVuZGVmaW5lZFwiID09IHR5cGVvZiBiLnNsaWRlc1swXS5zd2lwZXJTbGlkZU9mZnNldCAmJiBiLnVwZGF0ZVNsaWRlc09mZnNldCgpO1xuXHRcdFx0XHRcdHZhciBhID0gLWU7XG5cdFx0XHRcdFx0Yi5ydGwgJiYgKGEgPSBlKSwgYi5zbGlkZXMucmVtb3ZlQ2xhc3MoYi5wYXJhbXMuc2xpZGVWaXNpYmxlQ2xhc3MpO1xuXHRcdFx0XHRcdGZvciAodmFyIHQgPSAwOyB0IDwgYi5zbGlkZXMubGVuZ3RoOyB0KyspIHtcblx0XHRcdFx0XHRcdHZhciByID0gYi5zbGlkZXNbdF0sXG5cdFx0XHRcdFx0XHRcdGkgPSAoYSAtIHIuc3dpcGVyU2xpZGVPZmZzZXQpIC8gKHIuc3dpcGVyU2xpZGVTaXplICsgYi5wYXJhbXMuc3BhY2VCZXR3ZWVuKTtcblx0XHRcdFx0XHRcdGlmIChiLnBhcmFtcy53YXRjaFNsaWRlc1Zpc2liaWxpdHkpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHMgPSAtKGEgLSByLnN3aXBlclNsaWRlT2Zmc2V0KSxcblx0XHRcdFx0XHRcdFx0XHRuID0gcyArIGIuc2xpZGVzU2l6ZXNHcmlkW3RdLFxuXHRcdFx0XHRcdFx0XHRcdG8gPSBzID49IDAgJiYgcyA8IGIuc2l6ZSB8fCBuID4gMCAmJiBuIDw9IGIuc2l6ZSB8fCAwID49IHMgJiYgbiA+PSBiLnNpemU7XG5cdFx0XHRcdFx0XHRcdG8gJiYgYi5zbGlkZXMuZXEodCkuYWRkQ2xhc3MoYi5wYXJhbXMuc2xpZGVWaXNpYmxlQ2xhc3MpXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyLnByb2dyZXNzID0gYi5ydGwgPyAtaSA6IGlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0sIGIudXBkYXRlUHJvZ3Jlc3MgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGUgJiYgKGUgPSBiLnRyYW5zbGF0ZSB8fCAwKTtcblx0XHRcdFx0dmFyIGEgPSBiLm1heFRyYW5zbGF0ZSgpIC0gYi5taW5UcmFuc2xhdGUoKSxcblx0XHRcdFx0XHR0ID0gYi5pc0JlZ2lubmluZyxcblx0XHRcdFx0XHRyID0gYi5pc0VuZDtcblx0XHRcdFx0MCA9PT0gYSA/IChiLnByb2dyZXNzID0gMCwgYi5pc0JlZ2lubmluZyA9IGIuaXNFbmQgPSAhMCkgOiAoYi5wcm9ncmVzcyA9IChlIC0gYi5taW5UcmFuc2xhdGUoKSkgLyBhLCBiLmlzQmVnaW5uaW5nID0gYi5wcm9ncmVzcyA8PSAwLCBiLmlzRW5kID0gYi5wcm9ncmVzcyA+PSAxKSwgYi5pc0JlZ2lubmluZyAmJiAhdCAmJiBiLmVtaXQoXCJvblJlYWNoQmVnaW5uaW5nXCIsIGIpLCBiLmlzRW5kICYmICFyICYmIGIuZW1pdChcIm9uUmVhY2hFbmRcIiwgYiksIGIucGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgJiYgYi51cGRhdGVTbGlkZXNQcm9ncmVzcyhlKSwgYi5lbWl0KFwib25Qcm9ncmVzc1wiLCBiLCBiLnByb2dyZXNzKVxuXHRcdFx0fSwgYi51cGRhdGVBY3RpdmVJbmRleCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZSwgYSwgdCwgciA9IGIucnRsID8gYi50cmFuc2xhdGUgOiAtYi50cmFuc2xhdGU7XG5cdFx0XHRcdGZvciAoYSA9IDA7IGEgPCBiLnNsaWRlc0dyaWQubGVuZ3RoOyBhKyspIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGIuc2xpZGVzR3JpZFthICsgMV0gPyByID49IGIuc2xpZGVzR3JpZFthXSAmJiByIDwgYi5zbGlkZXNHcmlkW2EgKyAxXSAtIChiLnNsaWRlc0dyaWRbYSArIDFdIC0gYi5zbGlkZXNHcmlkW2FdKSAvIDIgPyBlID0gYSA6IHIgPj0gYi5zbGlkZXNHcmlkW2FdICYmIHIgPCBiLnNsaWRlc0dyaWRbYSArIDFdICYmIChlID0gYSArIDEpIDogciA+PSBiLnNsaWRlc0dyaWRbYV0gJiYgKGUgPSBhKTtcblx0XHRcdFx0KDAgPiBlIHx8IFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGUpICYmIChlID0gMCksIHQgPSBNYXRoLmZsb29yKGUgLyBiLnBhcmFtcy5zbGlkZXNQZXJHcm91cCksIHQgPj0gYi5zbmFwR3JpZC5sZW5ndGggJiYgKHQgPSBiLnNuYXBHcmlkLmxlbmd0aCAtIDEpLCBlICE9PSBiLmFjdGl2ZUluZGV4ICYmIChiLnNuYXBJbmRleCA9IHQsIGIucHJldmlvdXNJbmRleCA9IGIuYWN0aXZlSW5kZXgsIGIuYWN0aXZlSW5kZXggPSBlLCBiLnVwZGF0ZUNsYXNzZXMoKSlcblx0XHRcdH0sIGIudXBkYXRlQ2xhc3NlcyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRiLnNsaWRlcy5yZW1vdmVDbGFzcyhiLnBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzICsgXCIgXCIgKyBiLnBhcmFtcy5zbGlkZU5leHRDbGFzcyArIFwiIFwiICsgYi5wYXJhbXMuc2xpZGVQcmV2Q2xhc3MpO1xuXHRcdFx0XHR2YXIgZSA9IGIuc2xpZGVzLmVxKGIuYWN0aXZlSW5kZXgpO1xuXHRcdFx0XHRlLmFkZENsYXNzKGIucGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MpO1xuXHRcdFx0XHR2YXIgdCA9IGUubmV4dChcIi5cIiArIGIucGFyYW1zLnNsaWRlQ2xhc3MpLmFkZENsYXNzKGIucGFyYW1zLnNsaWRlTmV4dENsYXNzKTtcblx0XHRcdFx0Yi5wYXJhbXMubG9vcCAmJiAwID09PSB0Lmxlbmd0aCAmJiBiLnNsaWRlcy5lcSgwKS5hZGRDbGFzcyhiLnBhcmFtcy5zbGlkZU5leHRDbGFzcyk7XG5cdFx0XHRcdHZhciByID0gZS5wcmV2KFwiLlwiICsgYi5wYXJhbXMuc2xpZGVDbGFzcykuYWRkQ2xhc3MoYi5wYXJhbXMuc2xpZGVQcmV2Q2xhc3MpO1xuXHRcdFx0XHRpZiAoYi5wYXJhbXMubG9vcCAmJiAwID09PSByLmxlbmd0aCAmJiBiLnNsaWRlcy5lcSgtMSkuYWRkQ2xhc3MoYi5wYXJhbXMuc2xpZGVQcmV2Q2xhc3MpLCBiLnBhZ2luYXRpb25Db250YWluZXIgJiYgYi5wYWdpbmF0aW9uQ29udGFpbmVyLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHR2YXIgaSwgcyA9IGIucGFyYW1zLmxvb3AgPyBNYXRoLmNlaWwoKGIuc2xpZGVzLmxlbmd0aCAtIDIgKiBiLmxvb3BlZFNsaWRlcykgLyBiLnBhcmFtcy5zbGlkZXNQZXJHcm91cCkgOiBiLnNuYXBHcmlkLmxlbmd0aDtcblx0XHRcdFx0XHRpZiAoYi5wYXJhbXMubG9vcCA/IChpID0gTWF0aC5jZWlsKChiLmFjdGl2ZUluZGV4IC0gYi5sb29wZWRTbGlkZXMpIC8gYi5wYXJhbXMuc2xpZGVzUGVyR3JvdXApLCBpID4gYi5zbGlkZXMubGVuZ3RoIC0gMSAtIDIgKiBiLmxvb3BlZFNsaWRlcyAmJiAoaSAtPSBiLnNsaWRlcy5sZW5ndGggLSAyICogYi5sb29wZWRTbGlkZXMpLCBpID4gcyAtIDEgJiYgKGkgLT0gcyksIDAgPiBpICYmIFwiYnVsbGV0c1wiICE9PSBiLnBhcmFtcy5wYWdpbmF0aW9uVHlwZSAmJiAoaSA9IHMgKyBpKSkgOiBpID0gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgYi5zbmFwSW5kZXggPyBiLnNuYXBJbmRleCA6IGIuYWN0aXZlSW5kZXggfHwgMCwgXCJidWxsZXRzXCIgPT09IGIucGFyYW1zLnBhZ2luYXRpb25UeXBlICYmIGIuYnVsbGV0cyAmJiBiLmJ1bGxldHMubGVuZ3RoID4gMCAmJiAoYi5idWxsZXRzLnJlbW92ZUNsYXNzKGIucGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzKSwgYi5wYWdpbmF0aW9uQ29udGFpbmVyLmxlbmd0aCA+IDEgPyBiLmJ1bGxldHMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0YSh0aGlzKS5pbmRleCgpID09PSBpICYmIGEodGhpcykuYWRkQ2xhc3MoYi5wYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MpXG5cdFx0XHRcdFx0XHR9KSA6IGIuYnVsbGV0cy5lcShpKS5hZGRDbGFzcyhiLnBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcykpLCBcImZyYWN0aW9uXCIgPT09IGIucGFyYW1zLnBhZ2luYXRpb25UeXBlICYmIChiLnBhZ2luYXRpb25Db250YWluZXIuZmluZChcIi5cIiArIGIucGFyYW1zLnBhZ2luYXRpb25DdXJyZW50Q2xhc3MpLnRleHQoaSArIDEpLCBiLnBhZ2luYXRpb25Db250YWluZXIuZmluZChcIi5cIiArIGIucGFyYW1zLnBhZ2luYXRpb25Ub3RhbENsYXNzKS50ZXh0KHMpKSwgXCJwcm9ncmVzc1wiID09PSBiLnBhcmFtcy5wYWdpbmF0aW9uVHlwZSkge1xuXHRcdFx0XHRcdFx0dmFyIG4gPSAoaSArIDEpIC8gcyxcblx0XHRcdFx0XHRcdFx0byA9IG4sXG5cdFx0XHRcdFx0XHRcdGwgPSAxO1xuXHRcdFx0XHRcdFx0Yi5pc0hvcml6b250YWwoKSB8fCAobCA9IG4sIG8gPSAxKSwgYi5wYWdpbmF0aW9uQ29udGFpbmVyLmZpbmQoXCIuXCIgKyBiLnBhcmFtcy5wYWdpbmF0aW9uUHJvZ3Jlc3NiYXJDbGFzcykudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlWChcIiArIG8gKyBcIikgc2NhbGVZKFwiICsgbCArIFwiKVwiKS50cmFuc2l0aW9uKGIucGFyYW1zLnNwZWVkKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcImN1c3RvbVwiID09PSBiLnBhcmFtcy5wYWdpbmF0aW9uVHlwZSAmJiBiLnBhcmFtcy5wYWdpbmF0aW9uQ3VzdG9tUmVuZGVyICYmIChiLnBhZ2luYXRpb25Db250YWluZXIuaHRtbChiLnBhcmFtcy5wYWdpbmF0aW9uQ3VzdG9tUmVuZGVyKGIsIGkgKyAxLCBzKSksIGIuZW1pdChcIm9uUGFnaW5hdGlvblJlbmRlcmVkXCIsIGIsIGIucGFnaW5hdGlvbkNvbnRhaW5lclswXSkpXG5cdFx0XHRcdH1cblx0XHRcdFx0Yi5wYXJhbXMubG9vcCB8fCAoYi5wYXJhbXMucHJldkJ1dHRvbiAmJiBiLnByZXZCdXR0b24gJiYgYi5wcmV2QnV0dG9uLmxlbmd0aCA+IDAgJiYgKGIuaXNCZWdpbm5pbmcgPyAoYi5wcmV2QnV0dG9uLmFkZENsYXNzKGIucGFyYW1zLmJ1dHRvbkRpc2FibGVkQ2xhc3MpLCBiLnBhcmFtcy5hMTF5ICYmIGIuYTExeSAmJiBiLmExMXkuZGlzYWJsZShiLnByZXZCdXR0b24pKSA6IChiLnByZXZCdXR0b24ucmVtb3ZlQ2xhc3MoYi5wYXJhbXMuYnV0dG9uRGlzYWJsZWRDbGFzcyksIGIucGFyYW1zLmExMXkgJiYgYi5hMTF5ICYmIGIuYTExeS5lbmFibGUoYi5wcmV2QnV0dG9uKSkpLCBiLnBhcmFtcy5uZXh0QnV0dG9uICYmIGIubmV4dEJ1dHRvbiAmJiBiLm5leHRCdXR0b24ubGVuZ3RoID4gMCAmJiAoYi5pc0VuZCA/IChiLm5leHRCdXR0b24uYWRkQ2xhc3MoYi5wYXJhbXMuYnV0dG9uRGlzYWJsZWRDbGFzcyksIGIucGFyYW1zLmExMXkgJiYgYi5hMTF5ICYmIGIuYTExeS5kaXNhYmxlKGIubmV4dEJ1dHRvbikpIDogKGIubmV4dEJ1dHRvbi5yZW1vdmVDbGFzcyhiLnBhcmFtcy5idXR0b25EaXNhYmxlZENsYXNzKSwgYi5wYXJhbXMuYTExeSAmJiBiLmExMXkgJiYgYi5hMTF5LmVuYWJsZShiLm5leHRCdXR0b24pKSkpXG5cdFx0XHR9LCBiLnVwZGF0ZVBhZ2luYXRpb24gPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKGIucGFyYW1zLnBhZ2luYXRpb24gJiYgYi5wYWdpbmF0aW9uQ29udGFpbmVyICYmIGIucGFnaW5hdGlvbkNvbnRhaW5lci5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0dmFyIGUgPSBcIlwiO1xuXHRcdFx0XHRcdGlmIChcImJ1bGxldHNcIiA9PT0gYi5wYXJhbXMucGFnaW5hdGlvblR5cGUpIHtcblx0XHRcdFx0XHRcdGZvciAodmFyIGEgPSBiLnBhcmFtcy5sb29wID8gTWF0aC5jZWlsKChiLnNsaWRlcy5sZW5ndGggLSAyICogYi5sb29wZWRTbGlkZXMpIC8gYi5wYXJhbXMuc2xpZGVzUGVyR3JvdXApIDogYi5zbmFwR3JpZC5sZW5ndGgsIHQgPSAwOyBhID4gdDsgdCsrKSBlICs9IGIucGFyYW1zLnBhZ2luYXRpb25CdWxsZXRSZW5kZXIgPyBiLnBhcmFtcy5wYWdpbmF0aW9uQnVsbGV0UmVuZGVyKHQsIGIucGFyYW1zLmJ1bGxldENsYXNzKSA6IFwiPFwiICsgYi5wYXJhbXMucGFnaW5hdGlvbkVsZW1lbnQgKyAnIGNsYXNzPVwiJyArIGIucGFyYW1zLmJ1bGxldENsYXNzICsgJ1wiPjwvJyArIGIucGFyYW1zLnBhZ2luYXRpb25FbGVtZW50ICsgXCI+XCI7XG5cdFx0XHRcdFx0XHRiLnBhZ2luYXRpb25Db250YWluZXIuaHRtbChlKSwgYi5idWxsZXRzID0gYi5wYWdpbmF0aW9uQ29udGFpbmVyLmZpbmQoXCIuXCIgKyBiLnBhcmFtcy5idWxsZXRDbGFzcyksIGIucGFyYW1zLnBhZ2luYXRpb25DbGlja2FibGUgJiYgYi5wYXJhbXMuYTExeSAmJiBiLmExMXkgJiYgYi5hMTF5LmluaXRQYWdpbmF0aW9uKClcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XCJmcmFjdGlvblwiID09PSBiLnBhcmFtcy5wYWdpbmF0aW9uVHlwZSAmJiAoZSA9IGIucGFyYW1zLnBhZ2luYXRpb25GcmFjdGlvblJlbmRlciA/IGIucGFyYW1zLnBhZ2luYXRpb25GcmFjdGlvblJlbmRlcihiLCBiLnBhcmFtcy5wYWdpbmF0aW9uQ3VycmVudENsYXNzLCBiLnBhcmFtcy5wYWdpbmF0aW9uVG90YWxDbGFzcykgOiAnPHNwYW4gY2xhc3M9XCInICsgYi5wYXJhbXMucGFnaW5hdGlvbkN1cnJlbnRDbGFzcyArICdcIj48L3NwYW4+IC8gPHNwYW4gY2xhc3M9XCInICsgYi5wYXJhbXMucGFnaW5hdGlvblRvdGFsQ2xhc3MgKyAnXCI+PC9zcGFuPicsIGIucGFnaW5hdGlvbkNvbnRhaW5lci5odG1sKGUpKSwgXCJwcm9ncmVzc1wiID09PSBiLnBhcmFtcy5wYWdpbmF0aW9uVHlwZSAmJiAoZSA9IGIucGFyYW1zLnBhZ2luYXRpb25Qcm9ncmVzc1JlbmRlciA/IGIucGFyYW1zLnBhZ2luYXRpb25Qcm9ncmVzc1JlbmRlcihiLCBiLnBhcmFtcy5wYWdpbmF0aW9uUHJvZ3Jlc3NiYXJDbGFzcykgOiAnPHNwYW4gY2xhc3M9XCInICsgYi5wYXJhbXMucGFnaW5hdGlvblByb2dyZXNzYmFyQ2xhc3MgKyAnXCI+PC9zcGFuPicsIGIucGFnaW5hdGlvbkNvbnRhaW5lci5odG1sKGUpKSwgXCJjdXN0b21cIiAhPT0gYi5wYXJhbXMucGFnaW5hdGlvblR5cGUgJiYgYi5lbWl0KFwib25QYWdpbmF0aW9uUmVuZGVyZWRcIiwgYiwgYi5wYWdpbmF0aW9uQ29udGFpbmVyWzBdKVxuXHRcdFx0XHR9XG5cdFx0XHR9LCBiLnVwZGF0ZSA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0ZnVuY3Rpb24gYSgpIHtcblx0XHRcdFx0XHRyID0gTWF0aC5taW4oTWF0aC5tYXgoYi50cmFuc2xhdGUsIGIubWF4VHJhbnNsYXRlKCkpLCBiLm1pblRyYW5zbGF0ZSgpKSwgYi5zZXRXcmFwcGVyVHJhbnNsYXRlKHIpLCBiLnVwZGF0ZUFjdGl2ZUluZGV4KCksIGIudXBkYXRlQ2xhc3NlcygpXG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGIudXBkYXRlQ29udGFpbmVyU2l6ZSgpLCBiLnVwZGF0ZVNsaWRlc1NpemUoKSwgYi51cGRhdGVQcm9ncmVzcygpLCBiLnVwZGF0ZVBhZ2luYXRpb24oKSwgYi51cGRhdGVDbGFzc2VzKCksIGIucGFyYW1zLnNjcm9sbGJhciAmJiBiLnNjcm9sbGJhciAmJiBiLnNjcm9sbGJhci5zZXQoKSwgZSkge1xuXHRcdFx0XHRcdHZhciB0LCByO1xuXHRcdFx0XHRcdGIuY29udHJvbGxlciAmJiBiLmNvbnRyb2xsZXIuc3BsaW5lICYmIChiLmNvbnRyb2xsZXIuc3BsaW5lID0gdm9pZCAwKSwgYi5wYXJhbXMuZnJlZU1vZGUgPyAoYSgpLCBiLnBhcmFtcy5hdXRvSGVpZ2h0ICYmIGIudXBkYXRlQXV0b0hlaWdodCgpKSA6ICh0ID0gKFwiYXV0b1wiID09PSBiLnBhcmFtcy5zbGlkZXNQZXJWaWV3IHx8IGIucGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxKSAmJiBiLmlzRW5kICYmICFiLnBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IGIuc2xpZGVUbyhiLnNsaWRlcy5sZW5ndGggLSAxLCAwLCAhMSwgITApIDogYi5zbGlkZVRvKGIuYWN0aXZlSW5kZXgsIDAsICExLCAhMCksIHQgfHwgYSgpKVxuXHRcdFx0XHR9IGVsc2UgYi5wYXJhbXMuYXV0b0hlaWdodCAmJiBiLnVwZGF0ZUF1dG9IZWlnaHQoKVxuXHRcdFx0fSwgYi5vblJlc2l6ZSA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0Yi5wYXJhbXMuYnJlYWtwb2ludHMgJiYgYi5zZXRCcmVha3BvaW50KCk7XG5cdFx0XHRcdHZhciBhID0gYi5wYXJhbXMuYWxsb3dTd2lwZVRvUHJldixcblx0XHRcdFx0XHR0ID0gYi5wYXJhbXMuYWxsb3dTd2lwZVRvTmV4dDtcblx0XHRcdFx0Yi5wYXJhbXMuYWxsb3dTd2lwZVRvUHJldiA9IGIucGFyYW1zLmFsbG93U3dpcGVUb05leHQgPSAhMCwgYi51cGRhdGVDb250YWluZXJTaXplKCksIGIudXBkYXRlU2xpZGVzU2l6ZSgpLCAoXCJhdXRvXCIgPT09IGIucGFyYW1zLnNsaWRlc1BlclZpZXcgfHwgYi5wYXJhbXMuZnJlZU1vZGUgfHwgZSkgJiYgYi51cGRhdGVQYWdpbmF0aW9uKCksIGIucGFyYW1zLnNjcm9sbGJhciAmJiBiLnNjcm9sbGJhciAmJiBiLnNjcm9sbGJhci5zZXQoKSwgYi5jb250cm9sbGVyICYmIGIuY29udHJvbGxlci5zcGxpbmUgJiYgKGIuY29udHJvbGxlci5zcGxpbmUgPSB2b2lkIDApO1xuXHRcdFx0XHR2YXIgciA9ICExO1xuXHRcdFx0XHRpZiAoYi5wYXJhbXMuZnJlZU1vZGUpIHtcblx0XHRcdFx0XHR2YXIgaSA9IE1hdGgubWluKE1hdGgubWF4KGIudHJhbnNsYXRlLCBiLm1heFRyYW5zbGF0ZSgpKSwgYi5taW5UcmFuc2xhdGUoKSk7XG5cdFx0XHRcdFx0Yi5zZXRXcmFwcGVyVHJhbnNsYXRlKGkpLCBiLnVwZGF0ZUFjdGl2ZUluZGV4KCksIGIudXBkYXRlQ2xhc3NlcygpLCBiLnBhcmFtcy5hdXRvSGVpZ2h0ICYmIGIudXBkYXRlQXV0b0hlaWdodCgpXG5cdFx0XHRcdH0gZWxzZSBiLnVwZGF0ZUNsYXNzZXMoKSwgciA9IChcImF1dG9cIiA9PT0gYi5wYXJhbXMuc2xpZGVzUGVyVmlldyB8fCBiLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID4gMSkgJiYgYi5pc0VuZCAmJiAhYi5wYXJhbXMuY2VudGVyZWRTbGlkZXMgPyBiLnNsaWRlVG8oYi5zbGlkZXMubGVuZ3RoIC0gMSwgMCwgITEsICEwKSA6IGIuc2xpZGVUbyhiLmFjdGl2ZUluZGV4LCAwLCAhMSwgITApO1xuXHRcdFx0XHRiLnBhcmFtcy5sYXp5TG9hZGluZyAmJiAhciAmJiBiLmxhenkgJiYgYi5sYXp5LmxvYWQoKSwgYi5wYXJhbXMuYWxsb3dTd2lwZVRvUHJldiA9IGEsIGIucGFyYW1zLmFsbG93U3dpcGVUb05leHQgPSB0XG5cdFx0XHR9O1xuXHRcdFx0dmFyIFQgPSBbXCJtb3VzZWRvd25cIiwgXCJtb3VzZW1vdmVcIiwgXCJtb3VzZXVwXCJdO1xuXHRcdFx0d2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCA/IFQgPSBbXCJwb2ludGVyZG93blwiLCBcInBvaW50ZXJtb3ZlXCIsIFwicG9pbnRlcnVwXCJdIDogd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkICYmIChUID0gW1wiTVNQb2ludGVyRG93blwiLCBcIk1TUG9pbnRlck1vdmVcIiwgXCJNU1BvaW50ZXJVcFwiXSksIGIudG91Y2hFdmVudHMgPSB7XG5cdFx0XHRcdHN0YXJ0OiBiLnN1cHBvcnQudG91Y2ggfHwgIWIucGFyYW1zLnNpbXVsYXRlVG91Y2ggPyBcInRvdWNoc3RhcnRcIiA6IFRbMF0sXG5cdFx0XHRcdG1vdmU6IGIuc3VwcG9ydC50b3VjaCB8fCAhYi5wYXJhbXMuc2ltdWxhdGVUb3VjaCA/IFwidG91Y2htb3ZlXCIgOiBUWzFdLFxuXHRcdFx0XHRlbmQ6IGIuc3VwcG9ydC50b3VjaCB8fCAhYi5wYXJhbXMuc2ltdWxhdGVUb3VjaCA/IFwidG91Y2hlbmRcIiA6IFRbMl1cblx0XHRcdH0sICh3aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkIHx8IHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCkgJiYgKFwiY29udGFpbmVyXCIgPT09IGIucGFyYW1zLnRvdWNoRXZlbnRzVGFyZ2V0ID8gYi5jb250YWluZXIgOiBiLndyYXBwZXIpLmFkZENsYXNzKFwic3dpcGVyLXdwOC1cIiArIGIucGFyYW1zLmRpcmVjdGlvbiksIGIuaW5pdEV2ZW50cyA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0dmFyIGEgPSBlID8gXCJvZmZcIiA6IFwib25cIixcblx0XHRcdFx0XHR0ID0gZSA/IFwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiIDogXCJhZGRFdmVudExpc3RlbmVyXCIsXG5cdFx0XHRcdFx0ciA9IFwiY29udGFpbmVyXCIgPT09IGIucGFyYW1zLnRvdWNoRXZlbnRzVGFyZ2V0ID8gYi5jb250YWluZXJbMF0gOiBiLndyYXBwZXJbMF0sXG5cdFx0XHRcdFx0cyA9IGIuc3VwcG9ydC50b3VjaCA/IHIgOiBkb2N1bWVudCxcblx0XHRcdFx0XHRuID0gYi5wYXJhbXMubmVzdGVkID8gITAgOiAhMTtcblx0XHRcdFx0Yi5icm93c2VyLmllID8gKHJbdF0oYi50b3VjaEV2ZW50cy5zdGFydCwgYi5vblRvdWNoU3RhcnQsICExKSwgc1t0XShiLnRvdWNoRXZlbnRzLm1vdmUsIGIub25Ub3VjaE1vdmUsIG4pLCBzW3RdKGIudG91Y2hFdmVudHMuZW5kLCBiLm9uVG91Y2hFbmQsICExKSkgOiAoYi5zdXBwb3J0LnRvdWNoICYmIChyW3RdKGIudG91Y2hFdmVudHMuc3RhcnQsIGIub25Ub3VjaFN0YXJ0LCAhMSksIHJbdF0oYi50b3VjaEV2ZW50cy5tb3ZlLCBiLm9uVG91Y2hNb3ZlLCBuKSwgclt0XShiLnRvdWNoRXZlbnRzLmVuZCwgYi5vblRvdWNoRW5kLCAhMSkpLCAhaS5zaW11bGF0ZVRvdWNoIHx8IGIuZGV2aWNlLmlvcyB8fCBiLmRldmljZS5hbmRyb2lkIHx8IChyW3RdKFwibW91c2Vkb3duXCIsIGIub25Ub3VjaFN0YXJ0LCAhMSksIGRvY3VtZW50W3RdKFwibW91c2Vtb3ZlXCIsIGIub25Ub3VjaE1vdmUsIG4pLCBkb2N1bWVudFt0XShcIm1vdXNldXBcIiwgYi5vblRvdWNoRW5kLCAhMSkpKSwgd2luZG93W3RdKFwicmVzaXplXCIsIGIub25SZXNpemUpLCBiLnBhcmFtcy5uZXh0QnV0dG9uICYmIGIubmV4dEJ1dHRvbiAmJiBiLm5leHRCdXR0b24ubGVuZ3RoID4gMCAmJiAoYi5uZXh0QnV0dG9uW2FdKFwiY2xpY2tcIiwgYi5vbkNsaWNrTmV4dCksIGIucGFyYW1zLmExMXkgJiYgYi5hMTF5ICYmIGIubmV4dEJ1dHRvblthXShcImtleWRvd25cIiwgYi5hMTF5Lm9uRW50ZXJLZXkpKSwgYi5wYXJhbXMucHJldkJ1dHRvbiAmJiBiLnByZXZCdXR0b24gJiYgYi5wcmV2QnV0dG9uLmxlbmd0aCA+IDAgJiYgKGIucHJldkJ1dHRvblthXShcImNsaWNrXCIsIGIub25DbGlja1ByZXYpLCBiLnBhcmFtcy5hMTF5ICYmIGIuYTExeSAmJiBiLnByZXZCdXR0b25bYV0oXCJrZXlkb3duXCIsIGIuYTExeS5vbkVudGVyS2V5KSksIGIucGFyYW1zLnBhZ2luYXRpb24gJiYgYi5wYXJhbXMucGFnaW5hdGlvbkNsaWNrYWJsZSAmJiAoYi5wYWdpbmF0aW9uQ29udGFpbmVyW2FdKFwiY2xpY2tcIiwgXCIuXCIgKyBiLnBhcmFtcy5idWxsZXRDbGFzcywgYi5vbkNsaWNrSW5kZXgpLCBiLnBhcmFtcy5hMTF5ICYmIGIuYTExeSAmJiBiLnBhZ2luYXRpb25Db250YWluZXJbYV0oXCJrZXlkb3duXCIsIFwiLlwiICsgYi5wYXJhbXMuYnVsbGV0Q2xhc3MsIGIuYTExeS5vbkVudGVyS2V5KSksIChiLnBhcmFtcy5wcmV2ZW50Q2xpY2tzIHx8IGIucGFyYW1zLnByZXZlbnRDbGlja3NQcm9wYWdhdGlvbikgJiYgclt0XShcImNsaWNrXCIsIGIucHJldmVudENsaWNrcywgITApXG5cdFx0XHR9LCBiLmF0dGFjaEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRiLmluaXRFdmVudHMoKVxuXHRcdFx0fSwgYi5kZXRhY2hFdmVudHMgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0Yi5pbml0RXZlbnRzKCEwKVxuXHRcdFx0fSwgYi5hbGxvd0NsaWNrID0gITAsIGIucHJldmVudENsaWNrcyA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0Yi5hbGxvd0NsaWNrIHx8IChiLnBhcmFtcy5wcmV2ZW50Q2xpY2tzICYmIGUucHJldmVudERlZmF1bHQoKSwgYi5wYXJhbXMucHJldmVudENsaWNrc1Byb3BhZ2F0aW9uICYmIGIuYW5pbWF0aW5nICYmIChlLnN0b3BQcm9wYWdhdGlvbigpLCBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKSlcblx0XHRcdH0sIGIub25DbGlja05leHQgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKSwgKCFiLmlzRW5kIHx8IGIucGFyYW1zLmxvb3ApICYmIGIuc2xpZGVOZXh0KClcblx0XHRcdH0sIGIub25DbGlja1ByZXYgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKSwgKCFiLmlzQmVnaW5uaW5nIHx8IGIucGFyYW1zLmxvb3ApICYmIGIuc2xpZGVQcmV2KClcblx0XHRcdH0sIGIub25DbGlja0luZGV4ID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdHZhciB0ID0gYSh0aGlzKS5pbmRleCgpICogYi5wYXJhbXMuc2xpZGVzUGVyR3JvdXA7XG5cdFx0XHRcdGIucGFyYW1zLmxvb3AgJiYgKHQgKz0gYi5sb29wZWRTbGlkZXMpLCBiLnNsaWRlVG8odClcblx0XHRcdH0sIGIudXBkYXRlQ2xpY2tlZFNsaWRlID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHR2YXIgdCA9IG8oZSwgXCIuXCIgKyBiLnBhcmFtcy5zbGlkZUNsYXNzKSxcblx0XHRcdFx0XHRyID0gITE7XG5cdFx0XHRcdGlmICh0KVxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYi5zbGlkZXMubGVuZ3RoOyBpKyspIGIuc2xpZGVzW2ldID09PSB0ICYmIChyID0gITApO1xuXHRcdFx0XHRpZiAoIXQgfHwgIXIpIHJldHVybiBiLmNsaWNrZWRTbGlkZSA9IHZvaWQgMCwgdm9pZChiLmNsaWNrZWRJbmRleCA9IHZvaWQgMCk7XG5cdFx0XHRcdGlmIChiLmNsaWNrZWRTbGlkZSA9IHQsIGIuY2xpY2tlZEluZGV4ID0gYSh0KS5pbmRleCgpLCBiLnBhcmFtcy5zbGlkZVRvQ2xpY2tlZFNsaWRlICYmIHZvaWQgMCAhPT0gYi5jbGlja2VkSW5kZXggJiYgYi5jbGlja2VkSW5kZXggIT09IGIuYWN0aXZlSW5kZXgpIHtcblx0XHRcdFx0XHR2YXIgcywgbiA9IGIuY2xpY2tlZEluZGV4O1xuXHRcdFx0XHRcdGlmIChiLnBhcmFtcy5sb29wKSB7XG5cdFx0XHRcdFx0XHRpZiAoYi5hbmltYXRpbmcpIHJldHVybjtcblx0XHRcdFx0XHRcdHMgPSBhKGIuY2xpY2tlZFNsaWRlKS5hdHRyKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIiksIGIucGFyYW1zLmNlbnRlcmVkU2xpZGVzID8gbiA8IGIubG9vcGVkU2xpZGVzIC0gYi5wYXJhbXMuc2xpZGVzUGVyVmlldyAvIDIgfHwgbiA+IGIuc2xpZGVzLmxlbmd0aCAtIGIubG9vcGVkU2xpZGVzICsgYi5wYXJhbXMuc2xpZGVzUGVyVmlldyAvIDIgPyAoYi5maXhMb29wKCksIG4gPSBiLndyYXBwZXIuY2hpbGRyZW4oXCIuXCIgKyBiLnBhcmFtcy5zbGlkZUNsYXNzICsgJ1tkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIicgKyBzICsgJ1wiXTpub3QoLnN3aXBlci1zbGlkZS1kdXBsaWNhdGUpJykuZXEoMCkuaW5kZXgoKSwgc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0Yi5zbGlkZVRvKG4pXG5cdFx0XHRcdFx0XHR9LCAwKSkgOiBiLnNsaWRlVG8obikgOiBuID4gYi5zbGlkZXMubGVuZ3RoIC0gYi5wYXJhbXMuc2xpZGVzUGVyVmlldyA/IChiLmZpeExvb3AoKSwgbiA9IGIud3JhcHBlci5jaGlsZHJlbihcIi5cIiArIGIucGFyYW1zLnNsaWRlQ2xhc3MgKyAnW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJyArIHMgKyAnXCJdOm5vdCguc3dpcGVyLXNsaWRlLWR1cGxpY2F0ZSknKS5lcSgwKS5pbmRleCgpLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRiLnNsaWRlVG8obilcblx0XHRcdFx0XHRcdH0sIDApKSA6IGIuc2xpZGVUbyhuKVxuXHRcdFx0XHRcdH0gZWxzZSBiLnNsaWRlVG8obilcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdHZhciBTLCBDLCB6LCBNLCBFLCBQLCBrLCBJLCBMLCBCLCBEID0gXCJpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYnV0dG9uXCIsXG5cdFx0XHRcdEggPSBEYXRlLm5vdygpLFxuXHRcdFx0XHRBID0gW107XG5cdFx0XHRiLmFuaW1hdGluZyA9ICExLCBiLnRvdWNoZXMgPSB7XG5cdFx0XHRcdHN0YXJ0WDogMCxcblx0XHRcdFx0c3RhcnRZOiAwLFxuXHRcdFx0XHRjdXJyZW50WDogMCxcblx0XHRcdFx0Y3VycmVudFk6IDAsXG5cdFx0XHRcdGRpZmY6IDBcblx0XHRcdH07XG5cdFx0XHR2YXIgRywgTztcblx0XHRcdGlmIChiLm9uVG91Y2hTdGFydCA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRpZiAoZS5vcmlnaW5hbEV2ZW50ICYmIChlID0gZS5vcmlnaW5hbEV2ZW50KSwgRyA9IFwidG91Y2hzdGFydFwiID09PSBlLnR5cGUsIEcgfHwgIShcIndoaWNoXCIgaW4gZSkgfHwgMyAhPT0gZS53aGljaCkge1xuXHRcdFx0XHRcdFx0aWYgKGIucGFyYW1zLm5vU3dpcGluZyAmJiBvKGUsIFwiLlwiICsgYi5wYXJhbXMubm9Td2lwaW5nQ2xhc3MpKSByZXR1cm4gdm9pZChiLmFsbG93Q2xpY2sgPSAhMCk7XG5cdFx0XHRcdFx0XHRpZiAoIWIucGFyYW1zLnN3aXBlSGFuZGxlciB8fCBvKGUsIGIucGFyYW1zLnN3aXBlSGFuZGxlcikpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHQgPSBiLnRvdWNoZXMuY3VycmVudFggPSBcInRvdWNoc3RhcnRcIiA9PT0gZS50eXBlID8gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWCxcblx0XHRcdFx0XHRcdFx0XHRyID0gYi50b3VjaGVzLmN1cnJlbnRZID0gXCJ0b3VjaHN0YXJ0XCIgPT09IGUudHlwZSA/IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWSA6IGUucGFnZVk7XG5cdFx0XHRcdFx0XHRcdGlmICghKGIuZGV2aWNlLmlvcyAmJiBiLnBhcmFtcy5pT1NFZGdlU3dpcGVEZXRlY3Rpb24gJiYgdCA8PSBiLnBhcmFtcy5pT1NFZGdlU3dpcGVUaHJlc2hvbGQpKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKFMgPSAhMCwgQyA9ICExLCB6ID0gITAsIEUgPSB2b2lkIDAsIE8gPSB2b2lkIDAsIGIudG91Y2hlcy5zdGFydFggPSB0LCBiLnRvdWNoZXMuc3RhcnRZID0gciwgTSA9IERhdGUubm93KCksIGIuYWxsb3dDbGljayA9ICEwLCBiLnVwZGF0ZUNvbnRhaW5lclNpemUoKSwgYi5zd2lwZURpcmVjdGlvbiA9IHZvaWQgMCwgYi5wYXJhbXMudGhyZXNob2xkID4gMCAmJiAoSSA9ICExKSwgXCJ0b3VjaHN0YXJ0XCIgIT09IGUudHlwZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGkgPSAhMDtcblx0XHRcdFx0XHRcdFx0XHRcdGEoZS50YXJnZXQpLmlzKEQpICYmIChpID0gITEpLCBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIGEoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkuaXMoRCkgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCksIGkgJiYgZS5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGIuZW1pdChcIm9uVG91Y2hTdGFydFwiLCBiLCBlKVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCBiLm9uVG91Y2hNb3ZlID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdGlmIChlLm9yaWdpbmFsRXZlbnQgJiYgKGUgPSBlLm9yaWdpbmFsRXZlbnQpLCAhRyB8fCBcIm1vdXNlbW92ZVwiICE9PSBlLnR5cGUpIHtcblx0XHRcdFx0XHRcdGlmIChlLnByZXZlbnRlZEJ5TmVzdGVkU3dpcGVyKSByZXR1cm4gYi50b3VjaGVzLnN0YXJ0WCA9IFwidG91Y2htb3ZlXCIgPT09IGUudHlwZSA/IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWCA6IGUucGFnZVgsIHZvaWQoYi50b3VjaGVzLnN0YXJ0WSA9IFwidG91Y2htb3ZlXCIgPT09IGUudHlwZSA/IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWSA6IGUucGFnZVkpO1xuXHRcdFx0XHRcdFx0aWYgKGIucGFyYW1zLm9ubHlFeHRlcm5hbCkgcmV0dXJuIGIuYWxsb3dDbGljayA9ICExLCB2b2lkKFMgJiYgKGIudG91Y2hlcy5zdGFydFggPSBiLnRvdWNoZXMuY3VycmVudFggPSBcInRvdWNobW92ZVwiID09PSBlLnR5cGUgPyBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVggOiBlLnBhZ2VYLCBiLnRvdWNoZXMuc3RhcnRZID0gYi50b3VjaGVzLmN1cnJlbnRZID0gXCJ0b3VjaG1vdmVcIiA9PT0gZS50eXBlID8gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZIDogZS5wYWdlWSwgTSA9IERhdGUubm93KCkpKTtcblx0XHRcdFx0XHRcdGlmIChHICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgZS50YXJnZXQgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgYShlLnRhcmdldCkuaXMoRCkpIHJldHVybiBDID0gITAsIHZvaWQoYi5hbGxvd0NsaWNrID0gITEpO1xuXHRcdFx0XHRcdFx0aWYgKHogJiYgYi5lbWl0KFwib25Ub3VjaE1vdmVcIiwgYiwgZSksICEoZS50YXJnZXRUb3VjaGVzICYmIGUudGFyZ2V0VG91Y2hlcy5sZW5ndGggPiAxKSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoYi50b3VjaGVzLmN1cnJlbnRYID0gXCJ0b3VjaG1vdmVcIiA9PT0gZS50eXBlID8gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWCwgYi50b3VjaGVzLmN1cnJlbnRZID0gXCJ0b3VjaG1vdmVcIiA9PT0gZS50eXBlID8gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZIDogZS5wYWdlWSwgXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgRSkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciB0ID0gMTgwICogTWF0aC5hdGFuMihNYXRoLmFicyhiLnRvdWNoZXMuY3VycmVudFkgLSBiLnRvdWNoZXMuc3RhcnRZKSwgTWF0aC5hYnMoYi50b3VjaGVzLmN1cnJlbnRYIC0gYi50b3VjaGVzLnN0YXJ0WCkpIC8gTWF0aC5QSTtcblx0XHRcdFx0XHRcdFx0XHRFID0gYi5pc0hvcml6b250YWwoKSA/IHQgPiBiLnBhcmFtcy50b3VjaEFuZ2xlIDogOTAgLSB0ID4gYi5wYXJhbXMudG91Y2hBbmdsZVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGlmIChFICYmIGIuZW1pdChcIm9uVG91Y2hNb3ZlT3Bwb3NpdGVcIiwgYiwgZSksIFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIE8gJiYgYi5icm93c2VyLmllVG91Y2ggJiYgKGIudG91Y2hlcy5jdXJyZW50WCAhPT0gYi50b3VjaGVzLnN0YXJ0WCB8fCBiLnRvdWNoZXMuY3VycmVudFkgIT09IGIudG91Y2hlcy5zdGFydFkpICYmIChPID0gITApLCBTKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKEUpIHJldHVybiB2b2lkKFMgPSAhMSk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKE8gfHwgIWIuYnJvd3Nlci5pZVRvdWNoKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRiLmFsbG93Q2xpY2sgPSAhMSwgYi5lbWl0KFwib25TbGlkZXJNb3ZlXCIsIGIsIGUpLCBlLnByZXZlbnREZWZhdWx0KCksIGIucGFyYW1zLnRvdWNoTW92ZVN0b3BQcm9wYWdhdGlvbiAmJiAhYi5wYXJhbXMubmVzdGVkICYmIGUuc3RvcFByb3BhZ2F0aW9uKCksIEMgfHwgKGkubG9vcCAmJiBiLmZpeExvb3AoKSwgayA9IGIuZ2V0V3JhcHBlclRyYW5zbGF0ZSgpLCBiLnNldFdyYXBwZXJUcmFuc2l0aW9uKDApLCBiLmFuaW1hdGluZyAmJiBiLndyYXBwZXIudHJpZ2dlcihcIndlYmtpdFRyYW5zaXRpb25FbmQgdHJhbnNpdGlvbmVuZCBvVHJhbnNpdGlvbkVuZCBNU1RyYW5zaXRpb25FbmQgbXNUcmFuc2l0aW9uRW5kXCIpLCBiLnBhcmFtcy5hdXRvcGxheSAmJiBiLmF1dG9wbGF5aW5nICYmIChiLnBhcmFtcy5hdXRvcGxheURpc2FibGVPbkludGVyYWN0aW9uID8gYi5zdG9wQXV0b3BsYXkoKSA6IGIucGF1c2VBdXRvcGxheSgpKSwgQiA9ICExLCBiLnBhcmFtcy5ncmFiQ3Vyc29yICYmIChiLmNvbnRhaW5lclswXS5zdHlsZS5jdXJzb3IgPSBcIm1vdmVcIiwgYi5jb250YWluZXJbMF0uc3R5bGUuY3Vyc29yID0gXCItd2Via2l0LWdyYWJiaW5nXCIsIGIuY29udGFpbmVyWzBdLnN0eWxlLmN1cnNvciA9IFwiLW1vei1ncmFiYmluXCIsIGIuY29udGFpbmVyWzBdLnN0eWxlLmN1cnNvciA9IFwiZ3JhYmJpbmdcIikpLCBDID0gITA7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgciA9IGIudG91Y2hlcy5kaWZmID0gYi5pc0hvcml6b250YWwoKSA/IGIudG91Y2hlcy5jdXJyZW50WCAtIGIudG91Y2hlcy5zdGFydFggOiBiLnRvdWNoZXMuY3VycmVudFkgLSBiLnRvdWNoZXMuc3RhcnRZO1xuXHRcdFx0XHRcdFx0XHRcdFx0ciAqPSBiLnBhcmFtcy50b3VjaFJhdGlvLCBiLnJ0bCAmJiAociA9IC1yKSwgYi5zd2lwZURpcmVjdGlvbiA9IHIgPiAwID8gXCJwcmV2XCIgOiBcIm5leHRcIiwgUCA9IHIgKyBrO1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHMgPSAhMDtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChyID4gMCAmJiBQID4gYi5taW5UcmFuc2xhdGUoKSA/IChzID0gITEsIGIucGFyYW1zLnJlc2lzdGFuY2UgJiYgKFAgPSBiLm1pblRyYW5zbGF0ZSgpIC0gMSArIE1hdGgucG93KC1iLm1pblRyYW5zbGF0ZSgpICsgayArIHIsIGIucGFyYW1zLnJlc2lzdGFuY2VSYXRpbykpKSA6IDAgPiByICYmIFAgPCBiLm1heFRyYW5zbGF0ZSgpICYmIChzID0gITEsIGIucGFyYW1zLnJlc2lzdGFuY2UgJiYgKFAgPSBiLm1heFRyYW5zbGF0ZSgpICsgMSAtIE1hdGgucG93KGIubWF4VHJhbnNsYXRlKCkgLSBrIC0gciwgYi5wYXJhbXMucmVzaXN0YW5jZVJhdGlvKSkpLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzICYmIChlLnByZXZlbnRlZEJ5TmVzdGVkU3dpcGVyID0gITApLCAhYi5wYXJhbXMuYWxsb3dTd2lwZVRvTmV4dCAmJiBcIm5leHRcIiA9PT0gYi5zd2lwZURpcmVjdGlvbiAmJiBrID4gUCAmJiAoUCA9IGspLCAhYi5wYXJhbXMuYWxsb3dTd2lwZVRvUHJldiAmJiBcInByZXZcIiA9PT0gYi5zd2lwZURpcmVjdGlvbiAmJiBQID4gayAmJiAoUCA9IGspLCBiLnBhcmFtcy5mb2xsb3dGaW5nZXIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGIucGFyYW1zLnRocmVzaG9sZCA+IDApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIShNYXRoLmFicyhyKSA+IGIucGFyYW1zLnRocmVzaG9sZCB8fCBJKSkgcmV0dXJuIHZvaWQoUCA9IGspO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghSSkgcmV0dXJuIEkgPSAhMCwgYi50b3VjaGVzLnN0YXJ0WCA9IGIudG91Y2hlcy5jdXJyZW50WCwgYi50b3VjaGVzLnN0YXJ0WSA9IGIudG91Y2hlcy5jdXJyZW50WSwgUCA9IGssIHZvaWQoYi50b3VjaGVzLmRpZmYgPSBiLmlzSG9yaXpvbnRhbCgpID8gYi50b3VjaGVzLmN1cnJlbnRYIC0gYi50b3VjaGVzLnN0YXJ0WCA6IGIudG91Y2hlcy5jdXJyZW50WSAtIGIudG91Y2hlcy5zdGFydFkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0oYi5wYXJhbXMuZnJlZU1vZGUgfHwgYi5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcykgJiYgYi51cGRhdGVBY3RpdmVJbmRleCgpLCBiLnBhcmFtcy5mcmVlTW9kZSAmJiAoMCA9PT0gQS5sZW5ndGggJiYgQS5wdXNoKHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwb3NpdGlvbjogYi50b3VjaGVzW2IuaXNIb3Jpem9udGFsKCkgPyBcInN0YXJ0WFwiIDogXCJzdGFydFlcIl0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGltZTogTVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KSwgQS5wdXNoKHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwb3NpdGlvbjogYi50b3VjaGVzW2IuaXNIb3Jpem9udGFsKCkgPyBcImN1cnJlbnRYXCIgOiBcImN1cnJlbnRZXCJdLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRpbWU6IChuZXcgd2luZG93LkRhdGUpLmdldFRpbWUoKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KSksIGIudXBkYXRlUHJvZ3Jlc3MoUCksIGIuc2V0V3JhcHBlclRyYW5zbGF0ZShQKVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSwgYi5vblRvdWNoRW5kID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdGlmIChlLm9yaWdpbmFsRXZlbnQgJiYgKGUgPSBlLm9yaWdpbmFsRXZlbnQpLCB6ICYmIGIuZW1pdChcIm9uVG91Y2hFbmRcIiwgYiwgZSksIHogPSAhMSwgUykge1xuXHRcdFx0XHRcdFx0Yi5wYXJhbXMuZ3JhYkN1cnNvciAmJiBDICYmIFMgJiYgKGIuY29udGFpbmVyWzBdLnN0eWxlLmN1cnNvciA9IFwibW92ZVwiLCBiLmNvbnRhaW5lclswXS5zdHlsZS5jdXJzb3IgPSBcIi13ZWJraXQtZ3JhYlwiLCBiLmNvbnRhaW5lclswXS5zdHlsZS5jdXJzb3IgPSBcIi1tb3otZ3JhYlwiLCBiLmNvbnRhaW5lclswXS5zdHlsZS5jdXJzb3IgPSBcImdyYWJcIik7XG5cdFx0XHRcdFx0XHR2YXIgdCA9IERhdGUubm93KCksXG5cdFx0XHRcdFx0XHRcdHIgPSB0IC0gTTtcblx0XHRcdFx0XHRcdGlmIChiLmFsbG93Q2xpY2sgJiYgKGIudXBkYXRlQ2xpY2tlZFNsaWRlKGUpLCBiLmVtaXQoXCJvblRhcFwiLCBiLCBlKSwgMzAwID4gciAmJiB0IC0gSCA+IDMwMCAmJiAoTCAmJiBjbGVhclRpbWVvdXQoTCksIEwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdGIgJiYgKGIucGFyYW1zLnBhZ2luYXRpb25IaWRlICYmIGIucGFnaW5hdGlvbkNvbnRhaW5lci5sZW5ndGggPiAwICYmICFhKGUudGFyZ2V0KS5oYXNDbGFzcyhiLnBhcmFtcy5idWxsZXRDbGFzcykgJiYgYi5wYWdpbmF0aW9uQ29udGFpbmVyLnRvZ2dsZUNsYXNzKGIucGFyYW1zLnBhZ2luYXRpb25IaWRkZW5DbGFzcyksIGIuZW1pdChcIm9uQ2xpY2tcIiwgYiwgZSkpXG5cdFx0XHRcdFx0XHRcdH0sIDMwMCkpLCAzMDAgPiByICYmIDMwMCA+IHQgLSBIICYmIChMICYmIGNsZWFyVGltZW91dChMKSwgYi5lbWl0KFwib25Eb3VibGVUYXBcIiwgYiwgZSkpKSwgSCA9IERhdGUubm93KCksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0YiAmJiAoYi5hbGxvd0NsaWNrID0gITApXG5cdFx0XHRcdFx0XHRcdH0sIDApLCAhUyB8fCAhQyB8fCAhYi5zd2lwZURpcmVjdGlvbiB8fCAwID09PSBiLnRvdWNoZXMuZGlmZiB8fCBQID09PSBrKSByZXR1cm4gdm9pZChTID0gQyA9ICExKTtcblx0XHRcdFx0XHRcdFMgPSBDID0gITE7XG5cdFx0XHRcdFx0XHR2YXIgaTtcblx0XHRcdFx0XHRcdGlmIChpID0gYi5wYXJhbXMuZm9sbG93RmluZ2VyID8gYi5ydGwgPyBiLnRyYW5zbGF0ZSA6IC1iLnRyYW5zbGF0ZSA6IC1QLCBiLnBhcmFtcy5mcmVlTW9kZSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoaSA8IC1iLm1pblRyYW5zbGF0ZSgpKSByZXR1cm4gdm9pZCBiLnNsaWRlVG8oYi5hY3RpdmVJbmRleCk7XG5cdFx0XHRcdFx0XHRcdGlmIChpID4gLWIubWF4VHJhbnNsYXRlKCkpIHJldHVybiB2b2lkKGIuc2xpZGVzLmxlbmd0aCA8IGIuc25hcEdyaWQubGVuZ3RoID8gYi5zbGlkZVRvKGIuc25hcEdyaWQubGVuZ3RoIC0gMSkgOiBiLnNsaWRlVG8oYi5zbGlkZXMubGVuZ3RoIC0gMSkpO1xuXHRcdFx0XHRcdFx0XHRpZiAoYi5wYXJhbXMuZnJlZU1vZGVNb21lbnR1bSkge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChBLmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBzID0gQS5wb3AoKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0biA9IEEucG9wKCksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG8gPSBzLnBvc2l0aW9uIC0gbi5wb3NpdGlvbixcblx0XHRcdFx0XHRcdFx0XHRcdFx0bCA9IHMudGltZSAtIG4udGltZTtcblx0XHRcdFx0XHRcdFx0XHRcdGIudmVsb2NpdHkgPSBvIC8gbCwgYi52ZWxvY2l0eSA9IGIudmVsb2NpdHkgLyAyLCBNYXRoLmFicyhiLnZlbG9jaXR5KSA8IGIucGFyYW1zLmZyZWVNb2RlTWluaW11bVZlbG9jaXR5ICYmIChiLnZlbG9jaXR5ID0gMCksIChsID4gMTUwIHx8IChuZXcgd2luZG93LkRhdGUpLmdldFRpbWUoKSAtIHMudGltZSA+IDMwMCkgJiYgKGIudmVsb2NpdHkgPSAwKVxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBiLnZlbG9jaXR5ID0gMDtcblx0XHRcdFx0XHRcdFx0XHRBLmxlbmd0aCA9IDA7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHAgPSAxZTMgKiBiLnBhcmFtcy5mcmVlTW9kZU1vbWVudHVtUmF0aW8sXG5cdFx0XHRcdFx0XHRcdFx0XHRkID0gYi52ZWxvY2l0eSAqIHAsXG5cdFx0XHRcdFx0XHRcdFx0XHR1ID0gYi50cmFuc2xhdGUgKyBkO1xuXHRcdFx0XHRcdFx0XHRcdGIucnRsICYmICh1ID0gLXUpO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBjLCBtID0gITEsXG5cdFx0XHRcdFx0XHRcdFx0XHRoID0gMjAgKiBNYXRoLmFicyhiLnZlbG9jaXR5KSAqIGIucGFyYW1zLmZyZWVNb2RlTW9tZW50dW1Cb3VuY2VSYXRpbztcblx0XHRcdFx0XHRcdFx0XHRpZiAodSA8IGIubWF4VHJhbnNsYXRlKCkpIGIucGFyYW1zLmZyZWVNb2RlTW9tZW50dW1Cb3VuY2UgPyAodSArIGIubWF4VHJhbnNsYXRlKCkgPCAtaCAmJiAodSA9IGIubWF4VHJhbnNsYXRlKCkgLSBoKSwgYyA9IGIubWF4VHJhbnNsYXRlKCksIG0gPSAhMCwgQiA9ICEwKSA6IHUgPSBiLm1heFRyYW5zbGF0ZSgpO1xuXHRcdFx0XHRcdFx0XHRcdGVsc2UgaWYgKHUgPiBiLm1pblRyYW5zbGF0ZSgpKSBiLnBhcmFtcy5mcmVlTW9kZU1vbWVudHVtQm91bmNlID8gKHUgLSBiLm1pblRyYW5zbGF0ZSgpID4gaCAmJiAodSA9IGIubWluVHJhbnNsYXRlKCkgKyBoKSwgYyA9IGIubWluVHJhbnNsYXRlKCksIG0gPSAhMCwgQiA9ICEwKSA6IHUgPSBiLm1pblRyYW5zbGF0ZSgpO1xuXHRcdFx0XHRcdFx0XHRcdGVsc2UgaWYgKGIucGFyYW1zLmZyZWVNb2RlU3RpY2t5KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgZiwgZyA9IDA7XG5cdFx0XHRcdFx0XHRcdFx0XHRmb3IgKGcgPSAwOyBnIDwgYi5zbmFwR3JpZC5sZW5ndGg7IGcgKz0gMSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGIuc25hcEdyaWRbZ10gPiAtdSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGYgPSBnO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdHUgPSBNYXRoLmFicyhiLnNuYXBHcmlkW2ZdIC0gdSkgPCBNYXRoLmFicyhiLnNuYXBHcmlkW2YgLSAxXSAtIHUpIHx8IFwibmV4dFwiID09PSBiLnN3aXBlRGlyZWN0aW9uID8gYi5zbmFwR3JpZFtmXSA6IGIuc25hcEdyaWRbZiAtIDFdLCBiLnJ0bCB8fCAodSA9IC11KVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRpZiAoMCAhPT0gYi52ZWxvY2l0eSkgcCA9IGIucnRsID8gTWF0aC5hYnMoKC11IC0gYi50cmFuc2xhdGUpIC8gYi52ZWxvY2l0eSkgOiBNYXRoLmFicygodSAtIGIudHJhbnNsYXRlKSAvIGIudmVsb2NpdHkpO1xuXHRcdFx0XHRcdFx0XHRcdGVsc2UgaWYgKGIucGFyYW1zLmZyZWVNb2RlU3RpY2t5KSByZXR1cm4gdm9pZCBiLnNsaWRlUmVzZXQoKTtcblx0XHRcdFx0XHRcdFx0XHRiLnBhcmFtcy5mcmVlTW9kZU1vbWVudHVtQm91bmNlICYmIG0gPyAoYi51cGRhdGVQcm9ncmVzcyhjKSwgYi5zZXRXcmFwcGVyVHJhbnNpdGlvbihwKSwgYi5zZXRXcmFwcGVyVHJhbnNsYXRlKHUpLCBiLm9uVHJhbnNpdGlvblN0YXJ0KCksIGIuYW5pbWF0aW5nID0gITAsIGIud3JhcHBlci50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0YiAmJiBCICYmIChiLmVtaXQoXCJvbk1vbWVudHVtQm91bmNlXCIsIGIpLCBiLnNldFdyYXBwZXJUcmFuc2l0aW9uKGIucGFyYW1zLnNwZWVkKSwgYi5zZXRXcmFwcGVyVHJhbnNsYXRlKGMpLCBiLndyYXBwZXIudHJhbnNpdGlvbkVuZChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YiAmJiBiLm9uVHJhbnNpdGlvbkVuZCgpXG5cdFx0XHRcdFx0XHRcdFx0XHR9KSlcblx0XHRcdFx0XHRcdFx0XHR9KSkgOiBiLnZlbG9jaXR5ID8gKGIudXBkYXRlUHJvZ3Jlc3ModSksIGIuc2V0V3JhcHBlclRyYW5zaXRpb24ocCksIGIuc2V0V3JhcHBlclRyYW5zbGF0ZSh1KSwgYi5vblRyYW5zaXRpb25TdGFydCgpLCBiLmFuaW1hdGluZyB8fCAoYi5hbmltYXRpbmcgPSAhMCwgYi53cmFwcGVyLnRyYW5zaXRpb25FbmQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRiICYmIGIub25UcmFuc2l0aW9uRW5kKClcblx0XHRcdFx0XHRcdFx0XHR9KSkpIDogYi51cGRhdGVQcm9ncmVzcyh1KSwgYi51cGRhdGVBY3RpdmVJbmRleCgpXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0cmV0dXJuIHZvaWQoKCFiLnBhcmFtcy5mcmVlTW9kZU1vbWVudHVtIHx8IHIgPj0gYi5wYXJhbXMubG9uZ1N3aXBlc01zKSAmJiAoYi51cGRhdGVQcm9ncmVzcygpLCBiLnVwZGF0ZUFjdGl2ZUluZGV4KCkpKVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dmFyIHYsIHcgPSAwLFxuXHRcdFx0XHRcdFx0XHR5ID0gYi5zbGlkZXNTaXplc0dyaWRbMF07XG5cdFx0XHRcdFx0XHRmb3IgKHYgPSAwOyB2IDwgYi5zbGlkZXNHcmlkLmxlbmd0aDsgdiArPSBiLnBhcmFtcy5zbGlkZXNQZXJHcm91cCkgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgYi5zbGlkZXNHcmlkW3YgKyBiLnBhcmFtcy5zbGlkZXNQZXJHcm91cF0gPyBpID49IGIuc2xpZGVzR3JpZFt2XSAmJiBpIDwgYi5zbGlkZXNHcmlkW3YgKyBiLnBhcmFtcy5zbGlkZXNQZXJHcm91cF0gJiYgKHcgPSB2LCB5ID0gYi5zbGlkZXNHcmlkW3YgKyBiLnBhcmFtcy5zbGlkZXNQZXJHcm91cF0gLSBiLnNsaWRlc0dyaWRbdl0pIDogaSA+PSBiLnNsaWRlc0dyaWRbdl0gJiYgKHcgPSB2LCB5ID0gYi5zbGlkZXNHcmlkW2Iuc2xpZGVzR3JpZC5sZW5ndGggLSAxXSAtIGIuc2xpZGVzR3JpZFtiLnNsaWRlc0dyaWQubGVuZ3RoIC0gMl0pO1xuXHRcdFx0XHRcdFx0dmFyIHggPSAoaSAtIGIuc2xpZGVzR3JpZFt3XSkgLyB5O1xuXHRcdFx0XHRcdFx0aWYgKHIgPiBiLnBhcmFtcy5sb25nU3dpcGVzTXMpIHtcblx0XHRcdFx0XHRcdFx0aWYgKCFiLnBhcmFtcy5sb25nU3dpcGVzKSByZXR1cm4gdm9pZCBiLnNsaWRlVG8oYi5hY3RpdmVJbmRleCk7XG5cdFx0XHRcdFx0XHRcdFwibmV4dFwiID09PSBiLnN3aXBlRGlyZWN0aW9uICYmICh4ID49IGIucGFyYW1zLmxvbmdTd2lwZXNSYXRpbyA/IGIuc2xpZGVUbyh3ICsgYi5wYXJhbXMuc2xpZGVzUGVyR3JvdXApIDogYi5zbGlkZVRvKHcpKSwgXCJwcmV2XCIgPT09IGIuc3dpcGVEaXJlY3Rpb24gJiYgKHggPiAxIC0gYi5wYXJhbXMubG9uZ1N3aXBlc1JhdGlvID8gYi5zbGlkZVRvKHcgKyBiLnBhcmFtcy5zbGlkZXNQZXJHcm91cCkgOiBiLnNsaWRlVG8odykpXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRpZiAoIWIucGFyYW1zLnNob3J0U3dpcGVzKSByZXR1cm4gdm9pZCBiLnNsaWRlVG8oYi5hY3RpdmVJbmRleCk7XG5cdFx0XHRcdFx0XHRcdFwibmV4dFwiID09PSBiLnN3aXBlRGlyZWN0aW9uICYmIGIuc2xpZGVUbyh3ICsgYi5wYXJhbXMuc2xpZGVzUGVyR3JvdXApLCBcInByZXZcIiA9PT0gYi5zd2lwZURpcmVjdGlvbiAmJiBiLnNsaWRlVG8odylcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIGIuX3NsaWRlVG8gPSBmdW5jdGlvbihlLCBhKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGIuc2xpZGVUbyhlLCBhLCAhMCwgITApXG5cdFx0XHRcdH0sIGIuc2xpZGVUbyA9IGZ1bmN0aW9uKGUsIGEsIHQsIHIpIHtcblx0XHRcdFx0XHRcInVuZGVmaW5lZFwiID09IHR5cGVvZiB0ICYmICh0ID0gITApLCBcInVuZGVmaW5lZFwiID09IHR5cGVvZiBlICYmIChlID0gMCksIDAgPiBlICYmIChlID0gMCksIGIuc25hcEluZGV4ID0gTWF0aC5mbG9vcihlIC8gYi5wYXJhbXMuc2xpZGVzUGVyR3JvdXApLCBiLnNuYXBJbmRleCA+PSBiLnNuYXBHcmlkLmxlbmd0aCAmJiAoYi5zbmFwSW5kZXggPSBiLnNuYXBHcmlkLmxlbmd0aCAtIDEpO1xuXHRcdFx0XHRcdHZhciBpID0gLWIuc25hcEdyaWRbYi5zbmFwSW5kZXhdO1xuXHRcdFx0XHRcdGIucGFyYW1zLmF1dG9wbGF5ICYmIGIuYXV0b3BsYXlpbmcgJiYgKHIgfHwgIWIucGFyYW1zLmF1dG9wbGF5RGlzYWJsZU9uSW50ZXJhY3Rpb24gPyBiLnBhdXNlQXV0b3BsYXkoYSkgOiBiLnN0b3BBdXRvcGxheSgpKSwgYi51cGRhdGVQcm9ncmVzcyhpKTtcblx0XHRcdFx0XHRmb3IgKHZhciBzID0gMDsgcyA8IGIuc2xpZGVzR3JpZC5sZW5ndGg7IHMrKykgLSBNYXRoLmZsb29yKDEwMCAqIGkpID49IE1hdGguZmxvb3IoMTAwICogYi5zbGlkZXNHcmlkW3NdKSAmJiAoZSA9IHMpO1xuXHRcdFx0XHRcdHJldHVybiAhYi5wYXJhbXMuYWxsb3dTd2lwZVRvTmV4dCAmJiBpIDwgYi50cmFuc2xhdGUgJiYgaSA8IGIubWluVHJhbnNsYXRlKCkgPyAhMSA6ICFiLnBhcmFtcy5hbGxvd1N3aXBlVG9QcmV2ICYmIGkgPiBiLnRyYW5zbGF0ZSAmJiBpID4gYi5tYXhUcmFuc2xhdGUoKSAmJiAoYi5hY3RpdmVJbmRleCB8fCAwKSAhPT0gZSA/ICExIDogKFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGEgJiYgKGEgPSBiLnBhcmFtcy5zcGVlZCksIGIucHJldmlvdXNJbmRleCA9IGIuYWN0aXZlSW5kZXggfHwgMCwgYi5hY3RpdmVJbmRleCA9IGUsIGIucnRsICYmIC1pID09PSBiLnRyYW5zbGF0ZSB8fCAhYi5ydGwgJiYgaSA9PT0gYi50cmFuc2xhdGUgPyAoYi5wYXJhbXMuYXV0b0hlaWdodCAmJiBiLnVwZGF0ZUF1dG9IZWlnaHQoKSwgYi51cGRhdGVDbGFzc2VzKCksIFwic2xpZGVcIiAhPT0gYi5wYXJhbXMuZWZmZWN0ICYmIGIuc2V0V3JhcHBlclRyYW5zbGF0ZShpKSwgITEpIDogKGIudXBkYXRlQ2xhc3NlcygpLCBiLm9uVHJhbnNpdGlvblN0YXJ0KHQpLCAwID09PSBhID8gKGIuc2V0V3JhcHBlclRyYW5zbGF0ZShpKSwgYi5zZXRXcmFwcGVyVHJhbnNpdGlvbigwKSwgYi5vblRyYW5zaXRpb25FbmQodCkpIDogKGIuc2V0V3JhcHBlclRyYW5zbGF0ZShpKSwgYi5zZXRXcmFwcGVyVHJhbnNpdGlvbihhKSwgYi5hbmltYXRpbmcgfHwgKGIuYW5pbWF0aW5nID0gITAsIGIud3JhcHBlci50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0YiAmJiBiLm9uVHJhbnNpdGlvbkVuZCh0KVxuXHRcdFx0XHRcdH0pKSksICEwKSlcblx0XHRcdFx0fSwgYi5vblRyYW5zaXRpb25TdGFydCA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRcInVuZGVmaW5lZFwiID09IHR5cGVvZiBlICYmIChlID0gITApLCBiLnBhcmFtcy5hdXRvSGVpZ2h0ICYmIGIudXBkYXRlQXV0b0hlaWdodCgpLCBiLmxhenkgJiYgYi5sYXp5Lm9uVHJhbnNpdGlvblN0YXJ0KCksIGUgJiYgKGIuZW1pdChcIm9uVHJhbnNpdGlvblN0YXJ0XCIsIGIpLCBiLmFjdGl2ZUluZGV4ICE9PSBiLnByZXZpb3VzSW5kZXggJiYgKGIuZW1pdChcIm9uU2xpZGVDaGFuZ2VTdGFydFwiLCBiKSwgYi5hY3RpdmVJbmRleCA+IGIucHJldmlvdXNJbmRleCA/IGIuZW1pdChcIm9uU2xpZGVOZXh0U3RhcnRcIiwgYikgOiBiLmVtaXQoXCJvblNsaWRlUHJldlN0YXJ0XCIsIGIpKSlcblx0XHRcdFx0fSwgYi5vblRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0Yi5hbmltYXRpbmcgPSAhMSwgYi5zZXRXcmFwcGVyVHJhbnNpdGlvbigwKSwgXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgZSAmJiAoZSA9ICEwKSwgYi5sYXp5ICYmIGIubGF6eS5vblRyYW5zaXRpb25FbmQoKSwgZSAmJiAoYi5lbWl0KFwib25UcmFuc2l0aW9uRW5kXCIsIGIpLCBiLmFjdGl2ZUluZGV4ICE9PSBiLnByZXZpb3VzSW5kZXggJiYgKGIuZW1pdChcIm9uU2xpZGVDaGFuZ2VFbmRcIiwgYiksIGIuYWN0aXZlSW5kZXggPiBiLnByZXZpb3VzSW5kZXggPyBiLmVtaXQoXCJvblNsaWRlTmV4dEVuZFwiLCBiKSA6IGIuZW1pdChcIm9uU2xpZGVQcmV2RW5kXCIsIGIpKSksIGIucGFyYW1zLmhhc2huYXYgJiYgYi5oYXNobmF2ICYmIGIuaGFzaG5hdi5zZXRIYXNoKClcblx0XHRcdFx0fSwgYi5zbGlkZU5leHQgPSBmdW5jdGlvbihlLCBhLCB0KSB7XG5cdFx0XHRcdFx0aWYgKGIucGFyYW1zLmxvb3ApIHtcblx0XHRcdFx0XHRcdGlmIChiLmFuaW1hdGluZykgcmV0dXJuICExO1xuXHRcdFx0XHRcdFx0Yi5maXhMb29wKCk7XG5cdFx0XHRcdFx0XHRiLmNvbnRhaW5lclswXS5jbGllbnRMZWZ0O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGIuc2xpZGVUbyhiLmFjdGl2ZUluZGV4ICsgYi5wYXJhbXMuc2xpZGVzUGVyR3JvdXAsIGEsIGUsIHQpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBiLnNsaWRlVG8oYi5hY3RpdmVJbmRleCArIGIucGFyYW1zLnNsaWRlc1Blckdyb3VwLCBhLCBlLCB0KVxuXHRcdFx0XHR9LCBiLl9zbGlkZU5leHQgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGIuc2xpZGVOZXh0KCEwLCBlLCAhMClcblx0XHRcdFx0fSwgYi5zbGlkZVByZXYgPSBmdW5jdGlvbihlLCBhLCB0KSB7XG5cdFx0XHRcdFx0aWYgKGIucGFyYW1zLmxvb3ApIHtcblx0XHRcdFx0XHRcdGlmIChiLmFuaW1hdGluZykgcmV0dXJuICExO1xuXHRcdFx0XHRcdFx0Yi5maXhMb29wKCk7XG5cdFx0XHRcdFx0XHRiLmNvbnRhaW5lclswXS5jbGllbnRMZWZ0O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGIuc2xpZGVUbyhiLmFjdGl2ZUluZGV4IC0gMSwgYSwgZSwgdClcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGIuc2xpZGVUbyhiLmFjdGl2ZUluZGV4IC0gMSwgYSwgZSwgdClcblx0XHRcdFx0fSwgYi5fc2xpZGVQcmV2ID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdHJldHVybiBiLnNsaWRlUHJldighMCwgZSwgITApXG5cdFx0XHRcdH0sIGIuc2xpZGVSZXNldCA9IGZ1bmN0aW9uKGUsIGEsIHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gYi5zbGlkZVRvKGIuYWN0aXZlSW5kZXgsIGEsIGUpXG5cdFx0XHRcdH0sIGIuc2V0V3JhcHBlclRyYW5zaXRpb24gPSBmdW5jdGlvbihlLCBhKSB7XG5cdFx0XHRcdFx0Yi53cmFwcGVyLnRyYW5zaXRpb24oZSksIFwic2xpZGVcIiAhPT0gYi5wYXJhbXMuZWZmZWN0ICYmIGIuZWZmZWN0c1tiLnBhcmFtcy5lZmZlY3RdICYmIGIuZWZmZWN0c1tiLnBhcmFtcy5lZmZlY3RdLnNldFRyYW5zaXRpb24oZSksIGIucGFyYW1zLnBhcmFsbGF4ICYmIGIucGFyYWxsYXggJiYgYi5wYXJhbGxheC5zZXRUcmFuc2l0aW9uKGUpLCBiLnBhcmFtcy5zY3JvbGxiYXIgJiYgYi5zY3JvbGxiYXIgJiYgYi5zY3JvbGxiYXIuc2V0VHJhbnNpdGlvbihlKSwgYi5wYXJhbXMuY29udHJvbCAmJiBiLmNvbnRyb2xsZXIgJiYgYi5jb250cm9sbGVyLnNldFRyYW5zaXRpb24oZSwgYSksIGIuZW1pdChcIm9uU2V0VHJhbnNpdGlvblwiLCBiLCBlKVxuXHRcdFx0XHR9LCBiLnNldFdyYXBwZXJUcmFuc2xhdGUgPSBmdW5jdGlvbihlLCBhLCB0KSB7XG5cdFx0XHRcdFx0dmFyIHIgPSAwLFxuXHRcdFx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdFx0XHRuID0gMDtcblx0XHRcdFx0XHRiLmlzSG9yaXpvbnRhbCgpID8gciA9IGIucnRsID8gLWUgOiBlIDogaSA9IGUsIGIucGFyYW1zLnJvdW5kTGVuZ3RocyAmJiAociA9IHMociksIGkgPSBzKGkpKSwgYi5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSB8fCAoYi5zdXBwb3J0LnRyYW5zZm9ybXMzZCA/IGIud3JhcHBlci50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZChcIiArIHIgKyBcInB4LCBcIiArIGkgKyBcInB4LCBcIiArIG4gKyBcInB4KVwiKSA6IGIud3JhcHBlci50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUoXCIgKyByICsgXCJweCwgXCIgKyBpICsgXCJweClcIikpLCBiLnRyYW5zbGF0ZSA9IGIuaXNIb3Jpem9udGFsKCkgPyByIDogaTtcblx0XHRcdFx0XHR2YXIgbywgbCA9IGIubWF4VHJhbnNsYXRlKCkgLSBiLm1pblRyYW5zbGF0ZSgpO1xuXHRcdFx0XHRcdG8gPSAwID09PSBsID8gMCA6IChlIC0gYi5taW5UcmFuc2xhdGUoKSkgLyBsLCBvICE9PSBiLnByb2dyZXNzICYmIGIudXBkYXRlUHJvZ3Jlc3MoZSksIGEgJiYgYi51cGRhdGVBY3RpdmVJbmRleCgpLCBcInNsaWRlXCIgIT09IGIucGFyYW1zLmVmZmVjdCAmJiBiLmVmZmVjdHNbYi5wYXJhbXMuZWZmZWN0XSAmJiBiLmVmZmVjdHNbYi5wYXJhbXMuZWZmZWN0XS5zZXRUcmFuc2xhdGUoYi50cmFuc2xhdGUpLCBiLnBhcmFtcy5wYXJhbGxheCAmJiBiLnBhcmFsbGF4ICYmIGIucGFyYWxsYXguc2V0VHJhbnNsYXRlKGIudHJhbnNsYXRlKSwgYi5wYXJhbXMuc2Nyb2xsYmFyICYmIGIuc2Nyb2xsYmFyICYmIGIuc2Nyb2xsYmFyLnNldFRyYW5zbGF0ZShiLnRyYW5zbGF0ZSksIGIucGFyYW1zLmNvbnRyb2wgJiYgYi5jb250cm9sbGVyICYmIGIuY29udHJvbGxlci5zZXRUcmFuc2xhdGUoYi50cmFuc2xhdGUsIHQpLCBiLmVtaXQoXCJvblNldFRyYW5zbGF0ZVwiLCBiLCBiLnRyYW5zbGF0ZSlcblx0XHRcdFx0fSwgYi5nZXRUcmFuc2xhdGUgPSBmdW5jdGlvbihlLCBhKSB7XG5cdFx0XHRcdFx0dmFyIHQsIHIsIGksIHM7XG5cdFx0XHRcdFx0cmV0dXJuIFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGEgJiYgKGEgPSBcInhcIiksIGIucGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUgPyBiLnJ0bCA/IC1iLnRyYW5zbGF0ZSA6IGIudHJhbnNsYXRlIDogKGkgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlLCBudWxsKSwgd2luZG93LldlYktpdENTU01hdHJpeCA/IChyID0gaS50cmFuc2Zvcm0gfHwgaS53ZWJraXRUcmFuc2Zvcm0sIHIuc3BsaXQoXCIsXCIpLmxlbmd0aCA+IDYgJiYgKHIgPSByLnNwbGl0KFwiLCBcIikubWFwKGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRcdHJldHVybiBlLnJlcGxhY2UoXCIsXCIsIFwiLlwiKVxuXHRcdFx0XHRcdH0pLmpvaW4oXCIsIFwiKSksIHMgPSBuZXcgd2luZG93LldlYktpdENTU01hdHJpeChcIm5vbmVcIiA9PT0gciA/IFwiXCIgOiByKSkgOiAocyA9IGkuTW96VHJhbnNmb3JtIHx8IGkuT1RyYW5zZm9ybSB8fCBpLk1zVHJhbnNmb3JtIHx8IGkubXNUcmFuc2Zvcm0gfHwgaS50cmFuc2Zvcm0gfHwgaS5nZXRQcm9wZXJ0eVZhbHVlKFwidHJhbnNmb3JtXCIpLnJlcGxhY2UoXCJ0cmFuc2xhdGUoXCIsIFwibWF0cml4KDEsIDAsIDAsIDEsXCIpLCB0ID0gcy50b1N0cmluZygpLnNwbGl0KFwiLFwiKSksIFwieFwiID09PSBhICYmIChyID0gd2luZG93LldlYktpdENTU01hdHJpeCA/IHMubTQxIDogMTYgPT09IHQubGVuZ3RoID8gcGFyc2VGbG9hdCh0WzEyXSkgOiBwYXJzZUZsb2F0KHRbNF0pKSwgXCJ5XCIgPT09IGEgJiYgKHIgPSB3aW5kb3cuV2ViS2l0Q1NTTWF0cml4ID8gcy5tNDIgOiAxNiA9PT0gdC5sZW5ndGggPyBwYXJzZUZsb2F0KHRbMTNdKSA6IHBhcnNlRmxvYXQodFs1XSkpLCBiLnJ0bCAmJiByICYmIChyID0gLXIpLCByIHx8IDApXG5cdFx0XHRcdH0sIGIuZ2V0V3JhcHBlclRyYW5zbGF0ZSA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRyZXR1cm4gXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgZSAmJiAoZSA9IGIuaXNIb3Jpem9udGFsKCkgPyBcInhcIiA6IFwieVwiKSwgYi5nZXRUcmFuc2xhdGUoYi53cmFwcGVyWzBdLCBlKVxuXHRcdFx0XHR9LCBiLm9ic2VydmVycyA9IFtdLCBiLmluaXRPYnNlcnZlcnMgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoYi5wYXJhbXMub2JzZXJ2ZVBhcmVudHMpXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBlID0gYi5jb250YWluZXIucGFyZW50cygpLCBhID0gMDsgYSA8IGUubGVuZ3RoOyBhKyspIGwoZVthXSk7XG5cdFx0XHRcdFx0bChiLmNvbnRhaW5lclswXSwge1xuXHRcdFx0XHRcdFx0Y2hpbGRMaXN0OiAhMVxuXHRcdFx0XHRcdH0pLCBsKGIud3JhcHBlclswXSwge1xuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogITFcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9LCBiLmRpc2Nvbm5lY3RPYnNlcnZlcnMgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBlID0gMDsgZSA8IGIub2JzZXJ2ZXJzLmxlbmd0aDsgZSsrKSBiLm9ic2VydmVyc1tlXS5kaXNjb25uZWN0KCk7XG5cdFx0XHRcdFx0Yi5vYnNlcnZlcnMgPSBbXVxuXHRcdFx0XHR9LCBiLmNyZWF0ZUxvb3AgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRiLndyYXBwZXIuY2hpbGRyZW4oXCIuXCIgKyBiLnBhcmFtcy5zbGlkZUNsYXNzICsgXCIuXCIgKyBiLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKS5yZW1vdmUoKTtcblx0XHRcdFx0XHR2YXIgZSA9IGIud3JhcHBlci5jaGlsZHJlbihcIi5cIiArIGIucGFyYW1zLnNsaWRlQ2xhc3MpO1xuXHRcdFx0XHRcdFwiYXV0b1wiICE9PSBiLnBhcmFtcy5zbGlkZXNQZXJWaWV3IHx8IGIucGFyYW1zLmxvb3BlZFNsaWRlcyB8fCAoYi5wYXJhbXMubG9vcGVkU2xpZGVzID0gZS5sZW5ndGgpLCBiLmxvb3BlZFNsaWRlcyA9IHBhcnNlSW50KGIucGFyYW1zLmxvb3BlZFNsaWRlcyB8fCBiLnBhcmFtcy5zbGlkZXNQZXJWaWV3LCAxMCksIGIubG9vcGVkU2xpZGVzID0gYi5sb29wZWRTbGlkZXMgKyBiLnBhcmFtcy5sb29wQWRkaXRpb25hbFNsaWRlcywgYi5sb29wZWRTbGlkZXMgPiBlLmxlbmd0aCAmJiAoYi5sb29wZWRTbGlkZXMgPSBlLmxlbmd0aCk7XG5cdFx0XHRcdFx0dmFyIHQsIHIgPSBbXSxcblx0XHRcdFx0XHRcdGkgPSBbXTtcblx0XHRcdFx0XHRmb3IgKGUuZWFjaChmdW5jdGlvbih0LCBzKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBuID0gYSh0aGlzKTtcblx0XHRcdFx0XHRcdFx0dCA8IGIubG9vcGVkU2xpZGVzICYmIGkucHVzaChzKSwgdCA8IGUubGVuZ3RoICYmIHQgPj0gZS5sZW5ndGggLSBiLmxvb3BlZFNsaWRlcyAmJiByLnB1c2gocyksIG4uYXR0cihcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIsIHQpXG5cdFx0XHRcdFx0XHR9KSwgdCA9IDA7IHQgPCBpLmxlbmd0aDsgdCsrKSBiLndyYXBwZXIuYXBwZW5kKGEoaVt0XS5jbG9uZU5vZGUoITApKS5hZGRDbGFzcyhiLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSk7XG5cdFx0XHRcdFx0Zm9yICh0ID0gci5sZW5ndGggLSAxOyB0ID49IDA7IHQtLSkgYi53cmFwcGVyLnByZXBlbmQoYShyW3RdLmNsb25lTm9kZSghMCkpLmFkZENsYXNzKGIucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpKVxuXHRcdFx0XHR9LCBiLmRlc3Ryb3lMb29wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Yi53cmFwcGVyLmNoaWxkcmVuKFwiLlwiICsgYi5wYXJhbXMuc2xpZGVDbGFzcyArIFwiLlwiICsgYi5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykucmVtb3ZlKCksIGIuc2xpZGVzLnJlbW92ZUF0dHIoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKVxuXHRcdFx0XHR9LCBiLnJlTG9vcCA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHR2YXIgYSA9IGIuYWN0aXZlSW5kZXggLSBiLmxvb3BlZFNsaWRlcztcblx0XHRcdFx0XHRiLmRlc3Ryb3lMb29wKCksIGIuY3JlYXRlTG9vcCgpLCBiLnVwZGF0ZVNsaWRlc1NpemUoKSwgZSAmJiBiLnNsaWRlVG8oYSArIGIubG9vcGVkU2xpZGVzLCAwLCAhMSlcblx0XHRcdFx0fSwgYi5maXhMb29wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIGU7XG5cdFx0XHRcdFx0Yi5hY3RpdmVJbmRleCA8IGIubG9vcGVkU2xpZGVzID8gKGUgPSBiLnNsaWRlcy5sZW5ndGggLSAzICogYi5sb29wZWRTbGlkZXMgKyBiLmFjdGl2ZUluZGV4LCBlICs9IGIubG9vcGVkU2xpZGVzLCBiLnNsaWRlVG8oZSwgMCwgITEsICEwKSkgOiAoXCJhdXRvXCIgPT09IGIucGFyYW1zLnNsaWRlc1BlclZpZXcgJiYgYi5hY3RpdmVJbmRleCA+PSAyICogYi5sb29wZWRTbGlkZXMgfHwgYi5hY3RpdmVJbmRleCA+IGIuc2xpZGVzLmxlbmd0aCAtIDIgKiBiLnBhcmFtcy5zbGlkZXNQZXJWaWV3KSAmJiAoZSA9IC1iLnNsaWRlcy5sZW5ndGggKyBiLmFjdGl2ZUluZGV4ICsgYi5sb29wZWRTbGlkZXMsIGUgKz0gYi5sb29wZWRTbGlkZXMsIGIuc2xpZGVUbyhlLCAwLCAhMSwgITApKVxuXHRcdFx0XHR9LCBiLmFwcGVuZFNsaWRlID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdGlmIChiLnBhcmFtcy5sb29wICYmIGIuZGVzdHJveUxvb3AoKSwgXCJvYmplY3RcIiA9PSB0eXBlb2YgZSAmJiBlLmxlbmd0aClcblx0XHRcdFx0XHRcdGZvciAodmFyIGEgPSAwOyBhIDwgZS5sZW5ndGg7IGErKykgZVthXSAmJiBiLndyYXBwZXIuYXBwZW5kKGVbYV0pO1xuXHRcdFx0XHRcdGVsc2UgYi53cmFwcGVyLmFwcGVuZChlKTtcblx0XHRcdFx0XHRiLnBhcmFtcy5sb29wICYmIGIuY3JlYXRlTG9vcCgpLCBiLnBhcmFtcy5vYnNlcnZlciAmJiBiLnN1cHBvcnQub2JzZXJ2ZXIgfHwgYi51cGRhdGUoITApXG5cdFx0XHRcdH0sIGIucHJlcGVuZFNsaWRlID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdGIucGFyYW1zLmxvb3AgJiYgYi5kZXN0cm95TG9vcCgpO1xuXHRcdFx0XHRcdHZhciBhID0gYi5hY3RpdmVJbmRleCArIDE7XG5cdFx0XHRcdFx0aWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIGUgJiYgZS5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGZvciAodmFyIHQgPSAwOyB0IDwgZS5sZW5ndGg7IHQrKykgZVt0XSAmJiBiLndyYXBwZXIucHJlcGVuZChlW3RdKTtcblx0XHRcdFx0XHRcdGEgPSBiLmFjdGl2ZUluZGV4ICsgZS5sZW5ndGhcblx0XHRcdFx0XHR9IGVsc2UgYi53cmFwcGVyLnByZXBlbmQoZSk7XG5cdFx0XHRcdFx0Yi5wYXJhbXMubG9vcCAmJiBiLmNyZWF0ZUxvb3AoKSwgYi5wYXJhbXMub2JzZXJ2ZXIgJiYgYi5zdXBwb3J0Lm9ic2VydmVyIHx8IGIudXBkYXRlKCEwKSwgYi5zbGlkZVRvKGEsIDAsICExKVxuXHRcdFx0XHR9LCBiLnJlbW92ZVNsaWRlID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdGIucGFyYW1zLmxvb3AgJiYgKGIuZGVzdHJveUxvb3AoKSwgYi5zbGlkZXMgPSBiLndyYXBwZXIuY2hpbGRyZW4oXCIuXCIgKyBiLnBhcmFtcy5zbGlkZUNsYXNzKSk7XG5cdFx0XHRcdFx0dmFyIGEsIHQgPSBiLmFjdGl2ZUluZGV4O1xuXHRcdFx0XHRcdGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBlICYmIGUubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRmb3IgKHZhciByID0gMDsgciA8IGUubGVuZ3RoOyByKyspIGEgPSBlW3JdLCBiLnNsaWRlc1thXSAmJiBiLnNsaWRlcy5lcShhKS5yZW1vdmUoKSwgdCA+IGEgJiYgdC0tO1xuXHRcdFx0XHRcdFx0dCA9IE1hdGgubWF4KHQsIDApXG5cdFx0XHRcdFx0fSBlbHNlIGEgPSBlLCBiLnNsaWRlc1thXSAmJiBiLnNsaWRlcy5lcShhKS5yZW1vdmUoKSwgdCA+IGEgJiYgdC0tLCB0ID0gTWF0aC5tYXgodCwgMCk7XG5cdFx0XHRcdFx0Yi5wYXJhbXMubG9vcCAmJiBiLmNyZWF0ZUxvb3AoKSwgYi5wYXJhbXMub2JzZXJ2ZXIgJiYgYi5zdXBwb3J0Lm9ic2VydmVyIHx8IGIudXBkYXRlKCEwKSwgYi5wYXJhbXMubG9vcCA/IGIuc2xpZGVUbyh0ICsgYi5sb29wZWRTbGlkZXMsIDAsICExKSA6IGIuc2xpZGVUbyh0LCAwLCAhMSlcblx0XHRcdFx0fSwgYi5yZW1vdmVBbGxTbGlkZXMgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBlID0gW10sIGEgPSAwOyBhIDwgYi5zbGlkZXMubGVuZ3RoOyBhKyspIGUucHVzaChhKTtcblx0XHRcdFx0XHRiLnJlbW92ZVNsaWRlKGUpXG5cdFx0XHRcdH0sIGIuZWZmZWN0cyA9IHtcblx0XHRcdFx0XHRmYWRlOiB7XG5cdFx0XHRcdFx0XHRzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciBlID0gMDsgZSA8IGIuc2xpZGVzLmxlbmd0aDsgZSsrKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGEgPSBiLnNsaWRlcy5lcShlKSxcblx0XHRcdFx0XHRcdFx0XHRcdHQgPSBhWzBdLnN3aXBlclNsaWRlT2Zmc2V0LFxuXHRcdFx0XHRcdFx0XHRcdFx0ciA9IC10O1xuXHRcdFx0XHRcdFx0XHRcdGIucGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUgfHwgKHIgLT0gYi50cmFuc2xhdGUpO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBpID0gMDtcblx0XHRcdFx0XHRcdFx0XHRiLmlzSG9yaXpvbnRhbCgpIHx8IChpID0gciwgciA9IDApO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBzID0gYi5wYXJhbXMuZmFkZS5jcm9zc0ZhZGUgPyBNYXRoLm1heCgxIC0gTWF0aC5hYnMoYVswXS5wcm9ncmVzcyksIDApIDogMSArIE1hdGgubWluKE1hdGgubWF4KGFbMF0ucHJvZ3Jlc3MsIC0xKSwgMCk7XG5cdFx0XHRcdFx0XHRcdFx0YS5jc3Moe1xuXHRcdFx0XHRcdFx0XHRcdFx0b3BhY2l0eTogc1xuXHRcdFx0XHRcdFx0XHRcdH0pLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKFwiICsgciArIFwicHgsIFwiICsgaSArIFwicHgsIDBweClcIilcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHNldFRyYW5zaXRpb246IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGIuc2xpZGVzLnRyYW5zaXRpb24oZSksIGIucGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUgJiYgMCAhPT0gZSkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBhID0gITE7XG5cdFx0XHRcdFx0XHRcdFx0Yi5zbGlkZXMudHJhbnNpdGlvbkVuZChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghYSAmJiBiKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGEgPSAhMCwgYi5hbmltYXRpbmcgPSAhMTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Zm9yICh2YXIgZSA9IFtcIndlYmtpdFRyYW5zaXRpb25FbmRcIiwgXCJ0cmFuc2l0aW9uZW5kXCIsIFwib1RyYW5zaXRpb25FbmRcIiwgXCJNU1RyYW5zaXRpb25FbmRcIiwgXCJtc1RyYW5zaXRpb25FbmRcIl0sIHQgPSAwOyB0IDwgZS5sZW5ndGg7IHQrKykgYi53cmFwcGVyLnRyaWdnZXIoZVt0XSlcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRmbGlwOiB7XG5cdFx0XHRcdFx0XHRzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciBlID0gMDsgZSA8IGIuc2xpZGVzLmxlbmd0aDsgZSsrKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHQgPSBiLnNsaWRlcy5lcShlKSxcblx0XHRcdFx0XHRcdFx0XHRcdHIgPSB0WzBdLnByb2dyZXNzO1xuXHRcdFx0XHRcdFx0XHRcdGIucGFyYW1zLmZsaXAubGltaXRSb3RhdGlvbiAmJiAociA9IE1hdGgubWF4KE1hdGgubWluKHRbMF0ucHJvZ3Jlc3MsIDEpLCAtMSkpO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBpID0gdFswXS5zd2lwZXJTbGlkZU9mZnNldCxcblx0XHRcdFx0XHRcdFx0XHRcdHMgPSAtMTgwICogcixcblx0XHRcdFx0XHRcdFx0XHRcdG4gPSBzLFxuXHRcdFx0XHRcdFx0XHRcdFx0byA9IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRsID0gLWksXG5cdFx0XHRcdFx0XHRcdFx0XHRwID0gMDtcblx0XHRcdFx0XHRcdFx0XHRpZiAoYi5pc0hvcml6b250YWwoKSA/IGIucnRsICYmIChuID0gLW4pIDogKHAgPSBsLCBsID0gMCwgbyA9IC1uLCBuID0gMCksIHRbMF0uc3R5bGUuekluZGV4ID0gLU1hdGguYWJzKE1hdGgucm91bmQocikpICsgYi5zbGlkZXMubGVuZ3RoLCBiLnBhcmFtcy5mbGlwLnNsaWRlU2hhZG93cykge1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGQgPSBiLmlzSG9yaXpvbnRhbCgpID8gdC5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdFwiKSA6IHQuZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93LXRvcFwiKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0dSA9IGIuaXNIb3Jpem9udGFsKCkgPyB0LmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodFwiKSA6IHQuZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbVwiKTtcblx0XHRcdFx0XHRcdFx0XHRcdDAgPT09IGQubGVuZ3RoICYmIChkID0gYSgnPGRpdiBjbGFzcz1cInN3aXBlci1zbGlkZS1zaGFkb3ctJyArIChiLmlzSG9yaXpvbnRhbCgpID8gXCJsZWZ0XCIgOiBcInRvcFwiKSArICdcIj48L2Rpdj4nKSwgdC5hcHBlbmQoZCkpLCAwID09PSB1Lmxlbmd0aCAmJiAodSA9IGEoJzxkaXYgY2xhc3M9XCJzd2lwZXItc2xpZGUtc2hhZG93LScgKyAoYi5pc0hvcml6b250YWwoKSA/IFwicmlnaHRcIiA6IFwiYm90dG9tXCIpICsgJ1wiPjwvZGl2PicpLCB0LmFwcGVuZCh1KSksIGQubGVuZ3RoICYmIChkWzBdLnN0eWxlLm9wYWNpdHkgPSBNYXRoLm1heCgtciwgMCkpLCB1Lmxlbmd0aCAmJiAodVswXS5zdHlsZS5vcGFjaXR5ID0gTWF0aC5tYXgociwgMCkpXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdHQudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoXCIgKyBsICsgXCJweCwgXCIgKyBwICsgXCJweCwgMHB4KSByb3RhdGVYKFwiICsgbyArIFwiZGVnKSByb3RhdGVZKFwiICsgbiArIFwiZGVnKVwiKVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0c2V0VHJhbnNpdGlvbjogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoYi5zbGlkZXMudHJhbnNpdGlvbihlKS5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0XCIpLnRyYW5zaXRpb24oZSksIGIucGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUgJiYgMCAhPT0gZSkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciB0ID0gITE7XG5cdFx0XHRcdFx0XHRcdFx0Yi5zbGlkZXMuZXEoYi5hY3RpdmVJbmRleCkudHJhbnNpdGlvbkVuZChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmICghdCAmJiBiICYmIGEodGhpcykuaGFzQ2xhc3MoYi5wYXJhbXMuc2xpZGVBY3RpdmVDbGFzcykpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dCA9ICEwLCBiLmFuaW1hdGluZyA9ICExO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRmb3IgKHZhciBlID0gW1wid2Via2l0VHJhbnNpdGlvbkVuZFwiLCBcInRyYW5zaXRpb25lbmRcIiwgXCJvVHJhbnNpdGlvbkVuZFwiLCBcIk1TVHJhbnNpdGlvbkVuZFwiLCBcIm1zVHJhbnNpdGlvbkVuZFwiXSwgciA9IDA7IHIgPCBlLmxlbmd0aDsgcisrKSBiLndyYXBwZXIudHJpZ2dlcihlW3JdKVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGN1YmU6IHtcblx0XHRcdFx0XHRcdHNldFRyYW5zbGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBlLCB0ID0gMDtcblx0XHRcdFx0XHRcdFx0Yi5wYXJhbXMuY3ViZS5zaGFkb3cgJiYgKGIuaXNIb3Jpem9udGFsKCkgPyAoZSA9IGIud3JhcHBlci5maW5kKFwiLnN3aXBlci1jdWJlLXNoYWRvd1wiKSwgMCA9PT0gZS5sZW5ndGggJiYgKGUgPSBhKCc8ZGl2IGNsYXNzPVwic3dpcGVyLWN1YmUtc2hhZG93XCI+PC9kaXY+JyksIGIud3JhcHBlci5hcHBlbmQoZSkpLCBlLmNzcyh7XG5cdFx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBiLndpZHRoICsgXCJweFwiXG5cdFx0XHRcdFx0XHRcdH0pKSA6IChlID0gYi5jb250YWluZXIuZmluZChcIi5zd2lwZXItY3ViZS1zaGFkb3dcIiksIDAgPT09IGUubGVuZ3RoICYmIChlID0gYSgnPGRpdiBjbGFzcz1cInN3aXBlci1jdWJlLXNoYWRvd1wiPjwvZGl2PicpLCBiLmNvbnRhaW5lci5hcHBlbmQoZSkpKSk7XG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIHIgPSAwOyByIDwgYi5zbGlkZXMubGVuZ3RoOyByKyspIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgaSA9IGIuc2xpZGVzLmVxKHIpLFxuXHRcdFx0XHRcdFx0XHRcdFx0cyA9IDkwICogcixcblx0XHRcdFx0XHRcdFx0XHRcdG4gPSBNYXRoLmZsb29yKHMgLyAzNjApO1xuXHRcdFx0XHRcdFx0XHRcdGIucnRsICYmIChzID0gLXMsIG4gPSBNYXRoLmZsb29yKC1zIC8gMzYwKSk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIG8gPSBNYXRoLm1heChNYXRoLm1pbihpWzBdLnByb2dyZXNzLCAxKSwgLTEpLFxuXHRcdFx0XHRcdFx0XHRcdFx0bCA9IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRwID0gMCxcblx0XHRcdFx0XHRcdFx0XHRcdGQgPSAwO1xuXHRcdFx0XHRcdFx0XHRcdHIgJSA0ID09PSAwID8gKGwgPSA0ICogLW4gKiBiLnNpemUsIGQgPSAwKSA6IChyIC0gMSkgJSA0ID09PSAwID8gKGwgPSAwLCBkID0gNCAqIC1uICogYi5zaXplKSA6IChyIC0gMikgJSA0ID09PSAwID8gKGwgPSBiLnNpemUgKyA0ICogbiAqIGIuc2l6ZSwgZCA9IGIuc2l6ZSkgOiAociAtIDMpICUgNCA9PT0gMCAmJiAobCA9IC1iLnNpemUsIGQgPSAzICogYi5zaXplICsgNCAqIGIuc2l6ZSAqIG4pLCBiLnJ0bCAmJiAobCA9IC1sKSwgYi5pc0hvcml6b250YWwoKSB8fCAocCA9IGwsIGwgPSAwKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgdSA9IFwicm90YXRlWChcIiArIChiLmlzSG9yaXpvbnRhbCgpID8gMCA6IC1zKSArIFwiZGVnKSByb3RhdGVZKFwiICsgKGIuaXNIb3Jpem9udGFsKCkgPyBzIDogMCkgKyBcImRlZykgdHJhbnNsYXRlM2QoXCIgKyBsICsgXCJweCwgXCIgKyBwICsgXCJweCwgXCIgKyBkICsgXCJweClcIjtcblx0XHRcdFx0XHRcdFx0XHRpZiAoMSA+PSBvICYmIG8gPiAtMSAmJiAodCA9IDkwICogciArIDkwICogbywgYi5ydGwgJiYgKHQgPSA5MCAqIC1yIC0gOTAgKiBvKSksIGkudHJhbnNmb3JtKHUpLCBiLnBhcmFtcy5jdWJlLnNsaWRlU2hhZG93cykge1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGMgPSBiLmlzSG9yaXpvbnRhbCgpID8gaS5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdFwiKSA6IGkuZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93LXRvcFwiKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0bSA9IGIuaXNIb3Jpem9udGFsKCkgPyBpLmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodFwiKSA6IGkuZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbVwiKTtcblx0XHRcdFx0XHRcdFx0XHRcdDAgPT09IGMubGVuZ3RoICYmIChjID0gYSgnPGRpdiBjbGFzcz1cInN3aXBlci1zbGlkZS1zaGFkb3ctJyArIChiLmlzSG9yaXpvbnRhbCgpID8gXCJsZWZ0XCIgOiBcInRvcFwiKSArICdcIj48L2Rpdj4nKSwgaS5hcHBlbmQoYykpLCAwID09PSBtLmxlbmd0aCAmJiAobSA9IGEoJzxkaXYgY2xhc3M9XCJzd2lwZXItc2xpZGUtc2hhZG93LScgKyAoYi5pc0hvcml6b250YWwoKSA/IFwicmlnaHRcIiA6IFwiYm90dG9tXCIpICsgJ1wiPjwvZGl2PicpLCBpLmFwcGVuZChtKSksIGMubGVuZ3RoICYmIChjWzBdLnN0eWxlLm9wYWNpdHkgPSBNYXRoLm1heCgtbywgMCkpLCBtLmxlbmd0aCAmJiAobVswXS5zdHlsZS5vcGFjaXR5ID0gTWF0aC5tYXgobywgMCkpXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGlmIChiLndyYXBwZXIuY3NzKHtcblx0XHRcdFx0XHRcdFx0XHRcdFwiLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luXCI6IFwiNTAlIDUwJSAtXCIgKyBiLnNpemUgLyAyICsgXCJweFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XCItbW96LXRyYW5zZm9ybS1vcmlnaW5cIjogXCI1MCUgNTAlIC1cIiArIGIuc2l6ZSAvIDIgKyBcInB4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcIi1tcy10cmFuc2Zvcm0tb3JpZ2luXCI6IFwiNTAlIDUwJSAtXCIgKyBiLnNpemUgLyAyICsgXCJweFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XCJ0cmFuc2Zvcm0tb3JpZ2luXCI6IFwiNTAlIDUwJSAtXCIgKyBiLnNpemUgLyAyICsgXCJweFwiXG5cdFx0XHRcdFx0XHRcdFx0fSksIGIucGFyYW1zLmN1YmUuc2hhZG93KVxuXHRcdFx0XHRcdFx0XHRcdGlmIChiLmlzSG9yaXpvbnRhbCgpKSBlLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKDBweCwgXCIgKyAoYi53aWR0aCAvIDIgKyBiLnBhcmFtcy5jdWJlLnNoYWRvd09mZnNldCkgKyBcInB4LCBcIiArIC1iLndpZHRoIC8gMiArIFwicHgpIHJvdGF0ZVgoOTBkZWcpIHJvdGF0ZVooMGRlZykgc2NhbGUoXCIgKyBiLnBhcmFtcy5jdWJlLnNoYWRvd1NjYWxlICsgXCIpXCIpO1xuXHRcdFx0XHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGggPSBNYXRoLmFicyh0KSAtIDkwICogTWF0aC5mbG9vcihNYXRoLmFicyh0KSAvIDkwKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZiA9IDEuNSAtIChNYXRoLnNpbigyICogaCAqIE1hdGguUEkgLyAzNjApIC8gMiArIE1hdGguY29zKDIgKiBoICogTWF0aC5QSSAvIDM2MCkgLyAyKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZyA9IGIucGFyYW1zLmN1YmUuc2hhZG93U2NhbGUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHYgPSBiLnBhcmFtcy5jdWJlLnNoYWRvd1NjYWxlIC8gZixcblx0XHRcdFx0XHRcdFx0XHRcdFx0dyA9IGIucGFyYW1zLmN1YmUuc2hhZG93T2Zmc2V0O1xuXHRcdFx0XHRcdFx0XHRcdFx0ZS50cmFuc2Zvcm0oXCJzY2FsZTNkKFwiICsgZyArIFwiLCAxLCBcIiArIHYgKyBcIikgdHJhbnNsYXRlM2QoMHB4LCBcIiArIChiLmhlaWdodCAvIDIgKyB3KSArIFwicHgsIFwiICsgLWIuaGVpZ2h0IC8gMiAvIHYgKyBcInB4KSByb3RhdGVYKC05MGRlZylcIilcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHZhciB5ID0gYi5pc1NhZmFyaSB8fCBiLmlzVWlXZWJWaWV3ID8gLWIuc2l6ZSAvIDIgOiAwO1xuXHRcdFx0XHRcdFx0XHRiLndyYXBwZXIudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoMHB4LDAsXCIgKyB5ICsgXCJweCkgcm90YXRlWChcIiArIChiLmlzSG9yaXpvbnRhbCgpID8gMCA6IHQpICsgXCJkZWcpIHJvdGF0ZVkoXCIgKyAoYi5pc0hvcml6b250YWwoKSA/IC10IDogMCkgKyBcImRlZylcIilcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0XHRcdGIuc2xpZGVzLnRyYW5zaXRpb24oZSkuZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93LXRvcCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHQsIC5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbSwgLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdFwiKS50cmFuc2l0aW9uKGUpLCBiLnBhcmFtcy5jdWJlLnNoYWRvdyAmJiAhYi5pc0hvcml6b250YWwoKSAmJiBiLmNvbnRhaW5lci5maW5kKFwiLnN3aXBlci1jdWJlLXNoYWRvd1wiKS50cmFuc2l0aW9uKGUpXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRjb3ZlcmZsb3c6IHtcblx0XHRcdFx0XHRcdHNldFRyYW5zbGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIGUgPSBiLnRyYW5zbGF0ZSwgdCA9IGIuaXNIb3Jpem9udGFsKCkgPyAtZSArIGIud2lkdGggLyAyIDogLWUgKyBiLmhlaWdodCAvIDIsIHIgPSBiLmlzSG9yaXpvbnRhbCgpID8gYi5wYXJhbXMuY292ZXJmbG93LnJvdGF0ZSA6IC1iLnBhcmFtcy5jb3ZlcmZsb3cucm90YXRlLCBpID0gYi5wYXJhbXMuY292ZXJmbG93LmRlcHRoLCBzID0gMCwgbiA9IGIuc2xpZGVzLmxlbmd0aDsgbiA+IHM7IHMrKykge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBvID0gYi5zbGlkZXMuZXEocyksXG5cdFx0XHRcdFx0XHRcdFx0XHRsID0gYi5zbGlkZXNTaXplc0dyaWRbc10sXG5cdFx0XHRcdFx0XHRcdFx0XHRwID0gb1swXS5zd2lwZXJTbGlkZU9mZnNldCxcblx0XHRcdFx0XHRcdFx0XHRcdGQgPSAodCAtIHAgLSBsIC8gMikgLyBsICogYi5wYXJhbXMuY292ZXJmbG93Lm1vZGlmaWVyLFxuXHRcdFx0XHRcdFx0XHRcdFx0dSA9IGIuaXNIb3Jpem9udGFsKCkgPyByICogZCA6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRjID0gYi5pc0hvcml6b250YWwoKSA/IDAgOiByICogZCxcblx0XHRcdFx0XHRcdFx0XHRcdG0gPSAtaSAqIE1hdGguYWJzKGQpLFxuXHRcdFx0XHRcdFx0XHRcdFx0aCA9IGIuaXNIb3Jpem9udGFsKCkgPyAwIDogYi5wYXJhbXMuY292ZXJmbG93LnN0cmV0Y2ggKiBkLFxuXHRcdFx0XHRcdFx0XHRcdFx0ZiA9IGIuaXNIb3Jpem9udGFsKCkgPyBiLnBhcmFtcy5jb3ZlcmZsb3cuc3RyZXRjaCAqIGQgOiAwO1xuXHRcdFx0XHRcdFx0XHRcdE1hdGguYWJzKGYpIDwgLjAwMSAmJiAoZiA9IDApLCBNYXRoLmFicyhoKSA8IC4wMDEgJiYgKGggPSAwKSwgTWF0aC5hYnMobSkgPCAuMDAxICYmIChtID0gMCksIE1hdGguYWJzKHUpIDwgLjAwMSAmJiAodSA9IDApLCBNYXRoLmFicyhjKSA8IC4wMDEgJiYgKGMgPSAwKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgZyA9IFwidHJhbnNsYXRlM2QoXCIgKyBmICsgXCJweCxcIiArIGggKyBcInB4LFwiICsgbSArIFwicHgpICByb3RhdGVYKFwiICsgYyArIFwiZGVnKSByb3RhdGVZKFwiICsgdSArIFwiZGVnKVwiO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChvLnRyYW5zZm9ybShnKSwgb1swXS5zdHlsZS56SW5kZXggPSAtTWF0aC5hYnMoTWF0aC5yb3VuZChkKSkgKyAxLCBiLnBhcmFtcy5jb3ZlcmZsb3cuc2xpZGVTaGFkb3dzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgdiA9IGIuaXNIb3Jpem9udGFsKCkgPyBvLmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0XCIpIDogby5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wXCIpLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR3ID0gYi5pc0hvcml6b250YWwoKSA/IG8uZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0XCIpIDogby5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tXCIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0MCA9PT0gdi5sZW5ndGggJiYgKHYgPSBhKCc8ZGl2IGNsYXNzPVwic3dpcGVyLXNsaWRlLXNoYWRvdy0nICsgKGIuaXNIb3Jpem9udGFsKCkgPyBcImxlZnRcIiA6IFwidG9wXCIpICsgJ1wiPjwvZGl2PicpLCBvLmFwcGVuZCh2KSksIDAgPT09IHcubGVuZ3RoICYmICh3ID0gYSgnPGRpdiBjbGFzcz1cInN3aXBlci1zbGlkZS1zaGFkb3ctJyArIChiLmlzSG9yaXpvbnRhbCgpID8gXCJyaWdodFwiIDogXCJib3R0b21cIikgKyAnXCI+PC9kaXY+JyksIG8uYXBwZW5kKHcpKSwgdi5sZW5ndGggJiYgKHZbMF0uc3R5bGUub3BhY2l0eSA9IGQgPiAwID8gZCA6IDApLCB3Lmxlbmd0aCAmJiAod1swXS5zdHlsZS5vcGFjaXR5ID0gLWQgPiAwID8gLWQgOiAwKVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZiAoYi5icm93c2VyLmllKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHkgPSBiLndyYXBwZXJbMF0uc3R5bGU7XG5cdFx0XHRcdFx0XHRcdFx0eS5wZXJzcGVjdGl2ZU9yaWdpbiA9IHQgKyBcInB4IDUwJVwiXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0XHRcdGIuc2xpZGVzLnRyYW5zaXRpb24oZSkuZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93LXRvcCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHQsIC5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbSwgLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdFwiKS50cmFuc2l0aW9uKGUpXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCBiLmxhenkgPSB7XG5cdFx0XHRcdFx0aW5pdGlhbEltYWdlTG9hZGVkOiAhMSxcblx0XHRcdFx0XHRsb2FkSW1hZ2VJblNsaWRlOiBmdW5jdGlvbihlLCB0KSB7XG5cdFx0XHRcdFx0XHRpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgZSAmJiAoXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgdCAmJiAodCA9ICEwKSwgMCAhPT0gYi5zbGlkZXMubGVuZ3RoKSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgciA9IGIuc2xpZGVzLmVxKGUpLFxuXHRcdFx0XHRcdFx0XHRcdGkgPSByLmZpbmQoXCIuc3dpcGVyLWxhenk6bm90KC5zd2lwZXItbGF6eS1sb2FkZWQpOm5vdCguc3dpcGVyLWxhenktbG9hZGluZylcIik7XG5cdFx0XHRcdFx0XHRcdCFyLmhhc0NsYXNzKFwic3dpcGVyLWxhenlcIikgfHwgci5oYXNDbGFzcyhcInN3aXBlci1sYXp5LWxvYWRlZFwiKSB8fCByLmhhc0NsYXNzKFwic3dpcGVyLWxhenktbG9hZGluZ1wiKSB8fCAoaSA9IGkuYWRkKHJbMF0pKSwgMCAhPT0gaS5sZW5ndGggJiYgaS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBlID0gYSh0aGlzKTtcblx0XHRcdFx0XHRcdFx0XHRlLmFkZENsYXNzKFwic3dpcGVyLWxhenktbG9hZGluZ1wiKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgaSA9IGUuYXR0cihcImRhdGEtYmFja2dyb3VuZFwiKSxcblx0XHRcdFx0XHRcdFx0XHRcdHMgPSBlLmF0dHIoXCJkYXRhLXNyY1wiKSxcblx0XHRcdFx0XHRcdFx0XHRcdG4gPSBlLmF0dHIoXCJkYXRhLXNyY3NldFwiKTtcblx0XHRcdFx0XHRcdFx0XHRiLmxvYWRJbWFnZShlWzBdLCBzIHx8IGksIG4sICExLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChpID8gKGUuY3NzKFwiYmFja2dyb3VuZC1pbWFnZVwiLCAndXJsKFwiJyArIGkgKyAnXCIpJyksIGUucmVtb3ZlQXR0cihcImRhdGEtYmFja2dyb3VuZFwiKSkgOiAobiAmJiAoZS5hdHRyKFwic3Jjc2V0XCIsIG4pLCBlLnJlbW92ZUF0dHIoXCJkYXRhLXNyY3NldFwiKSksIHMgJiYgKGUuYXR0cihcInNyY1wiLCBzKSwgZS5yZW1vdmVBdHRyKFwiZGF0YS1zcmNcIikpKSwgZS5hZGRDbGFzcyhcInN3aXBlci1sYXp5LWxvYWRlZFwiKS5yZW1vdmVDbGFzcyhcInN3aXBlci1sYXp5LWxvYWRpbmdcIiksIHIuZmluZChcIi5zd2lwZXItbGF6eS1wcmVsb2FkZXIsIC5wcmVsb2FkZXJcIikucmVtb3ZlKCksIGIucGFyYW1zLmxvb3AgJiYgdCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgYSA9IHIuYXR0cihcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoci5oYXNDbGFzcyhiLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBvID0gYi53cmFwcGVyLmNoaWxkcmVuKCdbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCInICsgYSArICdcIl06bm90KC4nICsgYi5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcyArIFwiKVwiKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRiLmxhenkubG9hZEltYWdlSW5TbGlkZShvLmluZGV4KCksICExKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBsID0gYi53cmFwcGVyLmNoaWxkcmVuKFwiLlwiICsgYi5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcyArICdbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCInICsgYSArICdcIl0nKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRiLmxhenkubG9hZEltYWdlSW5TbGlkZShsLmluZGV4KCksICExKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRiLmVtaXQoXCJvbkxhenlJbWFnZVJlYWR5XCIsIGIsIHJbMF0sIGVbMF0pXG5cdFx0XHRcdFx0XHRcdFx0fSksIGIuZW1pdChcIm9uTGF6eUltYWdlTG9hZFwiLCBiLCByWzBdLCBlWzBdKVxuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0bG9hZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR2YXIgZTtcblx0XHRcdFx0XHRcdGlmIChiLnBhcmFtcy53YXRjaFNsaWRlc1Zpc2liaWxpdHkpIGIud3JhcHBlci5jaGlsZHJlbihcIi5cIiArIGIucGFyYW1zLnNsaWRlVmlzaWJsZUNsYXNzKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRiLmxhenkubG9hZEltYWdlSW5TbGlkZShhKHRoaXMpLmluZGV4KCkpXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGVsc2UgaWYgKGIucGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxKVxuXHRcdFx0XHRcdFx0XHRmb3IgKGUgPSBiLmFjdGl2ZUluZGV4OyBlIDwgYi5hY3RpdmVJbmRleCArIGIucGFyYW1zLnNsaWRlc1BlclZpZXc7IGUrKykgYi5zbGlkZXNbZV0gJiYgYi5sYXp5LmxvYWRJbWFnZUluU2xpZGUoZSk7XG5cdFx0XHRcdFx0XHRlbHNlIGIubGF6eS5sb2FkSW1hZ2VJblNsaWRlKGIuYWN0aXZlSW5kZXgpO1xuXHRcdFx0XHRcdFx0aWYgKGIucGFyYW1zLmxhenlMb2FkaW5nSW5QcmV2TmV4dClcblx0XHRcdFx0XHRcdFx0aWYgKGIucGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxIHx8IGIucGFyYW1zLmxhenlMb2FkaW5nSW5QcmV2TmV4dEFtb3VudCAmJiBiLnBhcmFtcy5sYXp5TG9hZGluZ0luUHJldk5leHRBbW91bnQgPiAxKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHQgPSBiLnBhcmFtcy5sYXp5TG9hZGluZ0luUHJldk5leHRBbW91bnQsXG5cdFx0XHRcdFx0XHRcdFx0XHRyID0gYi5wYXJhbXMuc2xpZGVzUGVyVmlldyxcblx0XHRcdFx0XHRcdFx0XHRcdGkgPSBNYXRoLm1pbihiLmFjdGl2ZUluZGV4ICsgciArIE1hdGgubWF4KHQsIHIpLCBiLnNsaWRlcy5sZW5ndGgpLFxuXHRcdFx0XHRcdFx0XHRcdFx0cyA9IE1hdGgubWF4KGIuYWN0aXZlSW5kZXggLSBNYXRoLm1heChyLCB0KSwgMCk7XG5cdFx0XHRcdFx0XHRcdFx0Zm9yIChlID0gYi5hY3RpdmVJbmRleCArIGIucGFyYW1zLnNsaWRlc1BlclZpZXc7IGkgPiBlOyBlKyspIGIuc2xpZGVzW2VdICYmIGIubGF6eS5sb2FkSW1hZ2VJblNsaWRlKGUpO1xuXHRcdFx0XHRcdFx0XHRcdGZvciAoZSA9IHM7IGUgPCBiLmFjdGl2ZUluZGV4OyBlKyspIGIuc2xpZGVzW2VdICYmIGIubGF6eS5sb2FkSW1hZ2VJblNsaWRlKGUpXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIG4gPSBiLndyYXBwZXIuY2hpbGRyZW4oXCIuXCIgKyBiLnBhcmFtcy5zbGlkZU5leHRDbGFzcyk7XG5cdFx0XHRcdFx0XHRcdFx0bi5sZW5ndGggPiAwICYmIGIubGF6eS5sb2FkSW1hZ2VJblNsaWRlKG4uaW5kZXgoKSk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIG8gPSBiLndyYXBwZXIuY2hpbGRyZW4oXCIuXCIgKyBiLnBhcmFtcy5zbGlkZVByZXZDbGFzcyk7XG5cdFx0XHRcdFx0XHRcdFx0by5sZW5ndGggPiAwICYmIGIubGF6eS5sb2FkSW1hZ2VJblNsaWRlKG8uaW5kZXgoKSlcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0b25UcmFuc2l0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0Yi5wYXJhbXMubGF6eUxvYWRpbmcgJiYgKGIucGFyYW1zLmxhenlMb2FkaW5nT25UcmFuc2l0aW9uU3RhcnQgfHwgIWIucGFyYW1zLmxhenlMb2FkaW5nT25UcmFuc2l0aW9uU3RhcnQgJiYgIWIubGF6eS5pbml0aWFsSW1hZ2VMb2FkZWQpICYmIGIubGF6eS5sb2FkKClcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdG9uVHJhbnNpdGlvbkVuZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRiLnBhcmFtcy5sYXp5TG9hZGluZyAmJiAhYi5wYXJhbXMubGF6eUxvYWRpbmdPblRyYW5zaXRpb25TdGFydCAmJiBiLmxhenkubG9hZCgpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCBiLnNjcm9sbGJhciA9IHtcblx0XHRcdFx0XHRpc1RvdWNoZWQ6ICExLFxuXHRcdFx0XHRcdHNldERyYWdQb3NpdGlvbjogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdFx0dmFyIGEgPSBiLnNjcm9sbGJhcixcblx0XHRcdFx0XHRcdFx0dCA9IGIuaXNIb3Jpem9udGFsKCkgPyBcInRvdWNoc3RhcnRcIiA9PT0gZS50eXBlIHx8IFwidG91Y2htb3ZlXCIgPT09IGUudHlwZSA/IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWCA6IGUucGFnZVggfHwgZS5jbGllbnRYIDogXCJ0b3VjaHN0YXJ0XCIgPT09IGUudHlwZSB8fCBcInRvdWNobW92ZVwiID09PSBlLnR5cGUgPyBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZIHx8IGUuY2xpZW50WSxcblx0XHRcdFx0XHRcdFx0ciA9IHQgLSBhLnRyYWNrLm9mZnNldCgpW2IuaXNIb3Jpem9udGFsKCkgPyBcImxlZnRcIiA6IFwidG9wXCJdIC0gYS5kcmFnU2l6ZSAvIDIsXG5cdFx0XHRcdFx0XHRcdGkgPSAtYi5taW5UcmFuc2xhdGUoKSAqIGEubW92ZURpdmlkZXIsXG5cdFx0XHRcdFx0XHRcdHMgPSAtYi5tYXhUcmFuc2xhdGUoKSAqIGEubW92ZURpdmlkZXI7XG5cdFx0XHRcdFx0XHRpID4gciA/IHIgPSBpIDogciA+IHMgJiYgKHIgPSBzKSwgciA9IC1yIC8gYS5tb3ZlRGl2aWRlciwgYi51cGRhdGVQcm9ncmVzcyhyKSwgYi5zZXRXcmFwcGVyVHJhbnNsYXRlKHIsICEwKVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0ZHJhZ1N0YXJ0OiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0XHR2YXIgYSA9IGIuc2Nyb2xsYmFyO1xuXHRcdFx0XHRcdFx0YS5pc1RvdWNoZWQgPSAhMCwgZS5wcmV2ZW50RGVmYXVsdCgpLCBlLnN0b3BQcm9wYWdhdGlvbigpLCBhLnNldERyYWdQb3NpdGlvbihlKSwgY2xlYXJUaW1lb3V0KGEuZHJhZ1RpbWVvdXQpLCBhLnRyYWNrLnRyYW5zaXRpb24oMCksIGIucGFyYW1zLnNjcm9sbGJhckhpZGUgJiYgYS50cmFjay5jc3MoXCJvcGFjaXR5XCIsIDEpLCBiLndyYXBwZXIudHJhbnNpdGlvbigxMDApLCBhLmRyYWcudHJhbnNpdGlvbigxMDApLCBiLmVtaXQoXCJvblNjcm9sbGJhckRyYWdTdGFydFwiLCBiKVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0ZHJhZ01vdmU6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRcdHZhciBhID0gYi5zY3JvbGxiYXI7XG5cdFx0XHRcdFx0XHRhLmlzVG91Y2hlZCAmJiAoZS5wcmV2ZW50RGVmYXVsdCA/IGUucHJldmVudERlZmF1bHQoKSA6IGUucmV0dXJuVmFsdWUgPSAhMSwgYS5zZXREcmFnUG9zaXRpb24oZSksIGIud3JhcHBlci50cmFuc2l0aW9uKDApLCBhLnRyYWNrLnRyYW5zaXRpb24oMCksIGEuZHJhZy50cmFuc2l0aW9uKDApLCBiLmVtaXQoXCJvblNjcm9sbGJhckRyYWdNb3ZlXCIsIGIpKVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0ZHJhZ0VuZDogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdFx0dmFyIGEgPSBiLnNjcm9sbGJhcjtcblx0XHRcdFx0XHRcdGEuaXNUb3VjaGVkICYmIChhLmlzVG91Y2hlZCA9ICExLCBiLnBhcmFtcy5zY3JvbGxiYXJIaWRlICYmIChjbGVhclRpbWVvdXQoYS5kcmFnVGltZW91dCksIGEuZHJhZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRhLnRyYWNrLmNzcyhcIm9wYWNpdHlcIiwgMCksIGEudHJhY2sudHJhbnNpdGlvbig0MDApXG5cdFx0XHRcdFx0XHR9LCAxZTMpKSwgYi5lbWl0KFwib25TY3JvbGxiYXJEcmFnRW5kXCIsIGIpLCBiLnBhcmFtcy5zY3JvbGxiYXJTbmFwT25SZWxlYXNlICYmIGIuc2xpZGVSZXNldCgpKVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0ZW5hYmxlRHJhZ2dhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBlID0gYi5zY3JvbGxiYXIsXG5cdFx0XHRcdFx0XHRcdHQgPSBiLnN1cHBvcnQudG91Y2ggPyBlLnRyYWNrIDogZG9jdW1lbnQ7XG5cdFx0XHRcdFx0XHRhKGUudHJhY2spLm9uKGIudG91Y2hFdmVudHMuc3RhcnQsIGUuZHJhZ1N0YXJ0KSwgYSh0KS5vbihiLnRvdWNoRXZlbnRzLm1vdmUsIGUuZHJhZ01vdmUpLCBhKHQpLm9uKGIudG91Y2hFdmVudHMuZW5kLCBlLmRyYWdFbmQpXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRkaXNhYmxlRHJhZ2dhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBlID0gYi5zY3JvbGxiYXIsXG5cdFx0XHRcdFx0XHRcdHQgPSBiLnN1cHBvcnQudG91Y2ggPyBlLnRyYWNrIDogZG9jdW1lbnQ7XG5cdFx0XHRcdFx0XHRhKGUudHJhY2spLm9mZihiLnRvdWNoRXZlbnRzLnN0YXJ0LCBlLmRyYWdTdGFydCksIGEodCkub2ZmKGIudG91Y2hFdmVudHMubW92ZSwgZS5kcmFnTW92ZSksIGEodCkub2ZmKGIudG91Y2hFdmVudHMuZW5kLCBlLmRyYWdFbmQpXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKGIucGFyYW1zLnNjcm9sbGJhcikge1xuXHRcdFx0XHRcdFx0XHR2YXIgZSA9IGIuc2Nyb2xsYmFyO1xuXHRcdFx0XHRcdFx0XHRlLnRyYWNrID0gYShiLnBhcmFtcy5zY3JvbGxiYXIpLCBiLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyAmJiBcInN0cmluZ1wiID09IHR5cGVvZiBiLnBhcmFtcy5zY3JvbGxiYXIgJiYgZS50cmFjay5sZW5ndGggPiAxICYmIDEgPT09IGIuY29udGFpbmVyLmZpbmQoYi5wYXJhbXMuc2Nyb2xsYmFyKS5sZW5ndGggJiYgKGUudHJhY2sgPSBiLmNvbnRhaW5lci5maW5kKGIucGFyYW1zLnNjcm9sbGJhcikpLCBlLmRyYWcgPSBlLnRyYWNrLmZpbmQoXCIuc3dpcGVyLXNjcm9sbGJhci1kcmFnXCIpLCAwID09PSBlLmRyYWcubGVuZ3RoICYmIChlLmRyYWcgPSBhKCc8ZGl2IGNsYXNzPVwic3dpcGVyLXNjcm9sbGJhci1kcmFnXCI+PC9kaXY+JyksIGUudHJhY2suYXBwZW5kKGUuZHJhZykpLCBlLmRyYWdbMF0uc3R5bGUud2lkdGggPSBcIlwiLCBlLmRyYWdbMF0uc3R5bGUuaGVpZ2h0ID0gXCJcIiwgZS50cmFja1NpemUgPSBiLmlzSG9yaXpvbnRhbCgpID8gZS50cmFja1swXS5vZmZzZXRXaWR0aCA6IGUudHJhY2tbMF0ub2Zmc2V0SGVpZ2h0LCBlLmRpdmlkZXIgPSBiLnNpemUgLyBiLnZpcnR1YWxTaXplLCBlLm1vdmVEaXZpZGVyID0gZS5kaXZpZGVyICogKGUudHJhY2tTaXplIC8gYi5zaXplKSwgZS5kcmFnU2l6ZSA9IGUudHJhY2tTaXplICogZS5kaXZpZGVyLCBiLmlzSG9yaXpvbnRhbCgpID8gZS5kcmFnWzBdLnN0eWxlLndpZHRoID0gZS5kcmFnU2l6ZSArIFwicHhcIiA6IGUuZHJhZ1swXS5zdHlsZS5oZWlnaHQgPSBlLmRyYWdTaXplICsgXCJweFwiLCBlLmRpdmlkZXIgPj0gMSA/IGUudHJhY2tbMF0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiIDogZS50cmFja1swXS5zdHlsZS5kaXNwbGF5ID0gXCJcIiwgYi5wYXJhbXMuc2Nyb2xsYmFySGlkZSAmJiAoZS50cmFja1swXS5zdHlsZS5vcGFjaXR5ID0gMClcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHNldFRyYW5zbGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoYi5wYXJhbXMuc2Nyb2xsYmFyKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBlLCBhID0gYi5zY3JvbGxiYXIsXG5cdFx0XHRcdFx0XHRcdFx0dCA9IChiLnRyYW5zbGF0ZSB8fCAwLCBhLmRyYWdTaXplKTtcblx0XHRcdFx0XHRcdFx0ZSA9IChhLnRyYWNrU2l6ZSAtIGEuZHJhZ1NpemUpICogYi5wcm9ncmVzcywgYi5ydGwgJiYgYi5pc0hvcml6b250YWwoKSA/IChlID0gLWUsIGUgPiAwID8gKHQgPSBhLmRyYWdTaXplIC0gZSwgZSA9IDApIDogLWUgKyBhLmRyYWdTaXplID4gYS50cmFja1NpemUgJiYgKHQgPSBhLnRyYWNrU2l6ZSArIGUpKSA6IDAgPiBlID8gKHQgPSBhLmRyYWdTaXplICsgZSwgZSA9IDApIDogZSArIGEuZHJhZ1NpemUgPiBhLnRyYWNrU2l6ZSAmJiAodCA9IGEudHJhY2tTaXplIC0gZSksIGIuaXNIb3Jpem9udGFsKCkgPyAoYi5zdXBwb3J0LnRyYW5zZm9ybXMzZCA/IGEuZHJhZy50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZChcIiArIGUgKyBcInB4LCAwLCAwKVwiKSA6IGEuZHJhZy50cmFuc2Zvcm0oXCJ0cmFuc2xhdGVYKFwiICsgZSArIFwicHgpXCIpLCBhLmRyYWdbMF0uc3R5bGUud2lkdGggPSB0ICsgXCJweFwiKSA6IChiLnN1cHBvcnQudHJhbnNmb3JtczNkID8gYS5kcmFnLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKDBweCwgXCIgKyBlICsgXCJweCwgMClcIikgOiBhLmRyYWcudHJhbnNmb3JtKFwidHJhbnNsYXRlWShcIiArIGUgKyBcInB4KVwiKSwgYS5kcmFnWzBdLnN0eWxlLmhlaWdodCA9IHQgKyBcInB4XCIpLCBiLnBhcmFtcy5zY3JvbGxiYXJIaWRlICYmIChjbGVhclRpbWVvdXQoYS50aW1lb3V0KSwgYS50cmFja1swXS5zdHlsZS5vcGFjaXR5ID0gMSwgYS50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRhLnRyYWNrWzBdLnN0eWxlLm9wYWNpdHkgPSAwLCBhLnRyYWNrLnRyYW5zaXRpb24oNDAwKVxuXHRcdFx0XHRcdFx0XHR9LCAxZTMpKVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c2V0VHJhbnNpdGlvbjogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdFx0Yi5wYXJhbXMuc2Nyb2xsYmFyICYmIGIuc2Nyb2xsYmFyLmRyYWcudHJhbnNpdGlvbihlKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSwgYi5jb250cm9sbGVyID0ge1xuXHRcdFx0XHRcdExpbmVhclNwbGluZTogZnVuY3Rpb24oZSwgYSkge1xuXHRcdFx0XHRcdFx0dGhpcy54ID0gZSwgdGhpcy55ID0gYSwgdGhpcy5sYXN0SW5kZXggPSBlLmxlbmd0aCAtIDE7XG5cdFx0XHRcdFx0XHR2YXIgdCwgcjtcblx0XHRcdFx0XHRcdHRoaXMueC5sZW5ndGg7XG5cdFx0XHRcdFx0XHR0aGlzLmludGVycG9sYXRlID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZSA/IChyID0gaSh0aGlzLngsIGUpLCB0ID0gciAtIDEsIChlIC0gdGhpcy54W3RdKSAqICh0aGlzLnlbcl0gLSB0aGlzLnlbdF0pIC8gKHRoaXMueFtyXSAtIHRoaXMueFt0XSkgKyB0aGlzLnlbdF0pIDogMFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdHZhciBpID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBlLCBhLCB0O1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24ociwgaSkge1xuXHRcdFx0XHRcdFx0XHRcdGZvciAoYSA9IC0xLCBlID0gci5sZW5ndGg7IGUgLSBhID4gMTspIHJbdCA9IGUgKyBhID4+IDFdIDw9IGkgPyBhID0gdCA6IGUgPSB0O1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBlXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0oKVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0Z2V0SW50ZXJwb2xhdGVGdW5jdGlvbjogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdFx0Yi5jb250cm9sbGVyLnNwbGluZSB8fCAoYi5jb250cm9sbGVyLnNwbGluZSA9IGIucGFyYW1zLmxvb3AgPyBuZXcgYi5jb250cm9sbGVyLkxpbmVhclNwbGluZShiLnNsaWRlc0dyaWQsIGUuc2xpZGVzR3JpZCkgOiBuZXcgYi5jb250cm9sbGVyLkxpbmVhclNwbGluZShiLnNuYXBHcmlkLCBlLnNuYXBHcmlkKSlcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHNldFRyYW5zbGF0ZTogZnVuY3Rpb24oZSwgYSkge1xuXHRcdFx0XHRcdFx0ZnVuY3Rpb24gcihhKSB7XG5cdFx0XHRcdFx0XHRcdGUgPSBhLnJ0bCAmJiBcImhvcml6b250YWxcIiA9PT0gYS5wYXJhbXMuZGlyZWN0aW9uID8gLWIudHJhbnNsYXRlIDogYi50cmFuc2xhdGUsIFwic2xpZGVcIiA9PT0gYi5wYXJhbXMuY29udHJvbEJ5ICYmIChiLmNvbnRyb2xsZXIuZ2V0SW50ZXJwb2xhdGVGdW5jdGlvbihhKSwgcyA9IC1iLmNvbnRyb2xsZXIuc3BsaW5lLmludGVycG9sYXRlKC1lKSksIHMgJiYgXCJjb250YWluZXJcIiAhPT0gYi5wYXJhbXMuY29udHJvbEJ5IHx8IChpID0gKGEubWF4VHJhbnNsYXRlKCkgLSBhLm1pblRyYW5zbGF0ZSgpKSAvIChiLm1heFRyYW5zbGF0ZSgpIC0gYi5taW5UcmFuc2xhdGUoKSksIHMgPSAoZSAtIGIubWluVHJhbnNsYXRlKCkpICogaSArIGEubWluVHJhbnNsYXRlKCkpLCBiLnBhcmFtcy5jb250cm9sSW52ZXJzZSAmJiAocyA9IGEubWF4VHJhbnNsYXRlKCkgLSBzKSwgYS51cGRhdGVQcm9ncmVzcyhzKSwgYS5zZXRXcmFwcGVyVHJhbnNsYXRlKHMsICExLCBiKSwgYS51cGRhdGVBY3RpdmVJbmRleCgpXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR2YXIgaSwgcywgbiA9IGIucGFyYW1zLmNvbnRyb2w7XG5cdFx0XHRcdFx0XHRpZiAoYi5pc0FycmF5KG4pKVxuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciBvID0gMDsgbyA8IG4ubGVuZ3RoOyBvKyspIG5bb10gIT09IGEgJiYgbltvXSBpbnN0YW5jZW9mIHQgJiYgcihuW29dKTtcblx0XHRcdFx0XHRcdGVsc2UgbiBpbnN0YW5jZW9mIHQgJiYgYSAhPT0gbiAmJiByKG4pXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbihlLCBhKSB7XG5cdFx0XHRcdFx0XHRmdW5jdGlvbiByKGEpIHtcblx0XHRcdFx0XHRcdFx0YS5zZXRXcmFwcGVyVHJhbnNpdGlvbihlLCBiKSwgMCAhPT0gZSAmJiAoYS5vblRyYW5zaXRpb25TdGFydCgpLCBhLndyYXBwZXIudHJhbnNpdGlvbkVuZChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRzICYmIChhLnBhcmFtcy5sb29wICYmIFwic2xpZGVcIiA9PT0gYi5wYXJhbXMuY29udHJvbEJ5ICYmIGEuZml4TG9vcCgpLCBhLm9uVHJhbnNpdGlvbkVuZCgpKVxuXHRcdFx0XHRcdFx0XHR9KSlcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHZhciBpLCBzID0gYi5wYXJhbXMuY29udHJvbDtcblx0XHRcdFx0XHRcdGlmIChiLmlzQXJyYXkocykpXG5cdFx0XHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBzLmxlbmd0aDsgaSsrKSBzW2ldICE9PSBhICYmIHNbaV0gaW5zdGFuY2VvZiB0ICYmIHIoc1tpXSk7XG5cdFx0XHRcdFx0XHRlbHNlIHMgaW5zdGFuY2VvZiB0ICYmIGEgIT09IHMgJiYgcihzKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSwgYi5oYXNobmF2ID0ge1xuXHRcdFx0XHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKGIucGFyYW1zLmhhc2huYXYpIHtcblx0XHRcdFx0XHRcdFx0Yi5oYXNobmF2LmluaXRpYWxpemVkID0gITA7XG5cdFx0XHRcdFx0XHRcdHZhciBlID0gZG9jdW1lbnQubG9jYXRpb24uaGFzaC5yZXBsYWNlKFwiI1wiLCBcIlwiKTtcblx0XHRcdFx0XHRcdFx0aWYgKGUpXG5cdFx0XHRcdFx0XHRcdFx0Zm9yICh2YXIgYSA9IDAsIHQgPSAwLCByID0gYi5zbGlkZXMubGVuZ3RoOyByID4gdDsgdCsrKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgaSA9IGIuc2xpZGVzLmVxKHQpLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzID0gaS5hdHRyKFwiZGF0YS1oYXNoXCIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHMgPT09IGUgJiYgIWkuaGFzQ2xhc3MoYi5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG4gPSBpLmluZGV4KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGIuc2xpZGVUbyhuLCBhLCBiLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQsICEwKVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHNldEhhc2g6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0Yi5oYXNobmF2LmluaXRpYWxpemVkICYmIGIucGFyYW1zLmhhc2huYXYgJiYgKGRvY3VtZW50LmxvY2F0aW9uLmhhc2ggPSBiLnNsaWRlcy5lcShiLmFjdGl2ZUluZGV4KS5hdHRyKFwiZGF0YS1oYXNoXCIpIHx8IFwiXCIpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCBiLmRpc2FibGVLZXlib2FyZENvbnRyb2wgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRiLnBhcmFtcy5rZXlib2FyZENvbnRyb2wgPSAhMSwgYShkb2N1bWVudCkub2ZmKFwia2V5ZG93blwiLCBwKVxuXHRcdFx0XHR9LCBiLmVuYWJsZUtleWJvYXJkQ29udHJvbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGIucGFyYW1zLmtleWJvYXJkQ29udHJvbCA9ICEwLCBhKGRvY3VtZW50KS5vbihcImtleWRvd25cIiwgcClcblx0XHRcdFx0fSwgYi5tb3VzZXdoZWVsID0ge1xuXHRcdFx0XHRcdGV2ZW50OiAhMSxcblx0XHRcdFx0XHRsYXN0U2Nyb2xsVGltZTogKG5ldyB3aW5kb3cuRGF0ZSkuZ2V0VGltZSgpXG5cdFx0XHRcdH0sIGIucGFyYW1zLm1vdXNld2hlZWxDb250cm9sKSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0bmV3IHdpbmRvdy5XaGVlbEV2ZW50KFwid2hlZWxcIiksIGIubW91c2V3aGVlbC5ldmVudCA9IFwid2hlZWxcIlxuXHRcdFx0XHR9IGNhdGNoIChOKSB7XG5cdFx0XHRcdFx0KHdpbmRvdy5XaGVlbEV2ZW50IHx8IGIuY29udGFpbmVyWzBdICYmIFwid2hlZWxcIiBpbiBiLmNvbnRhaW5lclswXSkgJiYgKGIubW91c2V3aGVlbC5ldmVudCA9IFwid2hlZWxcIilcblx0XHRcdFx0fSFiLm1vdXNld2hlZWwuZXZlbnQgJiYgd2luZG93LldoZWVsRXZlbnQsIGIubW91c2V3aGVlbC5ldmVudCB8fCB2b2lkIDAgPT09IGRvY3VtZW50Lm9ubW91c2V3aGVlbCB8fCAoYi5tb3VzZXdoZWVsLmV2ZW50ID0gXCJtb3VzZXdoZWVsXCIpLCBiLm1vdXNld2hlZWwuZXZlbnQgfHwgKGIubW91c2V3aGVlbC5ldmVudCA9IFwiRE9NTW91c2VTY3JvbGxcIilcblx0XHRcdH1cblx0XHRcdGIuZGlzYWJsZU1vdXNld2hlZWxDb250cm9sID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBiLm1vdXNld2hlZWwuZXZlbnQgPyAoYi5jb250YWluZXIub2ZmKGIubW91c2V3aGVlbC5ldmVudCwgZCksICEwKSA6ICExXG5cdFx0XHR9LCBiLmVuYWJsZU1vdXNld2hlZWxDb250cm9sID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBiLm1vdXNld2hlZWwuZXZlbnQgPyAoYi5jb250YWluZXIub24oYi5tb3VzZXdoZWVsLmV2ZW50LCBkKSwgITApIDogITFcblx0XHRcdH0sIGIucGFyYWxsYXggPSB7XG5cdFx0XHRcdHNldFRyYW5zbGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Yi5jb250YWluZXIuY2hpbGRyZW4oXCJbZGF0YS1zd2lwZXItcGFyYWxsYXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC15XVwiKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dSh0aGlzLCBiLnByb2dyZXNzKVxuXHRcdFx0XHRcdH0pLCBiLnNsaWRlcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIGUgPSBhKHRoaXMpO1xuXHRcdFx0XHRcdFx0ZS5maW5kKFwiW2RhdGEtc3dpcGVyLXBhcmFsbGF4XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteV1cIikuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGEgPSBNYXRoLm1pbihNYXRoLm1heChlWzBdLnByb2dyZXNzLCAtMSksIDEpO1xuXHRcdFx0XHRcdFx0XHR1KHRoaXMsIGEpXG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHNldFRyYW5zaXRpb246IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRcInVuZGVmaW5lZFwiID09IHR5cGVvZiBlICYmIChlID0gYi5wYXJhbXMuc3BlZWQpLCBiLmNvbnRhaW5lci5maW5kKFwiW2RhdGEtc3dpcGVyLXBhcmFsbGF4XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteV1cIikuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciB0ID0gYSh0aGlzKSxcblx0XHRcdFx0XHRcdFx0ciA9IHBhcnNlSW50KHQuYXR0cihcImRhdGEtc3dpcGVyLXBhcmFsbGF4LWR1cmF0aW9uXCIpLCAxMCkgfHwgZTtcblx0XHRcdFx0XHRcdDAgPT09IGUgJiYgKHIgPSAwKSwgdC50cmFuc2l0aW9uKHIpXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0fSwgYi5fcGx1Z2lucyA9IFtdO1xuXHRcdFx0Zm9yICh2YXIgUiBpbiBiLnBsdWdpbnMpIHtcblx0XHRcdFx0dmFyIFcgPSBiLnBsdWdpbnNbUl0oYiwgYi5wYXJhbXNbUl0pO1xuXHRcdFx0XHRXICYmIGIuX3BsdWdpbnMucHVzaChXKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGIuY2FsbFBsdWdpbnMgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGZvciAodmFyIGEgPSAwOyBhIDwgYi5fcGx1Z2lucy5sZW5ndGg7IGErKykgZSBpbiBiLl9wbHVnaW5zW2FdICYmIGIuX3BsdWdpbnNbYV1bZV0oYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0sIGFyZ3VtZW50c1szXSwgYXJndW1lbnRzWzRdLCBhcmd1bWVudHNbNV0pXG5cdFx0XHR9LCBiLmVtaXR0ZXJFdmVudExpc3RlbmVycyA9IHt9LCBiLmVtaXQgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGIucGFyYW1zW2VdICYmIGIucGFyYW1zW2VdKGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdLCBhcmd1bWVudHNbM10sIGFyZ3VtZW50c1s0XSwgYXJndW1lbnRzWzVdKTtcblx0XHRcdFx0dmFyIGE7XG5cdFx0XHRcdGlmIChiLmVtaXR0ZXJFdmVudExpc3RlbmVyc1tlXSlcblx0XHRcdFx0XHRmb3IgKGEgPSAwOyBhIDwgYi5lbWl0dGVyRXZlbnRMaXN0ZW5lcnNbZV0ubGVuZ3RoOyBhKyspIGIuZW1pdHRlckV2ZW50TGlzdGVuZXJzW2VdW2FdKGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdLCBhcmd1bWVudHNbM10sIGFyZ3VtZW50c1s0XSwgYXJndW1lbnRzWzVdKTtcblx0XHRcdFx0Yi5jYWxsUGx1Z2lucyAmJiBiLmNhbGxQbHVnaW5zKGUsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdLCBhcmd1bWVudHNbM10sIGFyZ3VtZW50c1s0XSwgYXJndW1lbnRzWzVdKVxuXHRcdFx0fSwgYi5vbiA9IGZ1bmN0aW9uKGUsIGEpIHtcblx0XHRcdFx0cmV0dXJuIGUgPSBjKGUpLCBiLmVtaXR0ZXJFdmVudExpc3RlbmVyc1tlXSB8fCAoYi5lbWl0dGVyRXZlbnRMaXN0ZW5lcnNbZV0gPSBbXSksIGIuZW1pdHRlckV2ZW50TGlzdGVuZXJzW2VdLnB1c2goYSksIGJcblx0XHRcdH0sIGIub2ZmID0gZnVuY3Rpb24oZSwgYSkge1xuXHRcdFx0XHR2YXIgdDtcblx0XHRcdFx0aWYgKGUgPSBjKGUpLCBcInVuZGVmaW5lZFwiID09IHR5cGVvZiBhKSByZXR1cm4gYi5lbWl0dGVyRXZlbnRMaXN0ZW5lcnNbZV0gPSBbXSwgYjtcblx0XHRcdFx0aWYgKGIuZW1pdHRlckV2ZW50TGlzdGVuZXJzW2VdICYmIDAgIT09IGIuZW1pdHRlckV2ZW50TGlzdGVuZXJzW2VdLmxlbmd0aCkge1xuXHRcdFx0XHRcdGZvciAodCA9IDA7IHQgPCBiLmVtaXR0ZXJFdmVudExpc3RlbmVyc1tlXS5sZW5ndGg7IHQrKykgYi5lbWl0dGVyRXZlbnRMaXN0ZW5lcnNbZV1bdF0gPT09IGEgJiYgYi5lbWl0dGVyRXZlbnRMaXN0ZW5lcnNbZV0uc3BsaWNlKHQsIDEpO1xuXHRcdFx0XHRcdHJldHVybiBiXG5cdFx0XHRcdH1cblx0XHRcdH0sIGIub25jZSA9IGZ1bmN0aW9uKGUsIGEpIHtcblx0XHRcdFx0ZSA9IGMoZSk7XG5cdFx0XHRcdHZhciB0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0YShhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdLCBhcmd1bWVudHNbM10sIGFyZ3VtZW50c1s0XSksIGIub2ZmKGUsIHQpXG5cdFx0XHRcdH07XG5cdFx0XHRcdHJldHVybiBiLm9uKGUsIHQpLCBiXG5cdFx0XHR9LCBiLmExMXkgPSB7XG5cdFx0XHRcdG1ha2VGb2N1c2FibGU6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRyZXR1cm4gZS5hdHRyKFwidGFiSW5kZXhcIiwgXCIwXCIpLCBlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGFkZFJvbGU6IGZ1bmN0aW9uKGUsIGEpIHtcblx0XHRcdFx0XHRyZXR1cm4gZS5hdHRyKFwicm9sZVwiLCBhKSwgZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRhZGRMYWJlbDogZnVuY3Rpb24oZSwgYSkge1xuXHRcdFx0XHRcdHJldHVybiBlLmF0dHIoXCJhcmlhLWxhYmVsXCIsIGEpLCBlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGRpc2FibGU6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRyZXR1cm4gZS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLCAhMCksIGVcblx0XHRcdFx0fSxcblx0XHRcdFx0ZW5hYmxlOiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGUuYXR0cihcImFyaWEtZGlzYWJsZWRcIiwgITEpLCBlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdG9uRW50ZXJLZXk6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHQxMyA9PT0gZS5rZXlDb2RlICYmIChhKGUudGFyZ2V0KS5pcyhiLnBhcmFtcy5uZXh0QnV0dG9uKSA/IChiLm9uQ2xpY2tOZXh0KGUpLCBiLmlzRW5kID8gYi5hMTF5Lm5vdGlmeShiLnBhcmFtcy5sYXN0U2xpZGVNZXNzYWdlKSA6IGIuYTExeS5ub3RpZnkoYi5wYXJhbXMubmV4dFNsaWRlTWVzc2FnZSkpIDogYShlLnRhcmdldCkuaXMoYi5wYXJhbXMucHJldkJ1dHRvbikgJiYgKGIub25DbGlja1ByZXYoZSksIGIuaXNCZWdpbm5pbmcgPyBiLmExMXkubm90aWZ5KGIucGFyYW1zLmZpcnN0U2xpZGVNZXNzYWdlKSA6IGIuYTExeS5ub3RpZnkoYi5wYXJhbXMucHJldlNsaWRlTWVzc2FnZSkpLCBhKGUudGFyZ2V0KS5pcyhcIi5cIiArIGIucGFyYW1zLmJ1bGxldENsYXNzKSAmJiBhKGUudGFyZ2V0KVswXS5jbGljaygpKVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRsaXZlUmVnaW9uOiBhKCc8c3BhbiBjbGFzcz1cInN3aXBlci1ub3RpZmljYXRpb25cIiBhcmlhLWxpdmU9XCJhc3NlcnRpdmVcIiBhcmlhLWF0b21pYz1cInRydWVcIj48L3NwYW4+JyksXG5cdFx0XHRcdG5vdGlmeTogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdHZhciBhID0gYi5hMTF5LmxpdmVSZWdpb247XG5cdFx0XHRcdFx0MCAhPT0gYS5sZW5ndGggJiYgKGEuaHRtbChcIlwiKSwgYS5odG1sKGUpKVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRiLnBhcmFtcy5uZXh0QnV0dG9uICYmIGIubmV4dEJ1dHRvbiAmJiBiLm5leHRCdXR0b24ubGVuZ3RoID4gMCAmJiAoYi5hMTF5Lm1ha2VGb2N1c2FibGUoYi5uZXh0QnV0dG9uKSwgYi5hMTF5LmFkZFJvbGUoYi5uZXh0QnV0dG9uLCBcImJ1dHRvblwiKSwgYi5hMTF5LmFkZExhYmVsKGIubmV4dEJ1dHRvbiwgYi5wYXJhbXMubmV4dFNsaWRlTWVzc2FnZSkpLCBiLnBhcmFtcy5wcmV2QnV0dG9uICYmIGIucHJldkJ1dHRvbiAmJiBiLnByZXZCdXR0b24ubGVuZ3RoID4gMCAmJiAoYi5hMTF5Lm1ha2VGb2N1c2FibGUoYi5wcmV2QnV0dG9uKSwgYi5hMTF5LmFkZFJvbGUoYi5wcmV2QnV0dG9uLCBcImJ1dHRvblwiKSwgYi5hMTF5LmFkZExhYmVsKGIucHJldkJ1dHRvbiwgYi5wYXJhbXMucHJldlNsaWRlTWVzc2FnZSkpLCBhKGIuY29udGFpbmVyKS5hcHBlbmQoYi5hMTF5LmxpdmVSZWdpb24pXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGluaXRQYWdpbmF0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRiLnBhcmFtcy5wYWdpbmF0aW9uICYmIGIucGFyYW1zLnBhZ2luYXRpb25DbGlja2FibGUgJiYgYi5idWxsZXRzICYmIGIuYnVsbGV0cy5sZW5ndGggJiYgYi5idWxsZXRzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR2YXIgZSA9IGEodGhpcyk7XG5cdFx0XHRcdFx0XHRiLmExMXkubWFrZUZvY3VzYWJsZShlKSwgYi5hMTF5LmFkZFJvbGUoZSwgXCJidXR0b25cIiksIGIuYTExeS5hZGRMYWJlbChlLCBiLnBhcmFtcy5wYWdpbmF0aW9uQnVsbGV0TWVzc2FnZS5yZXBsYWNlKC97e2luZGV4fX0vLCBlLmluZGV4KCkgKyAxKSlcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRkZXN0cm95OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRiLmExMXkubGl2ZVJlZ2lvbiAmJiBiLmExMXkubGl2ZVJlZ2lvbi5sZW5ndGggPiAwICYmIGIuYTExeS5saXZlUmVnaW9uLnJlbW92ZSgpXG5cdFx0XHRcdH1cblx0XHRcdH0sIGIuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRiLnBhcmFtcy5sb29wICYmIGIuY3JlYXRlTG9vcCgpLCBiLnVwZGF0ZUNvbnRhaW5lclNpemUoKSwgYi51cGRhdGVTbGlkZXNTaXplKCksIGIudXBkYXRlUGFnaW5hdGlvbigpLCBiLnBhcmFtcy5zY3JvbGxiYXIgJiYgYi5zY3JvbGxiYXIgJiYgKGIuc2Nyb2xsYmFyLnNldCgpLCBiLnBhcmFtcy5zY3JvbGxiYXJEcmFnZ2FibGUgJiYgYi5zY3JvbGxiYXIuZW5hYmxlRHJhZ2dhYmxlKCkpLCBcInNsaWRlXCIgIT09IGIucGFyYW1zLmVmZmVjdCAmJiBiLmVmZmVjdHNbYi5wYXJhbXMuZWZmZWN0XSAmJiAoYi5wYXJhbXMubG9vcCB8fCBiLnVwZGF0ZVByb2dyZXNzKCksIGIuZWZmZWN0c1tiLnBhcmFtcy5lZmZlY3RdLnNldFRyYW5zbGF0ZSgpKSwgYi5wYXJhbXMubG9vcCA/IGIuc2xpZGVUbyhiLnBhcmFtcy5pbml0aWFsU2xpZGUgKyBiLmxvb3BlZFNsaWRlcywgMCwgYi5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0KSA6IChiLnNsaWRlVG8oYi5wYXJhbXMuaW5pdGlhbFNsaWRlLCAwLCBiLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQpLCAwID09PSBiLnBhcmFtcy5pbml0aWFsU2xpZGUgJiYgKGIucGFyYWxsYXggJiYgYi5wYXJhbXMucGFyYWxsYXggJiYgYi5wYXJhbGxheC5zZXRUcmFuc2xhdGUoKSwgYi5sYXp5ICYmIGIucGFyYW1zLmxhenlMb2FkaW5nICYmIChiLmxhenkubG9hZCgpLCBiLmxhenkuaW5pdGlhbEltYWdlTG9hZGVkID0gITApKSksIGIuYXR0YWNoRXZlbnRzKCksIGIucGFyYW1zLm9ic2VydmVyICYmIGIuc3VwcG9ydC5vYnNlcnZlciAmJiBiLmluaXRPYnNlcnZlcnMoKSwgYi5wYXJhbXMucHJlbG9hZEltYWdlcyAmJiAhYi5wYXJhbXMubGF6eUxvYWRpbmcgJiYgYi5wcmVsb2FkSW1hZ2VzKCksIGIucGFyYW1zLmF1dG9wbGF5ICYmIGIuc3RhcnRBdXRvcGxheSgpLCBiLnBhcmFtcy5rZXlib2FyZENvbnRyb2wgJiYgYi5lbmFibGVLZXlib2FyZENvbnRyb2wgJiYgYi5lbmFibGVLZXlib2FyZENvbnRyb2woKSwgYi5wYXJhbXMubW91c2V3aGVlbENvbnRyb2wgJiYgYi5lbmFibGVNb3VzZXdoZWVsQ29udHJvbCAmJiBiLmVuYWJsZU1vdXNld2hlZWxDb250cm9sKCksXG5cdFx0XHRcdFx0Yi5wYXJhbXMuaGFzaG5hdiAmJiBiLmhhc2huYXYgJiYgYi5oYXNobmF2LmluaXQoKSwgYi5wYXJhbXMuYTExeSAmJiBiLmExMXkgJiYgYi5hMTF5LmluaXQoKSwgYi5lbWl0KFwib25Jbml0XCIsIGIpXG5cdFx0XHR9LCBiLmNsZWFudXBTdHlsZXMgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0Yi5jb250YWluZXIucmVtb3ZlQ2xhc3MoYi5jbGFzc05hbWVzLmpvaW4oXCIgXCIpKS5yZW1vdmVBdHRyKFwic3R5bGVcIiksIGIud3JhcHBlci5yZW1vdmVBdHRyKFwic3R5bGVcIiksIGIuc2xpZGVzICYmIGIuc2xpZGVzLmxlbmd0aCAmJiBiLnNsaWRlcy5yZW1vdmVDbGFzcyhbYi5wYXJhbXMuc2xpZGVWaXNpYmxlQ2xhc3MsIGIucGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MsIGIucGFyYW1zLnNsaWRlTmV4dENsYXNzLCBiLnBhcmFtcy5zbGlkZVByZXZDbGFzc10uam9pbihcIiBcIikpLnJlbW92ZUF0dHIoXCJzdHlsZVwiKS5yZW1vdmVBdHRyKFwiZGF0YS1zd2lwZXItY29sdW1uXCIpLnJlbW92ZUF0dHIoXCJkYXRhLXN3aXBlci1yb3dcIiksIGIucGFnaW5hdGlvbkNvbnRhaW5lciAmJiBiLnBhZ2luYXRpb25Db250YWluZXIubGVuZ3RoICYmIGIucGFnaW5hdGlvbkNvbnRhaW5lci5yZW1vdmVDbGFzcyhiLnBhcmFtcy5wYWdpbmF0aW9uSGlkZGVuQ2xhc3MpLCBiLmJ1bGxldHMgJiYgYi5idWxsZXRzLmxlbmd0aCAmJiBiLmJ1bGxldHMucmVtb3ZlQ2xhc3MoYi5wYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MpLCBiLnBhcmFtcy5wcmV2QnV0dG9uICYmIGEoYi5wYXJhbXMucHJldkJ1dHRvbikucmVtb3ZlQ2xhc3MoYi5wYXJhbXMuYnV0dG9uRGlzYWJsZWRDbGFzcyksIGIucGFyYW1zLm5leHRCdXR0b24gJiYgYShiLnBhcmFtcy5uZXh0QnV0dG9uKS5yZW1vdmVDbGFzcyhiLnBhcmFtcy5idXR0b25EaXNhYmxlZENsYXNzKSwgYi5wYXJhbXMuc2Nyb2xsYmFyICYmIGIuc2Nyb2xsYmFyICYmIChiLnNjcm9sbGJhci50cmFjayAmJiBiLnNjcm9sbGJhci50cmFjay5sZW5ndGggJiYgYi5zY3JvbGxiYXIudHJhY2sucmVtb3ZlQXR0cihcInN0eWxlXCIpLCBiLnNjcm9sbGJhci5kcmFnICYmIGIuc2Nyb2xsYmFyLmRyYWcubGVuZ3RoICYmIGIuc2Nyb2xsYmFyLmRyYWcucmVtb3ZlQXR0cihcInN0eWxlXCIpKVxuXHRcdFx0fSwgYi5kZXN0cm95ID0gZnVuY3Rpb24oZSwgYSkge1xuXHRcdFx0XHRiLmRldGFjaEV2ZW50cygpLCBiLnN0b3BBdXRvcGxheSgpLCBiLnBhcmFtcy5zY3JvbGxiYXIgJiYgYi5zY3JvbGxiYXIgJiYgYi5wYXJhbXMuc2Nyb2xsYmFyRHJhZ2dhYmxlICYmIGIuc2Nyb2xsYmFyLmRpc2FibGVEcmFnZ2FibGUoKSwgYi5wYXJhbXMubG9vcCAmJiBiLmRlc3Ryb3lMb29wKCksIGEgJiYgYi5jbGVhbnVwU3R5bGVzKCksIGIuZGlzY29ubmVjdE9ic2VydmVycygpLCBiLnBhcmFtcy5rZXlib2FyZENvbnRyb2wgJiYgYi5kaXNhYmxlS2V5Ym9hcmRDb250cm9sICYmIGIuZGlzYWJsZUtleWJvYXJkQ29udHJvbCgpLCBiLnBhcmFtcy5tb3VzZXdoZWVsQ29udHJvbCAmJiBiLmRpc2FibGVNb3VzZXdoZWVsQ29udHJvbCAmJiBiLmRpc2FibGVNb3VzZXdoZWVsQ29udHJvbCgpLCBiLnBhcmFtcy5hMTF5ICYmIGIuYTExeSAmJiBiLmExMXkuZGVzdHJveSgpLCBiLmVtaXQoXCJvbkRlc3Ryb3lcIiksIGUgIT09ICExICYmIChiID0gbnVsbClcblx0XHRcdH0sIGIuaW5pdCgpLCBiXG5cdFx0fVxuXHR9O1xuXHR0LnByb3RvdHlwZSA9IHtcblx0XHRpc1NhZmFyaTogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBlLmluZGV4T2YoXCJzYWZhcmlcIikgPj0gMCAmJiBlLmluZGV4T2YoXCJjaHJvbWVcIikgPCAwICYmIGUuaW5kZXhPZihcImFuZHJvaWRcIikgPCAwXG5cdFx0fSgpLFxuXHRcdGlzVWlXZWJWaWV3OiAvKGlQaG9uZXxpUG9kfGlQYWQpLipBcHBsZVdlYktpdCg/IS4qU2FmYXJpKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksXG5cdFx0aXNBcnJheTogZnVuY3Rpb24oZSkge1xuXHRcdFx0cmV0dXJuIFwiW29iamVjdCBBcnJheV1cIiA9PT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShlKVxuXHRcdH0sXG5cdFx0YnJvd3Nlcjoge1xuXHRcdFx0aWU6IHdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQgfHwgd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkLFxuXHRcdFx0aWVUb3VjaDogd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkICYmIHdpbmRvdy5uYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyA+IDEgfHwgd2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCAmJiB3aW5kb3cubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMVxuXHRcdH0sXG5cdFx0ZGV2aWNlOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBlID0gbmF2aWdhdG9yLnVzZXJBZ2VudCxcblx0XHRcdFx0YSA9IGUubWF0Y2goLyhBbmRyb2lkKTs/W1xcc1xcL10rKFtcXGQuXSspPy8pLFxuXHRcdFx0XHR0ID0gZS5tYXRjaCgvKGlQYWQpLipPU1xccyhbXFxkX10rKS8pLFxuXHRcdFx0XHRyID0gZS5tYXRjaCgvKGlQb2QpKC4qT1NcXHMoW1xcZF9dKykpPy8pLFxuXHRcdFx0XHRpID0gIXQgJiYgZS5tYXRjaCgvKGlQaG9uZVxcc09TKVxccyhbXFxkX10rKS8pO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0aW9zOiB0IHx8IGkgfHwgcixcblx0XHRcdFx0YW5kcm9pZDogYVxuXHRcdFx0fVxuXHRcdH0oKSxcblx0XHRzdXBwb3J0OiB7XG5cdFx0XHR0b3VjaDogd2luZG93Lk1vZGVybml6ciAmJiBNb2Rlcm5penIudG91Y2ggPT09ICEwIHx8IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gISEoXCJvbnRvdWNoc3RhcnRcIiBpbiB3aW5kb3cgfHwgd2luZG93LkRvY3VtZW50VG91Y2ggJiYgZG9jdW1lbnQgaW5zdGFuY2VvZiBEb2N1bWVudFRvdWNoKVxuXHRcdFx0fSgpLFxuXHRcdFx0dHJhbnNmb3JtczNkOiB3aW5kb3cuTW9kZXJuaXpyICYmIE1vZGVybml6ci5jc3N0cmFuc2Zvcm1zM2QgPT09ICEwIHx8IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikuc3R5bGU7XG5cdFx0XHRcdHJldHVybiBcIndlYmtpdFBlcnNwZWN0aXZlXCIgaW4gZSB8fCBcIk1velBlcnNwZWN0aXZlXCIgaW4gZSB8fCBcIk9QZXJzcGVjdGl2ZVwiIGluIGUgfHwgXCJNc1BlcnNwZWN0aXZlXCIgaW4gZSB8fCBcInBlcnNwZWN0aXZlXCIgaW4gZVxuXHRcdFx0fSgpLFxuXHRcdFx0ZmxleGJveDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZvciAodmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLnN0eWxlLCBhID0gXCJhbGlnbkl0ZW1zIHdlYmtpdEFsaWduSXRlbXMgd2Via2l0Qm94QWxpZ24gbXNGbGV4QWxpZ24gbW96Qm94QWxpZ24gd2Via2l0RmxleERpcmVjdGlvbiBtc0ZsZXhEaXJlY3Rpb24gbW96Qm94RGlyZWN0aW9uIG1vekJveE9yaWVudCB3ZWJraXRCb3hEaXJlY3Rpb24gd2Via2l0Qm94T3JpZW50XCIuc3BsaXQoXCIgXCIpLCB0ID0gMDsgdCA8IGEubGVuZ3RoOyB0KyspXG5cdFx0XHRcdFx0aWYgKGFbdF0gaW4gZSkgcmV0dXJuICEwXG5cdFx0XHR9KCksXG5cdFx0XHRvYnNlcnZlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBcIk11dGF0aW9uT2JzZXJ2ZXJcIiBpbiB3aW5kb3cgfHwgXCJXZWJraXRNdXRhdGlvbk9ic2VydmVyXCIgaW4gd2luZG93XG5cdFx0XHR9KClcblx0XHR9LFxuXHRcdHBsdWdpbnM6IHt9XG5cdH07XG5cdGZvciAodmFyIHIgPSAoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZSA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHR2YXIgYSA9IHRoaXMsXG5cdFx0XHRcdFx0XHR0ID0gMDtcblx0XHRcdFx0XHRmb3IgKHQgPSAwOyB0IDwgZS5sZW5ndGg7IHQrKykgYVt0XSA9IGVbdF07XG5cdFx0XHRcdFx0cmV0dXJuIGEubGVuZ3RoID0gZS5sZW5ndGgsIHRoaXNcblx0XHRcdFx0fSxcblx0XHRcdFx0YSA9IGZ1bmN0aW9uKGEsIHQpIHtcblx0XHRcdFx0XHR2YXIgciA9IFtdLFxuXHRcdFx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdFx0aWYgKGEgJiYgIXQgJiYgYSBpbnN0YW5jZW9mIGUpIHJldHVybiBhO1xuXHRcdFx0XHRcdGlmIChhKVxuXHRcdFx0XHRcdFx0aWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGEpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHMsIG4sIG8gPSBhLnRyaW0oKTtcblx0XHRcdFx0XHRcdFx0aWYgKG8uaW5kZXhPZihcIjxcIikgPj0gMCAmJiBvLmluZGV4T2YoXCI+XCIpID49IDApIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgbCA9IFwiZGl2XCI7XG5cdFx0XHRcdFx0XHRcdFx0Zm9yICgwID09PSBvLmluZGV4T2YoXCI8bGlcIikgJiYgKGwgPSBcInVsXCIpLCAwID09PSBvLmluZGV4T2YoXCI8dHJcIikgJiYgKGwgPSBcInRib2R5XCIpLCAoMCA9PT0gby5pbmRleE9mKFwiPHRkXCIpIHx8IDAgPT09IG8uaW5kZXhPZihcIjx0aFwiKSkgJiYgKGwgPSBcInRyXCIpLCAwID09PSBvLmluZGV4T2YoXCI8dGJvZHlcIikgJiYgKGwgPSBcInRhYmxlXCIpLCAwID09PSBvLmluZGV4T2YoXCI8b3B0aW9uXCIpICYmIChsID0gXCJzZWxlY3RcIiksIG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGwpLCBuLmlubmVySFRNTCA9IGEsIGkgPSAwOyBpIDwgbi5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSByLnB1c2gobi5jaGlsZE5vZGVzW2ldKVxuXHRcdFx0XHRcdFx0XHR9IGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRmb3IgKHMgPSB0IHx8IFwiI1wiICE9PSBhWzBdIHx8IGEubWF0Y2goL1sgLjw+On5dLykgPyAodCB8fCBkb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChhKSA6IFtkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhLnNwbGl0KFwiI1wiKVsxXSldLCBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHNbaV0gJiYgci5wdXNoKHNbaV0pXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGEubm9kZVR5cGUgfHwgYSA9PT0gd2luZG93IHx8IGEgPT09IGRvY3VtZW50KSByLnB1c2goYSk7XG5cdFx0XHRcdFx0ZWxzZSBpZiAoYS5sZW5ndGggPiAwICYmIGFbMF0ubm9kZVR5cGUpXG5cdFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykgci5wdXNoKGFbaV0pO1xuXHRcdFx0XHRcdHJldHVybiBuZXcgZShyKVxuXHRcdFx0XHR9O1xuXHRcdFx0cmV0dXJuIGUucHJvdG90eXBlID0ge1xuXHRcdFx0XHRhZGRDbGFzczogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdGlmIChcInVuZGVmaW5lZFwiID09IHR5cGVvZiBlKSByZXR1cm4gdGhpcztcblx0XHRcdFx0XHRmb3IgKHZhciBhID0gZS5zcGxpdChcIiBcIiksIHQgPSAwOyB0IDwgYS5sZW5ndGg7IHQrKylcblx0XHRcdFx0XHRcdGZvciAodmFyIHIgPSAwOyByIDwgdGhpcy5sZW5ndGg7IHIrKykgdGhpc1tyXS5jbGFzc0xpc3QuYWRkKGFbdF0pO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHJlbW92ZUNsYXNzOiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgYSA9IGUuc3BsaXQoXCIgXCIpLCB0ID0gMDsgdCA8IGEubGVuZ3RoOyB0KyspXG5cdFx0XHRcdFx0XHRmb3IgKHZhciByID0gMDsgciA8IHRoaXMubGVuZ3RoOyByKyspIHRoaXNbcl0uY2xhc3NMaXN0LnJlbW92ZShhW3RdKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRoYXNDbGFzczogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzWzBdID8gdGhpc1swXS5jbGFzc0xpc3QuY29udGFpbnMoZSkgOiAhMVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0b2dnbGVDbGFzczogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdGZvciAodmFyIGEgPSBlLnNwbGl0KFwiIFwiKSwgdCA9IDA7IHQgPCBhLmxlbmd0aDsgdCsrKVxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgciA9IDA7IHIgPCB0aGlzLmxlbmd0aDsgcisrKSB0aGlzW3JdLmNsYXNzTGlzdC50b2dnbGUoYVt0XSk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXNcblx0XHRcdFx0fSxcblx0XHRcdFx0YXR0cjogZnVuY3Rpb24oZSwgYSkge1xuXHRcdFx0XHRcdGlmICgxID09PSBhcmd1bWVudHMubGVuZ3RoICYmIFwic3RyaW5nXCIgPT0gdHlwZW9mIGUpIHJldHVybiB0aGlzWzBdID8gdGhpc1swXS5nZXRBdHRyaWJ1dGUoZSkgOiB2b2lkIDA7XG5cdFx0XHRcdFx0Zm9yICh2YXIgdCA9IDA7IHQgPCB0aGlzLmxlbmd0aDsgdCsrKVxuXHRcdFx0XHRcdFx0aWYgKDIgPT09IGFyZ3VtZW50cy5sZW5ndGgpIHRoaXNbdF0uc2V0QXR0cmlidXRlKGUsIGEpO1xuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRmb3IgKHZhciByIGluIGUpIHRoaXNbdF1bcl0gPSBlW3JdLCB0aGlzW3RdLnNldEF0dHJpYnV0ZShyLCBlW3JdKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRyZW1vdmVBdHRyOiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgYSA9IDA7IGEgPCB0aGlzLmxlbmd0aDsgYSsrKSB0aGlzW2FdLnJlbW92ZUF0dHJpYnV0ZShlKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRkYXRhOiBmdW5jdGlvbihlLCBhKSB7XG5cdFx0XHRcdFx0aWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGEpIHtcblx0XHRcdFx0XHRcdGZvciAodmFyIHQgPSAwOyB0IDwgdGhpcy5sZW5ndGg7IHQrKykge1xuXHRcdFx0XHRcdFx0XHR2YXIgciA9IHRoaXNbdF07XG5cdFx0XHRcdFx0XHRcdHIuZG9tN0VsZW1lbnREYXRhU3RvcmFnZSB8fCAoci5kb203RWxlbWVudERhdGFTdG9yYWdlID0ge30pLCByLmRvbTdFbGVtZW50RGF0YVN0b3JhZ2VbZV0gPSBhXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAodGhpc1swXSkge1xuXHRcdFx0XHRcdFx0dmFyIGkgPSB0aGlzWzBdLmdldEF0dHJpYnV0ZShcImRhdGEtXCIgKyBlKTtcblx0XHRcdFx0XHRcdHJldHVybiBpID8gaSA6IHRoaXNbMF0uZG9tN0VsZW1lbnREYXRhU3RvcmFnZSAmJiBlIGluIHRoaXNbMF0uZG9tN0VsZW1lbnREYXRhU3RvcmFnZSA/IHRoaXNbMF0uZG9tN0VsZW1lbnREYXRhU3RvcmFnZVtlXSA6IHZvaWQgMFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0dHJhbnNmb3JtOiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgYSA9IDA7IGEgPCB0aGlzLmxlbmd0aDsgYSsrKSB7XG5cdFx0XHRcdFx0XHR2YXIgdCA9IHRoaXNbYV0uc3R5bGU7XG5cdFx0XHRcdFx0XHR0LndlYmtpdFRyYW5zZm9ybSA9IHQuTXNUcmFuc2Zvcm0gPSB0Lm1zVHJhbnNmb3JtID0gdC5Nb3pUcmFuc2Zvcm0gPSB0Lk9UcmFuc2Zvcm0gPSB0LnRyYW5zZm9ybSA9IGVcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXNcblx0XHRcdFx0fSxcblx0XHRcdFx0dHJhbnNpdGlvbjogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdFwic3RyaW5nXCIgIT0gdHlwZW9mIGUgJiYgKGUgKz0gXCJtc1wiKTtcblx0XHRcdFx0XHRmb3IgKHZhciBhID0gMDsgYSA8IHRoaXMubGVuZ3RoOyBhKyspIHtcblx0XHRcdFx0XHRcdHZhciB0ID0gdGhpc1thXS5zdHlsZTtcblx0XHRcdFx0XHRcdHQud2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uID0gdC5Nc1RyYW5zaXRpb25EdXJhdGlvbiA9IHQubXNUcmFuc2l0aW9uRHVyYXRpb24gPSB0Lk1velRyYW5zaXRpb25EdXJhdGlvbiA9IHQuT1RyYW5zaXRpb25EdXJhdGlvbiA9IHQudHJhbnNpdGlvbkR1cmF0aW9uID0gZVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRvbjogZnVuY3Rpb24oZSwgdCwgciwgaSkge1xuXHRcdFx0XHRcdGZ1bmN0aW9uIHMoZSkge1xuXHRcdFx0XHRcdFx0dmFyIGkgPSBlLnRhcmdldDtcblx0XHRcdFx0XHRcdGlmIChhKGkpLmlzKHQpKSByLmNhbGwoaSwgZSk7XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIHMgPSBhKGkpLnBhcmVudHMoKSwgbiA9IDA7IG4gPCBzLmxlbmd0aDsgbisrKSBhKHNbbl0pLmlzKHQpICYmIHIuY2FsbChzW25dLCBlKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR2YXIgbiwgbywgbCA9IGUuc3BsaXQoXCIgXCIpO1xuXHRcdFx0XHRcdGZvciAobiA9IDA7IG4gPCB0aGlzLmxlbmd0aDsgbisrKVxuXHRcdFx0XHRcdFx0aWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdCB8fCB0ID09PSAhMSlcblx0XHRcdFx0XHRcdFx0Zm9yIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQgJiYgKHIgPSBhcmd1bWVudHNbMV0sIGkgPSBhcmd1bWVudHNbMl0gfHwgITEpLCBvID0gMDsgbyA8IGwubGVuZ3RoOyBvKyspIHRoaXNbbl0uYWRkRXZlbnRMaXN0ZW5lcihsW29dLCByLCBpKTtcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0Zm9yIChvID0gMDsgbyA8IGwubGVuZ3RoOyBvKyspIHRoaXNbbl0uZG9tN0xpdmVMaXN0ZW5lcnMgfHwgKHRoaXNbbl0uZG9tN0xpdmVMaXN0ZW5lcnMgPSBbXSksIHRoaXNbbl0uZG9tN0xpdmVMaXN0ZW5lcnMucHVzaCh7XG5cdFx0XHRcdFx0XHRcdFx0bGlzdGVuZXI6IHIsXG5cdFx0XHRcdFx0XHRcdFx0bGl2ZUxpc3RlbmVyOiBzXG5cdFx0XHRcdFx0XHRcdH0pLCB0aGlzW25dLmFkZEV2ZW50TGlzdGVuZXIobFtvXSwgcywgaSk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXNcblx0XHRcdFx0fSxcblx0XHRcdFx0b2ZmOiBmdW5jdGlvbihlLCBhLCB0LCByKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IGUuc3BsaXQoXCIgXCIpLCBzID0gMDsgcyA8IGkubGVuZ3RoOyBzKyspXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBuID0gMDsgbiA8IHRoaXMubGVuZ3RoOyBuKyspXG5cdFx0XHRcdFx0XHRcdGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGEgfHwgYSA9PT0gITEpIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgYSAmJiAodCA9IGFyZ3VtZW50c1sxXSwgciA9IGFyZ3VtZW50c1syXSB8fCAhMSksIHRoaXNbbl0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihpW3NdLCB0LCByKTtcblx0XHRcdFx0XHRcdFx0ZWxzZSBpZiAodGhpc1tuXS5kb203TGl2ZUxpc3RlbmVycylcblx0XHRcdFx0XHRcdGZvciAodmFyIG8gPSAwOyBvIDwgdGhpc1tuXS5kb203TGl2ZUxpc3RlbmVycy5sZW5ndGg7IG8rKykgdGhpc1tuXS5kb203TGl2ZUxpc3RlbmVyc1tvXS5saXN0ZW5lciA9PT0gdCAmJiB0aGlzW25dLnJlbW92ZUV2ZW50TGlzdGVuZXIoaVtzXSwgdGhpc1tuXS5kb203TGl2ZUxpc3RlbmVyc1tvXS5saXZlTGlzdGVuZXIsIHIpO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzXG5cdFx0XHRcdH0sXG5cdFx0XHRcdG9uY2U6IGZ1bmN0aW9uKGUsIGEsIHQsIHIpIHtcblx0XHRcdFx0XHRmdW5jdGlvbiBpKG4pIHtcblx0XHRcdFx0XHRcdHQobiksIHMub2ZmKGUsIGEsIGksIHIpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHZhciBzID0gdGhpcztcblx0XHRcdFx0XHRcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGEgJiYgKGEgPSAhMSwgdCA9IGFyZ3VtZW50c1sxXSwgciA9IGFyZ3VtZW50c1syXSksIHMub24oZSwgYSwgaSwgcilcblx0XHRcdFx0fSxcblx0XHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oZSwgYSkge1xuXHRcdFx0XHRcdGZvciAodmFyIHQgPSAwOyB0IDwgdGhpcy5sZW5ndGg7IHQrKykge1xuXHRcdFx0XHRcdFx0dmFyIHI7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRyID0gbmV3IHdpbmRvdy5DdXN0b21FdmVudChlLCB7XG5cdFx0XHRcdFx0XHRcdFx0ZGV0YWlsOiBhLFxuXHRcdFx0XHRcdFx0XHRcdGJ1YmJsZXM6ICEwLFxuXHRcdFx0XHRcdFx0XHRcdGNhbmNlbGFibGU6ICEwXG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHR9IGNhdGNoIChpKSB7XG5cdFx0XHRcdFx0XHRcdHIgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50XCIpLCByLmluaXRFdmVudChlLCAhMCwgITApLCByLmRldGFpbCA9IGFcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHRoaXNbdF0uZGlzcGF0Y2hFdmVudChyKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR0cmFuc2l0aW9uRW5kOiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0ZnVuY3Rpb24gYShzKSB7XG5cdFx0XHRcdFx0XHRpZiAocy50YXJnZXQgPT09IHRoaXMpXG5cdFx0XHRcdFx0XHRcdGZvciAoZS5jYWxsKHRoaXMsIHMpLCB0ID0gMDsgdCA8IHIubGVuZ3RoOyB0KyspIGkub2ZmKHJbdF0sIGEpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHZhciB0LCByID0gW1wid2Via2l0VHJhbnNpdGlvbkVuZFwiLCBcInRyYW5zaXRpb25lbmRcIiwgXCJvVHJhbnNpdGlvbkVuZFwiLCBcIk1TVHJhbnNpdGlvbkVuZFwiLCBcIm1zVHJhbnNpdGlvbkVuZFwiXSxcblx0XHRcdFx0XHRcdGkgPSB0aGlzO1xuXHRcdFx0XHRcdGlmIChlKVxuXHRcdFx0XHRcdFx0Zm9yICh0ID0gMDsgdCA8IHIubGVuZ3RoOyB0KyspIGkub24oclt0XSwgYSk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXNcblx0XHRcdFx0fSxcblx0XHRcdFx0d2lkdGg6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzWzBdID09PSB3aW5kb3cgPyB3aW5kb3cuaW5uZXJXaWR0aCA6IHRoaXMubGVuZ3RoID4gMCA/IHBhcnNlRmxvYXQodGhpcy5jc3MoXCJ3aWR0aFwiKSkgOiBudWxsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdG91dGVyV2lkdGg6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5sZW5ndGggPiAwID8gZSA/IHRoaXNbMF0ub2Zmc2V0V2lkdGggKyBwYXJzZUZsb2F0KHRoaXMuY3NzKFwibWFyZ2luLXJpZ2h0XCIpKSArIHBhcnNlRmxvYXQodGhpcy5jc3MoXCJtYXJnaW4tbGVmdFwiKSkgOiB0aGlzWzBdLm9mZnNldFdpZHRoIDogbnVsbFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRoZWlnaHQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzWzBdID09PSB3aW5kb3cgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiB0aGlzLmxlbmd0aCA+IDAgPyBwYXJzZUZsb2F0KHRoaXMuY3NzKFwiaGVpZ2h0XCIpKSA6IG51bGxcblx0XHRcdFx0fSxcblx0XHRcdFx0b3V0ZXJIZWlnaHQ6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcy5sZW5ndGggPiAwID8gZSA/IHRoaXNbMF0ub2Zmc2V0SGVpZ2h0ICsgcGFyc2VGbG9hdCh0aGlzLmNzcyhcIm1hcmdpbi10b3BcIikpICsgcGFyc2VGbG9hdCh0aGlzLmNzcyhcIm1hcmdpbi1ib3R0b21cIikpIDogdGhpc1swXS5vZmZzZXRIZWlnaHQgOiBudWxsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdG9mZnNldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKHRoaXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0dmFyIGUgPSB0aGlzWzBdLFxuXHRcdFx0XHRcdFx0XHRhID0gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcblx0XHRcdFx0XHRcdFx0dCA9IGRvY3VtZW50LmJvZHksXG5cdFx0XHRcdFx0XHRcdHIgPSBlLmNsaWVudFRvcCB8fCB0LmNsaWVudFRvcCB8fCAwLFxuXHRcdFx0XHRcdFx0XHRpID0gZS5jbGllbnRMZWZ0IHx8IHQuY2xpZW50TGVmdCB8fCAwLFxuXHRcdFx0XHRcdFx0XHRzID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGUuc2Nyb2xsVG9wLFxuXHRcdFx0XHRcdFx0XHRuID0gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGUuc2Nyb2xsTGVmdDtcblx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdHRvcDogYS50b3AgKyBzIC0gcixcblx0XHRcdFx0XHRcdFx0bGVmdDogYS5sZWZ0ICsgbiAtIGlcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIG51bGxcblx0XHRcdFx0fSxcblx0XHRcdFx0Y3NzOiBmdW5jdGlvbihlLCBhKSB7XG5cdFx0XHRcdFx0dmFyIHQ7XG5cdFx0XHRcdFx0aWYgKDEgPT09IGFyZ3VtZW50cy5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGlmIChcInN0cmluZ1wiICE9IHR5cGVvZiBlKSB7XG5cdFx0XHRcdFx0XHRcdGZvciAodCA9IDA7IHQgPCB0aGlzLmxlbmd0aDsgdCsrKVxuXHRcdFx0XHRcdFx0XHRcdGZvciAodmFyIHIgaW4gZSkgdGhpc1t0XS5zdHlsZVtyXSA9IGVbcl07XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAodGhpc1swXSkgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXNbMF0sIG51bGwpLmdldFByb3BlcnR5VmFsdWUoZSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKDIgPT09IGFyZ3VtZW50cy5sZW5ndGggJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSkge1xuXHRcdFx0XHRcdFx0Zm9yICh0ID0gMDsgdCA8IHRoaXMubGVuZ3RoOyB0KyspIHRoaXNbdF0uc3R5bGVbZV0gPSBhO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRoaXNcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXNcblx0XHRcdFx0fSxcblx0XHRcdFx0ZWFjaDogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdGZvciAodmFyIGEgPSAwOyBhIDwgdGhpcy5sZW5ndGg7IGErKykgZS5jYWxsKHRoaXNbYV0sIGEsIHRoaXNbYV0pO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGh0bWw6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRpZiAoXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgZSkgcmV0dXJuIHRoaXNbMF0gPyB0aGlzWzBdLmlubmVySFRNTCA6IHZvaWQgMDtcblx0XHRcdFx0XHRmb3IgKHZhciBhID0gMDsgYSA8IHRoaXMubGVuZ3RoOyBhKyspIHRoaXNbYV0uaW5uZXJIVE1MID0gZTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR0ZXh0OiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0aWYgKFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGUpIHJldHVybiB0aGlzWzBdID8gdGhpc1swXS50ZXh0Q29udGVudC50cmltKCkgOiBudWxsO1xuXHRcdFx0XHRcdGZvciAodmFyIGEgPSAwOyBhIDwgdGhpcy5sZW5ndGg7IGErKykgdGhpc1thXS50ZXh0Q29udGVudCA9IGU7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXNcblx0XHRcdFx0fSxcblx0XHRcdFx0aXM6IGZ1bmN0aW9uKHQpIHtcblx0XHRcdFx0XHRpZiAoIXRoaXNbMF0pIHJldHVybiAhMTtcblx0XHRcdFx0XHR2YXIgciwgaTtcblx0XHRcdFx0XHRpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCkge1xuXHRcdFx0XHRcdFx0dmFyIHMgPSB0aGlzWzBdO1xuXHRcdFx0XHRcdFx0aWYgKHMgPT09IGRvY3VtZW50KSByZXR1cm4gdCA9PT0gZG9jdW1lbnQ7XG5cdFx0XHRcdFx0XHRpZiAocyA9PT0gd2luZG93KSByZXR1cm4gdCA9PT0gd2luZG93O1xuXHRcdFx0XHRcdFx0aWYgKHMubWF0Y2hlcykgcmV0dXJuIHMubWF0Y2hlcyh0KTtcblx0XHRcdFx0XHRcdGlmIChzLndlYmtpdE1hdGNoZXNTZWxlY3RvcikgcmV0dXJuIHMud2Via2l0TWF0Y2hlc1NlbGVjdG9yKHQpO1xuXHRcdFx0XHRcdFx0aWYgKHMubW96TWF0Y2hlc1NlbGVjdG9yKSByZXR1cm4gcy5tb3pNYXRjaGVzU2VsZWN0b3IodCk7XG5cdFx0XHRcdFx0XHRpZiAocy5tc01hdGNoZXNTZWxlY3RvcikgcmV0dXJuIHMubXNNYXRjaGVzU2VsZWN0b3IodCk7XG5cdFx0XHRcdFx0XHRmb3IgKHIgPSBhKHQpLCBpID0gMDsgaSA8IHIubGVuZ3RoOyBpKyspXG5cdFx0XHRcdFx0XHRcdGlmIChyW2ldID09PSB0aGlzWzBdKSByZXR1cm4gITA7XG5cdFx0XHRcdFx0XHRyZXR1cm4gITFcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKHQgPT09IGRvY3VtZW50KSByZXR1cm4gdGhpc1swXSA9PT0gZG9jdW1lbnQ7XG5cdFx0XHRcdFx0aWYgKHQgPT09IHdpbmRvdykgcmV0dXJuIHRoaXNbMF0gPT09IHdpbmRvdztcblx0XHRcdFx0XHRpZiAodC5ub2RlVHlwZSB8fCB0IGluc3RhbmNlb2YgZSkge1xuXHRcdFx0XHRcdFx0Zm9yIChyID0gdC5ub2RlVHlwZSA/IFt0XSA6IHQsIGkgPSAwOyBpIDwgci5sZW5ndGg7IGkrKylcblx0XHRcdFx0XHRcdFx0aWYgKHJbaV0gPT09IHRoaXNbMF0pIHJldHVybiAhMDtcblx0XHRcdFx0XHRcdHJldHVybiAhMVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gITFcblx0XHRcdFx0fSxcblx0XHRcdFx0aW5kZXg6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICh0aGlzWzBdKSB7XG5cdFx0XHRcdFx0XHRmb3IgKHZhciBlID0gdGhpc1swXSwgYSA9IDA7IG51bGwgIT09IChlID0gZS5wcmV2aW91c1NpYmxpbmcpOykgMSA9PT0gZS5ub2RlVHlwZSAmJiBhKys7XG5cdFx0XHRcdFx0XHRyZXR1cm4gYVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0ZXE6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRpZiAoXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgYSkgcmV0dXJuIHRoaXM7XG5cdFx0XHRcdFx0dmFyIHQsIHIgPSB0aGlzLmxlbmd0aDtcblx0XHRcdFx0XHRyZXR1cm4gYSA+IHIgLSAxID8gbmV3IGUoW10pIDogMCA+IGEgPyAodCA9IHIgKyBhLCBuZXcgZSgwID4gdCA/IFtdIDogW3RoaXNbdF1dKSkgOiBuZXcgZShbdGhpc1thXV0pXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGFwcGVuZDogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdHZhciB0LCByO1xuXHRcdFx0XHRcdGZvciAodCA9IDA7IHQgPCB0aGlzLmxlbmd0aDsgdCsrKVxuXHRcdFx0XHRcdFx0aWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGEpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0XHRcdFx0XHRmb3IgKGkuaW5uZXJIVE1MID0gYTsgaS5maXJzdENoaWxkOykgdGhpc1t0XS5hcHBlbmRDaGlsZChpLmZpcnN0Q2hpbGQpXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGEgaW5zdGFuY2VvZiBlKVxuXHRcdFx0XHRcdFx0Zm9yIChyID0gMDsgciA8IGEubGVuZ3RoOyByKyspIHRoaXNbdF0uYXBwZW5kQ2hpbGQoYVtyXSk7XG5cdFx0XHRcdFx0ZWxzZSB0aGlzW3RdLmFwcGVuZENoaWxkKGEpO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHByZXBlbmQ6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHR2YXIgdCwgcjtcblx0XHRcdFx0XHRmb3IgKHQgPSAwOyB0IDwgdGhpcy5sZW5ndGg7IHQrKylcblx0XHRcdFx0XHRcdGlmIChcInN0cmluZ1wiID09IHR5cGVvZiBhKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRcdFx0XHRcdFx0Zm9yIChpLmlubmVySFRNTCA9IGEsIHIgPSBpLmNoaWxkTm9kZXMubGVuZ3RoIC0gMTsgciA+PSAwOyByLS0pIHRoaXNbdF0uaW5zZXJ0QmVmb3JlKGkuY2hpbGROb2Rlc1tyXSwgdGhpc1t0XS5jaGlsZE5vZGVzWzBdKVxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChhIGluc3RhbmNlb2YgZSlcblx0XHRcdFx0XHRcdGZvciAociA9IDA7IHIgPCBhLmxlbmd0aDsgcisrKSB0aGlzW3RdLmluc2VydEJlZm9yZShhW3JdLCB0aGlzW3RdLmNoaWxkTm9kZXNbMF0pO1xuXHRcdFx0XHRcdGVsc2UgdGhpc1t0XS5pbnNlcnRCZWZvcmUoYSwgdGhpc1t0XS5jaGlsZE5vZGVzWzBdKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRmb3IgKHZhciB0ID0gYShlKSwgciA9IDA7IHIgPCB0aGlzLmxlbmd0aDsgcisrKVxuXHRcdFx0XHRcdFx0aWYgKDEgPT09IHQubGVuZ3RoKSB0WzBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXNbcl0sIHRbMF0pO1xuXHRcdFx0XHRcdFx0ZWxzZSBpZiAodC5sZW5ndGggPiAxKVxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0Lmxlbmd0aDsgaSsrKSB0W2ldLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXNbcl0uY2xvbmVOb2RlKCEwKSwgdFtpXSlcblx0XHRcdFx0fSxcblx0XHRcdFx0aW5zZXJ0QWZ0ZXI6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRmb3IgKHZhciB0ID0gYShlKSwgciA9IDA7IHIgPCB0aGlzLmxlbmd0aDsgcisrKVxuXHRcdFx0XHRcdFx0aWYgKDEgPT09IHQubGVuZ3RoKSB0WzBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXNbcl0sIHRbMF0ubmV4dFNpYmxpbmcpO1xuXHRcdFx0XHRcdFx0ZWxzZSBpZiAodC5sZW5ndGggPiAxKVxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0Lmxlbmd0aDsgaSsrKSB0W2ldLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXNbcl0uY2xvbmVOb2RlKCEwKSwgdFtpXS5uZXh0U2libGluZylcblx0XHRcdFx0fSxcblx0XHRcdFx0bmV4dDogZnVuY3Rpb24odCkge1xuXHRcdFx0XHRcdHJldHVybiBuZXcgZSh0aGlzLmxlbmd0aCA+IDAgPyB0ID8gdGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmcgJiYgYSh0aGlzWzBdLm5leHRFbGVtZW50U2libGluZykuaXModCkgPyBbdGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmddIDogW10gOiB0aGlzWzBdLm5leHRFbGVtZW50U2libGluZyA/IFt0aGlzWzBdLm5leHRFbGVtZW50U2libGluZ10gOiBbXSA6IFtdKVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRuZXh0QWxsOiBmdW5jdGlvbih0KSB7XG5cdFx0XHRcdFx0dmFyIHIgPSBbXSxcblx0XHRcdFx0XHRcdGkgPSB0aGlzWzBdO1xuXHRcdFx0XHRcdGlmICghaSkgcmV0dXJuIG5ldyBlKFtdKTtcblx0XHRcdFx0XHRmb3IgKDsgaS5uZXh0RWxlbWVudFNpYmxpbmc7KSB7XG5cdFx0XHRcdFx0XHR2YXIgcyA9IGkubmV4dEVsZW1lbnRTaWJsaW5nO1xuXHRcdFx0XHRcdFx0dCA/IGEocykuaXModCkgJiYgci5wdXNoKHMpIDogci5wdXNoKHMpLCBpID0gc1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gbmV3IGUocilcblx0XHRcdFx0fSxcblx0XHRcdFx0cHJldjogZnVuY3Rpb24odCkge1xuXHRcdFx0XHRcdHJldHVybiBuZXcgZSh0aGlzLmxlbmd0aCA+IDAgPyB0ID8gdGhpc1swXS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nICYmIGEodGhpc1swXS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKS5pcyh0KSA/IFt0aGlzWzBdLnByZXZpb3VzRWxlbWVudFNpYmxpbmddIDogW10gOiB0aGlzWzBdLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgPyBbdGhpc1swXS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nXSA6IFtdIDogW10pXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHByZXZBbGw6IGZ1bmN0aW9uKHQpIHtcblx0XHRcdFx0XHR2YXIgciA9IFtdLFxuXHRcdFx0XHRcdFx0aSA9IHRoaXNbMF07XG5cdFx0XHRcdFx0aWYgKCFpKSByZXR1cm4gbmV3IGUoW10pO1xuXHRcdFx0XHRcdGZvciAoOyBpLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7KSB7XG5cdFx0XHRcdFx0XHR2YXIgcyA9IGkucHJldmlvdXNFbGVtZW50U2libGluZztcblx0XHRcdFx0XHRcdHQgPyBhKHMpLmlzKHQpICYmIHIucHVzaChzKSA6IHIucHVzaChzKSwgaSA9IHNcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBlKHIpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHBhcmVudDogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdGZvciAodmFyIHQgPSBbXSwgciA9IDA7IHIgPCB0aGlzLmxlbmd0aDsgcisrKSBlID8gYSh0aGlzW3JdLnBhcmVudE5vZGUpLmlzKGUpICYmIHQucHVzaCh0aGlzW3JdLnBhcmVudE5vZGUpIDogdC5wdXNoKHRoaXNbcl0ucGFyZW50Tm9kZSk7XG5cdFx0XHRcdFx0cmV0dXJuIGEoYS51bmlxdWUodCkpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHBhcmVudHM6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRmb3IgKHZhciB0ID0gW10sIHIgPSAwOyByIDwgdGhpcy5sZW5ndGg7IHIrKylcblx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSB0aGlzW3JdLnBhcmVudE5vZGU7IGk7KSBlID8gYShpKS5pcyhlKSAmJiB0LnB1c2goaSkgOiB0LnB1c2goaSksIGkgPSBpLnBhcmVudE5vZGU7XG5cdFx0XHRcdFx0cmV0dXJuIGEoYS51bmlxdWUodCkpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGZpbmQ6IGZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0XHRmb3IgKHZhciB0ID0gW10sIHIgPSAwOyByIDwgdGhpcy5sZW5ndGg7IHIrKylcblx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSB0aGlzW3JdLnF1ZXJ5U2VsZWN0b3JBbGwoYSksIHMgPSAwOyBzIDwgaS5sZW5ndGg7IHMrKykgdC5wdXNoKGlbc10pO1xuXHRcdFx0XHRcdHJldHVybiBuZXcgZSh0KVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRjaGlsZHJlbjogZnVuY3Rpb24odCkge1xuXHRcdFx0XHRcdGZvciAodmFyIHIgPSBbXSwgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKVxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgcyA9IHRoaXNbaV0uY2hpbGROb2RlcywgbiA9IDA7IG4gPCBzLmxlbmd0aDsgbisrKSB0ID8gMSA9PT0gc1tuXS5ub2RlVHlwZSAmJiBhKHNbbl0pLmlzKHQpICYmIHIucHVzaChzW25dKSA6IDEgPT09IHNbbl0ubm9kZVR5cGUgJiYgci5wdXNoKHNbbl0pO1xuXHRcdFx0XHRcdHJldHVybiBuZXcgZShhLnVuaXF1ZShyKSlcblx0XHRcdFx0fSxcblx0XHRcdFx0cmVtb3ZlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBlID0gMDsgZSA8IHRoaXMubGVuZ3RoOyBlKyspIHRoaXNbZV0ucGFyZW50Tm9kZSAmJiB0aGlzW2VdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpc1tlXSk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXNcblx0XHRcdFx0fSxcblx0XHRcdFx0YWRkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgZSwgdCwgciA9IHRoaXM7XG5cdFx0XHRcdFx0Zm9yIChlID0gMDsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykge1xuXHRcdFx0XHRcdFx0dmFyIGkgPSBhKGFyZ3VtZW50c1tlXSk7XG5cdFx0XHRcdFx0XHRmb3IgKHQgPSAwOyB0IDwgaS5sZW5ndGg7IHQrKykgcltyLmxlbmd0aF0gPSBpW3RdLCByLmxlbmd0aCsrXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiByXG5cdFx0XHRcdH1cblx0XHRcdH0sIGEuZm4gPSBlLnByb3RvdHlwZSwgYS51bmlxdWUgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGZvciAodmFyIGEgPSBbXSwgdCA9IDA7IHQgPCBlLmxlbmd0aDsgdCsrKSAtIDEgPT09IGEuaW5kZXhPZihlW3RdKSAmJiBhLnB1c2goZVt0XSk7XG5cdFx0XHRcdHJldHVybiBhXG5cdFx0XHR9LCBhXG5cdFx0fSgpKSwgaSA9IFtcImpRdWVyeVwiLCBcIlplcHRvXCIsIFwiRG9tN1wiXSwgcyA9IDA7IHMgPCBpLmxlbmd0aDsgcysrKSB3aW5kb3dbaVtzXV0gJiYgZSh3aW5kb3dbaVtzXV0pO1xuXHR2YXIgbjtcblx0biA9IFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIHIgPyB3aW5kb3cuRG9tNyB8fCB3aW5kb3cuWmVwdG8gfHwgd2luZG93LmpRdWVyeSA6IHIsIG4gJiYgKFwidHJhbnNpdGlvbkVuZFwiIGluIG4uZm4gfHwgKG4uZm4udHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uKGUpIHtcblx0XHRmdW5jdGlvbiBhKHMpIHtcblx0XHRcdGlmIChzLnRhcmdldCA9PT0gdGhpcylcblx0XHRcdFx0Zm9yIChlLmNhbGwodGhpcywgcyksIHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgaS5vZmYoclt0XSwgYSlcblx0XHR9XG5cdFx0dmFyIHQsIHIgPSBbXCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCIsIFwidHJhbnNpdGlvbmVuZFwiLCBcIm9UcmFuc2l0aW9uRW5kXCIsIFwiTVNUcmFuc2l0aW9uRW5kXCIsIFwibXNUcmFuc2l0aW9uRW5kXCJdLFxuXHRcdFx0aSA9IHRoaXM7XG5cdFx0aWYgKGUpXG5cdFx0XHRmb3IgKHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgaS5vbihyW3RdLCBhKTtcblx0XHRyZXR1cm4gdGhpc1xuXHR9KSwgXCJ0cmFuc2Zvcm1cIiBpbiBuLmZuIHx8IChuLmZuLnRyYW5zZm9ybSA9IGZ1bmN0aW9uKGUpIHtcblx0XHRmb3IgKHZhciBhID0gMDsgYSA8IHRoaXMubGVuZ3RoOyBhKyspIHtcblx0XHRcdHZhciB0ID0gdGhpc1thXS5zdHlsZTtcblx0XHRcdHQud2Via2l0VHJhbnNmb3JtID0gdC5Nc1RyYW5zZm9ybSA9IHQubXNUcmFuc2Zvcm0gPSB0Lk1velRyYW5zZm9ybSA9IHQuT1RyYW5zZm9ybSA9IHQudHJhbnNmb3JtID0gZVxuXHRcdH1cblx0XHRyZXR1cm4gdGhpc1xuXHR9KSwgXCJ0cmFuc2l0aW9uXCIgaW4gbi5mbiB8fCAobi5mbi50cmFuc2l0aW9uID0gZnVuY3Rpb24oZSkge1xuXHRcdFwic3RyaW5nXCIgIT0gdHlwZW9mIGUgJiYgKGUgKz0gXCJtc1wiKTtcblx0XHRmb3IgKHZhciBhID0gMDsgYSA8IHRoaXMubGVuZ3RoOyBhKyspIHtcblx0XHRcdHZhciB0ID0gdGhpc1thXS5zdHlsZTtcblx0XHRcdHQud2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uID0gdC5Nc1RyYW5zaXRpb25EdXJhdGlvbiA9IHQubXNUcmFuc2l0aW9uRHVyYXRpb24gPSB0Lk1velRyYW5zaXRpb25EdXJhdGlvbiA9IHQuT1RyYW5zaXRpb25EdXJhdGlvbiA9IHQudHJhbnNpdGlvbkR1cmF0aW9uID0gZVxuXHRcdH1cblx0XHRyZXR1cm4gdGhpc1xuXHR9KSksIHdpbmRvdy5Td2lwZXIgPSB0XG59KCksIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIG1vZHVsZSA/IG1vZHVsZS5leHBvcnRzID0gd2luZG93LlN3aXBlciA6IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZGVmaW5lICYmIGRlZmluZS5hbWQgJiYgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdHJldHVybiB3aW5kb3cuU3dpcGVyXG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcHMvc3dpcGVyLm1pbi5qcy5tYXBcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvanMvc3dpcGVyLTMuMy4xLm1pbi5qc1xuICoqIG1vZHVsZSBpZCA9IDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiA1XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }
/******/ ]);