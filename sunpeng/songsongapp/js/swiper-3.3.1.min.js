/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__(1);


/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	eval("/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n/**\n * Swiper 3.3.1\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * \n * http://www.idangero.us/swiper/\n * \n * Copyright 2016, Vladimir Kharlampidi\n * The iDangero.us\n * http://www.idangero.us/\n * \n * Licensed under MIT\n * \n * Released on: February 7, 2016\n */\n! function() {\n\t\"use strict\";\n\n\tfunction e(e) {\n\t\te.fn.swiper = function(a) {\n\t\t\tvar r;\n\t\t\treturn e(this).each(function() {\n\t\t\t\tvar e = new t(this, a);\n\t\t\t\tr || (r = e)\n\t\t\t}), r\n\t\t}\n\t}\n\tvar a, t = function(e, i) {\n\t\tfunction s(e) {\n\t\t\treturn Math.floor(e)\n\t\t}\n\n\t\tfunction n() {\n\t\t\tb.autoplayTimeoutId = setTimeout(function() {\n\t\t\t\tb.params.loop ? (b.fixLoop(), b._slideNext(), b.emit(\"onAutoplay\", b)) : b.isEnd ? i.autoplayStopOnLast ? b.stopAutoplay() : (b._slideTo(0), b.emit(\"onAutoplay\", b)) : (b._slideNext(), b.emit(\"onAutoplay\", b))\n\t\t\t}, b.params.autoplay)\n\t\t}\n\n\t\tfunction o(e, t) {\n\t\t\tvar r = a(e.target);\n\t\t\tif (!r.is(t))\n\t\t\t\tif (\"string\" == typeof t) r = r.parents(t);\n\t\t\t\telse if (t.nodeType) {\n\t\t\t\tvar i;\n\t\t\t\treturn r.parents().each(function(e, a) {\n\t\t\t\t\ta === t && (i = t)\n\t\t\t\t}), i ? t : void 0\n\t\t\t}\n\t\t\tif (0 !== r.length) return r[0]\n\t\t}\n\n\t\tfunction l(e, a) {\n\t\t\ta = a || {};\n\t\t\tvar t = window.MutationObserver || window.WebkitMutationObserver,\n\t\t\t\tr = new t(function(e) {\n\t\t\t\t\te.forEach(function(e) {\n\t\t\t\t\t\tb.onResize(!0), b.emit(\"onObserverUpdate\", b, e)\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\tr.observe(e, {\n\t\t\t\tattributes: \"undefined\" == typeof a.attributes ? !0 : a.attributes,\n\t\t\t\tchildList: \"undefined\" == typeof a.childList ? !0 : a.childList,\n\t\t\t\tcharacterData: \"undefined\" == typeof a.characterData ? !0 : a.characterData\n\t\t\t}), b.observers.push(r)\n\t\t}\n\n\t\tfunction p(e) {\n\t\t\te.originalEvent && (e = e.originalEvent);\n\t\t\tvar a = e.keyCode || e.charCode;\n\t\t\tif (!b.params.allowSwipeToNext && (b.isHorizontal() && 39 === a || !b.isHorizontal() && 40 === a)) return !1;\n\t\t\tif (!b.params.allowSwipeToPrev && (b.isHorizontal() && 37 === a || !b.isHorizontal() && 38 === a)) return !1;\n\t\t\tif (!(e.shiftKey || e.altKey || e.ctrlKey || e.metaKey || document.activeElement && document.activeElement.nodeName && (\"input\" === document.activeElement.nodeName.toLowerCase() || \"textarea\" === document.activeElement.nodeName.toLowerCase()))) {\n\t\t\t\tif (37 === a || 39 === a || 38 === a || 40 === a) {\n\t\t\t\t\tvar t = !1;\n\t\t\t\t\tif (b.container.parents(\".swiper-slide\").length > 0 && 0 === b.container.parents(\".swiper-slide-active\").length) return;\n\t\t\t\t\tvar r = {\n\t\t\t\t\t\t\tleft: window.pageXOffset,\n\t\t\t\t\t\t\ttop: window.pageYOffset\n\t\t\t\t\t\t},\n\t\t\t\t\t\ti = window.innerWidth,\n\t\t\t\t\t\ts = window.innerHeight,\n\t\t\t\t\t\tn = b.container.offset();\n\t\t\t\t\tb.rtl && (n.left = n.left - b.container[0].scrollLeft);\n\t\t\t\t\tfor (var o = [\n\t\t\t\t\t\t\t[n.left, n.top],\n\t\t\t\t\t\t\t[n.left + b.width, n.top],\n\t\t\t\t\t\t\t[n.left, n.top + b.height],\n\t\t\t\t\t\t\t[n.left + b.width, n.top + b.height]\n\t\t\t\t\t\t], l = 0; l < o.length; l++) {\n\t\t\t\t\t\tvar p = o[l];\n\t\t\t\t\t\tp[0] >= r.left && p[0] <= r.left + i && p[1] >= r.top && p[1] <= r.top + s && (t = !0)\n\t\t\t\t\t}\n\t\t\t\t\tif (!t) return\n\t\t\t\t}\n\t\t\t\tb.isHorizontal() ? ((37 === a || 39 === a) && (e.preventDefault ? e.preventDefault() : e.returnValue = !1), (39 === a && !b.rtl || 37 === a && b.rtl) && b.slideNext(), (37 === a && !b.rtl || 39 === a && b.rtl) && b.slidePrev()) : ((38 === a || 40 === a) && (e.preventDefault ? e.preventDefault() : e.returnValue = !1), 40 === a && b.slideNext(), 38 === a && b.slidePrev())\n\t\t\t}\n\t\t}\n\n\t\tfunction d(e) {\n\t\t\te.originalEvent && (e = e.originalEvent);\n\t\t\tvar a = b.mousewheel.event,\n\t\t\t\tt = 0,\n\t\t\t\tr = b.rtl ? -1 : 1;\n\t\t\tif (\"mousewheel\" === a)\n\t\t\t\tif (b.params.mousewheelForceToAxis)\n\t\t\t\t\tif (b.isHorizontal()) {\n\t\t\t\t\t\tif (!(Math.abs(e.wheelDeltaX) > Math.abs(e.wheelDeltaY))) return;\n\t\t\t\t\t\tt = e.wheelDeltaX * r\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!(Math.abs(e.wheelDeltaY) > Math.abs(e.wheelDeltaX))) return;\n\t\t\t\t\t\tt = e.wheelDeltaY\n\t\t\t\t\t}\n\t\t\telse t = Math.abs(e.wheelDeltaX) > Math.abs(e.wheelDeltaY) ? -e.wheelDeltaX * r : -e.wheelDeltaY;\n\t\t\telse if (\"DOMMouseScroll\" === a) t = -e.detail;\n\t\t\telse if (\"wheel\" === a)\n\t\t\t\tif (b.params.mousewheelForceToAxis)\n\t\t\t\t\tif (b.isHorizontal()) {\n\t\t\t\t\t\tif (!(Math.abs(e.deltaX) > Math.abs(e.deltaY))) return;\n\t\t\t\t\t\tt = -e.deltaX * r\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!(Math.abs(e.deltaY) > Math.abs(e.deltaX))) return;\n\t\t\t\t\t\tt = -e.deltaY\n\t\t\t\t\t}\n\t\t\telse t = Math.abs(e.deltaX) > Math.abs(e.deltaY) ? -e.deltaX * r : -e.deltaY;\n\t\t\tif (0 !== t) {\n\t\t\t\tif (b.params.mousewheelInvert && (t = -t), b.params.freeMode) {\n\t\t\t\t\tvar i = b.getWrapperTranslate() + t * b.params.mousewheelSensitivity,\n\t\t\t\t\t\ts = b.isBeginning,\n\t\t\t\t\t\tn = b.isEnd;\n\t\t\t\t\tif (i >= b.minTranslate() && (i = b.minTranslate()), i <= b.maxTranslate() && (i = b.maxTranslate()), b.setWrapperTransition(0), b.setWrapperTranslate(i), b.updateProgress(), b.updateActiveIndex(), (!s && b.isBeginning || !n && b.isEnd) && b.updateClasses(), b.params.freeModeSticky ? (clearTimeout(b.mousewheel.timeout), b.mousewheel.timeout = setTimeout(function() {\n\t\t\t\t\t\t\tb.slideReset()\n\t\t\t\t\t\t}, 300)) : b.params.lazyLoading && b.lazy && b.lazy.load(), 0 === i || i === b.maxTranslate()) return\n\t\t\t\t} else {\n\t\t\t\t\tif ((new window.Date).getTime() - b.mousewheel.lastScrollTime > 60)\n\t\t\t\t\t\tif (0 > t)\n\t\t\t\t\t\t\tif (b.isEnd && !b.params.loop || b.animating) {\n\t\t\t\t\t\t\t\tif (b.params.mousewheelReleaseOnEdges) return !0\n\t\t\t\t\t\t\t} else b.slideNext();\n\t\t\t\t\telse if (b.isBeginning && !b.params.loop || b.animating) {\n\t\t\t\t\t\tif (b.params.mousewheelReleaseOnEdges) return !0\n\t\t\t\t\t} else b.slidePrev();\n\t\t\t\t\tb.mousewheel.lastScrollTime = (new window.Date).getTime()\n\t\t\t\t}\n\t\t\t\treturn b.params.autoplay && b.stopAutoplay(), e.preventDefault ? e.preventDefault() : e.returnValue = !1, !1\n\t\t\t}\n\t\t}\n\n\t\tfunction u(e, t) {\n\t\t\te = a(e);\n\t\t\tvar r, i, s, n = b.rtl ? -1 : 1;\n\t\t\tr = e.attr(\"data-swiper-parallax\") || \"0\", i = e.attr(\"data-swiper-parallax-x\"), s = e.attr(\"data-swiper-parallax-y\"), i || s ? (i = i || \"0\", s = s || \"0\") : b.isHorizontal() ? (i = r, s = \"0\") : (s = r, i = \"0\"), i = i.indexOf(\"%\") >= 0 ? parseInt(i, 10) * t * n + \"%\" : i * t * n + \"px\", s = s.indexOf(\"%\") >= 0 ? parseInt(s, 10) * t + \"%\" : s * t + \"px\", e.transform(\"translate3d(\" + i + \", \" + s + \",0px)\")\n\t\t}\n\n\t\tfunction c(e) {\n\t\t\treturn 0 !== e.indexOf(\"on\") && (e = e[0] !== e[0].toUpperCase() ? \"on\" + e[0].toUpperCase() + e.substring(1) : \"on\" + e), e\n\t\t}\n\t\tif (!(this instanceof t)) return new t(e, i);\n\t\tvar m = {\n\t\t\t\tdirection: \"horizontal\",\n\t\t\t\ttouchEventsTarget: \"container\",\n\t\t\t\tinitialSlide: 0,\n\t\t\t\tspeed: 300,\n\t\t\t\tautoplay: !1,\n\t\t\t\tautoplayDisableOnInteraction: !0,\n\t\t\t\tautoplayStopOnLast: !1,\n\t\t\t\tiOSEdgeSwipeDetection: !1,\n\t\t\t\tiOSEdgeSwipeThreshold: 20,\n\t\t\t\tfreeMode: !1,\n\t\t\t\tfreeModeMomentum: !0,\n\t\t\t\tfreeModeMomentumRatio: 1,\n\t\t\t\tfreeModeMomentumBounce: !0,\n\t\t\t\tfreeModeMomentumBounceRatio: 1,\n\t\t\t\tfreeModeSticky: !1,\n\t\t\t\tfreeModeMinimumVelocity: .02,\n\t\t\t\tautoHeight: !1,\n\t\t\t\tsetWrapperSize: !1,\n\t\t\t\tvirtualTranslate: !1,\n\t\t\t\teffect: \"slide\",\n\t\t\t\tcoverflow: {\n\t\t\t\t\trotate: 50,\n\t\t\t\t\tstretch: 0,\n\t\t\t\t\tdepth: 100,\n\t\t\t\t\tmodifier: 1,\n\t\t\t\t\tslideShadows: !0\n\t\t\t\t},\n\t\t\t\tflip: {\n\t\t\t\t\tslideShadows: !0,\n\t\t\t\t\tlimitRotation: !0\n\t\t\t\t},\n\t\t\t\tcube: {\n\t\t\t\t\tslideShadows: !0,\n\t\t\t\t\tshadow: !0,\n\t\t\t\t\tshadowOffset: 20,\n\t\t\t\t\tshadowScale: .94\n\t\t\t\t},\n\t\t\t\tfade: {\n\t\t\t\t\tcrossFade: !1\n\t\t\t\t},\n\t\t\t\tparallax: !1,\n\t\t\t\tscrollbar: null,\n\t\t\t\tscrollbarHide: !0,\n\t\t\t\tscrollbarDraggable: !1,\n\t\t\t\tscrollbarSnapOnRelease: !1,\n\t\t\t\tkeyboardControl: !1,\n\t\t\t\tmousewheelControl: !1,\n\t\t\t\tmousewheelReleaseOnEdges: !1,\n\t\t\t\tmousewheelInvert: !1,\n\t\t\t\tmousewheelForceToAxis: !1,\n\t\t\t\tmousewheelSensitivity: 1,\n\t\t\t\thashnav: !1,\n\t\t\t\tbreakpoints: void 0,\n\t\t\t\tspaceBetween: 0,\n\t\t\t\tslidesPerView: 1,\n\t\t\t\tslidesPerColumn: 1,\n\t\t\t\tslidesPerColumnFill: \"column\",\n\t\t\t\tslidesPerGroup: 1,\n\t\t\t\tcenteredSlides: !1,\n\t\t\t\tslidesOffsetBefore: 0,\n\t\t\t\tslidesOffsetAfter: 0,\n\t\t\t\troundLengths: !1,\n\t\t\t\ttouchRatio: 1,\n\t\t\t\ttouchAngle: 45,\n\t\t\t\tsimulateTouch: !0,\n\t\t\t\tshortSwipes: !0,\n\t\t\t\tlongSwipes: !0,\n\t\t\t\tlongSwipesRatio: .5,\n\t\t\t\tlongSwipesMs: 300,\n\t\t\t\tfollowFinger: !0,\n\t\t\t\tonlyExternal: !1,\n\t\t\t\tthreshold: 0,\n\t\t\t\ttouchMoveStopPropagation: !0,\n\t\t\t\tuniqueNavElements: !0,\n\t\t\t\tpagination: null,\n\t\t\t\tpaginationElement: \"span\",\n\t\t\t\tpaginationClickable: !1,\n\t\t\t\tpaginationHide: !1,\n\t\t\t\tpaginationBulletRender: null,\n\t\t\t\tpaginationProgressRender: null,\n\t\t\t\tpaginationFractionRender: null,\n\t\t\t\tpaginationCustomRender: null,\n\t\t\t\tpaginationType: \"bullets\",\n\t\t\t\tresistance: !0,\n\t\t\t\tresistanceRatio: .85,\n\t\t\t\tnextButton: null,\n\t\t\t\tprevButton: null,\n\t\t\t\twatchSlidesProgress: !1,\n\t\t\t\twatchSlidesVisibility: !1,\n\t\t\t\tgrabCursor: !1,\n\t\t\t\tpreventClicks: !0,\n\t\t\t\tpreventClicksPropagation: !0,\n\t\t\t\tslideToClickedSlide: !1,\n\t\t\t\tlazyLoading: !1,\n\t\t\t\tlazyLoadingInPrevNext: !1,\n\t\t\t\tlazyLoadingInPrevNextAmount: 1,\n\t\t\t\tlazyLoadingOnTransitionStart: !1,\n\t\t\t\tpreloadImages: !0,\n\t\t\t\tupdateOnImagesReady: !0,\n\t\t\t\tloop: !1,\n\t\t\t\tloopAdditionalSlides: 0,\n\t\t\t\tloopedSlides: null,\n\t\t\t\tcontrol: void 0,\n\t\t\t\tcontrolInverse: !1,\n\t\t\t\tcontrolBy: \"slide\",\n\t\t\t\tallowSwipeToPrev: !0,\n\t\t\t\tallowSwipeToNext: !0,\n\t\t\t\tswipeHandler: null,\n\t\t\t\tnoSwiping: !0,\n\t\t\t\tnoSwipingClass: \"swiper-no-swiping\",\n\t\t\t\tslideClass: \"swiper-slide\",\n\t\t\t\tslideActiveClass: \"swiper-slide-active\",\n\t\t\t\tslideVisibleClass: \"swiper-slide-visible\",\n\t\t\t\tslideDuplicateClass: \"swiper-slide-duplicate\",\n\t\t\t\tslideNextClass: \"swiper-slide-next\",\n\t\t\t\tslidePrevClass: \"swiper-slide-prev\",\n\t\t\t\twrapperClass: \"swiper-wrapper\",\n\t\t\t\tbulletClass: \"swiper-pagination-bullet\",\n\t\t\t\tbulletActiveClass: \"swiper-pagination-bullet-active\",\n\t\t\t\tbuttonDisabledClass: \"swiper-button-disabled\",\n\t\t\t\tpaginationCurrentClass: \"swiper-pagination-current\",\n\t\t\t\tpaginationTotalClass: \"swiper-pagination-total\",\n\t\t\t\tpaginationHiddenClass: \"swiper-pagination-hidden\",\n\t\t\t\tpaginationProgressbarClass: \"swiper-pagination-progressbar\",\n\t\t\t\tobserver: !1,\n\t\t\t\tobserveParents: !1,\n\t\t\t\ta11y: !1,\n\t\t\t\tprevSlideMessage: \"Previous slide\",\n\t\t\t\tnextSlideMessage: \"Next slide\",\n\t\t\t\tfirstSlideMessage: \"This is the first slide\",\n\t\t\t\tlastSlideMessage: \"This is the last slide\",\n\t\t\t\tpaginationBulletMessage: \"Go to slide {{index}}\",\n\t\t\t\trunCallbacksOnInit: !0\n\t\t\t},\n\t\t\th = i && i.virtualTranslate;\n\t\ti = i || {};\n\t\tvar f = {};\n\t\tfor (var g in i)\n\t\t\tif (\"object\" != typeof i[g] || null === i[g] || (i[g].nodeType || i[g] === window || i[g] === document || \"undefined\" != typeof r && i[g] instanceof r || \"undefined\" != typeof jQuery && i[g] instanceof jQuery)) f[g] = i[g];\n\t\t\telse {\n\t\t\t\tf[g] = {};\n\t\t\t\tfor (var v in i[g]) f[g][v] = i[g][v]\n\t\t\t}\n\t\tfor (var w in m)\n\t\t\tif (\"undefined\" == typeof i[w]) i[w] = m[w];\n\t\t\telse if (\"object\" == typeof i[w])\n\t\t\tfor (var y in m[w]) \"undefined\" == typeof i[w][y] && (i[w][y] = m[w][y]);\n\t\tvar b = this;\n\t\tif (b.params = i, b.originalParams = f, b.classNames = [], \"undefined\" != typeof a && \"undefined\" != typeof r && (a = r), (\"undefined\" != typeof a || (a = \"undefined\" == typeof r ? window.Dom7 || window.Zepto || window.jQuery : r)) && (b.$ = a, b.currentBreakpoint = void 0, b.getActiveBreakpoint = function() {\n\t\t\t\tif (!b.params.breakpoints) return !1;\n\t\t\t\tvar e, a = !1,\n\t\t\t\t\tt = [];\n\t\t\t\tfor (e in b.params.breakpoints) b.params.breakpoints.hasOwnProperty(e) && t.push(e);\n\t\t\t\tt.sort(function(e, a) {\n\t\t\t\t\treturn parseInt(e, 10) > parseInt(a, 10)\n\t\t\t\t});\n\t\t\t\tfor (var r = 0; r < t.length; r++) e = t[r], e >= window.innerWidth && !a && (a = e);\n\t\t\t\treturn a || \"max\"\n\t\t\t}, b.setBreakpoint = function() {\n\t\t\t\tvar e = b.getActiveBreakpoint();\n\t\t\t\tif (e && b.currentBreakpoint !== e) {\n\t\t\t\t\tvar a = e in b.params.breakpoints ? b.params.breakpoints[e] : b.originalParams,\n\t\t\t\t\t\tt = b.params.loop && a.slidesPerView !== b.params.slidesPerView;\n\t\t\t\t\tfor (var r in a) b.params[r] = a[r];\n\t\t\t\t\tb.currentBreakpoint = e, t && b.destroyLoop && b.reLoop(!0)\n\t\t\t\t}\n\t\t\t}, b.params.breakpoints && b.setBreakpoint(), b.container = a(e), 0 !== b.container.length)) {\n\t\t\tif (b.container.length > 1) {\n\t\t\t\tvar x = [];\n\t\t\t\treturn b.container.each(function() {\n\t\t\t\t\tx.push(new t(this, i))\n\t\t\t\t}), x\n\t\t\t}\n\t\t\tb.container[0].swiper = b, b.container.data(\"swiper\", b), b.classNames.push(\"swiper-container-\" + b.params.direction), b.params.freeMode && b.classNames.push(\"swiper-container-free-mode\"), b.support.flexbox || (b.classNames.push(\"swiper-container-no-flexbox\"), b.params.slidesPerColumn = 1), b.params.autoHeight && b.classNames.push(\"swiper-container-autoheight\"), (b.params.parallax || b.params.watchSlidesVisibility) && (b.params.watchSlidesProgress = !0), [\"cube\", \"coverflow\", \"flip\"].indexOf(b.params.effect) >= 0 && (b.support.transforms3d ? (b.params.watchSlidesProgress = !0, b.classNames.push(\"swiper-container-3d\")) : b.params.effect = \"slide\"), \"slide\" !== b.params.effect && b.classNames.push(\"swiper-container-\" + b.params.effect), \"cube\" === b.params.effect && (b.params.resistanceRatio = 0, b.params.slidesPerView = 1, b.params.slidesPerColumn = 1, b.params.slidesPerGroup = 1, b.params.centeredSlides = !1, b.params.spaceBetween = 0, b.params.virtualTranslate = !0, b.params.setWrapperSize = !1), (\"fade\" === b.params.effect || \"flip\" === b.params.effect) && (b.params.slidesPerView = 1, b.params.slidesPerColumn = 1, b.params.slidesPerGroup = 1, b.params.watchSlidesProgress = !0, b.params.spaceBetween = 0, b.params.setWrapperSize = !1, \"undefined\" == typeof h && (b.params.virtualTranslate = !0)), b.params.grabCursor && b.support.touch && (b.params.grabCursor = !1), b.wrapper = b.container.children(\".\" + b.params.wrapperClass), b.params.pagination && (b.paginationContainer = a(b.params.pagination), b.params.uniqueNavElements && \"string\" == typeof b.params.pagination && b.paginationContainer.length > 1 && 1 === b.container.find(b.params.pagination).length && (b.paginationContainer = b.container.find(b.params.pagination)), \"bullets\" === b.params.paginationType && b.params.paginationClickable ? b.paginationContainer.addClass(\"swiper-pagination-clickable\") : b.params.paginationClickable = !1, b.paginationContainer.addClass(\"swiper-pagination-\" + b.params.paginationType)), (b.params.nextButton || b.params.prevButton) && (b.params.nextButton && (b.nextButton = a(b.params.nextButton), b.params.uniqueNavElements && \"string\" == typeof b.params.nextButton && b.nextButton.length > 1 && 1 === b.container.find(b.params.nextButton).length && (b.nextButton = b.container.find(b.params.nextButton))), b.params.prevButton && (b.prevButton = a(b.params.prevButton), b.params.uniqueNavElements && \"string\" == typeof b.params.prevButton && b.prevButton.length > 1 && 1 === b.container.find(b.params.prevButton).length && (b.prevButton = b.container.find(b.params.prevButton)))), b.isHorizontal = function() {\n\t\t\t\treturn \"horizontal\" === b.params.direction\n\t\t\t}, b.rtl = b.isHorizontal() && (\"rtl\" === b.container[0].dir.toLowerCase() || \"rtl\" === b.container.css(\"direction\")), b.rtl && b.classNames.push(\"swiper-container-rtl\"), b.rtl && (b.wrongRTL = \"-webkit-box\" === b.wrapper.css(\"display\")), b.params.slidesPerColumn > 1 && b.classNames.push(\"swiper-container-multirow\"), b.device.android && b.classNames.push(\"swiper-container-android\"), b.container.addClass(b.classNames.join(\" \")), b.translate = 0, b.progress = 0, b.velocity = 0, b.lockSwipeToNext = function() {\n\t\t\t\tb.params.allowSwipeToNext = !1\n\t\t\t}, b.lockSwipeToPrev = function() {\n\t\t\t\tb.params.allowSwipeToPrev = !1\n\t\t\t}, b.lockSwipes = function() {\n\t\t\t\tb.params.allowSwipeToNext = b.params.allowSwipeToPrev = !1\n\t\t\t}, b.unlockSwipeToNext = function() {\n\t\t\t\tb.params.allowSwipeToNext = !0\n\t\t\t}, b.unlockSwipeToPrev = function() {\n\t\t\t\tb.params.allowSwipeToPrev = !0\n\t\t\t}, b.unlockSwipes = function() {\n\t\t\t\tb.params.allowSwipeToNext = b.params.allowSwipeToPrev = !0\n\t\t\t}, b.params.grabCursor && (b.container[0].style.cursor = \"move\", b.container[0].style.cursor = \"-webkit-grab\", b.container[0].style.cursor = \"-moz-grab\", b.container[0].style.cursor = \"grab\"), b.imagesToLoad = [], b.imagesLoaded = 0, b.loadImage = function(e, a, t, r, i) {\n\t\t\t\tfunction s() {\n\t\t\t\t\ti && i()\n\t\t\t\t}\n\t\t\t\tvar n;\n\t\t\t\te.complete && r ? s() : a ? (n = new window.Image, n.onload = s, n.onerror = s, t && (n.srcset = t), a && (n.src = a)) : s()\n\t\t\t}, b.preloadImages = function() {\n\t\t\t\tfunction e() {\n\t\t\t\t\t\"undefined\" != typeof b && null !== b && (void 0 !== b.imagesLoaded && b.imagesLoaded++, b.imagesLoaded === b.imagesToLoad.length && (b.params.updateOnImagesReady && b.update(), b.emit(\"onImagesReady\", b)))\n\t\t\t\t}\n\t\t\t\tb.imagesToLoad = b.container.find(\"img\");\n\t\t\t\tfor (var a = 0; a < b.imagesToLoad.length; a++) b.loadImage(b.imagesToLoad[a], b.imagesToLoad[a].currentSrc || b.imagesToLoad[a].getAttribute(\"src\"), b.imagesToLoad[a].srcset || b.imagesToLoad[a].getAttribute(\"srcset\"), !0, e)\n\t\t\t}, b.autoplayTimeoutId = void 0, b.autoplaying = !1, b.autoplayPaused = !1, b.startAutoplay = function() {\n\t\t\t\treturn \"undefined\" != typeof b.autoplayTimeoutId ? !1 : b.params.autoplay ? b.autoplaying ? !1 : (b.autoplaying = !0, b.emit(\"onAutoplayStart\", b), void n()) : !1\n\t\t\t}, b.stopAutoplay = function(e) {\n\t\t\t\tb.autoplayTimeoutId && (b.autoplayTimeoutId && clearTimeout(b.autoplayTimeoutId), b.autoplaying = !1, b.autoplayTimeoutId = void 0, b.emit(\"onAutoplayStop\", b))\n\t\t\t}, b.pauseAutoplay = function(e) {\n\t\t\t\tb.autoplayPaused || (b.autoplayTimeoutId && clearTimeout(b.autoplayTimeoutId), b.autoplayPaused = !0, 0 === e ? (b.autoplayPaused = !1, n()) : b.wrapper.transitionEnd(function() {\n\t\t\t\t\tb && (b.autoplayPaused = !1, b.autoplaying ? n() : b.stopAutoplay())\n\t\t\t\t}))\n\t\t\t}, b.minTranslate = function() {\n\t\t\t\treturn -b.snapGrid[0]\n\t\t\t}, b.maxTranslate = function() {\n\t\t\t\treturn -b.snapGrid[b.snapGrid.length - 1]\n\t\t\t}, b.updateAutoHeight = function() {\n\t\t\t\tvar e = b.slides.eq(b.activeIndex)[0];\n\t\t\t\tif (\"undefined\" != typeof e) {\n\t\t\t\t\tvar a = e.offsetHeight;\n\t\t\t\t\ta && b.wrapper.css(\"height\", a + \"px\")\n\t\t\t\t}\n\t\t\t}, b.updateContainerSize = function() {\n\t\t\t\tvar e, a;\n\t\t\t\te = \"undefined\" != typeof b.params.width ? b.params.width : b.container[0].clientWidth, a = \"undefined\" != typeof b.params.height ? b.params.height : b.container[0].clientHeight, 0 === e && b.isHorizontal() || 0 === a && !b.isHorizontal() || (e = e - parseInt(b.container.css(\"padding-left\"), 10) - parseInt(b.container.css(\"padding-right\"), 10), a = a - parseInt(b.container.css(\"padding-top\"), 10) - parseInt(b.container.css(\"padding-bottom\"), 10), b.width = e, b.height = a, b.size = b.isHorizontal() ? b.width : b.height)\n\t\t\t}, b.updateSlidesSize = function() {\n\t\t\t\tb.slides = b.wrapper.children(\".\" + b.params.slideClass), b.snapGrid = [], b.slidesGrid = [], b.slidesSizesGrid = [];\n\t\t\t\tvar e, a = b.params.spaceBetween,\n\t\t\t\t\tt = -b.params.slidesOffsetBefore,\n\t\t\t\t\tr = 0,\n\t\t\t\t\ti = 0;\n\t\t\t\tif (\"undefined\" != typeof b.size) {\n\t\t\t\t\t\"string\" == typeof a && a.indexOf(\"%\") >= 0 && (a = parseFloat(a.replace(\"%\", \"\")) / 100 * b.size), b.virtualSize = -a, b.rtl ? b.slides.css({\n\t\t\t\t\t\tmarginLeft: \"\",\n\t\t\t\t\t\tmarginTop: \"\"\n\t\t\t\t\t}) : b.slides.css({\n\t\t\t\t\t\tmarginRight: \"\",\n\t\t\t\t\t\tmarginBottom: \"\"\n\t\t\t\t\t});\n\t\t\t\t\tvar n;\n\t\t\t\t\tb.params.slidesPerColumn > 1 && (n = Math.floor(b.slides.length / b.params.slidesPerColumn) === b.slides.length / b.params.slidesPerColumn ? b.slides.length : Math.ceil(b.slides.length / b.params.slidesPerColumn) * b.params.slidesPerColumn, \"auto\" !== b.params.slidesPerView && \"row\" === b.params.slidesPerColumnFill && (n = Math.max(n, b.params.slidesPerView * b.params.slidesPerColumn)));\n\t\t\t\t\tvar o, l = b.params.slidesPerColumn,\n\t\t\t\t\t\tp = n / l,\n\t\t\t\t\t\td = p - (b.params.slidesPerColumn * p - b.slides.length);\n\t\t\t\t\tfor (e = 0; e < b.slides.length; e++) {\n\t\t\t\t\t\to = 0;\n\t\t\t\t\t\tvar u = b.slides.eq(e);\n\t\t\t\t\t\tif (b.params.slidesPerColumn > 1) {\n\t\t\t\t\t\t\tvar c, m, h;\n\t\t\t\t\t\t\t\"column\" === b.params.slidesPerColumnFill ? (m = Math.floor(e / l), h = e - m * l, (m > d || m === d && h === l - 1) && ++h >= l && (h = 0, m++), c = m + h * n / l, u.css({\n\t\t\t\t\t\t\t\t\"-webkit-box-ordinal-group\": c,\n\t\t\t\t\t\t\t\t\"-moz-box-ordinal-group\": c,\n\t\t\t\t\t\t\t\t\"-ms-flex-order\": c,\n\t\t\t\t\t\t\t\t\"-webkit-order\": c,\n\t\t\t\t\t\t\t\torder: c\n\t\t\t\t\t\t\t})) : (h = Math.floor(e / p), m = e - h * p), u.css({\n\t\t\t\t\t\t\t\t\"margin-top\": 0 !== h && b.params.spaceBetween && b.params.spaceBetween + \"px\"\n\t\t\t\t\t\t\t}).attr(\"data-swiper-column\", m).attr(\"data-swiper-row\", h)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\"none\" !== u.css(\"display\") && (\"auto\" === b.params.slidesPerView ? (o = b.isHorizontal() ? u.outerWidth(!0) : u.outerHeight(!0), b.params.roundLengths && (o = s(o))) : (o = (b.size - (b.params.slidesPerView - 1) * a) / b.params.slidesPerView, b.params.roundLengths && (o = s(o)), b.isHorizontal() ? b.slides[e].style.width = o + \"px\" : b.slides[e].style.height = o + \"px\"), b.slides[e].swiperSlideSize = o, b.slidesSizesGrid.push(o), b.params.centeredSlides ? (t = t + o / 2 + r / 2 + a, 0 === e && (t = t - b.size / 2 - a), Math.abs(t) < .001 && (t = 0), i % b.params.slidesPerGroup === 0 && b.snapGrid.push(t), b.slidesGrid.push(t)) : (i % b.params.slidesPerGroup === 0 && b.snapGrid.push(t), b.slidesGrid.push(t), t = t + o + a), b.virtualSize += o + a, r = o, i++)\n\t\t\t\t\t}\n\t\t\t\t\tb.virtualSize = Math.max(b.virtualSize, b.size) + b.params.slidesOffsetAfter;\n\t\t\t\t\tvar f;\n\t\t\t\t\tif (b.rtl && b.wrongRTL && (\"slide\" === b.params.effect || \"coverflow\" === b.params.effect) && b.wrapper.css({\n\t\t\t\t\t\t\twidth: b.virtualSize + b.params.spaceBetween + \"px\"\n\t\t\t\t\t\t}), (!b.support.flexbox || b.params.setWrapperSize) && (b.isHorizontal() ? b.wrapper.css({\n\t\t\t\t\t\t\twidth: b.virtualSize + b.params.spaceBetween + \"px\"\n\t\t\t\t\t\t}) : b.wrapper.css({\n\t\t\t\t\t\t\theight: b.virtualSize + b.params.spaceBetween + \"px\"\n\t\t\t\t\t\t})), b.params.slidesPerColumn > 1 && (b.virtualSize = (o + b.params.spaceBetween) * n, b.virtualSize = Math.ceil(b.virtualSize / b.params.slidesPerColumn) - b.params.spaceBetween, b.wrapper.css({\n\t\t\t\t\t\t\twidth: b.virtualSize + b.params.spaceBetween + \"px\"\n\t\t\t\t\t\t}), b.params.centeredSlides)) {\n\t\t\t\t\t\tfor (f = [], e = 0; e < b.snapGrid.length; e++) b.snapGrid[e] < b.virtualSize + b.snapGrid[0] && f.push(b.snapGrid[e]);\n\t\t\t\t\t\tb.snapGrid = f\n\t\t\t\t\t}\n\t\t\t\t\tif (!b.params.centeredSlides) {\n\t\t\t\t\t\tfor (f = [], e = 0; e < b.snapGrid.length; e++) b.snapGrid[e] <= b.virtualSize - b.size && f.push(b.snapGrid[e]);\n\t\t\t\t\t\tb.snapGrid = f, Math.floor(b.virtualSize - b.size) - Math.floor(b.snapGrid[b.snapGrid.length - 1]) > 1 && b.snapGrid.push(b.virtualSize - b.size)\n\t\t\t\t\t}\n\t\t\t\t\t0 === b.snapGrid.length && (b.snapGrid = [0]), 0 !== b.params.spaceBetween && (b.isHorizontal() ? b.rtl ? b.slides.css({\n\t\t\t\t\t\tmarginLeft: a + \"px\"\n\t\t\t\t\t}) : b.slides.css({\n\t\t\t\t\t\tmarginRight: a + \"px\"\n\t\t\t\t\t}) : b.slides.css({\n\t\t\t\t\t\tmarginBottom: a + \"px\"\n\t\t\t\t\t})), b.params.watchSlidesProgress && b.updateSlidesOffset()\n\t\t\t\t}\n\t\t\t}, b.updateSlidesOffset = function() {\n\t\t\t\tfor (var e = 0; e < b.slides.length; e++) b.slides[e].swiperSlideOffset = b.isHorizontal() ? b.slides[e].offsetLeft : b.slides[e].offsetTop\n\t\t\t}, b.updateSlidesProgress = function(e) {\n\t\t\t\tif (\"undefined\" == typeof e && (e = b.translate || 0), 0 !== b.slides.length) {\n\t\t\t\t\t\"undefined\" == typeof b.slides[0].swiperSlideOffset && b.updateSlidesOffset();\n\t\t\t\t\tvar a = -e;\n\t\t\t\t\tb.rtl && (a = e), b.slides.removeClass(b.params.slideVisibleClass);\n\t\t\t\t\tfor (var t = 0; t < b.slides.length; t++) {\n\t\t\t\t\t\tvar r = b.slides[t],\n\t\t\t\t\t\t\ti = (a - r.swiperSlideOffset) / (r.swiperSlideSize + b.params.spaceBetween);\n\t\t\t\t\t\tif (b.params.watchSlidesVisibility) {\n\t\t\t\t\t\t\tvar s = -(a - r.swiperSlideOffset),\n\t\t\t\t\t\t\t\tn = s + b.slidesSizesGrid[t],\n\t\t\t\t\t\t\t\to = s >= 0 && s < b.size || n > 0 && n <= b.size || 0 >= s && n >= b.size;\n\t\t\t\t\t\t\to && b.slides.eq(t).addClass(b.params.slideVisibleClass)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tr.progress = b.rtl ? -i : i\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, b.updateProgress = function(e) {\n\t\t\t\t\"undefined\" == typeof e && (e = b.translate || 0);\n\t\t\t\tvar a = b.maxTranslate() - b.minTranslate(),\n\t\t\t\t\tt = b.isBeginning,\n\t\t\t\t\tr = b.isEnd;\n\t\t\t\t0 === a ? (b.progress = 0, b.isBeginning = b.isEnd = !0) : (b.progress = (e - b.minTranslate()) / a, b.isBeginning = b.progress <= 0, b.isEnd = b.progress >= 1), b.isBeginning && !t && b.emit(\"onReachBeginning\", b), b.isEnd && !r && b.emit(\"onReachEnd\", b), b.params.watchSlidesProgress && b.updateSlidesProgress(e), b.emit(\"onProgress\", b, b.progress)\n\t\t\t}, b.updateActiveIndex = function() {\n\t\t\t\tvar e, a, t, r = b.rtl ? b.translate : -b.translate;\n\t\t\t\tfor (a = 0; a < b.slidesGrid.length; a++) \"undefined\" != typeof b.slidesGrid[a + 1] ? r >= b.slidesGrid[a] && r < b.slidesGrid[a + 1] - (b.slidesGrid[a + 1] - b.slidesGrid[a]) / 2 ? e = a : r >= b.slidesGrid[a] && r < b.slidesGrid[a + 1] && (e = a + 1) : r >= b.slidesGrid[a] && (e = a);\n\t\t\t\t(0 > e || \"undefined\" == typeof e) && (e = 0), t = Math.floor(e / b.params.slidesPerGroup), t >= b.snapGrid.length && (t = b.snapGrid.length - 1), e !== b.activeIndex && (b.snapIndex = t, b.previousIndex = b.activeIndex, b.activeIndex = e, b.updateClasses())\n\t\t\t}, b.updateClasses = function() {\n\t\t\t\tb.slides.removeClass(b.params.slideActiveClass + \" \" + b.params.slideNextClass + \" \" + b.params.slidePrevClass);\n\t\t\t\tvar e = b.slides.eq(b.activeIndex);\n\t\t\t\te.addClass(b.params.slideActiveClass);\n\t\t\t\tvar t = e.next(\".\" + b.params.slideClass).addClass(b.params.slideNextClass);\n\t\t\t\tb.params.loop && 0 === t.length && b.slides.eq(0).addClass(b.params.slideNextClass);\n\t\t\t\tvar r = e.prev(\".\" + b.params.slideClass).addClass(b.params.slidePrevClass);\n\t\t\t\tif (b.params.loop && 0 === r.length && b.slides.eq(-1).addClass(b.params.slidePrevClass), b.paginationContainer && b.paginationContainer.length > 0) {\n\t\t\t\t\tvar i, s = b.params.loop ? Math.ceil((b.slides.length - 2 * b.loopedSlides) / b.params.slidesPerGroup) : b.snapGrid.length;\n\t\t\t\t\tif (b.params.loop ? (i = Math.ceil((b.activeIndex - b.loopedSlides) / b.params.slidesPerGroup), i > b.slides.length - 1 - 2 * b.loopedSlides && (i -= b.slides.length - 2 * b.loopedSlides), i > s - 1 && (i -= s), 0 > i && \"bullets\" !== b.params.paginationType && (i = s + i)) : i = \"undefined\" != typeof b.snapIndex ? b.snapIndex : b.activeIndex || 0, \"bullets\" === b.params.paginationType && b.bullets && b.bullets.length > 0 && (b.bullets.removeClass(b.params.bulletActiveClass), b.paginationContainer.length > 1 ? b.bullets.each(function() {\n\t\t\t\t\t\t\ta(this).index() === i && a(this).addClass(b.params.bulletActiveClass)\n\t\t\t\t\t\t}) : b.bullets.eq(i).addClass(b.params.bulletActiveClass)), \"fraction\" === b.params.paginationType && (b.paginationContainer.find(\".\" + b.params.paginationCurrentClass).text(i + 1), b.paginationContainer.find(\".\" + b.params.paginationTotalClass).text(s)), \"progress\" === b.params.paginationType) {\n\t\t\t\t\t\tvar n = (i + 1) / s,\n\t\t\t\t\t\t\to = n,\n\t\t\t\t\t\t\tl = 1;\n\t\t\t\t\t\tb.isHorizontal() || (l = n, o = 1), b.paginationContainer.find(\".\" + b.params.paginationProgressbarClass).transform(\"translate3d(0,0,0) scaleX(\" + o + \") scaleY(\" + l + \")\").transition(b.params.speed)\n\t\t\t\t\t}\n\t\t\t\t\t\"custom\" === b.params.paginationType && b.params.paginationCustomRender && (b.paginationContainer.html(b.params.paginationCustomRender(b, i + 1, s)), b.emit(\"onPaginationRendered\", b, b.paginationContainer[0]))\n\t\t\t\t}\n\t\t\t\tb.params.loop || (b.params.prevButton && b.prevButton && b.prevButton.length > 0 && (b.isBeginning ? (b.prevButton.addClass(b.params.buttonDisabledClass), b.params.a11y && b.a11y && b.a11y.disable(b.prevButton)) : (b.prevButton.removeClass(b.params.buttonDisabledClass), b.params.a11y && b.a11y && b.a11y.enable(b.prevButton))), b.params.nextButton && b.nextButton && b.nextButton.length > 0 && (b.isEnd ? (b.nextButton.addClass(b.params.buttonDisabledClass), b.params.a11y && b.a11y && b.a11y.disable(b.nextButton)) : (b.nextButton.removeClass(b.params.buttonDisabledClass), b.params.a11y && b.a11y && b.a11y.enable(b.nextButton))))\n\t\t\t}, b.updatePagination = function() {\n\t\t\t\tif (b.params.pagination && b.paginationContainer && b.paginationContainer.length > 0) {\n\t\t\t\t\tvar e = \"\";\n\t\t\t\t\tif (\"bullets\" === b.params.paginationType) {\n\t\t\t\t\t\tfor (var a = b.params.loop ? Math.ceil((b.slides.length - 2 * b.loopedSlides) / b.params.slidesPerGroup) : b.snapGrid.length, t = 0; a > t; t++) e += b.params.paginationBulletRender ? b.params.paginationBulletRender(t, b.params.bulletClass) : \"<\" + b.params.paginationElement + ' class=\"' + b.params.bulletClass + '\"></' + b.params.paginationElement + \">\";\n\t\t\t\t\t\tb.paginationContainer.html(e), b.bullets = b.paginationContainer.find(\".\" + b.params.bulletClass), b.params.paginationClickable && b.params.a11y && b.a11y && b.a11y.initPagination()\n\t\t\t\t\t}\n\t\t\t\t\t\"fraction\" === b.params.paginationType && (e = b.params.paginationFractionRender ? b.params.paginationFractionRender(b, b.params.paginationCurrentClass, b.params.paginationTotalClass) : '<span class=\"' + b.params.paginationCurrentClass + '\"></span> / <span class=\"' + b.params.paginationTotalClass + '\"></span>', b.paginationContainer.html(e)), \"progress\" === b.params.paginationType && (e = b.params.paginationProgressRender ? b.params.paginationProgressRender(b, b.params.paginationProgressbarClass) : '<span class=\"' + b.params.paginationProgressbarClass + '\"></span>', b.paginationContainer.html(e)), \"custom\" !== b.params.paginationType && b.emit(\"onPaginationRendered\", b, b.paginationContainer[0])\n\t\t\t\t}\n\t\t\t}, b.update = function(e) {\n\t\t\t\tfunction a() {\n\t\t\t\t\tr = Math.min(Math.max(b.translate, b.maxTranslate()), b.minTranslate()), b.setWrapperTranslate(r), b.updateActiveIndex(), b.updateClasses()\n\t\t\t\t}\n\t\t\t\tif (b.updateContainerSize(), b.updateSlidesSize(), b.updateProgress(), b.updatePagination(), b.updateClasses(), b.params.scrollbar && b.scrollbar && b.scrollbar.set(), e) {\n\t\t\t\t\tvar t, r;\n\t\t\t\t\tb.controller && b.controller.spline && (b.controller.spline = void 0), b.params.freeMode ? (a(), b.params.autoHeight && b.updateAutoHeight()) : (t = (\"auto\" === b.params.slidesPerView || b.params.slidesPerView > 1) && b.isEnd && !b.params.centeredSlides ? b.slideTo(b.slides.length - 1, 0, !1, !0) : b.slideTo(b.activeIndex, 0, !1, !0), t || a())\n\t\t\t\t} else b.params.autoHeight && b.updateAutoHeight()\n\t\t\t}, b.onResize = function(e) {\n\t\t\t\tb.params.breakpoints && b.setBreakpoint();\n\t\t\t\tvar a = b.params.allowSwipeToPrev,\n\t\t\t\t\tt = b.params.allowSwipeToNext;\n\t\t\t\tb.params.allowSwipeToPrev = b.params.allowSwipeToNext = !0, b.updateContainerSize(), b.updateSlidesSize(), (\"auto\" === b.params.slidesPerView || b.params.freeMode || e) && b.updatePagination(), b.params.scrollbar && b.scrollbar && b.scrollbar.set(), b.controller && b.controller.spline && (b.controller.spline = void 0);\n\t\t\t\tvar r = !1;\n\t\t\t\tif (b.params.freeMode) {\n\t\t\t\t\tvar i = Math.min(Math.max(b.translate, b.maxTranslate()), b.minTranslate());\n\t\t\t\t\tb.setWrapperTranslate(i), b.updateActiveIndex(), b.updateClasses(), b.params.autoHeight && b.updateAutoHeight()\n\t\t\t\t} else b.updateClasses(), r = (\"auto\" === b.params.slidesPerView || b.params.slidesPerView > 1) && b.isEnd && !b.params.centeredSlides ? b.slideTo(b.slides.length - 1, 0, !1, !0) : b.slideTo(b.activeIndex, 0, !1, !0);\n\t\t\t\tb.params.lazyLoading && !r && b.lazy && b.lazy.load(), b.params.allowSwipeToPrev = a, b.params.allowSwipeToNext = t\n\t\t\t};\n\t\t\tvar T = [\"mousedown\", \"mousemove\", \"mouseup\"];\n\t\t\twindow.navigator.pointerEnabled ? T = [\"pointerdown\", \"pointermove\", \"pointerup\"] : window.navigator.msPointerEnabled && (T = [\"MSPointerDown\", \"MSPointerMove\", \"MSPointerUp\"]), b.touchEvents = {\n\t\t\t\tstart: b.support.touch || !b.params.simulateTouch ? \"touchstart\" : T[0],\n\t\t\t\tmove: b.support.touch || !b.params.simulateTouch ? \"touchmove\" : T[1],\n\t\t\t\tend: b.support.touch || !b.params.simulateTouch ? \"touchend\" : T[2]\n\t\t\t}, (window.navigator.pointerEnabled || window.navigator.msPointerEnabled) && (\"container\" === b.params.touchEventsTarget ? b.container : b.wrapper).addClass(\"swiper-wp8-\" + b.params.direction), b.initEvents = function(e) {\n\t\t\t\tvar a = e ? \"off\" : \"on\",\n\t\t\t\t\tt = e ? \"removeEventListener\" : \"addEventListener\",\n\t\t\t\t\tr = \"container\" === b.params.touchEventsTarget ? b.container[0] : b.wrapper[0],\n\t\t\t\t\ts = b.support.touch ? r : document,\n\t\t\t\t\tn = b.params.nested ? !0 : !1;\n\t\t\t\tb.browser.ie ? (r[t](b.touchEvents.start, b.onTouchStart, !1), s[t](b.touchEvents.move, b.onTouchMove, n), s[t](b.touchEvents.end, b.onTouchEnd, !1)) : (b.support.touch && (r[t](b.touchEvents.start, b.onTouchStart, !1), r[t](b.touchEvents.move, b.onTouchMove, n), r[t](b.touchEvents.end, b.onTouchEnd, !1)), !i.simulateTouch || b.device.ios || b.device.android || (r[t](\"mousedown\", b.onTouchStart, !1), document[t](\"mousemove\", b.onTouchMove, n), document[t](\"mouseup\", b.onTouchEnd, !1))), window[t](\"resize\", b.onResize), b.params.nextButton && b.nextButton && b.nextButton.length > 0 && (b.nextButton[a](\"click\", b.onClickNext), b.params.a11y && b.a11y && b.nextButton[a](\"keydown\", b.a11y.onEnterKey)), b.params.prevButton && b.prevButton && b.prevButton.length > 0 && (b.prevButton[a](\"click\", b.onClickPrev), b.params.a11y && b.a11y && b.prevButton[a](\"keydown\", b.a11y.onEnterKey)), b.params.pagination && b.params.paginationClickable && (b.paginationContainer[a](\"click\", \".\" + b.params.bulletClass, b.onClickIndex), b.params.a11y && b.a11y && b.paginationContainer[a](\"keydown\", \".\" + b.params.bulletClass, b.a11y.onEnterKey)), (b.params.preventClicks || b.params.preventClicksPropagation) && r[t](\"click\", b.preventClicks, !0)\n\t\t\t}, b.attachEvents = function() {\n\t\t\t\tb.initEvents()\n\t\t\t}, b.detachEvents = function() {\n\t\t\t\tb.initEvents(!0)\n\t\t\t}, b.allowClick = !0, b.preventClicks = function(e) {\n\t\t\t\tb.allowClick || (b.params.preventClicks && e.preventDefault(), b.params.preventClicksPropagation && b.animating && (e.stopPropagation(), e.stopImmediatePropagation()))\n\t\t\t}, b.onClickNext = function(e) {\n\t\t\t\te.preventDefault(), (!b.isEnd || b.params.loop) && b.slideNext()\n\t\t\t}, b.onClickPrev = function(e) {\n\t\t\t\te.preventDefault(), (!b.isBeginning || b.params.loop) && b.slidePrev()\n\t\t\t}, b.onClickIndex = function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar t = a(this).index() * b.params.slidesPerGroup;\n\t\t\t\tb.params.loop && (t += b.loopedSlides), b.slideTo(t)\n\t\t\t}, b.updateClickedSlide = function(e) {\n\t\t\t\tvar t = o(e, \".\" + b.params.slideClass),\n\t\t\t\t\tr = !1;\n\t\t\t\tif (t)\n\t\t\t\t\tfor (var i = 0; i < b.slides.length; i++) b.slides[i] === t && (r = !0);\n\t\t\t\tif (!t || !r) return b.clickedSlide = void 0, void(b.clickedIndex = void 0);\n\t\t\t\tif (b.clickedSlide = t, b.clickedIndex = a(t).index(), b.params.slideToClickedSlide && void 0 !== b.clickedIndex && b.clickedIndex !== b.activeIndex) {\n\t\t\t\t\tvar s, n = b.clickedIndex;\n\t\t\t\t\tif (b.params.loop) {\n\t\t\t\t\t\tif (b.animating) return;\n\t\t\t\t\t\ts = a(b.clickedSlide).attr(\"data-swiper-slide-index\"), b.params.centeredSlides ? n < b.loopedSlides - b.params.slidesPerView / 2 || n > b.slides.length - b.loopedSlides + b.params.slidesPerView / 2 ? (b.fixLoop(), n = b.wrapper.children(\".\" + b.params.slideClass + '[data-swiper-slide-index=\"' + s + '\"]:not(.swiper-slide-duplicate)').eq(0).index(), setTimeout(function() {\n\t\t\t\t\t\t\tb.slideTo(n)\n\t\t\t\t\t\t}, 0)) : b.slideTo(n) : n > b.slides.length - b.params.slidesPerView ? (b.fixLoop(), n = b.wrapper.children(\".\" + b.params.slideClass + '[data-swiper-slide-index=\"' + s + '\"]:not(.swiper-slide-duplicate)').eq(0).index(), setTimeout(function() {\n\t\t\t\t\t\t\tb.slideTo(n)\n\t\t\t\t\t\t}, 0)) : b.slideTo(n)\n\t\t\t\t\t} else b.slideTo(n)\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar S, C, z, M, E, P, k, I, L, B, D = \"input, select, textarea, button\",\n\t\t\t\tH = Date.now(),\n\t\t\t\tA = [];\n\t\t\tb.animating = !1, b.touches = {\n\t\t\t\tstartX: 0,\n\t\t\t\tstartY: 0,\n\t\t\t\tcurrentX: 0,\n\t\t\t\tcurrentY: 0,\n\t\t\t\tdiff: 0\n\t\t\t};\n\t\t\tvar G, O;\n\t\t\tif (b.onTouchStart = function(e) {\n\t\t\t\t\tif (e.originalEvent && (e = e.originalEvent), G = \"touchstart\" === e.type, G || !(\"which\" in e) || 3 !== e.which) {\n\t\t\t\t\t\tif (b.params.noSwiping && o(e, \".\" + b.params.noSwipingClass)) return void(b.allowClick = !0);\n\t\t\t\t\t\tif (!b.params.swipeHandler || o(e, b.params.swipeHandler)) {\n\t\t\t\t\t\t\tvar t = b.touches.currentX = \"touchstart\" === e.type ? e.targetTouches[0].pageX : e.pageX,\n\t\t\t\t\t\t\t\tr = b.touches.currentY = \"touchstart\" === e.type ? e.targetTouches[0].pageY : e.pageY;\n\t\t\t\t\t\t\tif (!(b.device.ios && b.params.iOSEdgeSwipeDetection && t <= b.params.iOSEdgeSwipeThreshold)) {\n\t\t\t\t\t\t\t\tif (S = !0, C = !1, z = !0, E = void 0, O = void 0, b.touches.startX = t, b.touches.startY = r, M = Date.now(), b.allowClick = !0, b.updateContainerSize(), b.swipeDirection = void 0, b.params.threshold > 0 && (I = !1), \"touchstart\" !== e.type) {\n\t\t\t\t\t\t\t\t\tvar i = !0;\n\t\t\t\t\t\t\t\t\ta(e.target).is(D) && (i = !1), document.activeElement && a(document.activeElement).is(D) && document.activeElement.blur(), i && e.preventDefault()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tb.emit(\"onTouchStart\", b, e)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, b.onTouchMove = function(e) {\n\t\t\t\t\tif (e.originalEvent && (e = e.originalEvent), !G || \"mousemove\" !== e.type) {\n\t\t\t\t\t\tif (e.preventedByNestedSwiper) return b.touches.startX = \"touchmove\" === e.type ? e.targetTouches[0].pageX : e.pageX, void(b.touches.startY = \"touchmove\" === e.type ? e.targetTouches[0].pageY : e.pageY);\n\t\t\t\t\t\tif (b.params.onlyExternal) return b.allowClick = !1, void(S && (b.touches.startX = b.touches.currentX = \"touchmove\" === e.type ? e.targetTouches[0].pageX : e.pageX, b.touches.startY = b.touches.currentY = \"touchmove\" === e.type ? e.targetTouches[0].pageY : e.pageY, M = Date.now()));\n\t\t\t\t\t\tif (G && document.activeElement && e.target === document.activeElement && a(e.target).is(D)) return C = !0, void(b.allowClick = !1);\n\t\t\t\t\t\tif (z && b.emit(\"onTouchMove\", b, e), !(e.targetTouches && e.targetTouches.length > 1)) {\n\t\t\t\t\t\t\tif (b.touches.currentX = \"touchmove\" === e.type ? e.targetTouches[0].pageX : e.pageX, b.touches.currentY = \"touchmove\" === e.type ? e.targetTouches[0].pageY : e.pageY, \"undefined\" == typeof E) {\n\t\t\t\t\t\t\t\tvar t = 180 * Math.atan2(Math.abs(b.touches.currentY - b.touches.startY), Math.abs(b.touches.currentX - b.touches.startX)) / Math.PI;\n\t\t\t\t\t\t\t\tE = b.isHorizontal() ? t > b.params.touchAngle : 90 - t > b.params.touchAngle\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (E && b.emit(\"onTouchMoveOpposite\", b, e), \"undefined\" == typeof O && b.browser.ieTouch && (b.touches.currentX !== b.touches.startX || b.touches.currentY !== b.touches.startY) && (O = !0), S) {\n\t\t\t\t\t\t\t\tif (E) return void(S = !1);\n\t\t\t\t\t\t\t\tif (O || !b.browser.ieTouch) {\n\t\t\t\t\t\t\t\t\tb.allowClick = !1, b.emit(\"onSliderMove\", b, e), e.preventDefault(), b.params.touchMoveStopPropagation && !b.params.nested && e.stopPropagation(), C || (i.loop && b.fixLoop(), k = b.getWrapperTranslate(), b.setWrapperTransition(0), b.animating && b.wrapper.trigger(\"webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd\"), b.params.autoplay && b.autoplaying && (b.params.autoplayDisableOnInteraction ? b.stopAutoplay() : b.pauseAutoplay()), B = !1, b.params.grabCursor && (b.container[0].style.cursor = \"move\", b.container[0].style.cursor = \"-webkit-grabbing\", b.container[0].style.cursor = \"-moz-grabbin\", b.container[0].style.cursor = \"grabbing\")), C = !0;\n\t\t\t\t\t\t\t\t\tvar r = b.touches.diff = b.isHorizontal() ? b.touches.currentX - b.touches.startX : b.touches.currentY - b.touches.startY;\n\t\t\t\t\t\t\t\t\tr *= b.params.touchRatio, b.rtl && (r = -r), b.swipeDirection = r > 0 ? \"prev\" : \"next\", P = r + k;\n\t\t\t\t\t\t\t\t\tvar s = !0;\n\t\t\t\t\t\t\t\t\tif (r > 0 && P > b.minTranslate() ? (s = !1, b.params.resistance && (P = b.minTranslate() - 1 + Math.pow(-b.minTranslate() + k + r, b.params.resistanceRatio))) : 0 > r && P < b.maxTranslate() && (s = !1, b.params.resistance && (P = b.maxTranslate() + 1 - Math.pow(b.maxTranslate() - k - r, b.params.resistanceRatio))),\n\t\t\t\t\t\t\t\t\t\ts && (e.preventedByNestedSwiper = !0), !b.params.allowSwipeToNext && \"next\" === b.swipeDirection && k > P && (P = k), !b.params.allowSwipeToPrev && \"prev\" === b.swipeDirection && P > k && (P = k), b.params.followFinger) {\n\t\t\t\t\t\t\t\t\t\tif (b.params.threshold > 0) {\n\t\t\t\t\t\t\t\t\t\t\tif (!(Math.abs(r) > b.params.threshold || I)) return void(P = k);\n\t\t\t\t\t\t\t\t\t\t\tif (!I) return I = !0, b.touches.startX = b.touches.currentX, b.touches.startY = b.touches.currentY, P = k, void(b.touches.diff = b.isHorizontal() ? b.touches.currentX - b.touches.startX : b.touches.currentY - b.touches.startY)\n\t\t\t\t\t\t\t\t\t\t}(b.params.freeMode || b.params.watchSlidesProgress) && b.updateActiveIndex(), b.params.freeMode && (0 === A.length && A.push({\n\t\t\t\t\t\t\t\t\t\t\tposition: b.touches[b.isHorizontal() ? \"startX\" : \"startY\"],\n\t\t\t\t\t\t\t\t\t\t\ttime: M\n\t\t\t\t\t\t\t\t\t\t}), A.push({\n\t\t\t\t\t\t\t\t\t\t\tposition: b.touches[b.isHorizontal() ? \"currentX\" : \"currentY\"],\n\t\t\t\t\t\t\t\t\t\t\ttime: (new window.Date).getTime()\n\t\t\t\t\t\t\t\t\t\t})), b.updateProgress(P), b.setWrapperTranslate(P)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, b.onTouchEnd = function(e) {\n\t\t\t\t\tif (e.originalEvent && (e = e.originalEvent), z && b.emit(\"onTouchEnd\", b, e), z = !1, S) {\n\t\t\t\t\t\tb.params.grabCursor && C && S && (b.container[0].style.cursor = \"move\", b.container[0].style.cursor = \"-webkit-grab\", b.container[0].style.cursor = \"-moz-grab\", b.container[0].style.cursor = \"grab\");\n\t\t\t\t\t\tvar t = Date.now(),\n\t\t\t\t\t\t\tr = t - M;\n\t\t\t\t\t\tif (b.allowClick && (b.updateClickedSlide(e), b.emit(\"onTap\", b, e), 300 > r && t - H > 300 && (L && clearTimeout(L), L = setTimeout(function() {\n\t\t\t\t\t\t\t\tb && (b.params.paginationHide && b.paginationContainer.length > 0 && !a(e.target).hasClass(b.params.bulletClass) && b.paginationContainer.toggleClass(b.params.paginationHiddenClass), b.emit(\"onClick\", b, e))\n\t\t\t\t\t\t\t}, 300)), 300 > r && 300 > t - H && (L && clearTimeout(L), b.emit(\"onDoubleTap\", b, e))), H = Date.now(), setTimeout(function() {\n\t\t\t\t\t\t\t\tb && (b.allowClick = !0)\n\t\t\t\t\t\t\t}, 0), !S || !C || !b.swipeDirection || 0 === b.touches.diff || P === k) return void(S = C = !1);\n\t\t\t\t\t\tS = C = !1;\n\t\t\t\t\t\tvar i;\n\t\t\t\t\t\tif (i = b.params.followFinger ? b.rtl ? b.translate : -b.translate : -P, b.params.freeMode) {\n\t\t\t\t\t\t\tif (i < -b.minTranslate()) return void b.slideTo(b.activeIndex);\n\t\t\t\t\t\t\tif (i > -b.maxTranslate()) return void(b.slides.length < b.snapGrid.length ? b.slideTo(b.snapGrid.length - 1) : b.slideTo(b.slides.length - 1));\n\t\t\t\t\t\t\tif (b.params.freeModeMomentum) {\n\t\t\t\t\t\t\t\tif (A.length > 1) {\n\t\t\t\t\t\t\t\t\tvar s = A.pop(),\n\t\t\t\t\t\t\t\t\t\tn = A.pop(),\n\t\t\t\t\t\t\t\t\t\to = s.position - n.position,\n\t\t\t\t\t\t\t\t\t\tl = s.time - n.time;\n\t\t\t\t\t\t\t\t\tb.velocity = o / l, b.velocity = b.velocity / 2, Math.abs(b.velocity) < b.params.freeModeMinimumVelocity && (b.velocity = 0), (l > 150 || (new window.Date).getTime() - s.time > 300) && (b.velocity = 0)\n\t\t\t\t\t\t\t\t} else b.velocity = 0;\n\t\t\t\t\t\t\t\tA.length = 0;\n\t\t\t\t\t\t\t\tvar p = 1e3 * b.params.freeModeMomentumRatio,\n\t\t\t\t\t\t\t\t\td = b.velocity * p,\n\t\t\t\t\t\t\t\t\tu = b.translate + d;\n\t\t\t\t\t\t\t\tb.rtl && (u = -u);\n\t\t\t\t\t\t\t\tvar c, m = !1,\n\t\t\t\t\t\t\t\t\th = 20 * Math.abs(b.velocity) * b.params.freeModeMomentumBounceRatio;\n\t\t\t\t\t\t\t\tif (u < b.maxTranslate()) b.params.freeModeMomentumBounce ? (u + b.maxTranslate() < -h && (u = b.maxTranslate() - h), c = b.maxTranslate(), m = !0, B = !0) : u = b.maxTranslate();\n\t\t\t\t\t\t\t\telse if (u > b.minTranslate()) b.params.freeModeMomentumBounce ? (u - b.minTranslate() > h && (u = b.minTranslate() + h), c = b.minTranslate(), m = !0, B = !0) : u = b.minTranslate();\n\t\t\t\t\t\t\t\telse if (b.params.freeModeSticky) {\n\t\t\t\t\t\t\t\t\tvar f, g = 0;\n\t\t\t\t\t\t\t\t\tfor (g = 0; g < b.snapGrid.length; g += 1)\n\t\t\t\t\t\t\t\t\t\tif (b.snapGrid[g] > -u) {\n\t\t\t\t\t\t\t\t\t\t\tf = g;\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tu = Math.abs(b.snapGrid[f] - u) < Math.abs(b.snapGrid[f - 1] - u) || \"next\" === b.swipeDirection ? b.snapGrid[f] : b.snapGrid[f - 1], b.rtl || (u = -u)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (0 !== b.velocity) p = b.rtl ? Math.abs((-u - b.translate) / b.velocity) : Math.abs((u - b.translate) / b.velocity);\n\t\t\t\t\t\t\t\telse if (b.params.freeModeSticky) return void b.slideReset();\n\t\t\t\t\t\t\t\tb.params.freeModeMomentumBounce && m ? (b.updateProgress(c), b.setWrapperTransition(p), b.setWrapperTranslate(u), b.onTransitionStart(), b.animating = !0, b.wrapper.transitionEnd(function() {\n\t\t\t\t\t\t\t\t\tb && B && (b.emit(\"onMomentumBounce\", b), b.setWrapperTransition(b.params.speed), b.setWrapperTranslate(c), b.wrapper.transitionEnd(function() {\n\t\t\t\t\t\t\t\t\t\tb && b.onTransitionEnd()\n\t\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t})) : b.velocity ? (b.updateProgress(u), b.setWrapperTransition(p), b.setWrapperTranslate(u), b.onTransitionStart(), b.animating || (b.animating = !0, b.wrapper.transitionEnd(function() {\n\t\t\t\t\t\t\t\t\tb && b.onTransitionEnd()\n\t\t\t\t\t\t\t\t}))) : b.updateProgress(u), b.updateActiveIndex()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn void((!b.params.freeModeMomentum || r >= b.params.longSwipesMs) && (b.updateProgress(), b.updateActiveIndex()))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar v, w = 0,\n\t\t\t\t\t\t\ty = b.slidesSizesGrid[0];\n\t\t\t\t\t\tfor (v = 0; v < b.slidesGrid.length; v += b.params.slidesPerGroup) \"undefined\" != typeof b.slidesGrid[v + b.params.slidesPerGroup] ? i >= b.slidesGrid[v] && i < b.slidesGrid[v + b.params.slidesPerGroup] && (w = v, y = b.slidesGrid[v + b.params.slidesPerGroup] - b.slidesGrid[v]) : i >= b.slidesGrid[v] && (w = v, y = b.slidesGrid[b.slidesGrid.length - 1] - b.slidesGrid[b.slidesGrid.length - 2]);\n\t\t\t\t\t\tvar x = (i - b.slidesGrid[w]) / y;\n\t\t\t\t\t\tif (r > b.params.longSwipesMs) {\n\t\t\t\t\t\t\tif (!b.params.longSwipes) return void b.slideTo(b.activeIndex);\n\t\t\t\t\t\t\t\"next\" === b.swipeDirection && (x >= b.params.longSwipesRatio ? b.slideTo(w + b.params.slidesPerGroup) : b.slideTo(w)), \"prev\" === b.swipeDirection && (x > 1 - b.params.longSwipesRatio ? b.slideTo(w + b.params.slidesPerGroup) : b.slideTo(w))\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (!b.params.shortSwipes) return void b.slideTo(b.activeIndex);\n\t\t\t\t\t\t\t\"next\" === b.swipeDirection && b.slideTo(w + b.params.slidesPerGroup), \"prev\" === b.swipeDirection && b.slideTo(w)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, b._slideTo = function(e, a) {\n\t\t\t\t\treturn b.slideTo(e, a, !0, !0)\n\t\t\t\t}, b.slideTo = function(e, a, t, r) {\n\t\t\t\t\t\"undefined\" == typeof t && (t = !0), \"undefined\" == typeof e && (e = 0), 0 > e && (e = 0), b.snapIndex = Math.floor(e / b.params.slidesPerGroup), b.snapIndex >= b.snapGrid.length && (b.snapIndex = b.snapGrid.length - 1);\n\t\t\t\t\tvar i = -b.snapGrid[b.snapIndex];\n\t\t\t\t\tb.params.autoplay && b.autoplaying && (r || !b.params.autoplayDisableOnInteraction ? b.pauseAutoplay(a) : b.stopAutoplay()), b.updateProgress(i);\n\t\t\t\t\tfor (var s = 0; s < b.slidesGrid.length; s++) - Math.floor(100 * i) >= Math.floor(100 * b.slidesGrid[s]) && (e = s);\n\t\t\t\t\treturn !b.params.allowSwipeToNext && i < b.translate && i < b.minTranslate() ? !1 : !b.params.allowSwipeToPrev && i > b.translate && i > b.maxTranslate() && (b.activeIndex || 0) !== e ? !1 : (\"undefined\" == typeof a && (a = b.params.speed), b.previousIndex = b.activeIndex || 0, b.activeIndex = e, b.rtl && -i === b.translate || !b.rtl && i === b.translate ? (b.params.autoHeight && b.updateAutoHeight(), b.updateClasses(), \"slide\" !== b.params.effect && b.setWrapperTranslate(i), !1) : (b.updateClasses(), b.onTransitionStart(t), 0 === a ? (b.setWrapperTranslate(i), b.setWrapperTransition(0), b.onTransitionEnd(t)) : (b.setWrapperTranslate(i), b.setWrapperTransition(a), b.animating || (b.animating = !0, b.wrapper.transitionEnd(function() {\n\t\t\t\t\t\tb && b.onTransitionEnd(t)\n\t\t\t\t\t}))), !0))\n\t\t\t\t}, b.onTransitionStart = function(e) {\n\t\t\t\t\t\"undefined\" == typeof e && (e = !0), b.params.autoHeight && b.updateAutoHeight(), b.lazy && b.lazy.onTransitionStart(), e && (b.emit(\"onTransitionStart\", b), b.activeIndex !== b.previousIndex && (b.emit(\"onSlideChangeStart\", b), b.activeIndex > b.previousIndex ? b.emit(\"onSlideNextStart\", b) : b.emit(\"onSlidePrevStart\", b)))\n\t\t\t\t}, b.onTransitionEnd = function(e) {\n\t\t\t\t\tb.animating = !1, b.setWrapperTransition(0), \"undefined\" == typeof e && (e = !0), b.lazy && b.lazy.onTransitionEnd(), e && (b.emit(\"onTransitionEnd\", b), b.activeIndex !== b.previousIndex && (b.emit(\"onSlideChangeEnd\", b), b.activeIndex > b.previousIndex ? b.emit(\"onSlideNextEnd\", b) : b.emit(\"onSlidePrevEnd\", b))), b.params.hashnav && b.hashnav && b.hashnav.setHash()\n\t\t\t\t}, b.slideNext = function(e, a, t) {\n\t\t\t\t\tif (b.params.loop) {\n\t\t\t\t\t\tif (b.animating) return !1;\n\t\t\t\t\t\tb.fixLoop();\n\t\t\t\t\t\tb.container[0].clientLeft;\n\t\t\t\t\t\treturn b.slideTo(b.activeIndex + b.params.slidesPerGroup, a, e, t)\n\t\t\t\t\t}\n\t\t\t\t\treturn b.slideTo(b.activeIndex + b.params.slidesPerGroup, a, e, t)\n\t\t\t\t}, b._slideNext = function(e) {\n\t\t\t\t\treturn b.slideNext(!0, e, !0)\n\t\t\t\t}, b.slidePrev = function(e, a, t) {\n\t\t\t\t\tif (b.params.loop) {\n\t\t\t\t\t\tif (b.animating) return !1;\n\t\t\t\t\t\tb.fixLoop();\n\t\t\t\t\t\tb.container[0].clientLeft;\n\t\t\t\t\t\treturn b.slideTo(b.activeIndex - 1, a, e, t)\n\t\t\t\t\t}\n\t\t\t\t\treturn b.slideTo(b.activeIndex - 1, a, e, t)\n\t\t\t\t}, b._slidePrev = function(e) {\n\t\t\t\t\treturn b.slidePrev(!0, e, !0)\n\t\t\t\t}, b.slideReset = function(e, a, t) {\n\t\t\t\t\treturn b.slideTo(b.activeIndex, a, e)\n\t\t\t\t}, b.setWrapperTransition = function(e, a) {\n\t\t\t\t\tb.wrapper.transition(e), \"slide\" !== b.params.effect && b.effects[b.params.effect] && b.effects[b.params.effect].setTransition(e), b.params.parallax && b.parallax && b.parallax.setTransition(e), b.params.scrollbar && b.scrollbar && b.scrollbar.setTransition(e), b.params.control && b.controller && b.controller.setTransition(e, a), b.emit(\"onSetTransition\", b, e)\n\t\t\t\t}, b.setWrapperTranslate = function(e, a, t) {\n\t\t\t\t\tvar r = 0,\n\t\t\t\t\t\ti = 0,\n\t\t\t\t\t\tn = 0;\n\t\t\t\t\tb.isHorizontal() ? r = b.rtl ? -e : e : i = e, b.params.roundLengths && (r = s(r), i = s(i)), b.params.virtualTranslate || (b.support.transforms3d ? b.wrapper.transform(\"translate3d(\" + r + \"px, \" + i + \"px, \" + n + \"px)\") : b.wrapper.transform(\"translate(\" + r + \"px, \" + i + \"px)\")), b.translate = b.isHorizontal() ? r : i;\n\t\t\t\t\tvar o, l = b.maxTranslate() - b.minTranslate();\n\t\t\t\t\to = 0 === l ? 0 : (e - b.minTranslate()) / l, o !== b.progress && b.updateProgress(e), a && b.updateActiveIndex(), \"slide\" !== b.params.effect && b.effects[b.params.effect] && b.effects[b.params.effect].setTranslate(b.translate), b.params.parallax && b.parallax && b.parallax.setTranslate(b.translate), b.params.scrollbar && b.scrollbar && b.scrollbar.setTranslate(b.translate), b.params.control && b.controller && b.controller.setTranslate(b.translate, t), b.emit(\"onSetTranslate\", b, b.translate)\n\t\t\t\t}, b.getTranslate = function(e, a) {\n\t\t\t\t\tvar t, r, i, s;\n\t\t\t\t\treturn \"undefined\" == typeof a && (a = \"x\"), b.params.virtualTranslate ? b.rtl ? -b.translate : b.translate : (i = window.getComputedStyle(e, null), window.WebKitCSSMatrix ? (r = i.transform || i.webkitTransform, r.split(\",\").length > 6 && (r = r.split(\", \").map(function(e) {\n\t\t\t\t\t\treturn e.replace(\",\", \".\")\n\t\t\t\t\t}).join(\", \")), s = new window.WebKitCSSMatrix(\"none\" === r ? \"\" : r)) : (s = i.MozTransform || i.OTransform || i.MsTransform || i.msTransform || i.transform || i.getPropertyValue(\"transform\").replace(\"translate(\", \"matrix(1, 0, 0, 1,\"), t = s.toString().split(\",\")), \"x\" === a && (r = window.WebKitCSSMatrix ? s.m41 : 16 === t.length ? parseFloat(t[12]) : parseFloat(t[4])), \"y\" === a && (r = window.WebKitCSSMatrix ? s.m42 : 16 === t.length ? parseFloat(t[13]) : parseFloat(t[5])), b.rtl && r && (r = -r), r || 0)\n\t\t\t\t}, b.getWrapperTranslate = function(e) {\n\t\t\t\t\treturn \"undefined\" == typeof e && (e = b.isHorizontal() ? \"x\" : \"y\"), b.getTranslate(b.wrapper[0], e)\n\t\t\t\t}, b.observers = [], b.initObservers = function() {\n\t\t\t\t\tif (b.params.observeParents)\n\t\t\t\t\t\tfor (var e = b.container.parents(), a = 0; a < e.length; a++) l(e[a]);\n\t\t\t\t\tl(b.container[0], {\n\t\t\t\t\t\tchildList: !1\n\t\t\t\t\t}), l(b.wrapper[0], {\n\t\t\t\t\t\tattributes: !1\n\t\t\t\t\t})\n\t\t\t\t}, b.disconnectObservers = function() {\n\t\t\t\t\tfor (var e = 0; e < b.observers.length; e++) b.observers[e].disconnect();\n\t\t\t\t\tb.observers = []\n\t\t\t\t}, b.createLoop = function() {\n\t\t\t\t\tb.wrapper.children(\".\" + b.params.slideClass + \".\" + b.params.slideDuplicateClass).remove();\n\t\t\t\t\tvar e = b.wrapper.children(\".\" + b.params.slideClass);\n\t\t\t\t\t\"auto\" !== b.params.slidesPerView || b.params.loopedSlides || (b.params.loopedSlides = e.length), b.loopedSlides = parseInt(b.params.loopedSlides || b.params.slidesPerView, 10), b.loopedSlides = b.loopedSlides + b.params.loopAdditionalSlides, b.loopedSlides > e.length && (b.loopedSlides = e.length);\n\t\t\t\t\tvar t, r = [],\n\t\t\t\t\t\ti = [];\n\t\t\t\t\tfor (e.each(function(t, s) {\n\t\t\t\t\t\t\tvar n = a(this);\n\t\t\t\t\t\t\tt < b.loopedSlides && i.push(s), t < e.length && t >= e.length - b.loopedSlides && r.push(s), n.attr(\"data-swiper-slide-index\", t)\n\t\t\t\t\t\t}), t = 0; t < i.length; t++) b.wrapper.append(a(i[t].cloneNode(!0)).addClass(b.params.slideDuplicateClass));\n\t\t\t\t\tfor (t = r.length - 1; t >= 0; t--) b.wrapper.prepend(a(r[t].cloneNode(!0)).addClass(b.params.slideDuplicateClass))\n\t\t\t\t}, b.destroyLoop = function() {\n\t\t\t\t\tb.wrapper.children(\".\" + b.params.slideClass + \".\" + b.params.slideDuplicateClass).remove(), b.slides.removeAttr(\"data-swiper-slide-index\")\n\t\t\t\t}, b.reLoop = function(e) {\n\t\t\t\t\tvar a = b.activeIndex - b.loopedSlides;\n\t\t\t\t\tb.destroyLoop(), b.createLoop(), b.updateSlidesSize(), e && b.slideTo(a + b.loopedSlides, 0, !1)\n\t\t\t\t}, b.fixLoop = function() {\n\t\t\t\t\tvar e;\n\t\t\t\t\tb.activeIndex < b.loopedSlides ? (e = b.slides.length - 3 * b.loopedSlides + b.activeIndex, e += b.loopedSlides, b.slideTo(e, 0, !1, !0)) : (\"auto\" === b.params.slidesPerView && b.activeIndex >= 2 * b.loopedSlides || b.activeIndex > b.slides.length - 2 * b.params.slidesPerView) && (e = -b.slides.length + b.activeIndex + b.loopedSlides, e += b.loopedSlides, b.slideTo(e, 0, !1, !0))\n\t\t\t\t}, b.appendSlide = function(e) {\n\t\t\t\t\tif (b.params.loop && b.destroyLoop(), \"object\" == typeof e && e.length)\n\t\t\t\t\t\tfor (var a = 0; a < e.length; a++) e[a] && b.wrapper.append(e[a]);\n\t\t\t\t\telse b.wrapper.append(e);\n\t\t\t\t\tb.params.loop && b.createLoop(), b.params.observer && b.support.observer || b.update(!0)\n\t\t\t\t}, b.prependSlide = function(e) {\n\t\t\t\t\tb.params.loop && b.destroyLoop();\n\t\t\t\t\tvar a = b.activeIndex + 1;\n\t\t\t\t\tif (\"object\" == typeof e && e.length) {\n\t\t\t\t\t\tfor (var t = 0; t < e.length; t++) e[t] && b.wrapper.prepend(e[t]);\n\t\t\t\t\t\ta = b.activeIndex + e.length\n\t\t\t\t\t} else b.wrapper.prepend(e);\n\t\t\t\t\tb.params.loop && b.createLoop(), b.params.observer && b.support.observer || b.update(!0), b.slideTo(a, 0, !1)\n\t\t\t\t}, b.removeSlide = function(e) {\n\t\t\t\t\tb.params.loop && (b.destroyLoop(), b.slides = b.wrapper.children(\".\" + b.params.slideClass));\n\t\t\t\t\tvar a, t = b.activeIndex;\n\t\t\t\t\tif (\"object\" == typeof e && e.length) {\n\t\t\t\t\t\tfor (var r = 0; r < e.length; r++) a = e[r], b.slides[a] && b.slides.eq(a).remove(), t > a && t--;\n\t\t\t\t\t\tt = Math.max(t, 0)\n\t\t\t\t\t} else a = e, b.slides[a] && b.slides.eq(a).remove(), t > a && t--, t = Math.max(t, 0);\n\t\t\t\t\tb.params.loop && b.createLoop(), b.params.observer && b.support.observer || b.update(!0), b.params.loop ? b.slideTo(t + b.loopedSlides, 0, !1) : b.slideTo(t, 0, !1)\n\t\t\t\t}, b.removeAllSlides = function() {\n\t\t\t\t\tfor (var e = [], a = 0; a < b.slides.length; a++) e.push(a);\n\t\t\t\t\tb.removeSlide(e)\n\t\t\t\t}, b.effects = {\n\t\t\t\t\tfade: {\n\t\t\t\t\t\tsetTranslate: function() {\n\t\t\t\t\t\t\tfor (var e = 0; e < b.slides.length; e++) {\n\t\t\t\t\t\t\t\tvar a = b.slides.eq(e),\n\t\t\t\t\t\t\t\t\tt = a[0].swiperSlideOffset,\n\t\t\t\t\t\t\t\t\tr = -t;\n\t\t\t\t\t\t\t\tb.params.virtualTranslate || (r -= b.translate);\n\t\t\t\t\t\t\t\tvar i = 0;\n\t\t\t\t\t\t\t\tb.isHorizontal() || (i = r, r = 0);\n\t\t\t\t\t\t\t\tvar s = b.params.fade.crossFade ? Math.max(1 - Math.abs(a[0].progress), 0) : 1 + Math.min(Math.max(a[0].progress, -1), 0);\n\t\t\t\t\t\t\t\ta.css({\n\t\t\t\t\t\t\t\t\topacity: s\n\t\t\t\t\t\t\t\t}).transform(\"translate3d(\" + r + \"px, \" + i + \"px, 0px)\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsetTransition: function(e) {\n\t\t\t\t\t\t\tif (b.slides.transition(e), b.params.virtualTranslate && 0 !== e) {\n\t\t\t\t\t\t\t\tvar a = !1;\n\t\t\t\t\t\t\t\tb.slides.transitionEnd(function() {\n\t\t\t\t\t\t\t\t\tif (!a && b) {\n\t\t\t\t\t\t\t\t\t\ta = !0, b.animating = !1;\n\t\t\t\t\t\t\t\t\t\tfor (var e = [\"webkitTransitionEnd\", \"transitionend\", \"oTransitionEnd\", \"MSTransitionEnd\", \"msTransitionEnd\"], t = 0; t < e.length; t++) b.wrapper.trigger(e[t])\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tflip: {\n\t\t\t\t\t\tsetTranslate: function() {\n\t\t\t\t\t\t\tfor (var e = 0; e < b.slides.length; e++) {\n\t\t\t\t\t\t\t\tvar t = b.slides.eq(e),\n\t\t\t\t\t\t\t\t\tr = t[0].progress;\n\t\t\t\t\t\t\t\tb.params.flip.limitRotation && (r = Math.max(Math.min(t[0].progress, 1), -1));\n\t\t\t\t\t\t\t\tvar i = t[0].swiperSlideOffset,\n\t\t\t\t\t\t\t\t\ts = -180 * r,\n\t\t\t\t\t\t\t\t\tn = s,\n\t\t\t\t\t\t\t\t\to = 0,\n\t\t\t\t\t\t\t\t\tl = -i,\n\t\t\t\t\t\t\t\t\tp = 0;\n\t\t\t\t\t\t\t\tif (b.isHorizontal() ? b.rtl && (n = -n) : (p = l, l = 0, o = -n, n = 0), t[0].style.zIndex = -Math.abs(Math.round(r)) + b.slides.length, b.params.flip.slideShadows) {\n\t\t\t\t\t\t\t\t\tvar d = b.isHorizontal() ? t.find(\".swiper-slide-shadow-left\") : t.find(\".swiper-slide-shadow-top\"),\n\t\t\t\t\t\t\t\t\t\tu = b.isHorizontal() ? t.find(\".swiper-slide-shadow-right\") : t.find(\".swiper-slide-shadow-bottom\");\n\t\t\t\t\t\t\t\t\t0 === d.length && (d = a('<div class=\"swiper-slide-shadow-' + (b.isHorizontal() ? \"left\" : \"top\") + '\"></div>'), t.append(d)), 0 === u.length && (u = a('<div class=\"swiper-slide-shadow-' + (b.isHorizontal() ? \"right\" : \"bottom\") + '\"></div>'), t.append(u)), d.length && (d[0].style.opacity = Math.max(-r, 0)), u.length && (u[0].style.opacity = Math.max(r, 0))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tt.transform(\"translate3d(\" + l + \"px, \" + p + \"px, 0px) rotateX(\" + o + \"deg) rotateY(\" + n + \"deg)\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsetTransition: function(e) {\n\t\t\t\t\t\t\tif (b.slides.transition(e).find(\".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left\").transition(e), b.params.virtualTranslate && 0 !== e) {\n\t\t\t\t\t\t\t\tvar t = !1;\n\t\t\t\t\t\t\t\tb.slides.eq(b.activeIndex).transitionEnd(function() {\n\t\t\t\t\t\t\t\t\tif (!t && b && a(this).hasClass(b.params.slideActiveClass)) {\n\t\t\t\t\t\t\t\t\t\tt = !0, b.animating = !1;\n\t\t\t\t\t\t\t\t\t\tfor (var e = [\"webkitTransitionEnd\", \"transitionend\", \"oTransitionEnd\", \"MSTransitionEnd\", \"msTransitionEnd\"], r = 0; r < e.length; r++) b.wrapper.trigger(e[r])\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcube: {\n\t\t\t\t\t\tsetTranslate: function() {\n\t\t\t\t\t\t\tvar e, t = 0;\n\t\t\t\t\t\t\tb.params.cube.shadow && (b.isHorizontal() ? (e = b.wrapper.find(\".swiper-cube-shadow\"), 0 === e.length && (e = a('<div class=\"swiper-cube-shadow\"></div>'), b.wrapper.append(e)), e.css({\n\t\t\t\t\t\t\t\theight: b.width + \"px\"\n\t\t\t\t\t\t\t})) : (e = b.container.find(\".swiper-cube-shadow\"), 0 === e.length && (e = a('<div class=\"swiper-cube-shadow\"></div>'), b.container.append(e))));\n\t\t\t\t\t\t\tfor (var r = 0; r < b.slides.length; r++) {\n\t\t\t\t\t\t\t\tvar i = b.slides.eq(r),\n\t\t\t\t\t\t\t\t\ts = 90 * r,\n\t\t\t\t\t\t\t\t\tn = Math.floor(s / 360);\n\t\t\t\t\t\t\t\tb.rtl && (s = -s, n = Math.floor(-s / 360));\n\t\t\t\t\t\t\t\tvar o = Math.max(Math.min(i[0].progress, 1), -1),\n\t\t\t\t\t\t\t\t\tl = 0,\n\t\t\t\t\t\t\t\t\tp = 0,\n\t\t\t\t\t\t\t\t\td = 0;\n\t\t\t\t\t\t\t\tr % 4 === 0 ? (l = 4 * -n * b.size, d = 0) : (r - 1) % 4 === 0 ? (l = 0, d = 4 * -n * b.size) : (r - 2) % 4 === 0 ? (l = b.size + 4 * n * b.size, d = b.size) : (r - 3) % 4 === 0 && (l = -b.size, d = 3 * b.size + 4 * b.size * n), b.rtl && (l = -l), b.isHorizontal() || (p = l, l = 0);\n\t\t\t\t\t\t\t\tvar u = \"rotateX(\" + (b.isHorizontal() ? 0 : -s) + \"deg) rotateY(\" + (b.isHorizontal() ? s : 0) + \"deg) translate3d(\" + l + \"px, \" + p + \"px, \" + d + \"px)\";\n\t\t\t\t\t\t\t\tif (1 >= o && o > -1 && (t = 90 * r + 90 * o, b.rtl && (t = 90 * -r - 90 * o)), i.transform(u), b.params.cube.slideShadows) {\n\t\t\t\t\t\t\t\t\tvar c = b.isHorizontal() ? i.find(\".swiper-slide-shadow-left\") : i.find(\".swiper-slide-shadow-top\"),\n\t\t\t\t\t\t\t\t\t\tm = b.isHorizontal() ? i.find(\".swiper-slide-shadow-right\") : i.find(\".swiper-slide-shadow-bottom\");\n\t\t\t\t\t\t\t\t\t0 === c.length && (c = a('<div class=\"swiper-slide-shadow-' + (b.isHorizontal() ? \"left\" : \"top\") + '\"></div>'), i.append(c)), 0 === m.length && (m = a('<div class=\"swiper-slide-shadow-' + (b.isHorizontal() ? \"right\" : \"bottom\") + '\"></div>'), i.append(m)), c.length && (c[0].style.opacity = Math.max(-o, 0)), m.length && (m[0].style.opacity = Math.max(o, 0))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (b.wrapper.css({\n\t\t\t\t\t\t\t\t\t\"-webkit-transform-origin\": \"50% 50% -\" + b.size / 2 + \"px\",\n\t\t\t\t\t\t\t\t\t\"-moz-transform-origin\": \"50% 50% -\" + b.size / 2 + \"px\",\n\t\t\t\t\t\t\t\t\t\"-ms-transform-origin\": \"50% 50% -\" + b.size / 2 + \"px\",\n\t\t\t\t\t\t\t\t\t\"transform-origin\": \"50% 50% -\" + b.size / 2 + \"px\"\n\t\t\t\t\t\t\t\t}), b.params.cube.shadow)\n\t\t\t\t\t\t\t\tif (b.isHorizontal()) e.transform(\"translate3d(0px, \" + (b.width / 2 + b.params.cube.shadowOffset) + \"px, \" + -b.width / 2 + \"px) rotateX(90deg) rotateZ(0deg) scale(\" + b.params.cube.shadowScale + \")\");\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tvar h = Math.abs(t) - 90 * Math.floor(Math.abs(t) / 90),\n\t\t\t\t\t\t\t\t\t\tf = 1.5 - (Math.sin(2 * h * Math.PI / 360) / 2 + Math.cos(2 * h * Math.PI / 360) / 2),\n\t\t\t\t\t\t\t\t\t\tg = b.params.cube.shadowScale,\n\t\t\t\t\t\t\t\t\t\tv = b.params.cube.shadowScale / f,\n\t\t\t\t\t\t\t\t\t\tw = b.params.cube.shadowOffset;\n\t\t\t\t\t\t\t\t\te.transform(\"scale3d(\" + g + \", 1, \" + v + \") translate3d(0px, \" + (b.height / 2 + w) + \"px, \" + -b.height / 2 / v + \"px) rotateX(-90deg)\")\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar y = b.isSafari || b.isUiWebView ? -b.size / 2 : 0;\n\t\t\t\t\t\t\tb.wrapper.transform(\"translate3d(0px,0,\" + y + \"px) rotateX(\" + (b.isHorizontal() ? 0 : t) + \"deg) rotateY(\" + (b.isHorizontal() ? -t : 0) + \"deg)\")\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsetTransition: function(e) {\n\t\t\t\t\t\t\tb.slides.transition(e).find(\".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left\").transition(e), b.params.cube.shadow && !b.isHorizontal() && b.container.find(\".swiper-cube-shadow\").transition(e)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcoverflow: {\n\t\t\t\t\t\tsetTranslate: function() {\n\t\t\t\t\t\t\tfor (var e = b.translate, t = b.isHorizontal() ? -e + b.width / 2 : -e + b.height / 2, r = b.isHorizontal() ? b.params.coverflow.rotate : -b.params.coverflow.rotate, i = b.params.coverflow.depth, s = 0, n = b.slides.length; n > s; s++) {\n\t\t\t\t\t\t\t\tvar o = b.slides.eq(s),\n\t\t\t\t\t\t\t\t\tl = b.slidesSizesGrid[s],\n\t\t\t\t\t\t\t\t\tp = o[0].swiperSlideOffset,\n\t\t\t\t\t\t\t\t\td = (t - p - l / 2) / l * b.params.coverflow.modifier,\n\t\t\t\t\t\t\t\t\tu = b.isHorizontal() ? r * d : 0,\n\t\t\t\t\t\t\t\t\tc = b.isHorizontal() ? 0 : r * d,\n\t\t\t\t\t\t\t\t\tm = -i * Math.abs(d),\n\t\t\t\t\t\t\t\t\th = b.isHorizontal() ? 0 : b.params.coverflow.stretch * d,\n\t\t\t\t\t\t\t\t\tf = b.isHorizontal() ? b.params.coverflow.stretch * d : 0;\n\t\t\t\t\t\t\t\tMath.abs(f) < .001 && (f = 0), Math.abs(h) < .001 && (h = 0), Math.abs(m) < .001 && (m = 0), Math.abs(u) < .001 && (u = 0), Math.abs(c) < .001 && (c = 0);\n\t\t\t\t\t\t\t\tvar g = \"translate3d(\" + f + \"px,\" + h + \"px,\" + m + \"px)  rotateX(\" + c + \"deg) rotateY(\" + u + \"deg)\";\n\t\t\t\t\t\t\t\tif (o.transform(g), o[0].style.zIndex = -Math.abs(Math.round(d)) + 1, b.params.coverflow.slideShadows) {\n\t\t\t\t\t\t\t\t\tvar v = b.isHorizontal() ? o.find(\".swiper-slide-shadow-left\") : o.find(\".swiper-slide-shadow-top\"),\n\t\t\t\t\t\t\t\t\t\tw = b.isHorizontal() ? o.find(\".swiper-slide-shadow-right\") : o.find(\".swiper-slide-shadow-bottom\");\n\t\t\t\t\t\t\t\t\t0 === v.length && (v = a('<div class=\"swiper-slide-shadow-' + (b.isHorizontal() ? \"left\" : \"top\") + '\"></div>'), o.append(v)), 0 === w.length && (w = a('<div class=\"swiper-slide-shadow-' + (b.isHorizontal() ? \"right\" : \"bottom\") + '\"></div>'), o.append(w)), v.length && (v[0].style.opacity = d > 0 ? d : 0), w.length && (w[0].style.opacity = -d > 0 ? -d : 0)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (b.browser.ie) {\n\t\t\t\t\t\t\t\tvar y = b.wrapper[0].style;\n\t\t\t\t\t\t\t\ty.perspectiveOrigin = t + \"px 50%\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsetTransition: function(e) {\n\t\t\t\t\t\t\tb.slides.transition(e).find(\".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left\").transition(e)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, b.lazy = {\n\t\t\t\t\tinitialImageLoaded: !1,\n\t\t\t\t\tloadImageInSlide: function(e, t) {\n\t\t\t\t\t\tif (\"undefined\" != typeof e && (\"undefined\" == typeof t && (t = !0), 0 !== b.slides.length)) {\n\t\t\t\t\t\t\tvar r = b.slides.eq(e),\n\t\t\t\t\t\t\t\ti = r.find(\".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)\");\n\t\t\t\t\t\t\t!r.hasClass(\"swiper-lazy\") || r.hasClass(\"swiper-lazy-loaded\") || r.hasClass(\"swiper-lazy-loading\") || (i = i.add(r[0])), 0 !== i.length && i.each(function() {\n\t\t\t\t\t\t\t\tvar e = a(this);\n\t\t\t\t\t\t\t\te.addClass(\"swiper-lazy-loading\");\n\t\t\t\t\t\t\t\tvar i = e.attr(\"data-background\"),\n\t\t\t\t\t\t\t\t\ts = e.attr(\"data-src\"),\n\t\t\t\t\t\t\t\t\tn = e.attr(\"data-srcset\");\n\t\t\t\t\t\t\t\tb.loadImage(e[0], s || i, n, !1, function() {\n\t\t\t\t\t\t\t\t\tif (i ? (e.css(\"background-image\", 'url(\"' + i + '\")'), e.removeAttr(\"data-background\")) : (n && (e.attr(\"srcset\", n), e.removeAttr(\"data-srcset\")), s && (e.attr(\"src\", s), e.removeAttr(\"data-src\"))), e.addClass(\"swiper-lazy-loaded\").removeClass(\"swiper-lazy-loading\"), r.find(\".swiper-lazy-preloader, .preloader\").remove(), b.params.loop && t) {\n\t\t\t\t\t\t\t\t\t\tvar a = r.attr(\"data-swiper-slide-index\");\n\t\t\t\t\t\t\t\t\t\tif (r.hasClass(b.params.slideDuplicateClass)) {\n\t\t\t\t\t\t\t\t\t\t\tvar o = b.wrapper.children('[data-swiper-slide-index=\"' + a + '\"]:not(.' + b.params.slideDuplicateClass + \")\");\n\t\t\t\t\t\t\t\t\t\t\tb.lazy.loadImageInSlide(o.index(), !1)\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tvar l = b.wrapper.children(\".\" + b.params.slideDuplicateClass + '[data-swiper-slide-index=\"' + a + '\"]');\n\t\t\t\t\t\t\t\t\t\t\tb.lazy.loadImageInSlide(l.index(), !1)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tb.emit(\"onLazyImageReady\", b, r[0], e[0])\n\t\t\t\t\t\t\t\t}), b.emit(\"onLazyImageLoad\", b, r[0], e[0])\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tload: function() {\n\t\t\t\t\t\tvar e;\n\t\t\t\t\t\tif (b.params.watchSlidesVisibility) b.wrapper.children(\".\" + b.params.slideVisibleClass).each(function() {\n\t\t\t\t\t\t\tb.lazy.loadImageInSlide(a(this).index())\n\t\t\t\t\t\t});\n\t\t\t\t\t\telse if (b.params.slidesPerView > 1)\n\t\t\t\t\t\t\tfor (e = b.activeIndex; e < b.activeIndex + b.params.slidesPerView; e++) b.slides[e] && b.lazy.loadImageInSlide(e);\n\t\t\t\t\t\telse b.lazy.loadImageInSlide(b.activeIndex);\n\t\t\t\t\t\tif (b.params.lazyLoadingInPrevNext)\n\t\t\t\t\t\t\tif (b.params.slidesPerView > 1 || b.params.lazyLoadingInPrevNextAmount && b.params.lazyLoadingInPrevNextAmount > 1) {\n\t\t\t\t\t\t\t\tvar t = b.params.lazyLoadingInPrevNextAmount,\n\t\t\t\t\t\t\t\t\tr = b.params.slidesPerView,\n\t\t\t\t\t\t\t\t\ti = Math.min(b.activeIndex + r + Math.max(t, r), b.slides.length),\n\t\t\t\t\t\t\t\t\ts = Math.max(b.activeIndex - Math.max(r, t), 0);\n\t\t\t\t\t\t\t\tfor (e = b.activeIndex + b.params.slidesPerView; i > e; e++) b.slides[e] && b.lazy.loadImageInSlide(e);\n\t\t\t\t\t\t\t\tfor (e = s; e < b.activeIndex; e++) b.slides[e] && b.lazy.loadImageInSlide(e)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar n = b.wrapper.children(\".\" + b.params.slideNextClass);\n\t\t\t\t\t\t\t\tn.length > 0 && b.lazy.loadImageInSlide(n.index());\n\t\t\t\t\t\t\t\tvar o = b.wrapper.children(\".\" + b.params.slidePrevClass);\n\t\t\t\t\t\t\t\to.length > 0 && b.lazy.loadImageInSlide(o.index())\n\t\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tonTransitionStart: function() {\n\t\t\t\t\t\tb.params.lazyLoading && (b.params.lazyLoadingOnTransitionStart || !b.params.lazyLoadingOnTransitionStart && !b.lazy.initialImageLoaded) && b.lazy.load()\n\t\t\t\t\t},\n\t\t\t\t\tonTransitionEnd: function() {\n\t\t\t\t\t\tb.params.lazyLoading && !b.params.lazyLoadingOnTransitionStart && b.lazy.load()\n\t\t\t\t\t}\n\t\t\t\t}, b.scrollbar = {\n\t\t\t\t\tisTouched: !1,\n\t\t\t\t\tsetDragPosition: function(e) {\n\t\t\t\t\t\tvar a = b.scrollbar,\n\t\t\t\t\t\t\tt = b.isHorizontal() ? \"touchstart\" === e.type || \"touchmove\" === e.type ? e.targetTouches[0].pageX : e.pageX || e.clientX : \"touchstart\" === e.type || \"touchmove\" === e.type ? e.targetTouches[0].pageY : e.pageY || e.clientY,\n\t\t\t\t\t\t\tr = t - a.track.offset()[b.isHorizontal() ? \"left\" : \"top\"] - a.dragSize / 2,\n\t\t\t\t\t\t\ti = -b.minTranslate() * a.moveDivider,\n\t\t\t\t\t\t\ts = -b.maxTranslate() * a.moveDivider;\n\t\t\t\t\t\ti > r ? r = i : r > s && (r = s), r = -r / a.moveDivider, b.updateProgress(r), b.setWrapperTranslate(r, !0)\n\t\t\t\t\t},\n\t\t\t\t\tdragStart: function(e) {\n\t\t\t\t\t\tvar a = b.scrollbar;\n\t\t\t\t\t\ta.isTouched = !0, e.preventDefault(), e.stopPropagation(), a.setDragPosition(e), clearTimeout(a.dragTimeout), a.track.transition(0), b.params.scrollbarHide && a.track.css(\"opacity\", 1), b.wrapper.transition(100), a.drag.transition(100), b.emit(\"onScrollbarDragStart\", b)\n\t\t\t\t\t},\n\t\t\t\t\tdragMove: function(e) {\n\t\t\t\t\t\tvar a = b.scrollbar;\n\t\t\t\t\t\ta.isTouched && (e.preventDefault ? e.preventDefault() : e.returnValue = !1, a.setDragPosition(e), b.wrapper.transition(0), a.track.transition(0), a.drag.transition(0), b.emit(\"onScrollbarDragMove\", b))\n\t\t\t\t\t},\n\t\t\t\t\tdragEnd: function(e) {\n\t\t\t\t\t\tvar a = b.scrollbar;\n\t\t\t\t\t\ta.isTouched && (a.isTouched = !1, b.params.scrollbarHide && (clearTimeout(a.dragTimeout), a.dragTimeout = setTimeout(function() {\n\t\t\t\t\t\t\ta.track.css(\"opacity\", 0), a.track.transition(400)\n\t\t\t\t\t\t}, 1e3)), b.emit(\"onScrollbarDragEnd\", b), b.params.scrollbarSnapOnRelease && b.slideReset())\n\t\t\t\t\t},\n\t\t\t\t\tenableDraggable: function() {\n\t\t\t\t\t\tvar e = b.scrollbar,\n\t\t\t\t\t\t\tt = b.support.touch ? e.track : document;\n\t\t\t\t\t\ta(e.track).on(b.touchEvents.start, e.dragStart), a(t).on(b.touchEvents.move, e.dragMove), a(t).on(b.touchEvents.end, e.dragEnd)\n\t\t\t\t\t},\n\t\t\t\t\tdisableDraggable: function() {\n\t\t\t\t\t\tvar e = b.scrollbar,\n\t\t\t\t\t\t\tt = b.support.touch ? e.track : document;\n\t\t\t\t\t\ta(e.track).off(b.touchEvents.start, e.dragStart), a(t).off(b.touchEvents.move, e.dragMove), a(t).off(b.touchEvents.end, e.dragEnd)\n\t\t\t\t\t},\n\t\t\t\t\tset: function() {\n\t\t\t\t\t\tif (b.params.scrollbar) {\n\t\t\t\t\t\t\tvar e = b.scrollbar;\n\t\t\t\t\t\t\te.track = a(b.params.scrollbar), b.params.uniqueNavElements && \"string\" == typeof b.params.scrollbar && e.track.length > 1 && 1 === b.container.find(b.params.scrollbar).length && (e.track = b.container.find(b.params.scrollbar)), e.drag = e.track.find(\".swiper-scrollbar-drag\"), 0 === e.drag.length && (e.drag = a('<div class=\"swiper-scrollbar-drag\"></div>'), e.track.append(e.drag)), e.drag[0].style.width = \"\", e.drag[0].style.height = \"\", e.trackSize = b.isHorizontal() ? e.track[0].offsetWidth : e.track[0].offsetHeight, e.divider = b.size / b.virtualSize, e.moveDivider = e.divider * (e.trackSize / b.size), e.dragSize = e.trackSize * e.divider, b.isHorizontal() ? e.drag[0].style.width = e.dragSize + \"px\" : e.drag[0].style.height = e.dragSize + \"px\", e.divider >= 1 ? e.track[0].style.display = \"none\" : e.track[0].style.display = \"\", b.params.scrollbarHide && (e.track[0].style.opacity = 0)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsetTranslate: function() {\n\t\t\t\t\t\tif (b.params.scrollbar) {\n\t\t\t\t\t\t\tvar e, a = b.scrollbar,\n\t\t\t\t\t\t\t\tt = (b.translate || 0, a.dragSize);\n\t\t\t\t\t\t\te = (a.trackSize - a.dragSize) * b.progress, b.rtl && b.isHorizontal() ? (e = -e, e > 0 ? (t = a.dragSize - e, e = 0) : -e + a.dragSize > a.trackSize && (t = a.trackSize + e)) : 0 > e ? (t = a.dragSize + e, e = 0) : e + a.dragSize > a.trackSize && (t = a.trackSize - e), b.isHorizontal() ? (b.support.transforms3d ? a.drag.transform(\"translate3d(\" + e + \"px, 0, 0)\") : a.drag.transform(\"translateX(\" + e + \"px)\"), a.drag[0].style.width = t + \"px\") : (b.support.transforms3d ? a.drag.transform(\"translate3d(0px, \" + e + \"px, 0)\") : a.drag.transform(\"translateY(\" + e + \"px)\"), a.drag[0].style.height = t + \"px\"), b.params.scrollbarHide && (clearTimeout(a.timeout), a.track[0].style.opacity = 1, a.timeout = setTimeout(function() {\n\t\t\t\t\t\t\t\ta.track[0].style.opacity = 0, a.track.transition(400)\n\t\t\t\t\t\t\t}, 1e3))\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsetTransition: function(e) {\n\t\t\t\t\t\tb.params.scrollbar && b.scrollbar.drag.transition(e)\n\t\t\t\t\t}\n\t\t\t\t}, b.controller = {\n\t\t\t\t\tLinearSpline: function(e, a) {\n\t\t\t\t\t\tthis.x = e, this.y = a, this.lastIndex = e.length - 1;\n\t\t\t\t\t\tvar t, r;\n\t\t\t\t\t\tthis.x.length;\n\t\t\t\t\t\tthis.interpolate = function(e) {\n\t\t\t\t\t\t\treturn e ? (r = i(this.x, e), t = r - 1, (e - this.x[t]) * (this.y[r] - this.y[t]) / (this.x[r] - this.x[t]) + this.y[t]) : 0\n\t\t\t\t\t\t};\n\t\t\t\t\t\tvar i = function() {\n\t\t\t\t\t\t\tvar e, a, t;\n\t\t\t\t\t\t\treturn function(r, i) {\n\t\t\t\t\t\t\t\tfor (a = -1, e = r.length; e - a > 1;) r[t = e + a >> 1] <= i ? a = t : e = t;\n\t\t\t\t\t\t\t\treturn e\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}()\n\t\t\t\t\t},\n\t\t\t\t\tgetInterpolateFunction: function(e) {\n\t\t\t\t\t\tb.controller.spline || (b.controller.spline = b.params.loop ? new b.controller.LinearSpline(b.slidesGrid, e.slidesGrid) : new b.controller.LinearSpline(b.snapGrid, e.snapGrid))\n\t\t\t\t\t},\n\t\t\t\t\tsetTranslate: function(e, a) {\n\t\t\t\t\t\tfunction r(a) {\n\t\t\t\t\t\t\te = a.rtl && \"horizontal\" === a.params.direction ? -b.translate : b.translate, \"slide\" === b.params.controlBy && (b.controller.getInterpolateFunction(a), s = -b.controller.spline.interpolate(-e)), s && \"container\" !== b.params.controlBy || (i = (a.maxTranslate() - a.minTranslate()) / (b.maxTranslate() - b.minTranslate()), s = (e - b.minTranslate()) * i + a.minTranslate()), b.params.controlInverse && (s = a.maxTranslate() - s), a.updateProgress(s), a.setWrapperTranslate(s, !1, b), a.updateActiveIndex()\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar i, s, n = b.params.control;\n\t\t\t\t\t\tif (b.isArray(n))\n\t\t\t\t\t\t\tfor (var o = 0; o < n.length; o++) n[o] !== a && n[o] instanceof t && r(n[o]);\n\t\t\t\t\t\telse n instanceof t && a !== n && r(n)\n\t\t\t\t\t},\n\t\t\t\t\tsetTransition: function(e, a) {\n\t\t\t\t\t\tfunction r(a) {\n\t\t\t\t\t\t\ta.setWrapperTransition(e, b), 0 !== e && (a.onTransitionStart(), a.wrapper.transitionEnd(function() {\n\t\t\t\t\t\t\t\ts && (a.params.loop && \"slide\" === b.params.controlBy && a.fixLoop(), a.onTransitionEnd())\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar i, s = b.params.control;\n\t\t\t\t\t\tif (b.isArray(s))\n\t\t\t\t\t\t\tfor (i = 0; i < s.length; i++) s[i] !== a && s[i] instanceof t && r(s[i]);\n\t\t\t\t\t\telse s instanceof t && a !== s && r(s)\n\t\t\t\t\t}\n\t\t\t\t}, b.hashnav = {\n\t\t\t\t\tinit: function() {\n\t\t\t\t\t\tif (b.params.hashnav) {\n\t\t\t\t\t\t\tb.hashnav.initialized = !0;\n\t\t\t\t\t\t\tvar e = document.location.hash.replace(\"#\", \"\");\n\t\t\t\t\t\t\tif (e)\n\t\t\t\t\t\t\t\tfor (var a = 0, t = 0, r = b.slides.length; r > t; t++) {\n\t\t\t\t\t\t\t\t\tvar i = b.slides.eq(t),\n\t\t\t\t\t\t\t\t\t\ts = i.attr(\"data-hash\");\n\t\t\t\t\t\t\t\t\tif (s === e && !i.hasClass(b.params.slideDuplicateClass)) {\n\t\t\t\t\t\t\t\t\t\tvar n = i.index();\n\t\t\t\t\t\t\t\t\t\tb.slideTo(n, a, b.params.runCallbacksOnInit, !0)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsetHash: function() {\n\t\t\t\t\t\tb.hashnav.initialized && b.params.hashnav && (document.location.hash = b.slides.eq(b.activeIndex).attr(\"data-hash\") || \"\")\n\t\t\t\t\t}\n\t\t\t\t}, b.disableKeyboardControl = function() {\n\t\t\t\t\tb.params.keyboardControl = !1, a(document).off(\"keydown\", p)\n\t\t\t\t}, b.enableKeyboardControl = function() {\n\t\t\t\t\tb.params.keyboardControl = !0, a(document).on(\"keydown\", p)\n\t\t\t\t}, b.mousewheel = {\n\t\t\t\t\tevent: !1,\n\t\t\t\t\tlastScrollTime: (new window.Date).getTime()\n\t\t\t\t}, b.params.mousewheelControl) {\n\t\t\t\ttry {\n\t\t\t\t\tnew window.WheelEvent(\"wheel\"), b.mousewheel.event = \"wheel\"\n\t\t\t\t} catch (N) {\n\t\t\t\t\t(window.WheelEvent || b.container[0] && \"wheel\" in b.container[0]) && (b.mousewheel.event = \"wheel\")\n\t\t\t\t}!b.mousewheel.event && window.WheelEvent, b.mousewheel.event || void 0 === document.onmousewheel || (b.mousewheel.event = \"mousewheel\"), b.mousewheel.event || (b.mousewheel.event = \"DOMMouseScroll\")\n\t\t\t}\n\t\t\tb.disableMousewheelControl = function() {\n\t\t\t\treturn b.mousewheel.event ? (b.container.off(b.mousewheel.event, d), !0) : !1\n\t\t\t}, b.enableMousewheelControl = function() {\n\t\t\t\treturn b.mousewheel.event ? (b.container.on(b.mousewheel.event, d), !0) : !1\n\t\t\t}, b.parallax = {\n\t\t\t\tsetTranslate: function() {\n\t\t\t\t\tb.container.children(\"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]\").each(function() {\n\t\t\t\t\t\tu(this, b.progress)\n\t\t\t\t\t}), b.slides.each(function() {\n\t\t\t\t\t\tvar e = a(this);\n\t\t\t\t\t\te.find(\"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]\").each(function() {\n\t\t\t\t\t\t\tvar a = Math.min(Math.max(e[0].progress, -1), 1);\n\t\t\t\t\t\t\tu(this, a)\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tsetTransition: function(e) {\n\t\t\t\t\t\"undefined\" == typeof e && (e = b.params.speed), b.container.find(\"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]\").each(function() {\n\t\t\t\t\t\tvar t = a(this),\n\t\t\t\t\t\t\tr = parseInt(t.attr(\"data-swiper-parallax-duration\"), 10) || e;\n\t\t\t\t\t\t0 === e && (r = 0), t.transition(r)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}, b._plugins = [];\n\t\t\tfor (var R in b.plugins) {\n\t\t\t\tvar W = b.plugins[R](b, b.params[R]);\n\t\t\t\tW && b._plugins.push(W)\n\t\t\t}\n\t\t\treturn b.callPlugins = function(e) {\n\t\t\t\tfor (var a = 0; a < b._plugins.length; a++) e in b._plugins[a] && b._plugins[a][e](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5])\n\t\t\t}, b.emitterEventListeners = {}, b.emit = function(e) {\n\t\t\t\tb.params[e] && b.params[e](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n\t\t\t\tvar a;\n\t\t\t\tif (b.emitterEventListeners[e])\n\t\t\t\t\tfor (a = 0; a < b.emitterEventListeners[e].length; a++) b.emitterEventListeners[e][a](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n\t\t\t\tb.callPlugins && b.callPlugins(e, arguments[1], arguments[2], arguments[3], arguments[4], arguments[5])\n\t\t\t}, b.on = function(e, a) {\n\t\t\t\treturn e = c(e), b.emitterEventListeners[e] || (b.emitterEventListeners[e] = []), b.emitterEventListeners[e].push(a), b\n\t\t\t}, b.off = function(e, a) {\n\t\t\t\tvar t;\n\t\t\t\tif (e = c(e), \"undefined\" == typeof a) return b.emitterEventListeners[e] = [], b;\n\t\t\t\tif (b.emitterEventListeners[e] && 0 !== b.emitterEventListeners[e].length) {\n\t\t\t\t\tfor (t = 0; t < b.emitterEventListeners[e].length; t++) b.emitterEventListeners[e][t] === a && b.emitterEventListeners[e].splice(t, 1);\n\t\t\t\t\treturn b\n\t\t\t\t}\n\t\t\t}, b.once = function(e, a) {\n\t\t\t\te = c(e);\n\t\t\t\tvar t = function() {\n\t\t\t\t\ta(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]), b.off(e, t)\n\t\t\t\t};\n\t\t\t\treturn b.on(e, t), b\n\t\t\t}, b.a11y = {\n\t\t\t\tmakeFocusable: function(e) {\n\t\t\t\t\treturn e.attr(\"tabIndex\", \"0\"), e\n\t\t\t\t},\n\t\t\t\taddRole: function(e, a) {\n\t\t\t\t\treturn e.attr(\"role\", a), e\n\t\t\t\t},\n\t\t\t\taddLabel: function(e, a) {\n\t\t\t\t\treturn e.attr(\"aria-label\", a), e\n\t\t\t\t},\n\t\t\t\tdisable: function(e) {\n\t\t\t\t\treturn e.attr(\"aria-disabled\", !0), e\n\t\t\t\t},\n\t\t\t\tenable: function(e) {\n\t\t\t\t\treturn e.attr(\"aria-disabled\", !1), e\n\t\t\t\t},\n\t\t\t\tonEnterKey: function(e) {\n\t\t\t\t\t13 === e.keyCode && (a(e.target).is(b.params.nextButton) ? (b.onClickNext(e), b.isEnd ? b.a11y.notify(b.params.lastSlideMessage) : b.a11y.notify(b.params.nextSlideMessage)) : a(e.target).is(b.params.prevButton) && (b.onClickPrev(e), b.isBeginning ? b.a11y.notify(b.params.firstSlideMessage) : b.a11y.notify(b.params.prevSlideMessage)), a(e.target).is(\".\" + b.params.bulletClass) && a(e.target)[0].click())\n\t\t\t\t},\n\t\t\t\tliveRegion: a('<span class=\"swiper-notification\" aria-live=\"assertive\" aria-atomic=\"true\"></span>'),\n\t\t\t\tnotify: function(e) {\n\t\t\t\t\tvar a = b.a11y.liveRegion;\n\t\t\t\t\t0 !== a.length && (a.html(\"\"), a.html(e))\n\t\t\t\t},\n\t\t\t\tinit: function() {\n\t\t\t\t\tb.params.nextButton && b.nextButton && b.nextButton.length > 0 && (b.a11y.makeFocusable(b.nextButton), b.a11y.addRole(b.nextButton, \"button\"), b.a11y.addLabel(b.nextButton, b.params.nextSlideMessage)), b.params.prevButton && b.prevButton && b.prevButton.length > 0 && (b.a11y.makeFocusable(b.prevButton), b.a11y.addRole(b.prevButton, \"button\"), b.a11y.addLabel(b.prevButton, b.params.prevSlideMessage)), a(b.container).append(b.a11y.liveRegion)\n\t\t\t\t},\n\t\t\t\tinitPagination: function() {\n\t\t\t\t\tb.params.pagination && b.params.paginationClickable && b.bullets && b.bullets.length && b.bullets.each(function() {\n\t\t\t\t\t\tvar e = a(this);\n\t\t\t\t\t\tb.a11y.makeFocusable(e), b.a11y.addRole(e, \"button\"), b.a11y.addLabel(e, b.params.paginationBulletMessage.replace(/{{index}}/, e.index() + 1))\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tdestroy: function() {\n\t\t\t\t\tb.a11y.liveRegion && b.a11y.liveRegion.length > 0 && b.a11y.liveRegion.remove()\n\t\t\t\t}\n\t\t\t}, b.init = function() {\n\t\t\t\tb.params.loop && b.createLoop(), b.updateContainerSize(), b.updateSlidesSize(), b.updatePagination(), b.params.scrollbar && b.scrollbar && (b.scrollbar.set(), b.params.scrollbarDraggable && b.scrollbar.enableDraggable()), \"slide\" !== b.params.effect && b.effects[b.params.effect] && (b.params.loop || b.updateProgress(), b.effects[b.params.effect].setTranslate()), b.params.loop ? b.slideTo(b.params.initialSlide + b.loopedSlides, 0, b.params.runCallbacksOnInit) : (b.slideTo(b.params.initialSlide, 0, b.params.runCallbacksOnInit), 0 === b.params.initialSlide && (b.parallax && b.params.parallax && b.parallax.setTranslate(), b.lazy && b.params.lazyLoading && (b.lazy.load(), b.lazy.initialImageLoaded = !0))), b.attachEvents(), b.params.observer && b.support.observer && b.initObservers(), b.params.preloadImages && !b.params.lazyLoading && b.preloadImages(), b.params.autoplay && b.startAutoplay(), b.params.keyboardControl && b.enableKeyboardControl && b.enableKeyboardControl(), b.params.mousewheelControl && b.enableMousewheelControl && b.enableMousewheelControl(),\n\t\t\t\t\tb.params.hashnav && b.hashnav && b.hashnav.init(), b.params.a11y && b.a11y && b.a11y.init(), b.emit(\"onInit\", b)\n\t\t\t}, b.cleanupStyles = function() {\n\t\t\t\tb.container.removeClass(b.classNames.join(\" \")).removeAttr(\"style\"), b.wrapper.removeAttr(\"style\"), b.slides && b.slides.length && b.slides.removeClass([b.params.slideVisibleClass, b.params.slideActiveClass, b.params.slideNextClass, b.params.slidePrevClass].join(\" \")).removeAttr(\"style\").removeAttr(\"data-swiper-column\").removeAttr(\"data-swiper-row\"), b.paginationContainer && b.paginationContainer.length && b.paginationContainer.removeClass(b.params.paginationHiddenClass), b.bullets && b.bullets.length && b.bullets.removeClass(b.params.bulletActiveClass), b.params.prevButton && a(b.params.prevButton).removeClass(b.params.buttonDisabledClass), b.params.nextButton && a(b.params.nextButton).removeClass(b.params.buttonDisabledClass), b.params.scrollbar && b.scrollbar && (b.scrollbar.track && b.scrollbar.track.length && b.scrollbar.track.removeAttr(\"style\"), b.scrollbar.drag && b.scrollbar.drag.length && b.scrollbar.drag.removeAttr(\"style\"))\n\t\t\t}, b.destroy = function(e, a) {\n\t\t\t\tb.detachEvents(), b.stopAutoplay(), b.params.scrollbar && b.scrollbar && b.params.scrollbarDraggable && b.scrollbar.disableDraggable(), b.params.loop && b.destroyLoop(), a && b.cleanupStyles(), b.disconnectObservers(), b.params.keyboardControl && b.disableKeyboardControl && b.disableKeyboardControl(), b.params.mousewheelControl && b.disableMousewheelControl && b.disableMousewheelControl(), b.params.a11y && b.a11y && b.a11y.destroy(), b.emit(\"onDestroy\"), e !== !1 && (b = null)\n\t\t\t}, b.init(), b\n\t\t}\n\t};\n\tt.prototype = {\n\t\tisSafari: function() {\n\t\t\tvar e = navigator.userAgent.toLowerCase();\n\t\t\treturn e.indexOf(\"safari\") >= 0 && e.indexOf(\"chrome\") < 0 && e.indexOf(\"android\") < 0\n\t\t}(),\n\t\tisUiWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),\n\t\tisArray: function(e) {\n\t\t\treturn \"[object Array]\" === Object.prototype.toString.apply(e)\n\t\t},\n\t\tbrowser: {\n\t\t\tie: window.navigator.pointerEnabled || window.navigator.msPointerEnabled,\n\t\t\tieTouch: window.navigator.msPointerEnabled && window.navigator.msMaxTouchPoints > 1 || window.navigator.pointerEnabled && window.navigator.maxTouchPoints > 1\n\t\t},\n\t\tdevice: function() {\n\t\t\tvar e = navigator.userAgent,\n\t\t\t\ta = e.match(/(Android);?[\\s\\/]+([\\d.]+)?/),\n\t\t\t\tt = e.match(/(iPad).*OS\\s([\\d_]+)/),\n\t\t\t\tr = e.match(/(iPod)(.*OS\\s([\\d_]+))?/),\n\t\t\t\ti = !t && e.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n\t\t\treturn {\n\t\t\t\tios: t || i || r,\n\t\t\t\tandroid: a\n\t\t\t}\n\t\t}(),\n\t\tsupport: {\n\t\t\ttouch: window.Modernizr && Modernizr.touch === !0 || function() {\n\t\t\t\treturn !!(\"ontouchstart\" in window || window.DocumentTouch && document instanceof DocumentTouch)\n\t\t\t}(),\n\t\t\ttransforms3d: window.Modernizr && Modernizr.csstransforms3d === !0 || function() {\n\t\t\t\tvar e = document.createElement(\"div\").style;\n\t\t\t\treturn \"webkitPerspective\" in e || \"MozPerspective\" in e || \"OPerspective\" in e || \"MsPerspective\" in e || \"perspective\" in e\n\t\t\t}(),\n\t\t\tflexbox: function() {\n\t\t\t\tfor (var e = document.createElement(\"div\").style, a = \"alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient\".split(\" \"), t = 0; t < a.length; t++)\n\t\t\t\t\tif (a[t] in e) return !0\n\t\t\t}(),\n\t\t\tobserver: function() {\n\t\t\t\treturn \"MutationObserver\" in window || \"WebkitMutationObserver\" in window\n\t\t\t}()\n\t\t},\n\t\tplugins: {}\n\t};\n\tfor (var r = (function() {\n\t\t\tvar e = function(e) {\n\t\t\t\t\tvar a = this,\n\t\t\t\t\t\tt = 0;\n\t\t\t\t\tfor (t = 0; t < e.length; t++) a[t] = e[t];\n\t\t\t\t\treturn a.length = e.length, this\n\t\t\t\t},\n\t\t\t\ta = function(a, t) {\n\t\t\t\t\tvar r = [],\n\t\t\t\t\t\ti = 0;\n\t\t\t\t\tif (a && !t && a instanceof e) return a;\n\t\t\t\t\tif (a)\n\t\t\t\t\t\tif (\"string\" == typeof a) {\n\t\t\t\t\t\t\tvar s, n, o = a.trim();\n\t\t\t\t\t\t\tif (o.indexOf(\"<\") >= 0 && o.indexOf(\">\") >= 0) {\n\t\t\t\t\t\t\t\tvar l = \"div\";\n\t\t\t\t\t\t\t\tfor (0 === o.indexOf(\"<li\") && (l = \"ul\"), 0 === o.indexOf(\"<tr\") && (l = \"tbody\"), (0 === o.indexOf(\"<td\") || 0 === o.indexOf(\"<th\")) && (l = \"tr\"), 0 === o.indexOf(\"<tbody\") && (l = \"table\"), 0 === o.indexOf(\"<option\") && (l = \"select\"), n = document.createElement(l), n.innerHTML = a, i = 0; i < n.childNodes.length; i++) r.push(n.childNodes[i])\n\t\t\t\t\t\t\t} else\n\t\t\t\t\t\t\t\tfor (s = t || \"#\" !== a[0] || a.match(/[ .<>:~]/) ? (t || document).querySelectorAll(a) : [document.getElementById(a.split(\"#\")[1])], i = 0; i < s.length; i++) s[i] && r.push(s[i])\n\t\t\t\t\t\t} else if (a.nodeType || a === window || a === document) r.push(a);\n\t\t\t\t\telse if (a.length > 0 && a[0].nodeType)\n\t\t\t\t\t\tfor (i = 0; i < a.length; i++) r.push(a[i]);\n\t\t\t\t\treturn new e(r)\n\t\t\t\t};\n\t\t\treturn e.prototype = {\n\t\t\t\taddClass: function(e) {\n\t\t\t\t\tif (\"undefined\" == typeof e) return this;\n\t\t\t\t\tfor (var a = e.split(\" \"), t = 0; t < a.length; t++)\n\t\t\t\t\t\tfor (var r = 0; r < this.length; r++) this[r].classList.add(a[t]);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\tremoveClass: function(e) {\n\t\t\t\t\tfor (var a = e.split(\" \"), t = 0; t < a.length; t++)\n\t\t\t\t\t\tfor (var r = 0; r < this.length; r++) this[r].classList.remove(a[t]);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\thasClass: function(e) {\n\t\t\t\t\treturn this[0] ? this[0].classList.contains(e) : !1\n\t\t\t\t},\n\t\t\t\ttoggleClass: function(e) {\n\t\t\t\t\tfor (var a = e.split(\" \"), t = 0; t < a.length; t++)\n\t\t\t\t\t\tfor (var r = 0; r < this.length; r++) this[r].classList.toggle(a[t]);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\tattr: function(e, a) {\n\t\t\t\t\tif (1 === arguments.length && \"string\" == typeof e) return this[0] ? this[0].getAttribute(e) : void 0;\n\t\t\t\t\tfor (var t = 0; t < this.length; t++)\n\t\t\t\t\t\tif (2 === arguments.length) this[t].setAttribute(e, a);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tfor (var r in e) this[t][r] = e[r], this[t].setAttribute(r, e[r]);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\tremoveAttr: function(e) {\n\t\t\t\t\tfor (var a = 0; a < this.length; a++) this[a].removeAttribute(e);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\tdata: function(e, a) {\n\t\t\t\t\tif (\"undefined\" != typeof a) {\n\t\t\t\t\t\tfor (var t = 0; t < this.length; t++) {\n\t\t\t\t\t\t\tvar r = this[t];\n\t\t\t\t\t\t\tr.dom7ElementDataStorage || (r.dom7ElementDataStorage = {}), r.dom7ElementDataStorage[e] = a\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn this\n\t\t\t\t\t}\n\t\t\t\t\tif (this[0]) {\n\t\t\t\t\t\tvar i = this[0].getAttribute(\"data-\" + e);\n\t\t\t\t\t\treturn i ? i : this[0].dom7ElementDataStorage && e in this[0].dom7ElementDataStorage ? this[0].dom7ElementDataStorage[e] : void 0\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttransform: function(e) {\n\t\t\t\t\tfor (var a = 0; a < this.length; a++) {\n\t\t\t\t\t\tvar t = this[a].style;\n\t\t\t\t\t\tt.webkitTransform = t.MsTransform = t.msTransform = t.MozTransform = t.OTransform = t.transform = e\n\t\t\t\t\t}\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\ttransition: function(e) {\n\t\t\t\t\t\"string\" != typeof e && (e += \"ms\");\n\t\t\t\t\tfor (var a = 0; a < this.length; a++) {\n\t\t\t\t\t\tvar t = this[a].style;\n\t\t\t\t\t\tt.webkitTransitionDuration = t.MsTransitionDuration = t.msTransitionDuration = t.MozTransitionDuration = t.OTransitionDuration = t.transitionDuration = e\n\t\t\t\t\t}\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\ton: function(e, t, r, i) {\n\t\t\t\t\tfunction s(e) {\n\t\t\t\t\t\tvar i = e.target;\n\t\t\t\t\t\tif (a(i).is(t)) r.call(i, e);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tfor (var s = a(i).parents(), n = 0; n < s.length; n++) a(s[n]).is(t) && r.call(s[n], e)\n\t\t\t\t\t}\n\t\t\t\t\tvar n, o, l = e.split(\" \");\n\t\t\t\t\tfor (n = 0; n < this.length; n++)\n\t\t\t\t\t\tif (\"function\" == typeof t || t === !1)\n\t\t\t\t\t\t\tfor (\"function\" == typeof t && (r = arguments[1], i = arguments[2] || !1), o = 0; o < l.length; o++) this[n].addEventListener(l[o], r, i);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tfor (o = 0; o < l.length; o++) this[n].dom7LiveListeners || (this[n].dom7LiveListeners = []), this[n].dom7LiveListeners.push({\n\t\t\t\t\t\t\t\tlistener: r,\n\t\t\t\t\t\t\t\tliveListener: s\n\t\t\t\t\t\t\t}), this[n].addEventListener(l[o], s, i);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\toff: function(e, a, t, r) {\n\t\t\t\t\tfor (var i = e.split(\" \"), s = 0; s < i.length; s++)\n\t\t\t\t\t\tfor (var n = 0; n < this.length; n++)\n\t\t\t\t\t\t\tif (\"function\" == typeof a || a === !1) \"function\" == typeof a && (t = arguments[1], r = arguments[2] || !1), this[n].removeEventListener(i[s], t, r);\n\t\t\t\t\t\t\telse if (this[n].dom7LiveListeners)\n\t\t\t\t\t\tfor (var o = 0; o < this[n].dom7LiveListeners.length; o++) this[n].dom7LiveListeners[o].listener === t && this[n].removeEventListener(i[s], this[n].dom7LiveListeners[o].liveListener, r);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\tonce: function(e, a, t, r) {\n\t\t\t\t\tfunction i(n) {\n\t\t\t\t\t\tt(n), s.off(e, a, i, r)\n\t\t\t\t\t}\n\t\t\t\t\tvar s = this;\n\t\t\t\t\t\"function\" == typeof a && (a = !1, t = arguments[1], r = arguments[2]), s.on(e, a, i, r)\n\t\t\t\t},\n\t\t\t\ttrigger: function(e, a) {\n\t\t\t\t\tfor (var t = 0; t < this.length; t++) {\n\t\t\t\t\t\tvar r;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tr = new window.CustomEvent(e, {\n\t\t\t\t\t\t\t\tdetail: a,\n\t\t\t\t\t\t\t\tbubbles: !0,\n\t\t\t\t\t\t\t\tcancelable: !0\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} catch (i) {\n\t\t\t\t\t\t\tr = document.createEvent(\"Event\"), r.initEvent(e, !0, !0), r.detail = a\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis[t].dispatchEvent(r)\n\t\t\t\t\t}\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\ttransitionEnd: function(e) {\n\t\t\t\t\tfunction a(s) {\n\t\t\t\t\t\tif (s.target === this)\n\t\t\t\t\t\t\tfor (e.call(this, s), t = 0; t < r.length; t++) i.off(r[t], a)\n\t\t\t\t\t}\n\t\t\t\t\tvar t, r = [\"webkitTransitionEnd\", \"transitionend\", \"oTransitionEnd\", \"MSTransitionEnd\", \"msTransitionEnd\"],\n\t\t\t\t\t\ti = this;\n\t\t\t\t\tif (e)\n\t\t\t\t\t\tfor (t = 0; t < r.length; t++) i.on(r[t], a);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\twidth: function() {\n\t\t\t\t\treturn this[0] === window ? window.innerWidth : this.length > 0 ? parseFloat(this.css(\"width\")) : null\n\t\t\t\t},\n\t\t\t\touterWidth: function(e) {\n\t\t\t\t\treturn this.length > 0 ? e ? this[0].offsetWidth + parseFloat(this.css(\"margin-right\")) + parseFloat(this.css(\"margin-left\")) : this[0].offsetWidth : null\n\t\t\t\t},\n\t\t\t\theight: function() {\n\t\t\t\t\treturn this[0] === window ? window.innerHeight : this.length > 0 ? parseFloat(this.css(\"height\")) : null\n\t\t\t\t},\n\t\t\t\touterHeight: function(e) {\n\t\t\t\t\treturn this.length > 0 ? e ? this[0].offsetHeight + parseFloat(this.css(\"margin-top\")) + parseFloat(this.css(\"margin-bottom\")) : this[0].offsetHeight : null\n\t\t\t\t},\n\t\t\t\toffset: function() {\n\t\t\t\t\tif (this.length > 0) {\n\t\t\t\t\t\tvar e = this[0],\n\t\t\t\t\t\t\ta = e.getBoundingClientRect(),\n\t\t\t\t\t\t\tt = document.body,\n\t\t\t\t\t\t\tr = e.clientTop || t.clientTop || 0,\n\t\t\t\t\t\t\ti = e.clientLeft || t.clientLeft || 0,\n\t\t\t\t\t\t\ts = window.pageYOffset || e.scrollTop,\n\t\t\t\t\t\t\tn = window.pageXOffset || e.scrollLeft;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttop: a.top + s - r,\n\t\t\t\t\t\t\tleft: a.left + n - i\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null\n\t\t\t\t},\n\t\t\t\tcss: function(e, a) {\n\t\t\t\t\tvar t;\n\t\t\t\t\tif (1 === arguments.length) {\n\t\t\t\t\t\tif (\"string\" != typeof e) {\n\t\t\t\t\t\t\tfor (t = 0; t < this.length; t++)\n\t\t\t\t\t\t\t\tfor (var r in e) this[t].style[r] = e[r];\n\t\t\t\t\t\t\treturn this\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(e)\n\t\t\t\t\t}\n\t\t\t\t\tif (2 === arguments.length && \"string\" == typeof e) {\n\t\t\t\t\t\tfor (t = 0; t < this.length; t++) this[t].style[e] = a;\n\t\t\t\t\t\treturn this\n\t\t\t\t\t}\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\teach: function(e) {\n\t\t\t\t\tfor (var a = 0; a < this.length; a++) e.call(this[a], a, this[a]);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\thtml: function(e) {\n\t\t\t\t\tif (\"undefined\" == typeof e) return this[0] ? this[0].innerHTML : void 0;\n\t\t\t\t\tfor (var a = 0; a < this.length; a++) this[a].innerHTML = e;\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\ttext: function(e) {\n\t\t\t\t\tif (\"undefined\" == typeof e) return this[0] ? this[0].textContent.trim() : null;\n\t\t\t\t\tfor (var a = 0; a < this.length; a++) this[a].textContent = e;\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\tis: function(t) {\n\t\t\t\t\tif (!this[0]) return !1;\n\t\t\t\t\tvar r, i;\n\t\t\t\t\tif (\"string\" == typeof t) {\n\t\t\t\t\t\tvar s = this[0];\n\t\t\t\t\t\tif (s === document) return t === document;\n\t\t\t\t\t\tif (s === window) return t === window;\n\t\t\t\t\t\tif (s.matches) return s.matches(t);\n\t\t\t\t\t\tif (s.webkitMatchesSelector) return s.webkitMatchesSelector(t);\n\t\t\t\t\t\tif (s.mozMatchesSelector) return s.mozMatchesSelector(t);\n\t\t\t\t\t\tif (s.msMatchesSelector) return s.msMatchesSelector(t);\n\t\t\t\t\t\tfor (r = a(t), i = 0; i < r.length; i++)\n\t\t\t\t\t\t\tif (r[i] === this[0]) return !0;\n\t\t\t\t\t\treturn !1\n\t\t\t\t\t}\n\t\t\t\t\tif (t === document) return this[0] === document;\n\t\t\t\t\tif (t === window) return this[0] === window;\n\t\t\t\t\tif (t.nodeType || t instanceof e) {\n\t\t\t\t\t\tfor (r = t.nodeType ? [t] : t, i = 0; i < r.length; i++)\n\t\t\t\t\t\t\tif (r[i] === this[0]) return !0;\n\t\t\t\t\t\treturn !1\n\t\t\t\t\t}\n\t\t\t\t\treturn !1\n\t\t\t\t},\n\t\t\t\tindex: function() {\n\t\t\t\t\tif (this[0]) {\n\t\t\t\t\t\tfor (var e = this[0], a = 0; null !== (e = e.previousSibling);) 1 === e.nodeType && a++;\n\t\t\t\t\t\treturn a\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\teq: function(a) {\n\t\t\t\t\tif (\"undefined\" == typeof a) return this;\n\t\t\t\t\tvar t, r = this.length;\n\t\t\t\t\treturn a > r - 1 ? new e([]) : 0 > a ? (t = r + a, new e(0 > t ? [] : [this[t]])) : new e([this[a]])\n\t\t\t\t},\n\t\t\t\tappend: function(a) {\n\t\t\t\t\tvar t, r;\n\t\t\t\t\tfor (t = 0; t < this.length; t++)\n\t\t\t\t\t\tif (\"string\" == typeof a) {\n\t\t\t\t\t\t\tvar i = document.createElement(\"div\");\n\t\t\t\t\t\t\tfor (i.innerHTML = a; i.firstChild;) this[t].appendChild(i.firstChild)\n\t\t\t\t\t\t} else if (a instanceof e)\n\t\t\t\t\t\tfor (r = 0; r < a.length; r++) this[t].appendChild(a[r]);\n\t\t\t\t\telse this[t].appendChild(a);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\tprepend: function(a) {\n\t\t\t\t\tvar t, r;\n\t\t\t\t\tfor (t = 0; t < this.length; t++)\n\t\t\t\t\t\tif (\"string\" == typeof a) {\n\t\t\t\t\t\t\tvar i = document.createElement(\"div\");\n\t\t\t\t\t\t\tfor (i.innerHTML = a, r = i.childNodes.length - 1; r >= 0; r--) this[t].insertBefore(i.childNodes[r], this[t].childNodes[0])\n\t\t\t\t\t\t} else if (a instanceof e)\n\t\t\t\t\t\tfor (r = 0; r < a.length; r++) this[t].insertBefore(a[r], this[t].childNodes[0]);\n\t\t\t\t\telse this[t].insertBefore(a, this[t].childNodes[0]);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\tinsertBefore: function(e) {\n\t\t\t\t\tfor (var t = a(e), r = 0; r < this.length; r++)\n\t\t\t\t\t\tif (1 === t.length) t[0].parentNode.insertBefore(this[r], t[0]);\n\t\t\t\t\t\telse if (t.length > 1)\n\t\t\t\t\t\tfor (var i = 0; i < t.length; i++) t[i].parentNode.insertBefore(this[r].cloneNode(!0), t[i])\n\t\t\t\t},\n\t\t\t\tinsertAfter: function(e) {\n\t\t\t\t\tfor (var t = a(e), r = 0; r < this.length; r++)\n\t\t\t\t\t\tif (1 === t.length) t[0].parentNode.insertBefore(this[r], t[0].nextSibling);\n\t\t\t\t\t\telse if (t.length > 1)\n\t\t\t\t\t\tfor (var i = 0; i < t.length; i++) t[i].parentNode.insertBefore(this[r].cloneNode(!0), t[i].nextSibling)\n\t\t\t\t},\n\t\t\t\tnext: function(t) {\n\t\t\t\t\treturn new e(this.length > 0 ? t ? this[0].nextElementSibling && a(this[0].nextElementSibling).is(t) ? [this[0].nextElementSibling] : [] : this[0].nextElementSibling ? [this[0].nextElementSibling] : [] : [])\n\t\t\t\t},\n\t\t\t\tnextAll: function(t) {\n\t\t\t\t\tvar r = [],\n\t\t\t\t\t\ti = this[0];\n\t\t\t\t\tif (!i) return new e([]);\n\t\t\t\t\tfor (; i.nextElementSibling;) {\n\t\t\t\t\t\tvar s = i.nextElementSibling;\n\t\t\t\t\t\tt ? a(s).is(t) && r.push(s) : r.push(s), i = s\n\t\t\t\t\t}\n\t\t\t\t\treturn new e(r)\n\t\t\t\t},\n\t\t\t\tprev: function(t) {\n\t\t\t\t\treturn new e(this.length > 0 ? t ? this[0].previousElementSibling && a(this[0].previousElementSibling).is(t) ? [this[0].previousElementSibling] : [] : this[0].previousElementSibling ? [this[0].previousElementSibling] : [] : [])\n\t\t\t\t},\n\t\t\t\tprevAll: function(t) {\n\t\t\t\t\tvar r = [],\n\t\t\t\t\t\ti = this[0];\n\t\t\t\t\tif (!i) return new e([]);\n\t\t\t\t\tfor (; i.previousElementSibling;) {\n\t\t\t\t\t\tvar s = i.previousElementSibling;\n\t\t\t\t\t\tt ? a(s).is(t) && r.push(s) : r.push(s), i = s\n\t\t\t\t\t}\n\t\t\t\t\treturn new e(r)\n\t\t\t\t},\n\t\t\t\tparent: function(e) {\n\t\t\t\t\tfor (var t = [], r = 0; r < this.length; r++) e ? a(this[r].parentNode).is(e) && t.push(this[r].parentNode) : t.push(this[r].parentNode);\n\t\t\t\t\treturn a(a.unique(t))\n\t\t\t\t},\n\t\t\t\tparents: function(e) {\n\t\t\t\t\tfor (var t = [], r = 0; r < this.length; r++)\n\t\t\t\t\t\tfor (var i = this[r].parentNode; i;) e ? a(i).is(e) && t.push(i) : t.push(i), i = i.parentNode;\n\t\t\t\t\treturn a(a.unique(t))\n\t\t\t\t},\n\t\t\t\tfind: function(a) {\n\t\t\t\t\tfor (var t = [], r = 0; r < this.length; r++)\n\t\t\t\t\t\tfor (var i = this[r].querySelectorAll(a), s = 0; s < i.length; s++) t.push(i[s]);\n\t\t\t\t\treturn new e(t)\n\t\t\t\t},\n\t\t\t\tchildren: function(t) {\n\t\t\t\t\tfor (var r = [], i = 0; i < this.length; i++)\n\t\t\t\t\t\tfor (var s = this[i].childNodes, n = 0; n < s.length; n++) t ? 1 === s[n].nodeType && a(s[n]).is(t) && r.push(s[n]) : 1 === s[n].nodeType && r.push(s[n]);\n\t\t\t\t\treturn new e(a.unique(r))\n\t\t\t\t},\n\t\t\t\tremove: function() {\n\t\t\t\t\tfor (var e = 0; e < this.length; e++) this[e].parentNode && this[e].parentNode.removeChild(this[e]);\n\t\t\t\t\treturn this\n\t\t\t\t},\n\t\t\t\tadd: function() {\n\t\t\t\t\tvar e, t, r = this;\n\t\t\t\t\tfor (e = 0; e < arguments.length; e++) {\n\t\t\t\t\t\tvar i = a(arguments[e]);\n\t\t\t\t\t\tfor (t = 0; t < i.length; t++) r[r.length] = i[t], r.length++\n\t\t\t\t\t}\n\t\t\t\t\treturn r\n\t\t\t\t}\n\t\t\t}, a.fn = e.prototype, a.unique = function(e) {\n\t\t\t\tfor (var a = [], t = 0; t < e.length; t++) - 1 === a.indexOf(e[t]) && a.push(e[t]);\n\t\t\t\treturn a\n\t\t\t}, a\n\t\t}()), i = [\"jQuery\", \"Zepto\", \"Dom7\"], s = 0; s < i.length; s++) window[i[s]] && e(window[i[s]]);\n\tvar n;\n\tn = \"undefined\" == typeof r ? window.Dom7 || window.Zepto || window.jQuery : r, n && (\"transitionEnd\" in n.fn || (n.fn.transitionEnd = function(e) {\n\t\tfunction a(s) {\n\t\t\tif (s.target === this)\n\t\t\t\tfor (e.call(this, s), t = 0; t < r.length; t++) i.off(r[t], a)\n\t\t}\n\t\tvar t, r = [\"webkitTransitionEnd\", \"transitionend\", \"oTransitionEnd\", \"MSTransitionEnd\", \"msTransitionEnd\"],\n\t\t\ti = this;\n\t\tif (e)\n\t\t\tfor (t = 0; t < r.length; t++) i.on(r[t], a);\n\t\treturn this\n\t}), \"transform\" in n.fn || (n.fn.transform = function(e) {\n\t\tfor (var a = 0; a < this.length; a++) {\n\t\t\tvar t = this[a].style;\n\t\t\tt.webkitTransform = t.MsTransform = t.msTransform = t.MozTransform = t.OTransform = t.transform = e\n\t\t}\n\t\treturn this\n\t}), \"transition\" in n.fn || (n.fn.transition = function(e) {\n\t\t\"string\" != typeof e && (e += \"ms\");\n\t\tfor (var a = 0; a < this.length; a++) {\n\t\t\tvar t = this[a].style;\n\t\t\tt.webkitTransitionDuration = t.MsTransitionDuration = t.msTransitionDuration = t.MozTransitionDuration = t.OTransitionDuration = t.transitionDuration = e\n\t\t}\n\t\treturn this\n\t})), window.Swiper = t\n}(),  true ? module.exports = window.Swiper : \"function\" == typeof define && define.amd && define([], function() {\n\t\"use strict\";\n\treturn window.Swiper\n});\n//# sourceMappingURL=maps/swiper.min.js.map\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb25nc29uZy9qcy9zd2lwZXItMy4zLjEubWluLmpzP2UzMjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGNBQWM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLE9BQU87QUFDbkQ7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLG1CQUFtQixjQUFjO0FBQ2pDO0FBQ0EsSUFBSTtBQUNK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Q0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0QiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiogSU1QT1JUUyBGUk9NIGltcG9ydHMtbG9hZGVyICoqKi9cbnZhciBkZWZpbmUgPSBmYWxzZTtcblxuLyoqXG4gKiBTd2lwZXIgMy4zLjFcbiAqIE1vc3QgbW9kZXJuIG1vYmlsZSB0b3VjaCBzbGlkZXIgYW5kIGZyYW1ld29yayB3aXRoIGhhcmR3YXJlIGFjY2VsZXJhdGVkIHRyYW5zaXRpb25zXG4gKiBcbiAqIGh0dHA6Ly93d3cuaWRhbmdlcm8udXMvc3dpcGVyL1xuICogXG4gKiBDb3B5cmlnaHQgMjAxNiwgVmxhZGltaXIgS2hhcmxhbXBpZGlcbiAqIFRoZSBpRGFuZ2Vyby51c1xuICogaHR0cDovL3d3dy5pZGFuZ2Vyby51cy9cbiAqIFxuICogTGljZW5zZWQgdW5kZXIgTUlUXG4gKiBcbiAqIFJlbGVhc2VkIG9uOiBGZWJydWFyeSA3LCAyMDE2XG4gKi9cbiEgZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGZ1bmN0aW9uIGUoZSkge1xuXHRcdGUuZm4uc3dpcGVyID0gZnVuY3Rpb24oYSkge1xuXHRcdFx0dmFyIHI7XG5cdFx0XHRyZXR1cm4gZSh0aGlzKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZSA9IG5ldyB0KHRoaXMsIGEpO1xuXHRcdFx0XHRyIHx8IChyID0gZSlcblx0XHRcdH0pLCByXG5cdFx0fVxuXHR9XG5cdHZhciBhLCB0ID0gZnVuY3Rpb24oZSwgaSkge1xuXHRcdGZ1bmN0aW9uIHMoZSkge1xuXHRcdFx0cmV0dXJuIE1hdGguZmxvb3IoZSlcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBuKCkge1xuXHRcdFx0Yi5hdXRvcGxheVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGIucGFyYW1zLmxvb3AgPyAoYi5maXhMb29wKCksIGIuX3NsaWRlTmV4dCgpLCBiLmVtaXQoXCJvbkF1dG9wbGF5XCIsIGIpKSA6IGIuaXNFbmQgPyBpLmF1dG9wbGF5U3RvcE9uTGFzdCA/IGIuc3RvcEF1dG9wbGF5KCkgOiAoYi5fc2xpZGVUbygwKSwgYi5lbWl0KFwib25BdXRvcGxheVwiLCBiKSkgOiAoYi5fc2xpZGVOZXh0KCksIGIuZW1pdChcIm9uQXV0b3BsYXlcIiwgYikpXG5cdFx0XHR9LCBiLnBhcmFtcy5hdXRvcGxheSlcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBvKGUsIHQpIHtcblx0XHRcdHZhciByID0gYShlLnRhcmdldCk7XG5cdFx0XHRpZiAoIXIuaXModCkpXG5cdFx0XHRcdGlmIChcInN0cmluZ1wiID09IHR5cGVvZiB0KSByID0gci5wYXJlbnRzKHQpO1xuXHRcdFx0XHRlbHNlIGlmICh0Lm5vZGVUeXBlKSB7XG5cdFx0XHRcdHZhciBpO1xuXHRcdFx0XHRyZXR1cm4gci5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbihlLCBhKSB7XG5cdFx0XHRcdFx0YSA9PT0gdCAmJiAoaSA9IHQpXG5cdFx0XHRcdH0pLCBpID8gdCA6IHZvaWQgMFxuXHRcdFx0fVxuXHRcdFx0aWYgKDAgIT09IHIubGVuZ3RoKSByZXR1cm4gclswXVxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGwoZSwgYSkge1xuXHRcdFx0YSA9IGEgfHwge307XG5cdFx0XHR2YXIgdCA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5XZWJraXRNdXRhdGlvbk9ic2VydmVyLFxuXHRcdFx0XHRyID0gbmV3IHQoZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdGUuZm9yRWFjaChmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0XHRiLm9uUmVzaXplKCEwKSwgYi5lbWl0KFwib25PYnNlcnZlclVwZGF0ZVwiLCBiLCBlKVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH0pO1xuXHRcdFx0ci5vYnNlcnZlKGUsIHtcblx0XHRcdFx0YXR0cmlidXRlczogXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgYS5hdHRyaWJ1dGVzID8gITAgOiBhLmF0dHJpYnV0ZXMsXG5cdFx0XHRcdGNoaWxkTGlzdDogXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgYS5jaGlsZExpc3QgPyAhMCA6IGEuY2hpbGRMaXN0LFxuXHRcdFx0XHRjaGFyYWN0ZXJEYXRhOiBcInVuZGVmaW5lZFwiID09IHR5cGVvZiBhLmNoYXJhY3RlckRhdGEgPyAhMCA6IGEuY2hhcmFjdGVyRGF0YVxuXHRcdFx0fSksIGIub2JzZXJ2ZXJzLnB1c2gocilcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBwKGUpIHtcblx0XHRcdGUub3JpZ2luYWxFdmVudCAmJiAoZSA9IGUub3JpZ2luYWxFdmVudCk7XG5cdFx0XHR2YXIgYSA9IGUua2V5Q29kZSB8fCBlLmNoYXJDb2RlO1xuXHRcdFx0aWYgKCFiLnBhcmFtcy5hbGxvd1N3aXBlVG9OZXh0ICYmIChiLmlzSG9yaXpvbnRhbCgpICYmIDM5ID09PSBhIHx8ICFiLmlzSG9yaXpvbnRhbCgpICYmIDQwID09PSBhKSkgcmV0dXJuICExO1xuXHRcdFx0aWYgKCFiLnBhcmFtcy5hbGxvd1N3aXBlVG9QcmV2ICYmIChiLmlzSG9yaXpvbnRhbCgpICYmIDM3ID09PSBhIHx8ICFiLmlzSG9yaXpvbnRhbCgpICYmIDM4ID09PSBhKSkgcmV0dXJuICExO1xuXHRcdFx0aWYgKCEoZS5zaGlmdEtleSB8fCBlLmFsdEtleSB8fCBlLmN0cmxLZXkgfHwgZS5tZXRhS2V5IHx8IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ub2RlTmFtZSAmJiAoXCJpbnB1dFwiID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgfHwgXCJ0ZXh0YXJlYVwiID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKSkge1xuXHRcdFx0XHRpZiAoMzcgPT09IGEgfHwgMzkgPT09IGEgfHwgMzggPT09IGEgfHwgNDAgPT09IGEpIHtcblx0XHRcdFx0XHR2YXIgdCA9ICExO1xuXHRcdFx0XHRcdGlmIChiLmNvbnRhaW5lci5wYXJlbnRzKFwiLnN3aXBlci1zbGlkZVwiKS5sZW5ndGggPiAwICYmIDAgPT09IGIuY29udGFpbmVyLnBhcmVudHMoXCIuc3dpcGVyLXNsaWRlLWFjdGl2ZVwiKS5sZW5ndGgpIHJldHVybjtcblx0XHRcdFx0XHR2YXIgciA9IHtcblx0XHRcdFx0XHRcdFx0bGVmdDogd2luZG93LnBhZ2VYT2Zmc2V0LFxuXHRcdFx0XHRcdFx0XHR0b3A6IHdpbmRvdy5wYWdlWU9mZnNldFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdGkgPSB3aW5kb3cuaW5uZXJXaWR0aCxcblx0XHRcdFx0XHRcdHMgPSB3aW5kb3cuaW5uZXJIZWlnaHQsXG5cdFx0XHRcdFx0XHRuID0gYi5jb250YWluZXIub2Zmc2V0KCk7XG5cdFx0XHRcdFx0Yi5ydGwgJiYgKG4ubGVmdCA9IG4ubGVmdCAtIGIuY29udGFpbmVyWzBdLnNjcm9sbExlZnQpO1xuXHRcdFx0XHRcdGZvciAodmFyIG8gPSBbXG5cdFx0XHRcdFx0XHRcdFtuLmxlZnQsIG4udG9wXSxcblx0XHRcdFx0XHRcdFx0W24ubGVmdCArIGIud2lkdGgsIG4udG9wXSxcblx0XHRcdFx0XHRcdFx0W24ubGVmdCwgbi50b3AgKyBiLmhlaWdodF0sXG5cdFx0XHRcdFx0XHRcdFtuLmxlZnQgKyBiLndpZHRoLCBuLnRvcCArIGIuaGVpZ2h0XVxuXHRcdFx0XHRcdFx0XSwgbCA9IDA7IGwgPCBvLmxlbmd0aDsgbCsrKSB7XG5cdFx0XHRcdFx0XHR2YXIgcCA9IG9bbF07XG5cdFx0XHRcdFx0XHRwWzBdID49IHIubGVmdCAmJiBwWzBdIDw9IHIubGVmdCArIGkgJiYgcFsxXSA+PSByLnRvcCAmJiBwWzFdIDw9IHIudG9wICsgcyAmJiAodCA9ICEwKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIXQpIHJldHVyblxuXHRcdFx0XHR9XG5cdFx0XHRcdGIuaXNIb3Jpem9udGFsKCkgPyAoKDM3ID09PSBhIHx8IDM5ID09PSBhKSAmJiAoZS5wcmV2ZW50RGVmYXVsdCA/IGUucHJldmVudERlZmF1bHQoKSA6IGUucmV0dXJuVmFsdWUgPSAhMSksICgzOSA9PT0gYSAmJiAhYi5ydGwgfHwgMzcgPT09IGEgJiYgYi5ydGwpICYmIGIuc2xpZGVOZXh0KCksICgzNyA9PT0gYSAmJiAhYi5ydGwgfHwgMzkgPT09IGEgJiYgYi5ydGwpICYmIGIuc2xpZGVQcmV2KCkpIDogKCgzOCA9PT0gYSB8fCA0MCA9PT0gYSkgJiYgKGUucHJldmVudERlZmF1bHQgPyBlLnByZXZlbnREZWZhdWx0KCkgOiBlLnJldHVyblZhbHVlID0gITEpLCA0MCA9PT0gYSAmJiBiLnNsaWRlTmV4dCgpLCAzOCA9PT0gYSAmJiBiLnNsaWRlUHJldigpKVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGQoZSkge1xuXHRcdFx0ZS5vcmlnaW5hbEV2ZW50ICYmIChlID0gZS5vcmlnaW5hbEV2ZW50KTtcblx0XHRcdHZhciBhID0gYi5tb3VzZXdoZWVsLmV2ZW50LFxuXHRcdFx0XHR0ID0gMCxcblx0XHRcdFx0ciA9IGIucnRsID8gLTEgOiAxO1xuXHRcdFx0aWYgKFwibW91c2V3aGVlbFwiID09PSBhKVxuXHRcdFx0XHRpZiAoYi5wYXJhbXMubW91c2V3aGVlbEZvcmNlVG9BeGlzKVxuXHRcdFx0XHRcdGlmIChiLmlzSG9yaXpvbnRhbCgpKSB7XG5cdFx0XHRcdFx0XHRpZiAoIShNYXRoLmFicyhlLndoZWVsRGVsdGFYKSA+IE1hdGguYWJzKGUud2hlZWxEZWx0YVkpKSkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0dCA9IGUud2hlZWxEZWx0YVggKiByXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlmICghKE1hdGguYWJzKGUud2hlZWxEZWx0YVkpID4gTWF0aC5hYnMoZS53aGVlbERlbHRhWCkpKSByZXR1cm47XG5cdFx0XHRcdFx0XHR0ID0gZS53aGVlbERlbHRhWVxuXHRcdFx0XHRcdH1cblx0XHRcdGVsc2UgdCA9IE1hdGguYWJzKGUud2hlZWxEZWx0YVgpID4gTWF0aC5hYnMoZS53aGVlbERlbHRhWSkgPyAtZS53aGVlbERlbHRhWCAqIHIgOiAtZS53aGVlbERlbHRhWTtcblx0XHRcdGVsc2UgaWYgKFwiRE9NTW91c2VTY3JvbGxcIiA9PT0gYSkgdCA9IC1lLmRldGFpbDtcblx0XHRcdGVsc2UgaWYgKFwid2hlZWxcIiA9PT0gYSlcblx0XHRcdFx0aWYgKGIucGFyYW1zLm1vdXNld2hlZWxGb3JjZVRvQXhpcylcblx0XHRcdFx0XHRpZiAoYi5pc0hvcml6b250YWwoKSkge1xuXHRcdFx0XHRcdFx0aWYgKCEoTWF0aC5hYnMoZS5kZWx0YVgpID4gTWF0aC5hYnMoZS5kZWx0YVkpKSkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0dCA9IC1lLmRlbHRhWCAqIHJcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0aWYgKCEoTWF0aC5hYnMoZS5kZWx0YVkpID4gTWF0aC5hYnMoZS5kZWx0YVgpKSkgcmV0dXJuO1xuXHRcdFx0XHRcdFx0dCA9IC1lLmRlbHRhWVxuXHRcdFx0XHRcdH1cblx0XHRcdGVsc2UgdCA9IE1hdGguYWJzKGUuZGVsdGFYKSA+IE1hdGguYWJzKGUuZGVsdGFZKSA/IC1lLmRlbHRhWCAqIHIgOiAtZS5kZWx0YVk7XG5cdFx0XHRpZiAoMCAhPT0gdCkge1xuXHRcdFx0XHRpZiAoYi5wYXJhbXMubW91c2V3aGVlbEludmVydCAmJiAodCA9IC10KSwgYi5wYXJhbXMuZnJlZU1vZGUpIHtcblx0XHRcdFx0XHR2YXIgaSA9IGIuZ2V0V3JhcHBlclRyYW5zbGF0ZSgpICsgdCAqIGIucGFyYW1zLm1vdXNld2hlZWxTZW5zaXRpdml0eSxcblx0XHRcdFx0XHRcdHMgPSBiLmlzQmVnaW5uaW5nLFxuXHRcdFx0XHRcdFx0biA9IGIuaXNFbmQ7XG5cdFx0XHRcdFx0aWYgKGkgPj0gYi5taW5UcmFuc2xhdGUoKSAmJiAoaSA9IGIubWluVHJhbnNsYXRlKCkpLCBpIDw9IGIubWF4VHJhbnNsYXRlKCkgJiYgKGkgPSBiLm1heFRyYW5zbGF0ZSgpKSwgYi5zZXRXcmFwcGVyVHJhbnNpdGlvbigwKSwgYi5zZXRXcmFwcGVyVHJhbnNsYXRlKGkpLCBiLnVwZGF0ZVByb2dyZXNzKCksIGIudXBkYXRlQWN0aXZlSW5kZXgoKSwgKCFzICYmIGIuaXNCZWdpbm5pbmcgfHwgIW4gJiYgYi5pc0VuZCkgJiYgYi51cGRhdGVDbGFzc2VzKCksIGIucGFyYW1zLmZyZWVNb2RlU3RpY2t5ID8gKGNsZWFyVGltZW91dChiLm1vdXNld2hlZWwudGltZW91dCksIGIubW91c2V3aGVlbC50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0Yi5zbGlkZVJlc2V0KClcblx0XHRcdFx0XHRcdH0sIDMwMCkpIDogYi5wYXJhbXMubGF6eUxvYWRpbmcgJiYgYi5sYXp5ICYmIGIubGF6eS5sb2FkKCksIDAgPT09IGkgfHwgaSA9PT0gYi5tYXhUcmFuc2xhdGUoKSkgcmV0dXJuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKChuZXcgd2luZG93LkRhdGUpLmdldFRpbWUoKSAtIGIubW91c2V3aGVlbC5sYXN0U2Nyb2xsVGltZSA+IDYwKVxuXHRcdFx0XHRcdFx0aWYgKDAgPiB0KVxuXHRcdFx0XHRcdFx0XHRpZiAoYi5pc0VuZCAmJiAhYi5wYXJhbXMubG9vcCB8fCBiLmFuaW1hdGluZykge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChiLnBhcmFtcy5tb3VzZXdoZWVsUmVsZWFzZU9uRWRnZXMpIHJldHVybiAhMFxuXHRcdFx0XHRcdFx0XHR9IGVsc2UgYi5zbGlkZU5leHQoKTtcblx0XHRcdFx0XHRlbHNlIGlmIChiLmlzQmVnaW5uaW5nICYmICFiLnBhcmFtcy5sb29wIHx8IGIuYW5pbWF0aW5nKSB7XG5cdFx0XHRcdFx0XHRpZiAoYi5wYXJhbXMubW91c2V3aGVlbFJlbGVhc2VPbkVkZ2VzKSByZXR1cm4gITBcblx0XHRcdFx0XHR9IGVsc2UgYi5zbGlkZVByZXYoKTtcblx0XHRcdFx0XHRiLm1vdXNld2hlZWwubGFzdFNjcm9sbFRpbWUgPSAobmV3IHdpbmRvdy5EYXRlKS5nZXRUaW1lKClcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gYi5wYXJhbXMuYXV0b3BsYXkgJiYgYi5zdG9wQXV0b3BsYXkoKSwgZS5wcmV2ZW50RGVmYXVsdCA/IGUucHJldmVudERlZmF1bHQoKSA6IGUucmV0dXJuVmFsdWUgPSAhMSwgITFcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmdW5jdGlvbiB1KGUsIHQpIHtcblx0XHRcdGUgPSBhKGUpO1xuXHRcdFx0dmFyIHIsIGksIHMsIG4gPSBiLnJ0bCA/IC0xIDogMTtcblx0XHRcdHIgPSBlLmF0dHIoXCJkYXRhLXN3aXBlci1wYXJhbGxheFwiKSB8fCBcIjBcIiwgaSA9IGUuYXR0cihcImRhdGEtc3dpcGVyLXBhcmFsbGF4LXhcIiksIHMgPSBlLmF0dHIoXCJkYXRhLXN3aXBlci1wYXJhbGxheC15XCIpLCBpIHx8IHMgPyAoaSA9IGkgfHwgXCIwXCIsIHMgPSBzIHx8IFwiMFwiKSA6IGIuaXNIb3Jpem9udGFsKCkgPyAoaSA9IHIsIHMgPSBcIjBcIikgOiAocyA9IHIsIGkgPSBcIjBcIiksIGkgPSBpLmluZGV4T2YoXCIlXCIpID49IDAgPyBwYXJzZUludChpLCAxMCkgKiB0ICogbiArIFwiJVwiIDogaSAqIHQgKiBuICsgXCJweFwiLCBzID0gcy5pbmRleE9mKFwiJVwiKSA+PSAwID8gcGFyc2VJbnQocywgMTApICogdCArIFwiJVwiIDogcyAqIHQgKyBcInB4XCIsIGUudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoXCIgKyBpICsgXCIsIFwiICsgcyArIFwiLDBweClcIilcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBjKGUpIHtcblx0XHRcdHJldHVybiAwICE9PSBlLmluZGV4T2YoXCJvblwiKSAmJiAoZSA9IGVbMF0gIT09IGVbMF0udG9VcHBlckNhc2UoKSA/IFwib25cIiArIGVbMF0udG9VcHBlckNhc2UoKSArIGUuc3Vic3RyaW5nKDEpIDogXCJvblwiICsgZSksIGVcblx0XHR9XG5cdFx0aWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSByZXR1cm4gbmV3IHQoZSwgaSk7XG5cdFx0dmFyIG0gPSB7XG5cdFx0XHRcdGRpcmVjdGlvbjogXCJob3Jpem9udGFsXCIsXG5cdFx0XHRcdHRvdWNoRXZlbnRzVGFyZ2V0OiBcImNvbnRhaW5lclwiLFxuXHRcdFx0XHRpbml0aWFsU2xpZGU6IDAsXG5cdFx0XHRcdHNwZWVkOiAzMDAsXG5cdFx0XHRcdGF1dG9wbGF5OiAhMSxcblx0XHRcdFx0YXV0b3BsYXlEaXNhYmxlT25JbnRlcmFjdGlvbjogITAsXG5cdFx0XHRcdGF1dG9wbGF5U3RvcE9uTGFzdDogITEsXG5cdFx0XHRcdGlPU0VkZ2VTd2lwZURldGVjdGlvbjogITEsXG5cdFx0XHRcdGlPU0VkZ2VTd2lwZVRocmVzaG9sZDogMjAsXG5cdFx0XHRcdGZyZWVNb2RlOiAhMSxcblx0XHRcdFx0ZnJlZU1vZGVNb21lbnR1bTogITAsXG5cdFx0XHRcdGZyZWVNb2RlTW9tZW50dW1SYXRpbzogMSxcblx0XHRcdFx0ZnJlZU1vZGVNb21lbnR1bUJvdW5jZTogITAsXG5cdFx0XHRcdGZyZWVNb2RlTW9tZW50dW1Cb3VuY2VSYXRpbzogMSxcblx0XHRcdFx0ZnJlZU1vZGVTdGlja3k6ICExLFxuXHRcdFx0XHRmcmVlTW9kZU1pbmltdW1WZWxvY2l0eTogLjAyLFxuXHRcdFx0XHRhdXRvSGVpZ2h0OiAhMSxcblx0XHRcdFx0c2V0V3JhcHBlclNpemU6ICExLFxuXHRcdFx0XHR2aXJ0dWFsVHJhbnNsYXRlOiAhMSxcblx0XHRcdFx0ZWZmZWN0OiBcInNsaWRlXCIsXG5cdFx0XHRcdGNvdmVyZmxvdzoge1xuXHRcdFx0XHRcdHJvdGF0ZTogNTAsXG5cdFx0XHRcdFx0c3RyZXRjaDogMCxcblx0XHRcdFx0XHRkZXB0aDogMTAwLFxuXHRcdFx0XHRcdG1vZGlmaWVyOiAxLFxuXHRcdFx0XHRcdHNsaWRlU2hhZG93czogITBcblx0XHRcdFx0fSxcblx0XHRcdFx0ZmxpcDoge1xuXHRcdFx0XHRcdHNsaWRlU2hhZG93czogITAsXG5cdFx0XHRcdFx0bGltaXRSb3RhdGlvbjogITBcblx0XHRcdFx0fSxcblx0XHRcdFx0Y3ViZToge1xuXHRcdFx0XHRcdHNsaWRlU2hhZG93czogITAsXG5cdFx0XHRcdFx0c2hhZG93OiAhMCxcblx0XHRcdFx0XHRzaGFkb3dPZmZzZXQ6IDIwLFxuXHRcdFx0XHRcdHNoYWRvd1NjYWxlOiAuOTRcblx0XHRcdFx0fSxcblx0XHRcdFx0ZmFkZToge1xuXHRcdFx0XHRcdGNyb3NzRmFkZTogITFcblx0XHRcdFx0fSxcblx0XHRcdFx0cGFyYWxsYXg6ICExLFxuXHRcdFx0XHRzY3JvbGxiYXI6IG51bGwsXG5cdFx0XHRcdHNjcm9sbGJhckhpZGU6ICEwLFxuXHRcdFx0XHRzY3JvbGxiYXJEcmFnZ2FibGU6ICExLFxuXHRcdFx0XHRzY3JvbGxiYXJTbmFwT25SZWxlYXNlOiAhMSxcblx0XHRcdFx0a2V5Ym9hcmRDb250cm9sOiAhMSxcblx0XHRcdFx0bW91c2V3aGVlbENvbnRyb2w6ICExLFxuXHRcdFx0XHRtb3VzZXdoZWVsUmVsZWFzZU9uRWRnZXM6ICExLFxuXHRcdFx0XHRtb3VzZXdoZWVsSW52ZXJ0OiAhMSxcblx0XHRcdFx0bW91c2V3aGVlbEZvcmNlVG9BeGlzOiAhMSxcblx0XHRcdFx0bW91c2V3aGVlbFNlbnNpdGl2aXR5OiAxLFxuXHRcdFx0XHRoYXNobmF2OiAhMSxcblx0XHRcdFx0YnJlYWtwb2ludHM6IHZvaWQgMCxcblx0XHRcdFx0c3BhY2VCZXR3ZWVuOiAwLFxuXHRcdFx0XHRzbGlkZXNQZXJWaWV3OiAxLFxuXHRcdFx0XHRzbGlkZXNQZXJDb2x1bW46IDEsXG5cdFx0XHRcdHNsaWRlc1BlckNvbHVtbkZpbGw6IFwiY29sdW1uXCIsXG5cdFx0XHRcdHNsaWRlc1Blckdyb3VwOiAxLFxuXHRcdFx0XHRjZW50ZXJlZFNsaWRlczogITEsXG5cdFx0XHRcdHNsaWRlc09mZnNldEJlZm9yZTogMCxcblx0XHRcdFx0c2xpZGVzT2Zmc2V0QWZ0ZXI6IDAsXG5cdFx0XHRcdHJvdW5kTGVuZ3RoczogITEsXG5cdFx0XHRcdHRvdWNoUmF0aW86IDEsXG5cdFx0XHRcdHRvdWNoQW5nbGU6IDQ1LFxuXHRcdFx0XHRzaW11bGF0ZVRvdWNoOiAhMCxcblx0XHRcdFx0c2hvcnRTd2lwZXM6ICEwLFxuXHRcdFx0XHRsb25nU3dpcGVzOiAhMCxcblx0XHRcdFx0bG9uZ1N3aXBlc1JhdGlvOiAuNSxcblx0XHRcdFx0bG9uZ1N3aXBlc01zOiAzMDAsXG5cdFx0XHRcdGZvbGxvd0ZpbmdlcjogITAsXG5cdFx0XHRcdG9ubHlFeHRlcm5hbDogITEsXG5cdFx0XHRcdHRocmVzaG9sZDogMCxcblx0XHRcdFx0dG91Y2hNb3ZlU3RvcFByb3BhZ2F0aW9uOiAhMCxcblx0XHRcdFx0dW5pcXVlTmF2RWxlbWVudHM6ICEwLFxuXHRcdFx0XHRwYWdpbmF0aW9uOiBudWxsLFxuXHRcdFx0XHRwYWdpbmF0aW9uRWxlbWVudDogXCJzcGFuXCIsXG5cdFx0XHRcdHBhZ2luYXRpb25DbGlja2FibGU6ICExLFxuXHRcdFx0XHRwYWdpbmF0aW9uSGlkZTogITEsXG5cdFx0XHRcdHBhZ2luYXRpb25CdWxsZXRSZW5kZXI6IG51bGwsXG5cdFx0XHRcdHBhZ2luYXRpb25Qcm9ncmVzc1JlbmRlcjogbnVsbCxcblx0XHRcdFx0cGFnaW5hdGlvbkZyYWN0aW9uUmVuZGVyOiBudWxsLFxuXHRcdFx0XHRwYWdpbmF0aW9uQ3VzdG9tUmVuZGVyOiBudWxsLFxuXHRcdFx0XHRwYWdpbmF0aW9uVHlwZTogXCJidWxsZXRzXCIsXG5cdFx0XHRcdHJlc2lzdGFuY2U6ICEwLFxuXHRcdFx0XHRyZXNpc3RhbmNlUmF0aW86IC44NSxcblx0XHRcdFx0bmV4dEJ1dHRvbjogbnVsbCxcblx0XHRcdFx0cHJldkJ1dHRvbjogbnVsbCxcblx0XHRcdFx0d2F0Y2hTbGlkZXNQcm9ncmVzczogITEsXG5cdFx0XHRcdHdhdGNoU2xpZGVzVmlzaWJpbGl0eTogITEsXG5cdFx0XHRcdGdyYWJDdXJzb3I6ICExLFxuXHRcdFx0XHRwcmV2ZW50Q2xpY2tzOiAhMCxcblx0XHRcdFx0cHJldmVudENsaWNrc1Byb3BhZ2F0aW9uOiAhMCxcblx0XHRcdFx0c2xpZGVUb0NsaWNrZWRTbGlkZTogITEsXG5cdFx0XHRcdGxhenlMb2FkaW5nOiAhMSxcblx0XHRcdFx0bGF6eUxvYWRpbmdJblByZXZOZXh0OiAhMSxcblx0XHRcdFx0bGF6eUxvYWRpbmdJblByZXZOZXh0QW1vdW50OiAxLFxuXHRcdFx0XHRsYXp5TG9hZGluZ09uVHJhbnNpdGlvblN0YXJ0OiAhMSxcblx0XHRcdFx0cHJlbG9hZEltYWdlczogITAsXG5cdFx0XHRcdHVwZGF0ZU9uSW1hZ2VzUmVhZHk6ICEwLFxuXHRcdFx0XHRsb29wOiAhMSxcblx0XHRcdFx0bG9vcEFkZGl0aW9uYWxTbGlkZXM6IDAsXG5cdFx0XHRcdGxvb3BlZFNsaWRlczogbnVsbCxcblx0XHRcdFx0Y29udHJvbDogdm9pZCAwLFxuXHRcdFx0XHRjb250cm9sSW52ZXJzZTogITEsXG5cdFx0XHRcdGNvbnRyb2xCeTogXCJzbGlkZVwiLFxuXHRcdFx0XHRhbGxvd1N3aXBlVG9QcmV2OiAhMCxcblx0XHRcdFx0YWxsb3dTd2lwZVRvTmV4dDogITAsXG5cdFx0XHRcdHN3aXBlSGFuZGxlcjogbnVsbCxcblx0XHRcdFx0bm9Td2lwaW5nOiAhMCxcblx0XHRcdFx0bm9Td2lwaW5nQ2xhc3M6IFwic3dpcGVyLW5vLXN3aXBpbmdcIixcblx0XHRcdFx0c2xpZGVDbGFzczogXCJzd2lwZXItc2xpZGVcIixcblx0XHRcdFx0c2xpZGVBY3RpdmVDbGFzczogXCJzd2lwZXItc2xpZGUtYWN0aXZlXCIsXG5cdFx0XHRcdHNsaWRlVmlzaWJsZUNsYXNzOiBcInN3aXBlci1zbGlkZS12aXNpYmxlXCIsXG5cdFx0XHRcdHNsaWRlRHVwbGljYXRlQ2xhc3M6IFwic3dpcGVyLXNsaWRlLWR1cGxpY2F0ZVwiLFxuXHRcdFx0XHRzbGlkZU5leHRDbGFzczogXCJzd2lwZXItc2xpZGUtbmV4dFwiLFxuXHRcdFx0XHRzbGlkZVByZXZDbGFzczogXCJzd2lwZXItc2xpZGUtcHJldlwiLFxuXHRcdFx0XHR3cmFwcGVyQ2xhc3M6IFwic3dpcGVyLXdyYXBwZXJcIixcblx0XHRcdFx0YnVsbGV0Q2xhc3M6IFwic3dpcGVyLXBhZ2luYXRpb24tYnVsbGV0XCIsXG5cdFx0XHRcdGJ1bGxldEFjdGl2ZUNsYXNzOiBcInN3aXBlci1wYWdpbmF0aW9uLWJ1bGxldC1hY3RpdmVcIixcblx0XHRcdFx0YnV0dG9uRGlzYWJsZWRDbGFzczogXCJzd2lwZXItYnV0dG9uLWRpc2FibGVkXCIsXG5cdFx0XHRcdHBhZ2luYXRpb25DdXJyZW50Q2xhc3M6IFwic3dpcGVyLXBhZ2luYXRpb24tY3VycmVudFwiLFxuXHRcdFx0XHRwYWdpbmF0aW9uVG90YWxDbGFzczogXCJzd2lwZXItcGFnaW5hdGlvbi10b3RhbFwiLFxuXHRcdFx0XHRwYWdpbmF0aW9uSGlkZGVuQ2xhc3M6IFwic3dpcGVyLXBhZ2luYXRpb24taGlkZGVuXCIsXG5cdFx0XHRcdHBhZ2luYXRpb25Qcm9ncmVzc2JhckNsYXNzOiBcInN3aXBlci1wYWdpbmF0aW9uLXByb2dyZXNzYmFyXCIsXG5cdFx0XHRcdG9ic2VydmVyOiAhMSxcblx0XHRcdFx0b2JzZXJ2ZVBhcmVudHM6ICExLFxuXHRcdFx0XHRhMTF5OiAhMSxcblx0XHRcdFx0cHJldlNsaWRlTWVzc2FnZTogXCJQcmV2aW91cyBzbGlkZVwiLFxuXHRcdFx0XHRuZXh0U2xpZGVNZXNzYWdlOiBcIk5leHQgc2xpZGVcIixcblx0XHRcdFx0Zmlyc3RTbGlkZU1lc3NhZ2U6IFwiVGhpcyBpcyB0aGUgZmlyc3Qgc2xpZGVcIixcblx0XHRcdFx0bGFzdFNsaWRlTWVzc2FnZTogXCJUaGlzIGlzIHRoZSBsYXN0IHNsaWRlXCIsXG5cdFx0XHRcdHBhZ2luYXRpb25CdWxsZXRNZXNzYWdlOiBcIkdvIHRvIHNsaWRlIHt7aW5kZXh9fVwiLFxuXHRcdFx0XHRydW5DYWxsYmFja3NPbkluaXQ6ICEwXG5cdFx0XHR9LFxuXHRcdFx0aCA9IGkgJiYgaS52aXJ0dWFsVHJhbnNsYXRlO1xuXHRcdGkgPSBpIHx8IHt9O1xuXHRcdHZhciBmID0ge307XG5cdFx0Zm9yICh2YXIgZyBpbiBpKVxuXHRcdFx0aWYgKFwib2JqZWN0XCIgIT0gdHlwZW9mIGlbZ10gfHwgbnVsbCA9PT0gaVtnXSB8fCAoaVtnXS5ub2RlVHlwZSB8fCBpW2ddID09PSB3aW5kb3cgfHwgaVtnXSA9PT0gZG9jdW1lbnQgfHwgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgciAmJiBpW2ddIGluc3RhbmNlb2YgciB8fCBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBqUXVlcnkgJiYgaVtnXSBpbnN0YW5jZW9mIGpRdWVyeSkpIGZbZ10gPSBpW2ddO1xuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGZbZ10gPSB7fTtcblx0XHRcdFx0Zm9yICh2YXIgdiBpbiBpW2ddKSBmW2ddW3ZdID0gaVtnXVt2XVxuXHRcdFx0fVxuXHRcdGZvciAodmFyIHcgaW4gbSlcblx0XHRcdGlmIChcInVuZGVmaW5lZFwiID09IHR5cGVvZiBpW3ddKSBpW3ddID0gbVt3XTtcblx0XHRcdGVsc2UgaWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIGlbd10pXG5cdFx0XHRmb3IgKHZhciB5IGluIG1bd10pIFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGlbd11beV0gJiYgKGlbd11beV0gPSBtW3ddW3ldKTtcblx0XHR2YXIgYiA9IHRoaXM7XG5cdFx0aWYgKGIucGFyYW1zID0gaSwgYi5vcmlnaW5hbFBhcmFtcyA9IGYsIGIuY2xhc3NOYW1lcyA9IFtdLCBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBhICYmIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHIgJiYgKGEgPSByKSwgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGEgfHwgKGEgPSBcInVuZGVmaW5lZFwiID09IHR5cGVvZiByID8gd2luZG93LkRvbTcgfHwgd2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnkgOiByKSkgJiYgKGIuJCA9IGEsIGIuY3VycmVudEJyZWFrcG9pbnQgPSB2b2lkIDAsIGIuZ2V0QWN0aXZlQnJlYWtwb2ludCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIWIucGFyYW1zLmJyZWFrcG9pbnRzKSByZXR1cm4gITE7XG5cdFx0XHRcdHZhciBlLCBhID0gITEsXG5cdFx0XHRcdFx0dCA9IFtdO1xuXHRcdFx0XHRmb3IgKGUgaW4gYi5wYXJhbXMuYnJlYWtwb2ludHMpIGIucGFyYW1zLmJyZWFrcG9pbnRzLmhhc093blByb3BlcnR5KGUpICYmIHQucHVzaChlKTtcblx0XHRcdFx0dC5zb3J0KGZ1bmN0aW9uKGUsIGEpIHtcblx0XHRcdFx0XHRyZXR1cm4gcGFyc2VJbnQoZSwgMTApID4gcGFyc2VJbnQoYSwgMTApXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRmb3IgKHZhciByID0gMDsgciA8IHQubGVuZ3RoOyByKyspIGUgPSB0W3JdLCBlID49IHdpbmRvdy5pbm5lcldpZHRoICYmICFhICYmIChhID0gZSk7XG5cdFx0XHRcdHJldHVybiBhIHx8IFwibWF4XCJcblx0XHRcdH0sIGIuc2V0QnJlYWtwb2ludCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZSA9IGIuZ2V0QWN0aXZlQnJlYWtwb2ludCgpO1xuXHRcdFx0XHRpZiAoZSAmJiBiLmN1cnJlbnRCcmVha3BvaW50ICE9PSBlKSB7XG5cdFx0XHRcdFx0dmFyIGEgPSBlIGluIGIucGFyYW1zLmJyZWFrcG9pbnRzID8gYi5wYXJhbXMuYnJlYWtwb2ludHNbZV0gOiBiLm9yaWdpbmFsUGFyYW1zLFxuXHRcdFx0XHRcdFx0dCA9IGIucGFyYW1zLmxvb3AgJiYgYS5zbGlkZXNQZXJWaWV3ICE9PSBiLnBhcmFtcy5zbGlkZXNQZXJWaWV3O1xuXHRcdFx0XHRcdGZvciAodmFyIHIgaW4gYSkgYi5wYXJhbXNbcl0gPSBhW3JdO1xuXHRcdFx0XHRcdGIuY3VycmVudEJyZWFrcG9pbnQgPSBlLCB0ICYmIGIuZGVzdHJveUxvb3AgJiYgYi5yZUxvb3AoITApXG5cdFx0XHRcdH1cblx0XHRcdH0sIGIucGFyYW1zLmJyZWFrcG9pbnRzICYmIGIuc2V0QnJlYWtwb2ludCgpLCBiLmNvbnRhaW5lciA9IGEoZSksIDAgIT09IGIuY29udGFpbmVyLmxlbmd0aCkpIHtcblx0XHRcdGlmIChiLmNvbnRhaW5lci5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdHZhciB4ID0gW107XG5cdFx0XHRcdHJldHVybiBiLmNvbnRhaW5lci5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHgucHVzaChuZXcgdCh0aGlzLCBpKSlcblx0XHRcdFx0fSksIHhcblx0XHRcdH1cblx0XHRcdGIuY29udGFpbmVyWzBdLnN3aXBlciA9IGIsIGIuY29udGFpbmVyLmRhdGEoXCJzd2lwZXJcIiwgYiksIGIuY2xhc3NOYW1lcy5wdXNoKFwic3dpcGVyLWNvbnRhaW5lci1cIiArIGIucGFyYW1zLmRpcmVjdGlvbiksIGIucGFyYW1zLmZyZWVNb2RlICYmIGIuY2xhc3NOYW1lcy5wdXNoKFwic3dpcGVyLWNvbnRhaW5lci1mcmVlLW1vZGVcIiksIGIuc3VwcG9ydC5mbGV4Ym94IHx8IChiLmNsYXNzTmFtZXMucHVzaChcInN3aXBlci1jb250YWluZXItbm8tZmxleGJveFwiKSwgYi5wYXJhbXMuc2xpZGVzUGVyQ29sdW1uID0gMSksIGIucGFyYW1zLmF1dG9IZWlnaHQgJiYgYi5jbGFzc05hbWVzLnB1c2goXCJzd2lwZXItY29udGFpbmVyLWF1dG9oZWlnaHRcIiksIChiLnBhcmFtcy5wYXJhbGxheCB8fCBiLnBhcmFtcy53YXRjaFNsaWRlc1Zpc2liaWxpdHkpICYmIChiLnBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzID0gITApLCBbXCJjdWJlXCIsIFwiY292ZXJmbG93XCIsIFwiZmxpcFwiXS5pbmRleE9mKGIucGFyYW1zLmVmZmVjdCkgPj0gMCAmJiAoYi5zdXBwb3J0LnRyYW5zZm9ybXMzZCA/IChiLnBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzID0gITAsIGIuY2xhc3NOYW1lcy5wdXNoKFwic3dpcGVyLWNvbnRhaW5lci0zZFwiKSkgOiBiLnBhcmFtcy5lZmZlY3QgPSBcInNsaWRlXCIpLCBcInNsaWRlXCIgIT09IGIucGFyYW1zLmVmZmVjdCAmJiBiLmNsYXNzTmFtZXMucHVzaChcInN3aXBlci1jb250YWluZXItXCIgKyBiLnBhcmFtcy5lZmZlY3QpLCBcImN1YmVcIiA9PT0gYi5wYXJhbXMuZWZmZWN0ICYmIChiLnBhcmFtcy5yZXNpc3RhbmNlUmF0aW8gPSAwLCBiLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID0gMSwgYi5wYXJhbXMuc2xpZGVzUGVyQ29sdW1uID0gMSwgYi5wYXJhbXMuc2xpZGVzUGVyR3JvdXAgPSAxLCBiLnBhcmFtcy5jZW50ZXJlZFNsaWRlcyA9ICExLCBiLnBhcmFtcy5zcGFjZUJldHdlZW4gPSAwLCBiLnBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlID0gITAsIGIucGFyYW1zLnNldFdyYXBwZXJTaXplID0gITEpLCAoXCJmYWRlXCIgPT09IGIucGFyYW1zLmVmZmVjdCB8fCBcImZsaXBcIiA9PT0gYi5wYXJhbXMuZWZmZWN0KSAmJiAoYi5wYXJhbXMuc2xpZGVzUGVyVmlldyA9IDEsIGIucGFyYW1zLnNsaWRlc1BlckNvbHVtbiA9IDEsIGIucGFyYW1zLnNsaWRlc1Blckdyb3VwID0gMSwgYi5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyA9ICEwLCBiLnBhcmFtcy5zcGFjZUJldHdlZW4gPSAwLCBiLnBhcmFtcy5zZXRXcmFwcGVyU2l6ZSA9ICExLCBcInVuZGVmaW5lZFwiID09IHR5cGVvZiBoICYmIChiLnBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlID0gITApKSwgYi5wYXJhbXMuZ3JhYkN1cnNvciAmJiBiLnN1cHBvcnQudG91Y2ggJiYgKGIucGFyYW1zLmdyYWJDdXJzb3IgPSAhMSksIGIud3JhcHBlciA9IGIuY29udGFpbmVyLmNoaWxkcmVuKFwiLlwiICsgYi5wYXJhbXMud3JhcHBlckNsYXNzKSwgYi5wYXJhbXMucGFnaW5hdGlvbiAmJiAoYi5wYWdpbmF0aW9uQ29udGFpbmVyID0gYShiLnBhcmFtcy5wYWdpbmF0aW9uKSwgYi5wYXJhbXMudW5pcXVlTmF2RWxlbWVudHMgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgYi5wYXJhbXMucGFnaW5hdGlvbiAmJiBiLnBhZ2luYXRpb25Db250YWluZXIubGVuZ3RoID4gMSAmJiAxID09PSBiLmNvbnRhaW5lci5maW5kKGIucGFyYW1zLnBhZ2luYXRpb24pLmxlbmd0aCAmJiAoYi5wYWdpbmF0aW9uQ29udGFpbmVyID0gYi5jb250YWluZXIuZmluZChiLnBhcmFtcy5wYWdpbmF0aW9uKSksIFwiYnVsbGV0c1wiID09PSBiLnBhcmFtcy5wYWdpbmF0aW9uVHlwZSAmJiBiLnBhcmFtcy5wYWdpbmF0aW9uQ2xpY2thYmxlID8gYi5wYWdpbmF0aW9uQ29udGFpbmVyLmFkZENsYXNzKFwic3dpcGVyLXBhZ2luYXRpb24tY2xpY2thYmxlXCIpIDogYi5wYXJhbXMucGFnaW5hdGlvbkNsaWNrYWJsZSA9ICExLCBiLnBhZ2luYXRpb25Db250YWluZXIuYWRkQ2xhc3MoXCJzd2lwZXItcGFnaW5hdGlvbi1cIiArIGIucGFyYW1zLnBhZ2luYXRpb25UeXBlKSksIChiLnBhcmFtcy5uZXh0QnV0dG9uIHx8IGIucGFyYW1zLnByZXZCdXR0b24pICYmIChiLnBhcmFtcy5uZXh0QnV0dG9uICYmIChiLm5leHRCdXR0b24gPSBhKGIucGFyYW1zLm5leHRCdXR0b24pLCBiLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyAmJiBcInN0cmluZ1wiID09IHR5cGVvZiBiLnBhcmFtcy5uZXh0QnV0dG9uICYmIGIubmV4dEJ1dHRvbi5sZW5ndGggPiAxICYmIDEgPT09IGIuY29udGFpbmVyLmZpbmQoYi5wYXJhbXMubmV4dEJ1dHRvbikubGVuZ3RoICYmIChiLm5leHRCdXR0b24gPSBiLmNvbnRhaW5lci5maW5kKGIucGFyYW1zLm5leHRCdXR0b24pKSksIGIucGFyYW1zLnByZXZCdXR0b24gJiYgKGIucHJldkJ1dHRvbiA9IGEoYi5wYXJhbXMucHJldkJ1dHRvbiksIGIucGFyYW1zLnVuaXF1ZU5hdkVsZW1lbnRzICYmIFwic3RyaW5nXCIgPT0gdHlwZW9mIGIucGFyYW1zLnByZXZCdXR0b24gJiYgYi5wcmV2QnV0dG9uLmxlbmd0aCA+IDEgJiYgMSA9PT0gYi5jb250YWluZXIuZmluZChiLnBhcmFtcy5wcmV2QnV0dG9uKS5sZW5ndGggJiYgKGIucHJldkJ1dHRvbiA9IGIuY29udGFpbmVyLmZpbmQoYi5wYXJhbXMucHJldkJ1dHRvbikpKSksIGIuaXNIb3Jpem9udGFsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBcImhvcml6b250YWxcIiA9PT0gYi5wYXJhbXMuZGlyZWN0aW9uXG5cdFx0XHR9LCBiLnJ0bCA9IGIuaXNIb3Jpem9udGFsKCkgJiYgKFwicnRsXCIgPT09IGIuY29udGFpbmVyWzBdLmRpci50b0xvd2VyQ2FzZSgpIHx8IFwicnRsXCIgPT09IGIuY29udGFpbmVyLmNzcyhcImRpcmVjdGlvblwiKSksIGIucnRsICYmIGIuY2xhc3NOYW1lcy5wdXNoKFwic3dpcGVyLWNvbnRhaW5lci1ydGxcIiksIGIucnRsICYmIChiLndyb25nUlRMID0gXCItd2Via2l0LWJveFwiID09PSBiLndyYXBwZXIuY3NzKFwiZGlzcGxheVwiKSksIGIucGFyYW1zLnNsaWRlc1BlckNvbHVtbiA+IDEgJiYgYi5jbGFzc05hbWVzLnB1c2goXCJzd2lwZXItY29udGFpbmVyLW11bHRpcm93XCIpLCBiLmRldmljZS5hbmRyb2lkICYmIGIuY2xhc3NOYW1lcy5wdXNoKFwic3dpcGVyLWNvbnRhaW5lci1hbmRyb2lkXCIpLCBiLmNvbnRhaW5lci5hZGRDbGFzcyhiLmNsYXNzTmFtZXMuam9pbihcIiBcIikpLCBiLnRyYW5zbGF0ZSA9IDAsIGIucHJvZ3Jlc3MgPSAwLCBiLnZlbG9jaXR5ID0gMCwgYi5sb2NrU3dpcGVUb05leHQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0Yi5wYXJhbXMuYWxsb3dTd2lwZVRvTmV4dCA9ICExXG5cdFx0XHR9LCBiLmxvY2tTd2lwZVRvUHJldiA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRiLnBhcmFtcy5hbGxvd1N3aXBlVG9QcmV2ID0gITFcblx0XHRcdH0sIGIubG9ja1N3aXBlcyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRiLnBhcmFtcy5hbGxvd1N3aXBlVG9OZXh0ID0gYi5wYXJhbXMuYWxsb3dTd2lwZVRvUHJldiA9ICExXG5cdFx0XHR9LCBiLnVubG9ja1N3aXBlVG9OZXh0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGIucGFyYW1zLmFsbG93U3dpcGVUb05leHQgPSAhMFxuXHRcdFx0fSwgYi51bmxvY2tTd2lwZVRvUHJldiA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRiLnBhcmFtcy5hbGxvd1N3aXBlVG9QcmV2ID0gITBcblx0XHRcdH0sIGIudW5sb2NrU3dpcGVzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGIucGFyYW1zLmFsbG93U3dpcGVUb05leHQgPSBiLnBhcmFtcy5hbGxvd1N3aXBlVG9QcmV2ID0gITBcblx0XHRcdH0sIGIucGFyYW1zLmdyYWJDdXJzb3IgJiYgKGIuY29udGFpbmVyWzBdLnN0eWxlLmN1cnNvciA9IFwibW92ZVwiLCBiLmNvbnRhaW5lclswXS5zdHlsZS5jdXJzb3IgPSBcIi13ZWJraXQtZ3JhYlwiLCBiLmNvbnRhaW5lclswXS5zdHlsZS5jdXJzb3IgPSBcIi1tb3otZ3JhYlwiLCBiLmNvbnRhaW5lclswXS5zdHlsZS5jdXJzb3IgPSBcImdyYWJcIiksIGIuaW1hZ2VzVG9Mb2FkID0gW10sIGIuaW1hZ2VzTG9hZGVkID0gMCwgYi5sb2FkSW1hZ2UgPSBmdW5jdGlvbihlLCBhLCB0LCByLCBpKSB7XG5cdFx0XHRcdGZ1bmN0aW9uIHMoKSB7XG5cdFx0XHRcdFx0aSAmJiBpKClcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgbjtcblx0XHRcdFx0ZS5jb21wbGV0ZSAmJiByID8gcygpIDogYSA/IChuID0gbmV3IHdpbmRvdy5JbWFnZSwgbi5vbmxvYWQgPSBzLCBuLm9uZXJyb3IgPSBzLCB0ICYmIChuLnNyY3NldCA9IHQpLCBhICYmIChuLnNyYyA9IGEpKSA6IHMoKVxuXHRcdFx0fSwgYi5wcmVsb2FkSW1hZ2VzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZ1bmN0aW9uIGUoKSB7XG5cdFx0XHRcdFx0XCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgYiAmJiBudWxsICE9PSBiICYmICh2b2lkIDAgIT09IGIuaW1hZ2VzTG9hZGVkICYmIGIuaW1hZ2VzTG9hZGVkKyssIGIuaW1hZ2VzTG9hZGVkID09PSBiLmltYWdlc1RvTG9hZC5sZW5ndGggJiYgKGIucGFyYW1zLnVwZGF0ZU9uSW1hZ2VzUmVhZHkgJiYgYi51cGRhdGUoKSwgYi5lbWl0KFwib25JbWFnZXNSZWFkeVwiLCBiKSkpXG5cdFx0XHRcdH1cblx0XHRcdFx0Yi5pbWFnZXNUb0xvYWQgPSBiLmNvbnRhaW5lci5maW5kKFwiaW1nXCIpO1xuXHRcdFx0XHRmb3IgKHZhciBhID0gMDsgYSA8IGIuaW1hZ2VzVG9Mb2FkLmxlbmd0aDsgYSsrKSBiLmxvYWRJbWFnZShiLmltYWdlc1RvTG9hZFthXSwgYi5pbWFnZXNUb0xvYWRbYV0uY3VycmVudFNyYyB8fCBiLmltYWdlc1RvTG9hZFthXS5nZXRBdHRyaWJ1dGUoXCJzcmNcIiksIGIuaW1hZ2VzVG9Mb2FkW2FdLnNyY3NldCB8fCBiLmltYWdlc1RvTG9hZFthXS5nZXRBdHRyaWJ1dGUoXCJzcmNzZXRcIiksICEwLCBlKVxuXHRcdFx0fSwgYi5hdXRvcGxheVRpbWVvdXRJZCA9IHZvaWQgMCwgYi5hdXRvcGxheWluZyA9ICExLCBiLmF1dG9wbGF5UGF1c2VkID0gITEsIGIuc3RhcnRBdXRvcGxheSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgYi5hdXRvcGxheVRpbWVvdXRJZCA/ICExIDogYi5wYXJhbXMuYXV0b3BsYXkgPyBiLmF1dG9wbGF5aW5nID8gITEgOiAoYi5hdXRvcGxheWluZyA9ICEwLCBiLmVtaXQoXCJvbkF1dG9wbGF5U3RhcnRcIiwgYiksIHZvaWQgbigpKSA6ICExXG5cdFx0XHR9LCBiLnN0b3BBdXRvcGxheSA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0Yi5hdXRvcGxheVRpbWVvdXRJZCAmJiAoYi5hdXRvcGxheVRpbWVvdXRJZCAmJiBjbGVhclRpbWVvdXQoYi5hdXRvcGxheVRpbWVvdXRJZCksIGIuYXV0b3BsYXlpbmcgPSAhMSwgYi5hdXRvcGxheVRpbWVvdXRJZCA9IHZvaWQgMCwgYi5lbWl0KFwib25BdXRvcGxheVN0b3BcIiwgYikpXG5cdFx0XHR9LCBiLnBhdXNlQXV0b3BsYXkgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGIuYXV0b3BsYXlQYXVzZWQgfHwgKGIuYXV0b3BsYXlUaW1lb3V0SWQgJiYgY2xlYXJUaW1lb3V0KGIuYXV0b3BsYXlUaW1lb3V0SWQpLCBiLmF1dG9wbGF5UGF1c2VkID0gITAsIDAgPT09IGUgPyAoYi5hdXRvcGxheVBhdXNlZCA9ICExLCBuKCkpIDogYi53cmFwcGVyLnRyYW5zaXRpb25FbmQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0YiAmJiAoYi5hdXRvcGxheVBhdXNlZCA9ICExLCBiLmF1dG9wbGF5aW5nID8gbigpIDogYi5zdG9wQXV0b3BsYXkoKSlcblx0XHRcdFx0fSkpXG5cdFx0XHR9LCBiLm1pblRyYW5zbGF0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gLWIuc25hcEdyaWRbMF1cblx0XHRcdH0sIGIubWF4VHJhbnNsYXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAtYi5zbmFwR3JpZFtiLnNuYXBHcmlkLmxlbmd0aCAtIDFdXG5cdFx0XHR9LCBiLnVwZGF0ZUF1dG9IZWlnaHQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGUgPSBiLnNsaWRlcy5lcShiLmFjdGl2ZUluZGV4KVswXTtcblx0XHRcdFx0aWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGUpIHtcblx0XHRcdFx0XHR2YXIgYSA9IGUub2Zmc2V0SGVpZ2h0O1xuXHRcdFx0XHRcdGEgJiYgYi53cmFwcGVyLmNzcyhcImhlaWdodFwiLCBhICsgXCJweFwiKVxuXHRcdFx0XHR9XG5cdFx0XHR9LCBiLnVwZGF0ZUNvbnRhaW5lclNpemUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGUsIGE7XG5cdFx0XHRcdGUgPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBiLnBhcmFtcy53aWR0aCA/IGIucGFyYW1zLndpZHRoIDogYi5jb250YWluZXJbMF0uY2xpZW50V2lkdGgsIGEgPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBiLnBhcmFtcy5oZWlnaHQgPyBiLnBhcmFtcy5oZWlnaHQgOiBiLmNvbnRhaW5lclswXS5jbGllbnRIZWlnaHQsIDAgPT09IGUgJiYgYi5pc0hvcml6b250YWwoKSB8fCAwID09PSBhICYmICFiLmlzSG9yaXpvbnRhbCgpIHx8IChlID0gZSAtIHBhcnNlSW50KGIuY29udGFpbmVyLmNzcyhcInBhZGRpbmctbGVmdFwiKSwgMTApIC0gcGFyc2VJbnQoYi5jb250YWluZXIuY3NzKFwicGFkZGluZy1yaWdodFwiKSwgMTApLCBhID0gYSAtIHBhcnNlSW50KGIuY29udGFpbmVyLmNzcyhcInBhZGRpbmctdG9wXCIpLCAxMCkgLSBwYXJzZUludChiLmNvbnRhaW5lci5jc3MoXCJwYWRkaW5nLWJvdHRvbVwiKSwgMTApLCBiLndpZHRoID0gZSwgYi5oZWlnaHQgPSBhLCBiLnNpemUgPSBiLmlzSG9yaXpvbnRhbCgpID8gYi53aWR0aCA6IGIuaGVpZ2h0KVxuXHRcdFx0fSwgYi51cGRhdGVTbGlkZXNTaXplID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGIuc2xpZGVzID0gYi53cmFwcGVyLmNoaWxkcmVuKFwiLlwiICsgYi5wYXJhbXMuc2xpZGVDbGFzcyksIGIuc25hcEdyaWQgPSBbXSwgYi5zbGlkZXNHcmlkID0gW10sIGIuc2xpZGVzU2l6ZXNHcmlkID0gW107XG5cdFx0XHRcdHZhciBlLCBhID0gYi5wYXJhbXMuc3BhY2VCZXR3ZWVuLFxuXHRcdFx0XHRcdHQgPSAtYi5wYXJhbXMuc2xpZGVzT2Zmc2V0QmVmb3JlLFxuXHRcdFx0XHRcdHIgPSAwLFxuXHRcdFx0XHRcdGkgPSAwO1xuXHRcdFx0XHRpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgYi5zaXplKSB7XG5cdFx0XHRcdFx0XCJzdHJpbmdcIiA9PSB0eXBlb2YgYSAmJiBhLmluZGV4T2YoXCIlXCIpID49IDAgJiYgKGEgPSBwYXJzZUZsb2F0KGEucmVwbGFjZShcIiVcIiwgXCJcIikpIC8gMTAwICogYi5zaXplKSwgYi52aXJ0dWFsU2l6ZSA9IC1hLCBiLnJ0bCA/IGIuc2xpZGVzLmNzcyh7XG5cdFx0XHRcdFx0XHRtYXJnaW5MZWZ0OiBcIlwiLFxuXHRcdFx0XHRcdFx0bWFyZ2luVG9wOiBcIlwiXG5cdFx0XHRcdFx0fSkgOiBiLnNsaWRlcy5jc3Moe1xuXHRcdFx0XHRcdFx0bWFyZ2luUmlnaHQ6IFwiXCIsXG5cdFx0XHRcdFx0XHRtYXJnaW5Cb3R0b206IFwiXCJcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR2YXIgbjtcblx0XHRcdFx0XHRiLnBhcmFtcy5zbGlkZXNQZXJDb2x1bW4gPiAxICYmIChuID0gTWF0aC5mbG9vcihiLnNsaWRlcy5sZW5ndGggLyBiLnBhcmFtcy5zbGlkZXNQZXJDb2x1bW4pID09PSBiLnNsaWRlcy5sZW5ndGggLyBiLnBhcmFtcy5zbGlkZXNQZXJDb2x1bW4gPyBiLnNsaWRlcy5sZW5ndGggOiBNYXRoLmNlaWwoYi5zbGlkZXMubGVuZ3RoIC8gYi5wYXJhbXMuc2xpZGVzUGVyQ29sdW1uKSAqIGIucGFyYW1zLnNsaWRlc1BlckNvbHVtbiwgXCJhdXRvXCIgIT09IGIucGFyYW1zLnNsaWRlc1BlclZpZXcgJiYgXCJyb3dcIiA9PT0gYi5wYXJhbXMuc2xpZGVzUGVyQ29sdW1uRmlsbCAmJiAobiA9IE1hdGgubWF4KG4sIGIucGFyYW1zLnNsaWRlc1BlclZpZXcgKiBiLnBhcmFtcy5zbGlkZXNQZXJDb2x1bW4pKSk7XG5cdFx0XHRcdFx0dmFyIG8sIGwgPSBiLnBhcmFtcy5zbGlkZXNQZXJDb2x1bW4sXG5cdFx0XHRcdFx0XHRwID0gbiAvIGwsXG5cdFx0XHRcdFx0XHRkID0gcCAtIChiLnBhcmFtcy5zbGlkZXNQZXJDb2x1bW4gKiBwIC0gYi5zbGlkZXMubGVuZ3RoKTtcblx0XHRcdFx0XHRmb3IgKGUgPSAwOyBlIDwgYi5zbGlkZXMubGVuZ3RoOyBlKyspIHtcblx0XHRcdFx0XHRcdG8gPSAwO1xuXHRcdFx0XHRcdFx0dmFyIHUgPSBiLnNsaWRlcy5lcShlKTtcblx0XHRcdFx0XHRcdGlmIChiLnBhcmFtcy5zbGlkZXNQZXJDb2x1bW4gPiAxKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBjLCBtLCBoO1xuXHRcdFx0XHRcdFx0XHRcImNvbHVtblwiID09PSBiLnBhcmFtcy5zbGlkZXNQZXJDb2x1bW5GaWxsID8gKG0gPSBNYXRoLmZsb29yKGUgLyBsKSwgaCA9IGUgLSBtICogbCwgKG0gPiBkIHx8IG0gPT09IGQgJiYgaCA9PT0gbCAtIDEpICYmICsraCA+PSBsICYmIChoID0gMCwgbSsrKSwgYyA9IG0gKyBoICogbiAvIGwsIHUuY3NzKHtcblx0XHRcdFx0XHRcdFx0XHRcIi13ZWJraXQtYm94LW9yZGluYWwtZ3JvdXBcIjogYyxcblx0XHRcdFx0XHRcdFx0XHRcIi1tb3otYm94LW9yZGluYWwtZ3JvdXBcIjogYyxcblx0XHRcdFx0XHRcdFx0XHRcIi1tcy1mbGV4LW9yZGVyXCI6IGMsXG5cdFx0XHRcdFx0XHRcdFx0XCItd2Via2l0LW9yZGVyXCI6IGMsXG5cdFx0XHRcdFx0XHRcdFx0b3JkZXI6IGNcblx0XHRcdFx0XHRcdFx0fSkpIDogKGggPSBNYXRoLmZsb29yKGUgLyBwKSwgbSA9IGUgLSBoICogcCksIHUuY3NzKHtcblx0XHRcdFx0XHRcdFx0XHRcIm1hcmdpbi10b3BcIjogMCAhPT0gaCAmJiBiLnBhcmFtcy5zcGFjZUJldHdlZW4gJiYgYi5wYXJhbXMuc3BhY2VCZXR3ZWVuICsgXCJweFwiXG5cdFx0XHRcdFx0XHRcdH0pLmF0dHIoXCJkYXRhLXN3aXBlci1jb2x1bW5cIiwgbSkuYXR0cihcImRhdGEtc3dpcGVyLXJvd1wiLCBoKVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XCJub25lXCIgIT09IHUuY3NzKFwiZGlzcGxheVwiKSAmJiAoXCJhdXRvXCIgPT09IGIucGFyYW1zLnNsaWRlc1BlclZpZXcgPyAobyA9IGIuaXNIb3Jpem9udGFsKCkgPyB1Lm91dGVyV2lkdGgoITApIDogdS5vdXRlckhlaWdodCghMCksIGIucGFyYW1zLnJvdW5kTGVuZ3RocyAmJiAobyA9IHMobykpKSA6IChvID0gKGIuc2l6ZSAtIChiLnBhcmFtcy5zbGlkZXNQZXJWaWV3IC0gMSkgKiBhKSAvIGIucGFyYW1zLnNsaWRlc1BlclZpZXcsIGIucGFyYW1zLnJvdW5kTGVuZ3RocyAmJiAobyA9IHMobykpLCBiLmlzSG9yaXpvbnRhbCgpID8gYi5zbGlkZXNbZV0uc3R5bGUud2lkdGggPSBvICsgXCJweFwiIDogYi5zbGlkZXNbZV0uc3R5bGUuaGVpZ2h0ID0gbyArIFwicHhcIiksIGIuc2xpZGVzW2VdLnN3aXBlclNsaWRlU2l6ZSA9IG8sIGIuc2xpZGVzU2l6ZXNHcmlkLnB1c2gobyksIGIucGFyYW1zLmNlbnRlcmVkU2xpZGVzID8gKHQgPSB0ICsgbyAvIDIgKyByIC8gMiArIGEsIDAgPT09IGUgJiYgKHQgPSB0IC0gYi5zaXplIC8gMiAtIGEpLCBNYXRoLmFicyh0KSA8IC4wMDEgJiYgKHQgPSAwKSwgaSAlIGIucGFyYW1zLnNsaWRlc1Blckdyb3VwID09PSAwICYmIGIuc25hcEdyaWQucHVzaCh0KSwgYi5zbGlkZXNHcmlkLnB1c2godCkpIDogKGkgJSBiLnBhcmFtcy5zbGlkZXNQZXJHcm91cCA9PT0gMCAmJiBiLnNuYXBHcmlkLnB1c2godCksIGIuc2xpZGVzR3JpZC5wdXNoKHQpLCB0ID0gdCArIG8gKyBhKSwgYi52aXJ0dWFsU2l6ZSArPSBvICsgYSwgciA9IG8sIGkrKylcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Yi52aXJ0dWFsU2l6ZSA9IE1hdGgubWF4KGIudmlydHVhbFNpemUsIGIuc2l6ZSkgKyBiLnBhcmFtcy5zbGlkZXNPZmZzZXRBZnRlcjtcblx0XHRcdFx0XHR2YXIgZjtcblx0XHRcdFx0XHRpZiAoYi5ydGwgJiYgYi53cm9uZ1JUTCAmJiAoXCJzbGlkZVwiID09PSBiLnBhcmFtcy5lZmZlY3QgfHwgXCJjb3ZlcmZsb3dcIiA9PT0gYi5wYXJhbXMuZWZmZWN0KSAmJiBiLndyYXBwZXIuY3NzKHtcblx0XHRcdFx0XHRcdFx0d2lkdGg6IGIudmlydHVhbFNpemUgKyBiLnBhcmFtcy5zcGFjZUJldHdlZW4gKyBcInB4XCJcblx0XHRcdFx0XHRcdH0pLCAoIWIuc3VwcG9ydC5mbGV4Ym94IHx8IGIucGFyYW1zLnNldFdyYXBwZXJTaXplKSAmJiAoYi5pc0hvcml6b250YWwoKSA/IGIud3JhcHBlci5jc3Moe1xuXHRcdFx0XHRcdFx0XHR3aWR0aDogYi52aXJ0dWFsU2l6ZSArIGIucGFyYW1zLnNwYWNlQmV0d2VlbiArIFwicHhcIlxuXHRcdFx0XHRcdFx0fSkgOiBiLndyYXBwZXIuY3NzKHtcblx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBiLnZpcnR1YWxTaXplICsgYi5wYXJhbXMuc3BhY2VCZXR3ZWVuICsgXCJweFwiXG5cdFx0XHRcdFx0XHR9KSksIGIucGFyYW1zLnNsaWRlc1BlckNvbHVtbiA+IDEgJiYgKGIudmlydHVhbFNpemUgPSAobyArIGIucGFyYW1zLnNwYWNlQmV0d2VlbikgKiBuLCBiLnZpcnR1YWxTaXplID0gTWF0aC5jZWlsKGIudmlydHVhbFNpemUgLyBiLnBhcmFtcy5zbGlkZXNQZXJDb2x1bW4pIC0gYi5wYXJhbXMuc3BhY2VCZXR3ZWVuLCBiLndyYXBwZXIuY3NzKHtcblx0XHRcdFx0XHRcdFx0d2lkdGg6IGIudmlydHVhbFNpemUgKyBiLnBhcmFtcy5zcGFjZUJldHdlZW4gKyBcInB4XCJcblx0XHRcdFx0XHRcdH0pLCBiLnBhcmFtcy5jZW50ZXJlZFNsaWRlcykpIHtcblx0XHRcdFx0XHRcdGZvciAoZiA9IFtdLCBlID0gMDsgZSA8IGIuc25hcEdyaWQubGVuZ3RoOyBlKyspIGIuc25hcEdyaWRbZV0gPCBiLnZpcnR1YWxTaXplICsgYi5zbmFwR3JpZFswXSAmJiBmLnB1c2goYi5zbmFwR3JpZFtlXSk7XG5cdFx0XHRcdFx0XHRiLnNuYXBHcmlkID0gZlxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIWIucGFyYW1zLmNlbnRlcmVkU2xpZGVzKSB7XG5cdFx0XHRcdFx0XHRmb3IgKGYgPSBbXSwgZSA9IDA7IGUgPCBiLnNuYXBHcmlkLmxlbmd0aDsgZSsrKSBiLnNuYXBHcmlkW2VdIDw9IGIudmlydHVhbFNpemUgLSBiLnNpemUgJiYgZi5wdXNoKGIuc25hcEdyaWRbZV0pO1xuXHRcdFx0XHRcdFx0Yi5zbmFwR3JpZCA9IGYsIE1hdGguZmxvb3IoYi52aXJ0dWFsU2l6ZSAtIGIuc2l6ZSkgLSBNYXRoLmZsb29yKGIuc25hcEdyaWRbYi5zbmFwR3JpZC5sZW5ndGggLSAxXSkgPiAxICYmIGIuc25hcEdyaWQucHVzaChiLnZpcnR1YWxTaXplIC0gYi5zaXplKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQwID09PSBiLnNuYXBHcmlkLmxlbmd0aCAmJiAoYi5zbmFwR3JpZCA9IFswXSksIDAgIT09IGIucGFyYW1zLnNwYWNlQmV0d2VlbiAmJiAoYi5pc0hvcml6b250YWwoKSA/IGIucnRsID8gYi5zbGlkZXMuY3NzKHtcblx0XHRcdFx0XHRcdG1hcmdpbkxlZnQ6IGEgKyBcInB4XCJcblx0XHRcdFx0XHR9KSA6IGIuc2xpZGVzLmNzcyh7XG5cdFx0XHRcdFx0XHRtYXJnaW5SaWdodDogYSArIFwicHhcIlxuXHRcdFx0XHRcdH0pIDogYi5zbGlkZXMuY3NzKHtcblx0XHRcdFx0XHRcdG1hcmdpbkJvdHRvbTogYSArIFwicHhcIlxuXHRcdFx0XHRcdH0pKSwgYi5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyAmJiBiLnVwZGF0ZVNsaWRlc09mZnNldCgpXG5cdFx0XHRcdH1cblx0XHRcdH0sIGIudXBkYXRlU2xpZGVzT2Zmc2V0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZvciAodmFyIGUgPSAwOyBlIDwgYi5zbGlkZXMubGVuZ3RoOyBlKyspIGIuc2xpZGVzW2VdLnN3aXBlclNsaWRlT2Zmc2V0ID0gYi5pc0hvcml6b250YWwoKSA/IGIuc2xpZGVzW2VdLm9mZnNldExlZnQgOiBiLnNsaWRlc1tlXS5vZmZzZXRUb3Bcblx0XHRcdH0sIGIudXBkYXRlU2xpZGVzUHJvZ3Jlc3MgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGlmIChcInVuZGVmaW5lZFwiID09IHR5cGVvZiBlICYmIChlID0gYi50cmFuc2xhdGUgfHwgMCksIDAgIT09IGIuc2xpZGVzLmxlbmd0aCkge1xuXHRcdFx0XHRcdFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGIuc2xpZGVzWzBdLnN3aXBlclNsaWRlT2Zmc2V0ICYmIGIudXBkYXRlU2xpZGVzT2Zmc2V0KCk7XG5cdFx0XHRcdFx0dmFyIGEgPSAtZTtcblx0XHRcdFx0XHRiLnJ0bCAmJiAoYSA9IGUpLCBiLnNsaWRlcy5yZW1vdmVDbGFzcyhiLnBhcmFtcy5zbGlkZVZpc2libGVDbGFzcyk7XG5cdFx0XHRcdFx0Zm9yICh2YXIgdCA9IDA7IHQgPCBiLnNsaWRlcy5sZW5ndGg7IHQrKykge1xuXHRcdFx0XHRcdFx0dmFyIHIgPSBiLnNsaWRlc1t0XSxcblx0XHRcdFx0XHRcdFx0aSA9IChhIC0gci5zd2lwZXJTbGlkZU9mZnNldCkgLyAoci5zd2lwZXJTbGlkZVNpemUgKyBiLnBhcmFtcy5zcGFjZUJldHdlZW4pO1xuXHRcdFx0XHRcdFx0aWYgKGIucGFyYW1zLndhdGNoU2xpZGVzVmlzaWJpbGl0eSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgcyA9IC0oYSAtIHIuc3dpcGVyU2xpZGVPZmZzZXQpLFxuXHRcdFx0XHRcdFx0XHRcdG4gPSBzICsgYi5zbGlkZXNTaXplc0dyaWRbdF0sXG5cdFx0XHRcdFx0XHRcdFx0byA9IHMgPj0gMCAmJiBzIDwgYi5zaXplIHx8IG4gPiAwICYmIG4gPD0gYi5zaXplIHx8IDAgPj0gcyAmJiBuID49IGIuc2l6ZTtcblx0XHRcdFx0XHRcdFx0byAmJiBiLnNsaWRlcy5lcSh0KS5hZGRDbGFzcyhiLnBhcmFtcy5zbGlkZVZpc2libGVDbGFzcylcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHIucHJvZ3Jlc3MgPSBiLnJ0bCA/IC1pIDogaVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSwgYi51cGRhdGVQcm9ncmVzcyA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgZSAmJiAoZSA9IGIudHJhbnNsYXRlIHx8IDApO1xuXHRcdFx0XHR2YXIgYSA9IGIubWF4VHJhbnNsYXRlKCkgLSBiLm1pblRyYW5zbGF0ZSgpLFxuXHRcdFx0XHRcdHQgPSBiLmlzQmVnaW5uaW5nLFxuXHRcdFx0XHRcdHIgPSBiLmlzRW5kO1xuXHRcdFx0XHQwID09PSBhID8gKGIucHJvZ3Jlc3MgPSAwLCBiLmlzQmVnaW5uaW5nID0gYi5pc0VuZCA9ICEwKSA6IChiLnByb2dyZXNzID0gKGUgLSBiLm1pblRyYW5zbGF0ZSgpKSAvIGEsIGIuaXNCZWdpbm5pbmcgPSBiLnByb2dyZXNzIDw9IDAsIGIuaXNFbmQgPSBiLnByb2dyZXNzID49IDEpLCBiLmlzQmVnaW5uaW5nICYmICF0ICYmIGIuZW1pdChcIm9uUmVhY2hCZWdpbm5pbmdcIiwgYiksIGIuaXNFbmQgJiYgIXIgJiYgYi5lbWl0KFwib25SZWFjaEVuZFwiLCBiKSwgYi5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyAmJiBiLnVwZGF0ZVNsaWRlc1Byb2dyZXNzKGUpLCBiLmVtaXQoXCJvblByb2dyZXNzXCIsIGIsIGIucHJvZ3Jlc3MpXG5cdFx0XHR9LCBiLnVwZGF0ZUFjdGl2ZUluZGV4ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBlLCBhLCB0LCByID0gYi5ydGwgPyBiLnRyYW5zbGF0ZSA6IC1iLnRyYW5zbGF0ZTtcblx0XHRcdFx0Zm9yIChhID0gMDsgYSA8IGIuc2xpZGVzR3JpZC5sZW5ndGg7IGErKykgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgYi5zbGlkZXNHcmlkW2EgKyAxXSA/IHIgPj0gYi5zbGlkZXNHcmlkW2FdICYmIHIgPCBiLnNsaWRlc0dyaWRbYSArIDFdIC0gKGIuc2xpZGVzR3JpZFthICsgMV0gLSBiLnNsaWRlc0dyaWRbYV0pIC8gMiA/IGUgPSBhIDogciA+PSBiLnNsaWRlc0dyaWRbYV0gJiYgciA8IGIuc2xpZGVzR3JpZFthICsgMV0gJiYgKGUgPSBhICsgMSkgOiByID49IGIuc2xpZGVzR3JpZFthXSAmJiAoZSA9IGEpO1xuXHRcdFx0XHQoMCA+IGUgfHwgXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgZSkgJiYgKGUgPSAwKSwgdCA9IE1hdGguZmxvb3IoZSAvIGIucGFyYW1zLnNsaWRlc1Blckdyb3VwKSwgdCA+PSBiLnNuYXBHcmlkLmxlbmd0aCAmJiAodCA9IGIuc25hcEdyaWQubGVuZ3RoIC0gMSksIGUgIT09IGIuYWN0aXZlSW5kZXggJiYgKGIuc25hcEluZGV4ID0gdCwgYi5wcmV2aW91c0luZGV4ID0gYi5hY3RpdmVJbmRleCwgYi5hY3RpdmVJbmRleCA9IGUsIGIudXBkYXRlQ2xhc3NlcygpKVxuXHRcdFx0fSwgYi51cGRhdGVDbGFzc2VzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGIuc2xpZGVzLnJlbW92ZUNsYXNzKGIucGFyYW1zLnNsaWRlQWN0aXZlQ2xhc3MgKyBcIiBcIiArIGIucGFyYW1zLnNsaWRlTmV4dENsYXNzICsgXCIgXCIgKyBiLnBhcmFtcy5zbGlkZVByZXZDbGFzcyk7XG5cdFx0XHRcdHZhciBlID0gYi5zbGlkZXMuZXEoYi5hY3RpdmVJbmRleCk7XG5cdFx0XHRcdGUuYWRkQ2xhc3MoYi5wYXJhbXMuc2xpZGVBY3RpdmVDbGFzcyk7XG5cdFx0XHRcdHZhciB0ID0gZS5uZXh0KFwiLlwiICsgYi5wYXJhbXMuc2xpZGVDbGFzcykuYWRkQ2xhc3MoYi5wYXJhbXMuc2xpZGVOZXh0Q2xhc3MpO1xuXHRcdFx0XHRiLnBhcmFtcy5sb29wICYmIDAgPT09IHQubGVuZ3RoICYmIGIuc2xpZGVzLmVxKDApLmFkZENsYXNzKGIucGFyYW1zLnNsaWRlTmV4dENsYXNzKTtcblx0XHRcdFx0dmFyIHIgPSBlLnByZXYoXCIuXCIgKyBiLnBhcmFtcy5zbGlkZUNsYXNzKS5hZGRDbGFzcyhiLnBhcmFtcy5zbGlkZVByZXZDbGFzcyk7XG5cdFx0XHRcdGlmIChiLnBhcmFtcy5sb29wICYmIDAgPT09IHIubGVuZ3RoICYmIGIuc2xpZGVzLmVxKC0xKS5hZGRDbGFzcyhiLnBhcmFtcy5zbGlkZVByZXZDbGFzcyksIGIucGFnaW5hdGlvbkNvbnRhaW5lciAmJiBiLnBhZ2luYXRpb25Db250YWluZXIubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdHZhciBpLCBzID0gYi5wYXJhbXMubG9vcCA/IE1hdGguY2VpbCgoYi5zbGlkZXMubGVuZ3RoIC0gMiAqIGIubG9vcGVkU2xpZGVzKSAvIGIucGFyYW1zLnNsaWRlc1Blckdyb3VwKSA6IGIuc25hcEdyaWQubGVuZ3RoO1xuXHRcdFx0XHRcdGlmIChiLnBhcmFtcy5sb29wID8gKGkgPSBNYXRoLmNlaWwoKGIuYWN0aXZlSW5kZXggLSBiLmxvb3BlZFNsaWRlcykgLyBiLnBhcmFtcy5zbGlkZXNQZXJHcm91cCksIGkgPiBiLnNsaWRlcy5sZW5ndGggLSAxIC0gMiAqIGIubG9vcGVkU2xpZGVzICYmIChpIC09IGIuc2xpZGVzLmxlbmd0aCAtIDIgKiBiLmxvb3BlZFNsaWRlcyksIGkgPiBzIC0gMSAmJiAoaSAtPSBzKSwgMCA+IGkgJiYgXCJidWxsZXRzXCIgIT09IGIucGFyYW1zLnBhZ2luYXRpb25UeXBlICYmIChpID0gcyArIGkpKSA6IGkgPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBiLnNuYXBJbmRleCA/IGIuc25hcEluZGV4IDogYi5hY3RpdmVJbmRleCB8fCAwLCBcImJ1bGxldHNcIiA9PT0gYi5wYXJhbXMucGFnaW5hdGlvblR5cGUgJiYgYi5idWxsZXRzICYmIGIuYnVsbGV0cy5sZW5ndGggPiAwICYmIChiLmJ1bGxldHMucmVtb3ZlQ2xhc3MoYi5wYXJhbXMuYnVsbGV0QWN0aXZlQ2xhc3MpLCBiLnBhZ2luYXRpb25Db250YWluZXIubGVuZ3RoID4gMSA/IGIuYnVsbGV0cy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRhKHRoaXMpLmluZGV4KCkgPT09IGkgJiYgYSh0aGlzKS5hZGRDbGFzcyhiLnBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcylcblx0XHRcdFx0XHRcdH0pIDogYi5idWxsZXRzLmVxKGkpLmFkZENsYXNzKGIucGFyYW1zLmJ1bGxldEFjdGl2ZUNsYXNzKSksIFwiZnJhY3Rpb25cIiA9PT0gYi5wYXJhbXMucGFnaW5hdGlvblR5cGUgJiYgKGIucGFnaW5hdGlvbkNvbnRhaW5lci5maW5kKFwiLlwiICsgYi5wYXJhbXMucGFnaW5hdGlvbkN1cnJlbnRDbGFzcykudGV4dChpICsgMSksIGIucGFnaW5hdGlvbkNvbnRhaW5lci5maW5kKFwiLlwiICsgYi5wYXJhbXMucGFnaW5hdGlvblRvdGFsQ2xhc3MpLnRleHQocykpLCBcInByb2dyZXNzXCIgPT09IGIucGFyYW1zLnBhZ2luYXRpb25UeXBlKSB7XG5cdFx0XHRcdFx0XHR2YXIgbiA9IChpICsgMSkgLyBzLFxuXHRcdFx0XHRcdFx0XHRvID0gbixcblx0XHRcdFx0XHRcdFx0bCA9IDE7XG5cdFx0XHRcdFx0XHRiLmlzSG9yaXpvbnRhbCgpIHx8IChsID0gbiwgbyA9IDEpLCBiLnBhZ2luYXRpb25Db250YWluZXIuZmluZChcIi5cIiArIGIucGFyYW1zLnBhZ2luYXRpb25Qcm9ncmVzc2JhckNsYXNzKS50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZCgwLDAsMCkgc2NhbGVYKFwiICsgbyArIFwiKSBzY2FsZVkoXCIgKyBsICsgXCIpXCIpLnRyYW5zaXRpb24oYi5wYXJhbXMuc3BlZWQpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFwiY3VzdG9tXCIgPT09IGIucGFyYW1zLnBhZ2luYXRpb25UeXBlICYmIGIucGFyYW1zLnBhZ2luYXRpb25DdXN0b21SZW5kZXIgJiYgKGIucGFnaW5hdGlvbkNvbnRhaW5lci5odG1sKGIucGFyYW1zLnBhZ2luYXRpb25DdXN0b21SZW5kZXIoYiwgaSArIDEsIHMpKSwgYi5lbWl0KFwib25QYWdpbmF0aW9uUmVuZGVyZWRcIiwgYiwgYi5wYWdpbmF0aW9uQ29udGFpbmVyWzBdKSlcblx0XHRcdFx0fVxuXHRcdFx0XHRiLnBhcmFtcy5sb29wIHx8IChiLnBhcmFtcy5wcmV2QnV0dG9uICYmIGIucHJldkJ1dHRvbiAmJiBiLnByZXZCdXR0b24ubGVuZ3RoID4gMCAmJiAoYi5pc0JlZ2lubmluZyA/IChiLnByZXZCdXR0b24uYWRkQ2xhc3MoYi5wYXJhbXMuYnV0dG9uRGlzYWJsZWRDbGFzcyksIGIucGFyYW1zLmExMXkgJiYgYi5hMTF5ICYmIGIuYTExeS5kaXNhYmxlKGIucHJldkJ1dHRvbikpIDogKGIucHJldkJ1dHRvbi5yZW1vdmVDbGFzcyhiLnBhcmFtcy5idXR0b25EaXNhYmxlZENsYXNzKSwgYi5wYXJhbXMuYTExeSAmJiBiLmExMXkgJiYgYi5hMTF5LmVuYWJsZShiLnByZXZCdXR0b24pKSksIGIucGFyYW1zLm5leHRCdXR0b24gJiYgYi5uZXh0QnV0dG9uICYmIGIubmV4dEJ1dHRvbi5sZW5ndGggPiAwICYmIChiLmlzRW5kID8gKGIubmV4dEJ1dHRvbi5hZGRDbGFzcyhiLnBhcmFtcy5idXR0b25EaXNhYmxlZENsYXNzKSwgYi5wYXJhbXMuYTExeSAmJiBiLmExMXkgJiYgYi5hMTF5LmRpc2FibGUoYi5uZXh0QnV0dG9uKSkgOiAoYi5uZXh0QnV0dG9uLnJlbW92ZUNsYXNzKGIucGFyYW1zLmJ1dHRvbkRpc2FibGVkQ2xhc3MpLCBiLnBhcmFtcy5hMTF5ICYmIGIuYTExeSAmJiBiLmExMXkuZW5hYmxlKGIubmV4dEJ1dHRvbikpKSlcblx0XHRcdH0sIGIudXBkYXRlUGFnaW5hdGlvbiA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoYi5wYXJhbXMucGFnaW5hdGlvbiAmJiBiLnBhZ2luYXRpb25Db250YWluZXIgJiYgYi5wYWdpbmF0aW9uQ29udGFpbmVyLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHR2YXIgZSA9IFwiXCI7XG5cdFx0XHRcdFx0aWYgKFwiYnVsbGV0c1wiID09PSBiLnBhcmFtcy5wYWdpbmF0aW9uVHlwZSkge1xuXHRcdFx0XHRcdFx0Zm9yICh2YXIgYSA9IGIucGFyYW1zLmxvb3AgPyBNYXRoLmNlaWwoKGIuc2xpZGVzLmxlbmd0aCAtIDIgKiBiLmxvb3BlZFNsaWRlcykgLyBiLnBhcmFtcy5zbGlkZXNQZXJHcm91cCkgOiBiLnNuYXBHcmlkLmxlbmd0aCwgdCA9IDA7IGEgPiB0OyB0KyspIGUgKz0gYi5wYXJhbXMucGFnaW5hdGlvbkJ1bGxldFJlbmRlciA/IGIucGFyYW1zLnBhZ2luYXRpb25CdWxsZXRSZW5kZXIodCwgYi5wYXJhbXMuYnVsbGV0Q2xhc3MpIDogXCI8XCIgKyBiLnBhcmFtcy5wYWdpbmF0aW9uRWxlbWVudCArICcgY2xhc3M9XCInICsgYi5wYXJhbXMuYnVsbGV0Q2xhc3MgKyAnXCI+PC8nICsgYi5wYXJhbXMucGFnaW5hdGlvbkVsZW1lbnQgKyBcIj5cIjtcblx0XHRcdFx0XHRcdGIucGFnaW5hdGlvbkNvbnRhaW5lci5odG1sKGUpLCBiLmJ1bGxldHMgPSBiLnBhZ2luYXRpb25Db250YWluZXIuZmluZChcIi5cIiArIGIucGFyYW1zLmJ1bGxldENsYXNzKSwgYi5wYXJhbXMucGFnaW5hdGlvbkNsaWNrYWJsZSAmJiBiLnBhcmFtcy5hMTF5ICYmIGIuYTExeSAmJiBiLmExMXkuaW5pdFBhZ2luYXRpb24oKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcImZyYWN0aW9uXCIgPT09IGIucGFyYW1zLnBhZ2luYXRpb25UeXBlICYmIChlID0gYi5wYXJhbXMucGFnaW5hdGlvbkZyYWN0aW9uUmVuZGVyID8gYi5wYXJhbXMucGFnaW5hdGlvbkZyYWN0aW9uUmVuZGVyKGIsIGIucGFyYW1zLnBhZ2luYXRpb25DdXJyZW50Q2xhc3MsIGIucGFyYW1zLnBhZ2luYXRpb25Ub3RhbENsYXNzKSA6ICc8c3BhbiBjbGFzcz1cIicgKyBiLnBhcmFtcy5wYWdpbmF0aW9uQ3VycmVudENsYXNzICsgJ1wiPjwvc3Bhbj4gLyA8c3BhbiBjbGFzcz1cIicgKyBiLnBhcmFtcy5wYWdpbmF0aW9uVG90YWxDbGFzcyArICdcIj48L3NwYW4+JywgYi5wYWdpbmF0aW9uQ29udGFpbmVyLmh0bWwoZSkpLCBcInByb2dyZXNzXCIgPT09IGIucGFyYW1zLnBhZ2luYXRpb25UeXBlICYmIChlID0gYi5wYXJhbXMucGFnaW5hdGlvblByb2dyZXNzUmVuZGVyID8gYi5wYXJhbXMucGFnaW5hdGlvblByb2dyZXNzUmVuZGVyKGIsIGIucGFyYW1zLnBhZ2luYXRpb25Qcm9ncmVzc2JhckNsYXNzKSA6ICc8c3BhbiBjbGFzcz1cIicgKyBiLnBhcmFtcy5wYWdpbmF0aW9uUHJvZ3Jlc3NiYXJDbGFzcyArICdcIj48L3NwYW4+JywgYi5wYWdpbmF0aW9uQ29udGFpbmVyLmh0bWwoZSkpLCBcImN1c3RvbVwiICE9PSBiLnBhcmFtcy5wYWdpbmF0aW9uVHlwZSAmJiBiLmVtaXQoXCJvblBhZ2luYXRpb25SZW5kZXJlZFwiLCBiLCBiLnBhZ2luYXRpb25Db250YWluZXJbMF0pXG5cdFx0XHRcdH1cblx0XHRcdH0sIGIudXBkYXRlID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRmdW5jdGlvbiBhKCkge1xuXHRcdFx0XHRcdHIgPSBNYXRoLm1pbihNYXRoLm1heChiLnRyYW5zbGF0ZSwgYi5tYXhUcmFuc2xhdGUoKSksIGIubWluVHJhbnNsYXRlKCkpLCBiLnNldFdyYXBwZXJUcmFuc2xhdGUociksIGIudXBkYXRlQWN0aXZlSW5kZXgoKSwgYi51cGRhdGVDbGFzc2VzKClcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoYi51cGRhdGVDb250YWluZXJTaXplKCksIGIudXBkYXRlU2xpZGVzU2l6ZSgpLCBiLnVwZGF0ZVByb2dyZXNzKCksIGIudXBkYXRlUGFnaW5hdGlvbigpLCBiLnVwZGF0ZUNsYXNzZXMoKSwgYi5wYXJhbXMuc2Nyb2xsYmFyICYmIGIuc2Nyb2xsYmFyICYmIGIuc2Nyb2xsYmFyLnNldCgpLCBlKSB7XG5cdFx0XHRcdFx0dmFyIHQsIHI7XG5cdFx0XHRcdFx0Yi5jb250cm9sbGVyICYmIGIuY29udHJvbGxlci5zcGxpbmUgJiYgKGIuY29udHJvbGxlci5zcGxpbmUgPSB2b2lkIDApLCBiLnBhcmFtcy5mcmVlTW9kZSA/IChhKCksIGIucGFyYW1zLmF1dG9IZWlnaHQgJiYgYi51cGRhdGVBdXRvSGVpZ2h0KCkpIDogKHQgPSAoXCJhdXRvXCIgPT09IGIucGFyYW1zLnNsaWRlc1BlclZpZXcgfHwgYi5wYXJhbXMuc2xpZGVzUGVyVmlldyA+IDEpICYmIGIuaXNFbmQgJiYgIWIucGFyYW1zLmNlbnRlcmVkU2xpZGVzID8gYi5zbGlkZVRvKGIuc2xpZGVzLmxlbmd0aCAtIDEsIDAsICExLCAhMCkgOiBiLnNsaWRlVG8oYi5hY3RpdmVJbmRleCwgMCwgITEsICEwKSwgdCB8fCBhKCkpXG5cdFx0XHRcdH0gZWxzZSBiLnBhcmFtcy5hdXRvSGVpZ2h0ICYmIGIudXBkYXRlQXV0b0hlaWdodCgpXG5cdFx0XHR9LCBiLm9uUmVzaXplID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRiLnBhcmFtcy5icmVha3BvaW50cyAmJiBiLnNldEJyZWFrcG9pbnQoKTtcblx0XHRcdFx0dmFyIGEgPSBiLnBhcmFtcy5hbGxvd1N3aXBlVG9QcmV2LFxuXHRcdFx0XHRcdHQgPSBiLnBhcmFtcy5hbGxvd1N3aXBlVG9OZXh0O1xuXHRcdFx0XHRiLnBhcmFtcy5hbGxvd1N3aXBlVG9QcmV2ID0gYi5wYXJhbXMuYWxsb3dTd2lwZVRvTmV4dCA9ICEwLCBiLnVwZGF0ZUNvbnRhaW5lclNpemUoKSwgYi51cGRhdGVTbGlkZXNTaXplKCksIChcImF1dG9cIiA9PT0gYi5wYXJhbXMuc2xpZGVzUGVyVmlldyB8fCBiLnBhcmFtcy5mcmVlTW9kZSB8fCBlKSAmJiBiLnVwZGF0ZVBhZ2luYXRpb24oKSwgYi5wYXJhbXMuc2Nyb2xsYmFyICYmIGIuc2Nyb2xsYmFyICYmIGIuc2Nyb2xsYmFyLnNldCgpLCBiLmNvbnRyb2xsZXIgJiYgYi5jb250cm9sbGVyLnNwbGluZSAmJiAoYi5jb250cm9sbGVyLnNwbGluZSA9IHZvaWQgMCk7XG5cdFx0XHRcdHZhciByID0gITE7XG5cdFx0XHRcdGlmIChiLnBhcmFtcy5mcmVlTW9kZSkge1xuXHRcdFx0XHRcdHZhciBpID0gTWF0aC5taW4oTWF0aC5tYXgoYi50cmFuc2xhdGUsIGIubWF4VHJhbnNsYXRlKCkpLCBiLm1pblRyYW5zbGF0ZSgpKTtcblx0XHRcdFx0XHRiLnNldFdyYXBwZXJUcmFuc2xhdGUoaSksIGIudXBkYXRlQWN0aXZlSW5kZXgoKSwgYi51cGRhdGVDbGFzc2VzKCksIGIucGFyYW1zLmF1dG9IZWlnaHQgJiYgYi51cGRhdGVBdXRvSGVpZ2h0KClcblx0XHRcdFx0fSBlbHNlIGIudXBkYXRlQ2xhc3NlcygpLCByID0gKFwiYXV0b1wiID09PSBiLnBhcmFtcy5zbGlkZXNQZXJWaWV3IHx8IGIucGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxKSAmJiBiLmlzRW5kICYmICFiLnBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IGIuc2xpZGVUbyhiLnNsaWRlcy5sZW5ndGggLSAxLCAwLCAhMSwgITApIDogYi5zbGlkZVRvKGIuYWN0aXZlSW5kZXgsIDAsICExLCAhMCk7XG5cdFx0XHRcdGIucGFyYW1zLmxhenlMb2FkaW5nICYmICFyICYmIGIubGF6eSAmJiBiLmxhenkubG9hZCgpLCBiLnBhcmFtcy5hbGxvd1N3aXBlVG9QcmV2ID0gYSwgYi5wYXJhbXMuYWxsb3dTd2lwZVRvTmV4dCA9IHRcblx0XHRcdH07XG5cdFx0XHR2YXIgVCA9IFtcIm1vdXNlZG93blwiLCBcIm1vdXNlbW92ZVwiLCBcIm1vdXNldXBcIl07XG5cdFx0XHR3aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkID8gVCA9IFtcInBvaW50ZXJkb3duXCIsIFwicG9pbnRlcm1vdmVcIiwgXCJwb2ludGVydXBcIl0gOiB3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgJiYgKFQgPSBbXCJNU1BvaW50ZXJEb3duXCIsIFwiTVNQb2ludGVyTW92ZVwiLCBcIk1TUG9pbnRlclVwXCJdKSwgYi50b3VjaEV2ZW50cyA9IHtcblx0XHRcdFx0c3RhcnQ6IGIuc3VwcG9ydC50b3VjaCB8fCAhYi5wYXJhbXMuc2ltdWxhdGVUb3VjaCA/IFwidG91Y2hzdGFydFwiIDogVFswXSxcblx0XHRcdFx0bW92ZTogYi5zdXBwb3J0LnRvdWNoIHx8ICFiLnBhcmFtcy5zaW11bGF0ZVRvdWNoID8gXCJ0b3VjaG1vdmVcIiA6IFRbMV0sXG5cdFx0XHRcdGVuZDogYi5zdXBwb3J0LnRvdWNoIHx8ICFiLnBhcmFtcy5zaW11bGF0ZVRvdWNoID8gXCJ0b3VjaGVuZFwiIDogVFsyXVxuXHRcdFx0fSwgKHdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQgfHwgd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSAmJiAoXCJjb250YWluZXJcIiA9PT0gYi5wYXJhbXMudG91Y2hFdmVudHNUYXJnZXQgPyBiLmNvbnRhaW5lciA6IGIud3JhcHBlcikuYWRkQ2xhc3MoXCJzd2lwZXItd3A4LVwiICsgYi5wYXJhbXMuZGlyZWN0aW9uKSwgYi5pbml0RXZlbnRzID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHR2YXIgYSA9IGUgPyBcIm9mZlwiIDogXCJvblwiLFxuXHRcdFx0XHRcdHQgPSBlID8gXCJyZW1vdmVFdmVudExpc3RlbmVyXCIgOiBcImFkZEV2ZW50TGlzdGVuZXJcIixcblx0XHRcdFx0XHRyID0gXCJjb250YWluZXJcIiA9PT0gYi5wYXJhbXMudG91Y2hFdmVudHNUYXJnZXQgPyBiLmNvbnRhaW5lclswXSA6IGIud3JhcHBlclswXSxcblx0XHRcdFx0XHRzID0gYi5zdXBwb3J0LnRvdWNoID8gciA6IGRvY3VtZW50LFxuXHRcdFx0XHRcdG4gPSBiLnBhcmFtcy5uZXN0ZWQgPyAhMCA6ICExO1xuXHRcdFx0XHRiLmJyb3dzZXIuaWUgPyAoclt0XShiLnRvdWNoRXZlbnRzLnN0YXJ0LCBiLm9uVG91Y2hTdGFydCwgITEpLCBzW3RdKGIudG91Y2hFdmVudHMubW92ZSwgYi5vblRvdWNoTW92ZSwgbiksIHNbdF0oYi50b3VjaEV2ZW50cy5lbmQsIGIub25Ub3VjaEVuZCwgITEpKSA6IChiLnN1cHBvcnQudG91Y2ggJiYgKHJbdF0oYi50b3VjaEV2ZW50cy5zdGFydCwgYi5vblRvdWNoU3RhcnQsICExKSwgclt0XShiLnRvdWNoRXZlbnRzLm1vdmUsIGIub25Ub3VjaE1vdmUsIG4pLCByW3RdKGIudG91Y2hFdmVudHMuZW5kLCBiLm9uVG91Y2hFbmQsICExKSksICFpLnNpbXVsYXRlVG91Y2ggfHwgYi5kZXZpY2UuaW9zIHx8IGIuZGV2aWNlLmFuZHJvaWQgfHwgKHJbdF0oXCJtb3VzZWRvd25cIiwgYi5vblRvdWNoU3RhcnQsICExKSwgZG9jdW1lbnRbdF0oXCJtb3VzZW1vdmVcIiwgYi5vblRvdWNoTW92ZSwgbiksIGRvY3VtZW50W3RdKFwibW91c2V1cFwiLCBiLm9uVG91Y2hFbmQsICExKSkpLCB3aW5kb3dbdF0oXCJyZXNpemVcIiwgYi5vblJlc2l6ZSksIGIucGFyYW1zLm5leHRCdXR0b24gJiYgYi5uZXh0QnV0dG9uICYmIGIubmV4dEJ1dHRvbi5sZW5ndGggPiAwICYmIChiLm5leHRCdXR0b25bYV0oXCJjbGlja1wiLCBiLm9uQ2xpY2tOZXh0KSwgYi5wYXJhbXMuYTExeSAmJiBiLmExMXkgJiYgYi5uZXh0QnV0dG9uW2FdKFwia2V5ZG93blwiLCBiLmExMXkub25FbnRlcktleSkpLCBiLnBhcmFtcy5wcmV2QnV0dG9uICYmIGIucHJldkJ1dHRvbiAmJiBiLnByZXZCdXR0b24ubGVuZ3RoID4gMCAmJiAoYi5wcmV2QnV0dG9uW2FdKFwiY2xpY2tcIiwgYi5vbkNsaWNrUHJldiksIGIucGFyYW1zLmExMXkgJiYgYi5hMTF5ICYmIGIucHJldkJ1dHRvblthXShcImtleWRvd25cIiwgYi5hMTF5Lm9uRW50ZXJLZXkpKSwgYi5wYXJhbXMucGFnaW5hdGlvbiAmJiBiLnBhcmFtcy5wYWdpbmF0aW9uQ2xpY2thYmxlICYmIChiLnBhZ2luYXRpb25Db250YWluZXJbYV0oXCJjbGlja1wiLCBcIi5cIiArIGIucGFyYW1zLmJ1bGxldENsYXNzLCBiLm9uQ2xpY2tJbmRleCksIGIucGFyYW1zLmExMXkgJiYgYi5hMTF5ICYmIGIucGFnaW5hdGlvbkNvbnRhaW5lclthXShcImtleWRvd25cIiwgXCIuXCIgKyBiLnBhcmFtcy5idWxsZXRDbGFzcywgYi5hMTF5Lm9uRW50ZXJLZXkpKSwgKGIucGFyYW1zLnByZXZlbnRDbGlja3MgfHwgYi5wYXJhbXMucHJldmVudENsaWNrc1Byb3BhZ2F0aW9uKSAmJiByW3RdKFwiY2xpY2tcIiwgYi5wcmV2ZW50Q2xpY2tzLCAhMClcblx0XHRcdH0sIGIuYXR0YWNoRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGIuaW5pdEV2ZW50cygpXG5cdFx0XHR9LCBiLmRldGFjaEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRiLmluaXRFdmVudHMoITApXG5cdFx0XHR9LCBiLmFsbG93Q2xpY2sgPSAhMCwgYi5wcmV2ZW50Q2xpY2tzID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRiLmFsbG93Q2xpY2sgfHwgKGIucGFyYW1zLnByZXZlbnRDbGlja3MgJiYgZS5wcmV2ZW50RGVmYXVsdCgpLCBiLnBhcmFtcy5wcmV2ZW50Q2xpY2tzUHJvcGFnYXRpb24gJiYgYi5hbmltYXRpbmcgJiYgKGUuc3RvcFByb3BhZ2F0aW9uKCksIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpKVxuXHRcdFx0fSwgYi5vbkNsaWNrTmV4dCA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpLCAoIWIuaXNFbmQgfHwgYi5wYXJhbXMubG9vcCkgJiYgYi5zbGlkZU5leHQoKVxuXHRcdFx0fSwgYi5vbkNsaWNrUHJldiA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpLCAoIWIuaXNCZWdpbm5pbmcgfHwgYi5wYXJhbXMubG9vcCkgJiYgYi5zbGlkZVByZXYoKVxuXHRcdFx0fSwgYi5vbkNsaWNrSW5kZXggPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0dmFyIHQgPSBhKHRoaXMpLmluZGV4KCkgKiBiLnBhcmFtcy5zbGlkZXNQZXJHcm91cDtcblx0XHRcdFx0Yi5wYXJhbXMubG9vcCAmJiAodCArPSBiLmxvb3BlZFNsaWRlcyksIGIuc2xpZGVUbyh0KVxuXHRcdFx0fSwgYi51cGRhdGVDbGlja2VkU2xpZGUgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdHZhciB0ID0gbyhlLCBcIi5cIiArIGIucGFyYW1zLnNsaWRlQ2xhc3MpLFxuXHRcdFx0XHRcdHIgPSAhMTtcblx0XHRcdFx0aWYgKHQpXG5cdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBiLnNsaWRlcy5sZW5ndGg7IGkrKykgYi5zbGlkZXNbaV0gPT09IHQgJiYgKHIgPSAhMCk7XG5cdFx0XHRcdGlmICghdCB8fCAhcikgcmV0dXJuIGIuY2xpY2tlZFNsaWRlID0gdm9pZCAwLCB2b2lkKGIuY2xpY2tlZEluZGV4ID0gdm9pZCAwKTtcblx0XHRcdFx0aWYgKGIuY2xpY2tlZFNsaWRlID0gdCwgYi5jbGlja2VkSW5kZXggPSBhKHQpLmluZGV4KCksIGIucGFyYW1zLnNsaWRlVG9DbGlja2VkU2xpZGUgJiYgdm9pZCAwICE9PSBiLmNsaWNrZWRJbmRleCAmJiBiLmNsaWNrZWRJbmRleCAhPT0gYi5hY3RpdmVJbmRleCkge1xuXHRcdFx0XHRcdHZhciBzLCBuID0gYi5jbGlja2VkSW5kZXg7XG5cdFx0XHRcdFx0aWYgKGIucGFyYW1zLmxvb3ApIHtcblx0XHRcdFx0XHRcdGlmIChiLmFuaW1hdGluZykgcmV0dXJuO1xuXHRcdFx0XHRcdFx0cyA9IGEoYi5jbGlja2VkU2xpZGUpLmF0dHIoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKSwgYi5wYXJhbXMuY2VudGVyZWRTbGlkZXMgPyBuIDwgYi5sb29wZWRTbGlkZXMgLSBiLnBhcmFtcy5zbGlkZXNQZXJWaWV3IC8gMiB8fCBuID4gYi5zbGlkZXMubGVuZ3RoIC0gYi5sb29wZWRTbGlkZXMgKyBiLnBhcmFtcy5zbGlkZXNQZXJWaWV3IC8gMiA/IChiLmZpeExvb3AoKSwgbiA9IGIud3JhcHBlci5jaGlsZHJlbihcIi5cIiArIGIucGFyYW1zLnNsaWRlQ2xhc3MgKyAnW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJyArIHMgKyAnXCJdOm5vdCguc3dpcGVyLXNsaWRlLWR1cGxpY2F0ZSknKS5lcSgwKS5pbmRleCgpLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRiLnNsaWRlVG8obilcblx0XHRcdFx0XHRcdH0sIDApKSA6IGIuc2xpZGVUbyhuKSA6IG4gPiBiLnNsaWRlcy5sZW5ndGggLSBiLnBhcmFtcy5zbGlkZXNQZXJWaWV3ID8gKGIuZml4TG9vcCgpLCBuID0gYi53cmFwcGVyLmNoaWxkcmVuKFwiLlwiICsgYi5wYXJhbXMuc2xpZGVDbGFzcyArICdbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCInICsgcyArICdcIl06bm90KC5zd2lwZXItc2xpZGUtZHVwbGljYXRlKScpLmVxKDApLmluZGV4KCksIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdGIuc2xpZGVUbyhuKVxuXHRcdFx0XHRcdFx0fSwgMCkpIDogYi5zbGlkZVRvKG4pXG5cdFx0XHRcdFx0fSBlbHNlIGIuc2xpZGVUbyhuKVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0dmFyIFMsIEMsIHosIE0sIEUsIFAsIGssIEksIEwsIEIsIEQgPSBcImlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBidXR0b25cIixcblx0XHRcdFx0SCA9IERhdGUubm93KCksXG5cdFx0XHRcdEEgPSBbXTtcblx0XHRcdGIuYW5pbWF0aW5nID0gITEsIGIudG91Y2hlcyA9IHtcblx0XHRcdFx0c3RhcnRYOiAwLFxuXHRcdFx0XHRzdGFydFk6IDAsXG5cdFx0XHRcdGN1cnJlbnRYOiAwLFxuXHRcdFx0XHRjdXJyZW50WTogMCxcblx0XHRcdFx0ZGlmZjogMFxuXHRcdFx0fTtcblx0XHRcdHZhciBHLCBPO1xuXHRcdFx0aWYgKGIub25Ub3VjaFN0YXJ0ID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdGlmIChlLm9yaWdpbmFsRXZlbnQgJiYgKGUgPSBlLm9yaWdpbmFsRXZlbnQpLCBHID0gXCJ0b3VjaHN0YXJ0XCIgPT09IGUudHlwZSwgRyB8fCAhKFwid2hpY2hcIiBpbiBlKSB8fCAzICE9PSBlLndoaWNoKSB7XG5cdFx0XHRcdFx0XHRpZiAoYi5wYXJhbXMubm9Td2lwaW5nICYmIG8oZSwgXCIuXCIgKyBiLnBhcmFtcy5ub1N3aXBpbmdDbGFzcykpIHJldHVybiB2b2lkKGIuYWxsb3dDbGljayA9ICEwKTtcblx0XHRcdFx0XHRcdGlmICghYi5wYXJhbXMuc3dpcGVIYW5kbGVyIHx8IG8oZSwgYi5wYXJhbXMuc3dpcGVIYW5kbGVyKSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgdCA9IGIudG91Y2hlcy5jdXJyZW50WCA9IFwidG91Y2hzdGFydFwiID09PSBlLnR5cGUgPyBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVggOiBlLnBhZ2VYLFxuXHRcdFx0XHRcdFx0XHRcdHIgPSBiLnRvdWNoZXMuY3VycmVudFkgPSBcInRvdWNoc3RhcnRcIiA9PT0gZS50eXBlID8gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZIDogZS5wYWdlWTtcblx0XHRcdFx0XHRcdFx0aWYgKCEoYi5kZXZpY2UuaW9zICYmIGIucGFyYW1zLmlPU0VkZ2VTd2lwZURldGVjdGlvbiAmJiB0IDw9IGIucGFyYW1zLmlPU0VkZ2VTd2lwZVRocmVzaG9sZCkpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoUyA9ICEwLCBDID0gITEsIHogPSAhMCwgRSA9IHZvaWQgMCwgTyA9IHZvaWQgMCwgYi50b3VjaGVzLnN0YXJ0WCA9IHQsIGIudG91Y2hlcy5zdGFydFkgPSByLCBNID0gRGF0ZS5ub3coKSwgYi5hbGxvd0NsaWNrID0gITAsIGIudXBkYXRlQ29udGFpbmVyU2l6ZSgpLCBiLnN3aXBlRGlyZWN0aW9uID0gdm9pZCAwLCBiLnBhcmFtcy50aHJlc2hvbGQgPiAwICYmIChJID0gITEpLCBcInRvdWNoc3RhcnRcIiAhPT0gZS50eXBlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgaSA9ICEwO1xuXHRcdFx0XHRcdFx0XHRcdFx0YShlLnRhcmdldCkuaXMoRCkgJiYgKGkgPSAhMSksIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgYShkb2N1bWVudC5hY3RpdmVFbGVtZW50KS5pcyhEKSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKSwgaSAmJiBlLnByZXZlbnREZWZhdWx0KClcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0Yi5lbWl0KFwib25Ub3VjaFN0YXJ0XCIsIGIsIGUpXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIGIub25Ub3VjaE1vdmUgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0aWYgKGUub3JpZ2luYWxFdmVudCAmJiAoZSA9IGUub3JpZ2luYWxFdmVudCksICFHIHx8IFwibW91c2Vtb3ZlXCIgIT09IGUudHlwZSkge1xuXHRcdFx0XHRcdFx0aWYgKGUucHJldmVudGVkQnlOZXN0ZWRTd2lwZXIpIHJldHVybiBiLnRvdWNoZXMuc3RhcnRYID0gXCJ0b3VjaG1vdmVcIiA9PT0gZS50eXBlID8gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWCwgdm9pZChiLnRvdWNoZXMuc3RhcnRZID0gXCJ0b3VjaG1vdmVcIiA9PT0gZS50eXBlID8gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZIDogZS5wYWdlWSk7XG5cdFx0XHRcdFx0XHRpZiAoYi5wYXJhbXMub25seUV4dGVybmFsKSByZXR1cm4gYi5hbGxvd0NsaWNrID0gITEsIHZvaWQoUyAmJiAoYi50b3VjaGVzLnN0YXJ0WCA9IGIudG91Y2hlcy5jdXJyZW50WCA9IFwidG91Y2htb3ZlXCIgPT09IGUudHlwZSA/IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWCA6IGUucGFnZVgsIGIudG91Y2hlcy5zdGFydFkgPSBiLnRvdWNoZXMuY3VycmVudFkgPSBcInRvdWNobW92ZVwiID09PSBlLnR5cGUgPyBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZLCBNID0gRGF0ZS5ub3coKSkpO1xuXHRcdFx0XHRcdFx0aWYgKEcgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBlLnRhcmdldCA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBhKGUudGFyZ2V0KS5pcyhEKSkgcmV0dXJuIEMgPSAhMCwgdm9pZChiLmFsbG93Q2xpY2sgPSAhMSk7XG5cdFx0XHRcdFx0XHRpZiAoeiAmJiBiLmVtaXQoXCJvblRvdWNoTW92ZVwiLCBiLCBlKSwgIShlLnRhcmdldFRvdWNoZXMgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA+IDEpKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChiLnRvdWNoZXMuY3VycmVudFggPSBcInRvdWNobW92ZVwiID09PSBlLnR5cGUgPyBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVggOiBlLnBhZ2VYLCBiLnRvdWNoZXMuY3VycmVudFkgPSBcInRvdWNobW92ZVwiID09PSBlLnR5cGUgPyBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZLCBcInVuZGVmaW5lZFwiID09IHR5cGVvZiBFKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHQgPSAxODAgKiBNYXRoLmF0YW4yKE1hdGguYWJzKGIudG91Y2hlcy5jdXJyZW50WSAtIGIudG91Y2hlcy5zdGFydFkpLCBNYXRoLmFicyhiLnRvdWNoZXMuY3VycmVudFggLSBiLnRvdWNoZXMuc3RhcnRYKSkgLyBNYXRoLlBJO1xuXHRcdFx0XHRcdFx0XHRcdEUgPSBiLmlzSG9yaXpvbnRhbCgpID8gdCA+IGIucGFyYW1zLnRvdWNoQW5nbGUgOiA5MCAtIHQgPiBiLnBhcmFtcy50b3VjaEFuZ2xlXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKEUgJiYgYi5lbWl0KFwib25Ub3VjaE1vdmVPcHBvc2l0ZVwiLCBiLCBlKSwgXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgTyAmJiBiLmJyb3dzZXIuaWVUb3VjaCAmJiAoYi50b3VjaGVzLmN1cnJlbnRYICE9PSBiLnRvdWNoZXMuc3RhcnRYIHx8IGIudG91Y2hlcy5jdXJyZW50WSAhPT0gYi50b3VjaGVzLnN0YXJ0WSkgJiYgKE8gPSAhMCksIFMpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoRSkgcmV0dXJuIHZvaWQoUyA9ICExKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAoTyB8fCAhYi5icm93c2VyLmllVG91Y2gpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGIuYWxsb3dDbGljayA9ICExLCBiLmVtaXQoXCJvblNsaWRlck1vdmVcIiwgYiwgZSksIGUucHJldmVudERlZmF1bHQoKSwgYi5wYXJhbXMudG91Y2hNb3ZlU3RvcFByb3BhZ2F0aW9uICYmICFiLnBhcmFtcy5uZXN0ZWQgJiYgZS5zdG9wUHJvcGFnYXRpb24oKSwgQyB8fCAoaS5sb29wICYmIGIuZml4TG9vcCgpLCBrID0gYi5nZXRXcmFwcGVyVHJhbnNsYXRlKCksIGIuc2V0V3JhcHBlclRyYW5zaXRpb24oMCksIGIuYW5pbWF0aW5nICYmIGIud3JhcHBlci50cmlnZ2VyKFwid2Via2l0VHJhbnNpdGlvbkVuZCB0cmFuc2l0aW9uZW5kIG9UcmFuc2l0aW9uRW5kIE1TVHJhbnNpdGlvbkVuZCBtc1RyYW5zaXRpb25FbmRcIiksIGIucGFyYW1zLmF1dG9wbGF5ICYmIGIuYXV0b3BsYXlpbmcgJiYgKGIucGFyYW1zLmF1dG9wbGF5RGlzYWJsZU9uSW50ZXJhY3Rpb24gPyBiLnN0b3BBdXRvcGxheSgpIDogYi5wYXVzZUF1dG9wbGF5KCkpLCBCID0gITEsIGIucGFyYW1zLmdyYWJDdXJzb3IgJiYgKGIuY29udGFpbmVyWzBdLnN0eWxlLmN1cnNvciA9IFwibW92ZVwiLCBiLmNvbnRhaW5lclswXS5zdHlsZS5jdXJzb3IgPSBcIi13ZWJraXQtZ3JhYmJpbmdcIiwgYi5jb250YWluZXJbMF0uc3R5bGUuY3Vyc29yID0gXCItbW96LWdyYWJiaW5cIiwgYi5jb250YWluZXJbMF0uc3R5bGUuY3Vyc29yID0gXCJncmFiYmluZ1wiKSksIEMgPSAhMDtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciByID0gYi50b3VjaGVzLmRpZmYgPSBiLmlzSG9yaXpvbnRhbCgpID8gYi50b3VjaGVzLmN1cnJlbnRYIC0gYi50b3VjaGVzLnN0YXJ0WCA6IGIudG91Y2hlcy5jdXJyZW50WSAtIGIudG91Y2hlcy5zdGFydFk7XG5cdFx0XHRcdFx0XHRcdFx0XHRyICo9IGIucGFyYW1zLnRvdWNoUmF0aW8sIGIucnRsICYmIChyID0gLXIpLCBiLnN3aXBlRGlyZWN0aW9uID0gciA+IDAgPyBcInByZXZcIiA6IFwibmV4dFwiLCBQID0gciArIGs7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgcyA9ICEwO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHIgPiAwICYmIFAgPiBiLm1pblRyYW5zbGF0ZSgpID8gKHMgPSAhMSwgYi5wYXJhbXMucmVzaXN0YW5jZSAmJiAoUCA9IGIubWluVHJhbnNsYXRlKCkgLSAxICsgTWF0aC5wb3coLWIubWluVHJhbnNsYXRlKCkgKyBrICsgciwgYi5wYXJhbXMucmVzaXN0YW5jZVJhdGlvKSkpIDogMCA+IHIgJiYgUCA8IGIubWF4VHJhbnNsYXRlKCkgJiYgKHMgPSAhMSwgYi5wYXJhbXMucmVzaXN0YW5jZSAmJiAoUCA9IGIubWF4VHJhbnNsYXRlKCkgKyAxIC0gTWF0aC5wb3coYi5tYXhUcmFuc2xhdGUoKSAtIGsgLSByLCBiLnBhcmFtcy5yZXNpc3RhbmNlUmF0aW8pKSksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHMgJiYgKGUucHJldmVudGVkQnlOZXN0ZWRTd2lwZXIgPSAhMCksICFiLnBhcmFtcy5hbGxvd1N3aXBlVG9OZXh0ICYmIFwibmV4dFwiID09PSBiLnN3aXBlRGlyZWN0aW9uICYmIGsgPiBQICYmIChQID0gayksICFiLnBhcmFtcy5hbGxvd1N3aXBlVG9QcmV2ICYmIFwicHJldlwiID09PSBiLnN3aXBlRGlyZWN0aW9uICYmIFAgPiBrICYmIChQID0gayksIGIucGFyYW1zLmZvbGxvd0Zpbmdlcikge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoYi5wYXJhbXMudGhyZXNob2xkID4gMCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghKE1hdGguYWJzKHIpID4gYi5wYXJhbXMudGhyZXNob2xkIHx8IEkpKSByZXR1cm4gdm9pZChQID0gayk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFJKSByZXR1cm4gSSA9ICEwLCBiLnRvdWNoZXMuc3RhcnRYID0gYi50b3VjaGVzLmN1cnJlbnRYLCBiLnRvdWNoZXMuc3RhcnRZID0gYi50b3VjaGVzLmN1cnJlbnRZLCBQID0gaywgdm9pZChiLnRvdWNoZXMuZGlmZiA9IGIuaXNIb3Jpem9udGFsKCkgPyBiLnRvdWNoZXMuY3VycmVudFggLSBiLnRvdWNoZXMuc3RhcnRYIDogYi50b3VjaGVzLmN1cnJlbnRZIC0gYi50b3VjaGVzLnN0YXJ0WSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0fShiLnBhcmFtcy5mcmVlTW9kZSB8fCBiLnBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzKSAmJiBiLnVwZGF0ZUFjdGl2ZUluZGV4KCksIGIucGFyYW1zLmZyZWVNb2RlICYmICgwID09PSBBLmxlbmd0aCAmJiBBLnB1c2goe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBvc2l0aW9uOiBiLnRvdWNoZXNbYi5pc0hvcml6b250YWwoKSA/IFwic3RhcnRYXCIgOiBcInN0YXJ0WVwiXSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aW1lOiBNXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pLCBBLnB1c2goe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBvc2l0aW9uOiBiLnRvdWNoZXNbYi5pc0hvcml6b250YWwoKSA/IFwiY3VycmVudFhcIiA6IFwiY3VycmVudFlcIl0sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGltZTogKG5ldyB3aW5kb3cuRGF0ZSkuZ2V0VGltZSgpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pKSwgYi51cGRhdGVQcm9ncmVzcyhQKSwgYi5zZXRXcmFwcGVyVHJhbnNsYXRlKFApXG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCBiLm9uVG91Y2hFbmQgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0aWYgKGUub3JpZ2luYWxFdmVudCAmJiAoZSA9IGUub3JpZ2luYWxFdmVudCksIHogJiYgYi5lbWl0KFwib25Ub3VjaEVuZFwiLCBiLCBlKSwgeiA9ICExLCBTKSB7XG5cdFx0XHRcdFx0XHRiLnBhcmFtcy5ncmFiQ3Vyc29yICYmIEMgJiYgUyAmJiAoYi5jb250YWluZXJbMF0uc3R5bGUuY3Vyc29yID0gXCJtb3ZlXCIsIGIuY29udGFpbmVyWzBdLnN0eWxlLmN1cnNvciA9IFwiLXdlYmtpdC1ncmFiXCIsIGIuY29udGFpbmVyWzBdLnN0eWxlLmN1cnNvciA9IFwiLW1vei1ncmFiXCIsIGIuY29udGFpbmVyWzBdLnN0eWxlLmN1cnNvciA9IFwiZ3JhYlwiKTtcblx0XHRcdFx0XHRcdHZhciB0ID0gRGF0ZS5ub3coKSxcblx0XHRcdFx0XHRcdFx0ciA9IHQgLSBNO1xuXHRcdFx0XHRcdFx0aWYgKGIuYWxsb3dDbGljayAmJiAoYi51cGRhdGVDbGlja2VkU2xpZGUoZSksIGIuZW1pdChcIm9uVGFwXCIsIGIsIGUpLCAzMDAgPiByICYmIHQgLSBIID4gMzAwICYmIChMICYmIGNsZWFyVGltZW91dChMKSwgTCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0YiAmJiAoYi5wYXJhbXMucGFnaW5hdGlvbkhpZGUgJiYgYi5wYWdpbmF0aW9uQ29udGFpbmVyLmxlbmd0aCA+IDAgJiYgIWEoZS50YXJnZXQpLmhhc0NsYXNzKGIucGFyYW1zLmJ1bGxldENsYXNzKSAmJiBiLnBhZ2luYXRpb25Db250YWluZXIudG9nZ2xlQ2xhc3MoYi5wYXJhbXMucGFnaW5hdGlvbkhpZGRlbkNsYXNzKSwgYi5lbWl0KFwib25DbGlja1wiLCBiLCBlKSlcblx0XHRcdFx0XHRcdFx0fSwgMzAwKSksIDMwMCA+IHIgJiYgMzAwID4gdCAtIEggJiYgKEwgJiYgY2xlYXJUaW1lb3V0KEwpLCBiLmVtaXQoXCJvbkRvdWJsZVRhcFwiLCBiLCBlKSkpLCBIID0gRGF0ZS5ub3coKSwgc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRiICYmIChiLmFsbG93Q2xpY2sgPSAhMClcblx0XHRcdFx0XHRcdFx0fSwgMCksICFTIHx8ICFDIHx8ICFiLnN3aXBlRGlyZWN0aW9uIHx8IDAgPT09IGIudG91Y2hlcy5kaWZmIHx8IFAgPT09IGspIHJldHVybiB2b2lkKFMgPSBDID0gITEpO1xuXHRcdFx0XHRcdFx0UyA9IEMgPSAhMTtcblx0XHRcdFx0XHRcdHZhciBpO1xuXHRcdFx0XHRcdFx0aWYgKGkgPSBiLnBhcmFtcy5mb2xsb3dGaW5nZXIgPyBiLnJ0bCA/IGIudHJhbnNsYXRlIDogLWIudHJhbnNsYXRlIDogLVAsIGIucGFyYW1zLmZyZWVNb2RlKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChpIDwgLWIubWluVHJhbnNsYXRlKCkpIHJldHVybiB2b2lkIGIuc2xpZGVUbyhiLmFjdGl2ZUluZGV4KTtcblx0XHRcdFx0XHRcdFx0aWYgKGkgPiAtYi5tYXhUcmFuc2xhdGUoKSkgcmV0dXJuIHZvaWQoYi5zbGlkZXMubGVuZ3RoIDwgYi5zbmFwR3JpZC5sZW5ndGggPyBiLnNsaWRlVG8oYi5zbmFwR3JpZC5sZW5ndGggLSAxKSA6IGIuc2xpZGVUbyhiLnNsaWRlcy5sZW5ndGggLSAxKSk7XG5cdFx0XHRcdFx0XHRcdGlmIChiLnBhcmFtcy5mcmVlTW9kZU1vbWVudHVtKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKEEubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHMgPSBBLnBvcCgpLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRuID0gQS5wb3AoKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0byA9IHMucG9zaXRpb24gLSBuLnBvc2l0aW9uLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRsID0gcy50aW1lIC0gbi50aW1lO1xuXHRcdFx0XHRcdFx0XHRcdFx0Yi52ZWxvY2l0eSA9IG8gLyBsLCBiLnZlbG9jaXR5ID0gYi52ZWxvY2l0eSAvIDIsIE1hdGguYWJzKGIudmVsb2NpdHkpIDwgYi5wYXJhbXMuZnJlZU1vZGVNaW5pbXVtVmVsb2NpdHkgJiYgKGIudmVsb2NpdHkgPSAwKSwgKGwgPiAxNTAgfHwgKG5ldyB3aW5kb3cuRGF0ZSkuZ2V0VGltZSgpIC0gcy50aW1lID4gMzAwKSAmJiAoYi52ZWxvY2l0eSA9IDApXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGIudmVsb2NpdHkgPSAwO1xuXHRcdFx0XHRcdFx0XHRcdEEubGVuZ3RoID0gMDtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcCA9IDFlMyAqIGIucGFyYW1zLmZyZWVNb2RlTW9tZW50dW1SYXRpbyxcblx0XHRcdFx0XHRcdFx0XHRcdGQgPSBiLnZlbG9jaXR5ICogcCxcblx0XHRcdFx0XHRcdFx0XHRcdHUgPSBiLnRyYW5zbGF0ZSArIGQ7XG5cdFx0XHRcdFx0XHRcdFx0Yi5ydGwgJiYgKHUgPSAtdSk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGMsIG0gPSAhMSxcblx0XHRcdFx0XHRcdFx0XHRcdGggPSAyMCAqIE1hdGguYWJzKGIudmVsb2NpdHkpICogYi5wYXJhbXMuZnJlZU1vZGVNb21lbnR1bUJvdW5jZVJhdGlvO1xuXHRcdFx0XHRcdFx0XHRcdGlmICh1IDwgYi5tYXhUcmFuc2xhdGUoKSkgYi5wYXJhbXMuZnJlZU1vZGVNb21lbnR1bUJvdW5jZSA/ICh1ICsgYi5tYXhUcmFuc2xhdGUoKSA8IC1oICYmICh1ID0gYi5tYXhUcmFuc2xhdGUoKSAtIGgpLCBjID0gYi5tYXhUcmFuc2xhdGUoKSwgbSA9ICEwLCBCID0gITApIDogdSA9IGIubWF4VHJhbnNsYXRlKCk7XG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSBpZiAodSA+IGIubWluVHJhbnNsYXRlKCkpIGIucGFyYW1zLmZyZWVNb2RlTW9tZW50dW1Cb3VuY2UgPyAodSAtIGIubWluVHJhbnNsYXRlKCkgPiBoICYmICh1ID0gYi5taW5UcmFuc2xhdGUoKSArIGgpLCBjID0gYi5taW5UcmFuc2xhdGUoKSwgbSA9ICEwLCBCID0gITApIDogdSA9IGIubWluVHJhbnNsYXRlKCk7XG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSBpZiAoYi5wYXJhbXMuZnJlZU1vZGVTdGlja3kpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBmLCBnID0gMDtcblx0XHRcdFx0XHRcdFx0XHRcdGZvciAoZyA9IDA7IGcgPCBiLnNuYXBHcmlkLmxlbmd0aDsgZyArPSAxKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoYi5zbmFwR3JpZFtnXSA+IC11KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZiA9IGc7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnJlYWtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0dSA9IE1hdGguYWJzKGIuc25hcEdyaWRbZl0gLSB1KSA8IE1hdGguYWJzKGIuc25hcEdyaWRbZiAtIDFdIC0gdSkgfHwgXCJuZXh0XCIgPT09IGIuc3dpcGVEaXJlY3Rpb24gPyBiLnNuYXBHcmlkW2ZdIDogYi5zbmFwR3JpZFtmIC0gMV0sIGIucnRsIHx8ICh1ID0gLXUpXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGlmICgwICE9PSBiLnZlbG9jaXR5KSBwID0gYi5ydGwgPyBNYXRoLmFicygoLXUgLSBiLnRyYW5zbGF0ZSkgLyBiLnZlbG9jaXR5KSA6IE1hdGguYWJzKCh1IC0gYi50cmFuc2xhdGUpIC8gYi52ZWxvY2l0eSk7XG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSBpZiAoYi5wYXJhbXMuZnJlZU1vZGVTdGlja3kpIHJldHVybiB2b2lkIGIuc2xpZGVSZXNldCgpO1xuXHRcdFx0XHRcdFx0XHRcdGIucGFyYW1zLmZyZWVNb2RlTW9tZW50dW1Cb3VuY2UgJiYgbSA/IChiLnVwZGF0ZVByb2dyZXNzKGMpLCBiLnNldFdyYXBwZXJUcmFuc2l0aW9uKHApLCBiLnNldFdyYXBwZXJUcmFuc2xhdGUodSksIGIub25UcmFuc2l0aW9uU3RhcnQoKSwgYi5hbmltYXRpbmcgPSAhMCwgYi53cmFwcGVyLnRyYW5zaXRpb25FbmQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRiICYmIEIgJiYgKGIuZW1pdChcIm9uTW9tZW50dW1Cb3VuY2VcIiwgYiksIGIuc2V0V3JhcHBlclRyYW5zaXRpb24oYi5wYXJhbXMuc3BlZWQpLCBiLnNldFdyYXBwZXJUcmFuc2xhdGUoYyksIGIud3JhcHBlci50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRiICYmIGIub25UcmFuc2l0aW9uRW5kKClcblx0XHRcdFx0XHRcdFx0XHRcdH0pKVxuXHRcdFx0XHRcdFx0XHRcdH0pKSA6IGIudmVsb2NpdHkgPyAoYi51cGRhdGVQcm9ncmVzcyh1KSwgYi5zZXRXcmFwcGVyVHJhbnNpdGlvbihwKSwgYi5zZXRXcmFwcGVyVHJhbnNsYXRlKHUpLCBiLm9uVHJhbnNpdGlvblN0YXJ0KCksIGIuYW5pbWF0aW5nIHx8IChiLmFuaW1hdGluZyA9ICEwLCBiLndyYXBwZXIudHJhbnNpdGlvbkVuZChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGIgJiYgYi5vblRyYW5zaXRpb25FbmQoKVxuXHRcdFx0XHRcdFx0XHRcdH0pKSkgOiBiLnVwZGF0ZVByb2dyZXNzKHUpLCBiLnVwZGF0ZUFjdGl2ZUluZGV4KClcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdm9pZCgoIWIucGFyYW1zLmZyZWVNb2RlTW9tZW50dW0gfHwgciA+PSBiLnBhcmFtcy5sb25nU3dpcGVzTXMpICYmIChiLnVwZGF0ZVByb2dyZXNzKCksIGIudXBkYXRlQWN0aXZlSW5kZXgoKSkpXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR2YXIgdiwgdyA9IDAsXG5cdFx0XHRcdFx0XHRcdHkgPSBiLnNsaWRlc1NpemVzR3JpZFswXTtcblx0XHRcdFx0XHRcdGZvciAodiA9IDA7IHYgPCBiLnNsaWRlc0dyaWQubGVuZ3RoOyB2ICs9IGIucGFyYW1zLnNsaWRlc1Blckdyb3VwKSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBiLnNsaWRlc0dyaWRbdiArIGIucGFyYW1zLnNsaWRlc1Blckdyb3VwXSA/IGkgPj0gYi5zbGlkZXNHcmlkW3ZdICYmIGkgPCBiLnNsaWRlc0dyaWRbdiArIGIucGFyYW1zLnNsaWRlc1Blckdyb3VwXSAmJiAodyA9IHYsIHkgPSBiLnNsaWRlc0dyaWRbdiArIGIucGFyYW1zLnNsaWRlc1Blckdyb3VwXSAtIGIuc2xpZGVzR3JpZFt2XSkgOiBpID49IGIuc2xpZGVzR3JpZFt2XSAmJiAodyA9IHYsIHkgPSBiLnNsaWRlc0dyaWRbYi5zbGlkZXNHcmlkLmxlbmd0aCAtIDFdIC0gYi5zbGlkZXNHcmlkW2Iuc2xpZGVzR3JpZC5sZW5ndGggLSAyXSk7XG5cdFx0XHRcdFx0XHR2YXIgeCA9IChpIC0gYi5zbGlkZXNHcmlkW3ddKSAvIHk7XG5cdFx0XHRcdFx0XHRpZiAociA+IGIucGFyYW1zLmxvbmdTd2lwZXNNcykge1xuXHRcdFx0XHRcdFx0XHRpZiAoIWIucGFyYW1zLmxvbmdTd2lwZXMpIHJldHVybiB2b2lkIGIuc2xpZGVUbyhiLmFjdGl2ZUluZGV4KTtcblx0XHRcdFx0XHRcdFx0XCJuZXh0XCIgPT09IGIuc3dpcGVEaXJlY3Rpb24gJiYgKHggPj0gYi5wYXJhbXMubG9uZ1N3aXBlc1JhdGlvID8gYi5zbGlkZVRvKHcgKyBiLnBhcmFtcy5zbGlkZXNQZXJHcm91cCkgOiBiLnNsaWRlVG8odykpLCBcInByZXZcIiA9PT0gYi5zd2lwZURpcmVjdGlvbiAmJiAoeCA+IDEgLSBiLnBhcmFtcy5sb25nU3dpcGVzUmF0aW8gPyBiLnNsaWRlVG8odyArIGIucGFyYW1zLnNsaWRlc1Blckdyb3VwKSA6IGIuc2xpZGVUbyh3KSlcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGlmICghYi5wYXJhbXMuc2hvcnRTd2lwZXMpIHJldHVybiB2b2lkIGIuc2xpZGVUbyhiLmFjdGl2ZUluZGV4KTtcblx0XHRcdFx0XHRcdFx0XCJuZXh0XCIgPT09IGIuc3dpcGVEaXJlY3Rpb24gJiYgYi5zbGlkZVRvKHcgKyBiLnBhcmFtcy5zbGlkZXNQZXJHcm91cCksIFwicHJldlwiID09PSBiLnN3aXBlRGlyZWN0aW9uICYmIGIuc2xpZGVUbyh3KVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSwgYi5fc2xpZGVUbyA9IGZ1bmN0aW9uKGUsIGEpIHtcblx0XHRcdFx0XHRyZXR1cm4gYi5zbGlkZVRvKGUsIGEsICEwLCAhMClcblx0XHRcdFx0fSwgYi5zbGlkZVRvID0gZnVuY3Rpb24oZSwgYSwgdCwgcikge1xuXHRcdFx0XHRcdFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIHQgJiYgKHQgPSAhMCksIFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGUgJiYgKGUgPSAwKSwgMCA+IGUgJiYgKGUgPSAwKSwgYi5zbmFwSW5kZXggPSBNYXRoLmZsb29yKGUgLyBiLnBhcmFtcy5zbGlkZXNQZXJHcm91cCksIGIuc25hcEluZGV4ID49IGIuc25hcEdyaWQubGVuZ3RoICYmIChiLnNuYXBJbmRleCA9IGIuc25hcEdyaWQubGVuZ3RoIC0gMSk7XG5cdFx0XHRcdFx0dmFyIGkgPSAtYi5zbmFwR3JpZFtiLnNuYXBJbmRleF07XG5cdFx0XHRcdFx0Yi5wYXJhbXMuYXV0b3BsYXkgJiYgYi5hdXRvcGxheWluZyAmJiAociB8fCAhYi5wYXJhbXMuYXV0b3BsYXlEaXNhYmxlT25JbnRlcmFjdGlvbiA/IGIucGF1c2VBdXRvcGxheShhKSA6IGIuc3RvcEF1dG9wbGF5KCkpLCBiLnVwZGF0ZVByb2dyZXNzKGkpO1xuXHRcdFx0XHRcdGZvciAodmFyIHMgPSAwOyBzIDwgYi5zbGlkZXNHcmlkLmxlbmd0aDsgcysrKSAtIE1hdGguZmxvb3IoMTAwICogaSkgPj0gTWF0aC5mbG9vcigxMDAgKiBiLnNsaWRlc0dyaWRbc10pICYmIChlID0gcyk7XG5cdFx0XHRcdFx0cmV0dXJuICFiLnBhcmFtcy5hbGxvd1N3aXBlVG9OZXh0ICYmIGkgPCBiLnRyYW5zbGF0ZSAmJiBpIDwgYi5taW5UcmFuc2xhdGUoKSA/ICExIDogIWIucGFyYW1zLmFsbG93U3dpcGVUb1ByZXYgJiYgaSA+IGIudHJhbnNsYXRlICYmIGkgPiBiLm1heFRyYW5zbGF0ZSgpICYmIChiLmFjdGl2ZUluZGV4IHx8IDApICE9PSBlID8gITEgOiAoXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgYSAmJiAoYSA9IGIucGFyYW1zLnNwZWVkKSwgYi5wcmV2aW91c0luZGV4ID0gYi5hY3RpdmVJbmRleCB8fCAwLCBiLmFjdGl2ZUluZGV4ID0gZSwgYi5ydGwgJiYgLWkgPT09IGIudHJhbnNsYXRlIHx8ICFiLnJ0bCAmJiBpID09PSBiLnRyYW5zbGF0ZSA/IChiLnBhcmFtcy5hdXRvSGVpZ2h0ICYmIGIudXBkYXRlQXV0b0hlaWdodCgpLCBiLnVwZGF0ZUNsYXNzZXMoKSwgXCJzbGlkZVwiICE9PSBiLnBhcmFtcy5lZmZlY3QgJiYgYi5zZXRXcmFwcGVyVHJhbnNsYXRlKGkpLCAhMSkgOiAoYi51cGRhdGVDbGFzc2VzKCksIGIub25UcmFuc2l0aW9uU3RhcnQodCksIDAgPT09IGEgPyAoYi5zZXRXcmFwcGVyVHJhbnNsYXRlKGkpLCBiLnNldFdyYXBwZXJUcmFuc2l0aW9uKDApLCBiLm9uVHJhbnNpdGlvbkVuZCh0KSkgOiAoYi5zZXRXcmFwcGVyVHJhbnNsYXRlKGkpLCBiLnNldFdyYXBwZXJUcmFuc2l0aW9uKGEpLCBiLmFuaW1hdGluZyB8fCAoYi5hbmltYXRpbmcgPSAhMCwgYi53cmFwcGVyLnRyYW5zaXRpb25FbmQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRiICYmIGIub25UcmFuc2l0aW9uRW5kKHQpXG5cdFx0XHRcdFx0fSkpKSwgITApKVxuXHRcdFx0XHR9LCBiLm9uVHJhbnNpdGlvblN0YXJ0ID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGUgJiYgKGUgPSAhMCksIGIucGFyYW1zLmF1dG9IZWlnaHQgJiYgYi51cGRhdGVBdXRvSGVpZ2h0KCksIGIubGF6eSAmJiBiLmxhenkub25UcmFuc2l0aW9uU3RhcnQoKSwgZSAmJiAoYi5lbWl0KFwib25UcmFuc2l0aW9uU3RhcnRcIiwgYiksIGIuYWN0aXZlSW5kZXggIT09IGIucHJldmlvdXNJbmRleCAmJiAoYi5lbWl0KFwib25TbGlkZUNoYW5nZVN0YXJ0XCIsIGIpLCBiLmFjdGl2ZUluZGV4ID4gYi5wcmV2aW91c0luZGV4ID8gYi5lbWl0KFwib25TbGlkZU5leHRTdGFydFwiLCBiKSA6IGIuZW1pdChcIm9uU2xpZGVQcmV2U3RhcnRcIiwgYikpKVxuXHRcdFx0XHR9LCBiLm9uVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRiLmFuaW1hdGluZyA9ICExLCBiLnNldFdyYXBwZXJUcmFuc2l0aW9uKDApLCBcInVuZGVmaW5lZFwiID09IHR5cGVvZiBlICYmIChlID0gITApLCBiLmxhenkgJiYgYi5sYXp5Lm9uVHJhbnNpdGlvbkVuZCgpLCBlICYmIChiLmVtaXQoXCJvblRyYW5zaXRpb25FbmRcIiwgYiksIGIuYWN0aXZlSW5kZXggIT09IGIucHJldmlvdXNJbmRleCAmJiAoYi5lbWl0KFwib25TbGlkZUNoYW5nZUVuZFwiLCBiKSwgYi5hY3RpdmVJbmRleCA+IGIucHJldmlvdXNJbmRleCA/IGIuZW1pdChcIm9uU2xpZGVOZXh0RW5kXCIsIGIpIDogYi5lbWl0KFwib25TbGlkZVByZXZFbmRcIiwgYikpKSwgYi5wYXJhbXMuaGFzaG5hdiAmJiBiLmhhc2huYXYgJiYgYi5oYXNobmF2LnNldEhhc2goKVxuXHRcdFx0XHR9LCBiLnNsaWRlTmV4dCA9IGZ1bmN0aW9uKGUsIGEsIHQpIHtcblx0XHRcdFx0XHRpZiAoYi5wYXJhbXMubG9vcCkge1xuXHRcdFx0XHRcdFx0aWYgKGIuYW5pbWF0aW5nKSByZXR1cm4gITE7XG5cdFx0XHRcdFx0XHRiLmZpeExvb3AoKTtcblx0XHRcdFx0XHRcdGIuY29udGFpbmVyWzBdLmNsaWVudExlZnQ7XG5cdFx0XHRcdFx0XHRyZXR1cm4gYi5zbGlkZVRvKGIuYWN0aXZlSW5kZXggKyBiLnBhcmFtcy5zbGlkZXNQZXJHcm91cCwgYSwgZSwgdClcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGIuc2xpZGVUbyhiLmFjdGl2ZUluZGV4ICsgYi5wYXJhbXMuc2xpZGVzUGVyR3JvdXAsIGEsIGUsIHQpXG5cdFx0XHRcdH0sIGIuX3NsaWRlTmV4dCA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRyZXR1cm4gYi5zbGlkZU5leHQoITAsIGUsICEwKVxuXHRcdFx0XHR9LCBiLnNsaWRlUHJldiA9IGZ1bmN0aW9uKGUsIGEsIHQpIHtcblx0XHRcdFx0XHRpZiAoYi5wYXJhbXMubG9vcCkge1xuXHRcdFx0XHRcdFx0aWYgKGIuYW5pbWF0aW5nKSByZXR1cm4gITE7XG5cdFx0XHRcdFx0XHRiLmZpeExvb3AoKTtcblx0XHRcdFx0XHRcdGIuY29udGFpbmVyWzBdLmNsaWVudExlZnQ7XG5cdFx0XHRcdFx0XHRyZXR1cm4gYi5zbGlkZVRvKGIuYWN0aXZlSW5kZXggLSAxLCBhLCBlLCB0KVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gYi5zbGlkZVRvKGIuYWN0aXZlSW5kZXggLSAxLCBhLCBlLCB0KVxuXHRcdFx0XHR9LCBiLl9zbGlkZVByZXYgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGIuc2xpZGVQcmV2KCEwLCBlLCAhMClcblx0XHRcdFx0fSwgYi5zbGlkZVJlc2V0ID0gZnVuY3Rpb24oZSwgYSwgdCkge1xuXHRcdFx0XHRcdHJldHVybiBiLnNsaWRlVG8oYi5hY3RpdmVJbmRleCwgYSwgZSlcblx0XHRcdFx0fSwgYi5zZXRXcmFwcGVyVHJhbnNpdGlvbiA9IGZ1bmN0aW9uKGUsIGEpIHtcblx0XHRcdFx0XHRiLndyYXBwZXIudHJhbnNpdGlvbihlKSwgXCJzbGlkZVwiICE9PSBiLnBhcmFtcy5lZmZlY3QgJiYgYi5lZmZlY3RzW2IucGFyYW1zLmVmZmVjdF0gJiYgYi5lZmZlY3RzW2IucGFyYW1zLmVmZmVjdF0uc2V0VHJhbnNpdGlvbihlKSwgYi5wYXJhbXMucGFyYWxsYXggJiYgYi5wYXJhbGxheCAmJiBiLnBhcmFsbGF4LnNldFRyYW5zaXRpb24oZSksIGIucGFyYW1zLnNjcm9sbGJhciAmJiBiLnNjcm9sbGJhciAmJiBiLnNjcm9sbGJhci5zZXRUcmFuc2l0aW9uKGUpLCBiLnBhcmFtcy5jb250cm9sICYmIGIuY29udHJvbGxlciAmJiBiLmNvbnRyb2xsZXIuc2V0VHJhbnNpdGlvbihlLCBhKSwgYi5lbWl0KFwib25TZXRUcmFuc2l0aW9uXCIsIGIsIGUpXG5cdFx0XHRcdH0sIGIuc2V0V3JhcHBlclRyYW5zbGF0ZSA9IGZ1bmN0aW9uKGUsIGEsIHQpIHtcblx0XHRcdFx0XHR2YXIgciA9IDAsXG5cdFx0XHRcdFx0XHRpID0gMCxcblx0XHRcdFx0XHRcdG4gPSAwO1xuXHRcdFx0XHRcdGIuaXNIb3Jpem9udGFsKCkgPyByID0gYi5ydGwgPyAtZSA6IGUgOiBpID0gZSwgYi5wYXJhbXMucm91bmRMZW5ndGhzICYmIChyID0gcyhyKSwgaSA9IHMoaSkpLCBiLnBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlIHx8IChiLnN1cHBvcnQudHJhbnNmb3JtczNkID8gYi53cmFwcGVyLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKFwiICsgciArIFwicHgsIFwiICsgaSArIFwicHgsIFwiICsgbiArIFwicHgpXCIpIDogYi53cmFwcGVyLnRyYW5zZm9ybShcInRyYW5zbGF0ZShcIiArIHIgKyBcInB4LCBcIiArIGkgKyBcInB4KVwiKSksIGIudHJhbnNsYXRlID0gYi5pc0hvcml6b250YWwoKSA/IHIgOiBpO1xuXHRcdFx0XHRcdHZhciBvLCBsID0gYi5tYXhUcmFuc2xhdGUoKSAtIGIubWluVHJhbnNsYXRlKCk7XG5cdFx0XHRcdFx0byA9IDAgPT09IGwgPyAwIDogKGUgLSBiLm1pblRyYW5zbGF0ZSgpKSAvIGwsIG8gIT09IGIucHJvZ3Jlc3MgJiYgYi51cGRhdGVQcm9ncmVzcyhlKSwgYSAmJiBiLnVwZGF0ZUFjdGl2ZUluZGV4KCksIFwic2xpZGVcIiAhPT0gYi5wYXJhbXMuZWZmZWN0ICYmIGIuZWZmZWN0c1tiLnBhcmFtcy5lZmZlY3RdICYmIGIuZWZmZWN0c1tiLnBhcmFtcy5lZmZlY3RdLnNldFRyYW5zbGF0ZShiLnRyYW5zbGF0ZSksIGIucGFyYW1zLnBhcmFsbGF4ICYmIGIucGFyYWxsYXggJiYgYi5wYXJhbGxheC5zZXRUcmFuc2xhdGUoYi50cmFuc2xhdGUpLCBiLnBhcmFtcy5zY3JvbGxiYXIgJiYgYi5zY3JvbGxiYXIgJiYgYi5zY3JvbGxiYXIuc2V0VHJhbnNsYXRlKGIudHJhbnNsYXRlKSwgYi5wYXJhbXMuY29udHJvbCAmJiBiLmNvbnRyb2xsZXIgJiYgYi5jb250cm9sbGVyLnNldFRyYW5zbGF0ZShiLnRyYW5zbGF0ZSwgdCksIGIuZW1pdChcIm9uU2V0VHJhbnNsYXRlXCIsIGIsIGIudHJhbnNsYXRlKVxuXHRcdFx0XHR9LCBiLmdldFRyYW5zbGF0ZSA9IGZ1bmN0aW9uKGUsIGEpIHtcblx0XHRcdFx0XHR2YXIgdCwgciwgaSwgcztcblx0XHRcdFx0XHRyZXR1cm4gXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgYSAmJiAoYSA9IFwieFwiKSwgYi5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSA/IGIucnRsID8gLWIudHJhbnNsYXRlIDogYi50cmFuc2xhdGUgOiAoaSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUsIG51bGwpLCB3aW5kb3cuV2ViS2l0Q1NTTWF0cml4ID8gKHIgPSBpLnRyYW5zZm9ybSB8fCBpLndlYmtpdFRyYW5zZm9ybSwgci5zcGxpdChcIixcIikubGVuZ3RoID4gNiAmJiAociA9IHIuc3BsaXQoXCIsIFwiKS5tYXAoZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGUucmVwbGFjZShcIixcIiwgXCIuXCIpXG5cdFx0XHRcdFx0fSkuam9pbihcIiwgXCIpKSwgcyA9IG5ldyB3aW5kb3cuV2ViS2l0Q1NTTWF0cml4KFwibm9uZVwiID09PSByID8gXCJcIiA6IHIpKSA6IChzID0gaS5Nb3pUcmFuc2Zvcm0gfHwgaS5PVHJhbnNmb3JtIHx8IGkuTXNUcmFuc2Zvcm0gfHwgaS5tc1RyYW5zZm9ybSB8fCBpLnRyYW5zZm9ybSB8fCBpLmdldFByb3BlcnR5VmFsdWUoXCJ0cmFuc2Zvcm1cIikucmVwbGFjZShcInRyYW5zbGF0ZShcIiwgXCJtYXRyaXgoMSwgMCwgMCwgMSxcIiksIHQgPSBzLnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpKSwgXCJ4XCIgPT09IGEgJiYgKHIgPSB3aW5kb3cuV2ViS2l0Q1NTTWF0cml4ID8gcy5tNDEgOiAxNiA9PT0gdC5sZW5ndGggPyBwYXJzZUZsb2F0KHRbMTJdKSA6IHBhcnNlRmxvYXQodFs0XSkpLCBcInlcIiA9PT0gYSAmJiAociA9IHdpbmRvdy5XZWJLaXRDU1NNYXRyaXggPyBzLm00MiA6IDE2ID09PSB0Lmxlbmd0aCA/IHBhcnNlRmxvYXQodFsxM10pIDogcGFyc2VGbG9hdCh0WzVdKSksIGIucnRsICYmIHIgJiYgKHIgPSAtciksIHIgfHwgMClcblx0XHRcdFx0fSwgYi5nZXRXcmFwcGVyVHJhbnNsYXRlID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdHJldHVybiBcInVuZGVmaW5lZFwiID09IHR5cGVvZiBlICYmIChlID0gYi5pc0hvcml6b250YWwoKSA/IFwieFwiIDogXCJ5XCIpLCBiLmdldFRyYW5zbGF0ZShiLndyYXBwZXJbMF0sIGUpXG5cdFx0XHRcdH0sIGIub2JzZXJ2ZXJzID0gW10sIGIuaW5pdE9ic2VydmVycyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmIChiLnBhcmFtcy5vYnNlcnZlUGFyZW50cylcblx0XHRcdFx0XHRcdGZvciAodmFyIGUgPSBiLmNvbnRhaW5lci5wYXJlbnRzKCksIGEgPSAwOyBhIDwgZS5sZW5ndGg7IGErKykgbChlW2FdKTtcblx0XHRcdFx0XHRsKGIuY29udGFpbmVyWzBdLCB7XG5cdFx0XHRcdFx0XHRjaGlsZExpc3Q6ICExXG5cdFx0XHRcdFx0fSksIGwoYi53cmFwcGVyWzBdLCB7XG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiAhMVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH0sIGIuZGlzY29ubmVjdE9ic2VydmVycyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGZvciAodmFyIGUgPSAwOyBlIDwgYi5vYnNlcnZlcnMubGVuZ3RoOyBlKyspIGIub2JzZXJ2ZXJzW2VdLmRpc2Nvbm5lY3QoKTtcblx0XHRcdFx0XHRiLm9ic2VydmVycyA9IFtdXG5cdFx0XHRcdH0sIGIuY3JlYXRlTG9vcCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGIud3JhcHBlci5jaGlsZHJlbihcIi5cIiArIGIucGFyYW1zLnNsaWRlQ2xhc3MgKyBcIi5cIiArIGIucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpLnJlbW92ZSgpO1xuXHRcdFx0XHRcdHZhciBlID0gYi53cmFwcGVyLmNoaWxkcmVuKFwiLlwiICsgYi5wYXJhbXMuc2xpZGVDbGFzcyk7XG5cdFx0XHRcdFx0XCJhdXRvXCIgIT09IGIucGFyYW1zLnNsaWRlc1BlclZpZXcgfHwgYi5wYXJhbXMubG9vcGVkU2xpZGVzIHx8IChiLnBhcmFtcy5sb29wZWRTbGlkZXMgPSBlLmxlbmd0aCksIGIubG9vcGVkU2xpZGVzID0gcGFyc2VJbnQoYi5wYXJhbXMubG9vcGVkU2xpZGVzIHx8IGIucGFyYW1zLnNsaWRlc1BlclZpZXcsIDEwKSwgYi5sb29wZWRTbGlkZXMgPSBiLmxvb3BlZFNsaWRlcyArIGIucGFyYW1zLmxvb3BBZGRpdGlvbmFsU2xpZGVzLCBiLmxvb3BlZFNsaWRlcyA+IGUubGVuZ3RoICYmIChiLmxvb3BlZFNsaWRlcyA9IGUubGVuZ3RoKTtcblx0XHRcdFx0XHR2YXIgdCwgciA9IFtdLFxuXHRcdFx0XHRcdFx0aSA9IFtdO1xuXHRcdFx0XHRcdGZvciAoZS5lYWNoKGZ1bmN0aW9uKHQsIHMpIHtcblx0XHRcdFx0XHRcdFx0dmFyIG4gPSBhKHRoaXMpO1xuXHRcdFx0XHRcdFx0XHR0IDwgYi5sb29wZWRTbGlkZXMgJiYgaS5wdXNoKHMpLCB0IDwgZS5sZW5ndGggJiYgdCA+PSBlLmxlbmd0aCAtIGIubG9vcGVkU2xpZGVzICYmIHIucHVzaChzKSwgbi5hdHRyKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIiwgdClcblx0XHRcdFx0XHRcdH0pLCB0ID0gMDsgdCA8IGkubGVuZ3RoOyB0KyspIGIud3JhcHBlci5hcHBlbmQoYShpW3RdLmNsb25lTm9kZSghMCkpLmFkZENsYXNzKGIucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpKTtcblx0XHRcdFx0XHRmb3IgKHQgPSByLmxlbmd0aCAtIDE7IHQgPj0gMDsgdC0tKSBiLndyYXBwZXIucHJlcGVuZChhKHJbdF0uY2xvbmVOb2RlKCEwKSkuYWRkQ2xhc3MoYi5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpXG5cdFx0XHRcdH0sIGIuZGVzdHJveUxvb3AgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRiLndyYXBwZXIuY2hpbGRyZW4oXCIuXCIgKyBiLnBhcmFtcy5zbGlkZUNsYXNzICsgXCIuXCIgKyBiLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKS5yZW1vdmUoKSwgYi5zbGlkZXMucmVtb3ZlQXR0cihcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIpXG5cdFx0XHRcdH0sIGIucmVMb29wID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdHZhciBhID0gYi5hY3RpdmVJbmRleCAtIGIubG9vcGVkU2xpZGVzO1xuXHRcdFx0XHRcdGIuZGVzdHJveUxvb3AoKSwgYi5jcmVhdGVMb29wKCksIGIudXBkYXRlU2xpZGVzU2l6ZSgpLCBlICYmIGIuc2xpZGVUbyhhICsgYi5sb29wZWRTbGlkZXMsIDAsICExKVxuXHRcdFx0XHR9LCBiLmZpeExvb3AgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgZTtcblx0XHRcdFx0XHRiLmFjdGl2ZUluZGV4IDwgYi5sb29wZWRTbGlkZXMgPyAoZSA9IGIuc2xpZGVzLmxlbmd0aCAtIDMgKiBiLmxvb3BlZFNsaWRlcyArIGIuYWN0aXZlSW5kZXgsIGUgKz0gYi5sb29wZWRTbGlkZXMsIGIuc2xpZGVUbyhlLCAwLCAhMSwgITApKSA6IChcImF1dG9cIiA9PT0gYi5wYXJhbXMuc2xpZGVzUGVyVmlldyAmJiBiLmFjdGl2ZUluZGV4ID49IDIgKiBiLmxvb3BlZFNsaWRlcyB8fCBiLmFjdGl2ZUluZGV4ID4gYi5zbGlkZXMubGVuZ3RoIC0gMiAqIGIucGFyYW1zLnNsaWRlc1BlclZpZXcpICYmIChlID0gLWIuc2xpZGVzLmxlbmd0aCArIGIuYWN0aXZlSW5kZXggKyBiLmxvb3BlZFNsaWRlcywgZSArPSBiLmxvb3BlZFNsaWRlcywgYi5zbGlkZVRvKGUsIDAsICExLCAhMCkpXG5cdFx0XHRcdH0sIGIuYXBwZW5kU2xpZGUgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0aWYgKGIucGFyYW1zLmxvb3AgJiYgYi5kZXN0cm95TG9vcCgpLCBcIm9iamVjdFwiID09IHR5cGVvZiBlICYmIGUubGVuZ3RoKVxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgYSA9IDA7IGEgPCBlLmxlbmd0aDsgYSsrKSBlW2FdICYmIGIud3JhcHBlci5hcHBlbmQoZVthXSk7XG5cdFx0XHRcdFx0ZWxzZSBiLndyYXBwZXIuYXBwZW5kKGUpO1xuXHRcdFx0XHRcdGIucGFyYW1zLmxvb3AgJiYgYi5jcmVhdGVMb29wKCksIGIucGFyYW1zLm9ic2VydmVyICYmIGIuc3VwcG9ydC5vYnNlcnZlciB8fCBiLnVwZGF0ZSghMClcblx0XHRcdFx0fSwgYi5wcmVwZW5kU2xpZGUgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0Yi5wYXJhbXMubG9vcCAmJiBiLmRlc3Ryb3lMb29wKCk7XG5cdFx0XHRcdFx0dmFyIGEgPSBiLmFjdGl2ZUluZGV4ICsgMTtcblx0XHRcdFx0XHRpZiAoXCJvYmplY3RcIiA9PSB0eXBlb2YgZSAmJiBlLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0Zm9yICh2YXIgdCA9IDA7IHQgPCBlLmxlbmd0aDsgdCsrKSBlW3RdICYmIGIud3JhcHBlci5wcmVwZW5kKGVbdF0pO1xuXHRcdFx0XHRcdFx0YSA9IGIuYWN0aXZlSW5kZXggKyBlLmxlbmd0aFxuXHRcdFx0XHRcdH0gZWxzZSBiLndyYXBwZXIucHJlcGVuZChlKTtcblx0XHRcdFx0XHRiLnBhcmFtcy5sb29wICYmIGIuY3JlYXRlTG9vcCgpLCBiLnBhcmFtcy5vYnNlcnZlciAmJiBiLnN1cHBvcnQub2JzZXJ2ZXIgfHwgYi51cGRhdGUoITApLCBiLnNsaWRlVG8oYSwgMCwgITEpXG5cdFx0XHRcdH0sIGIucmVtb3ZlU2xpZGUgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0Yi5wYXJhbXMubG9vcCAmJiAoYi5kZXN0cm95TG9vcCgpLCBiLnNsaWRlcyA9IGIud3JhcHBlci5jaGlsZHJlbihcIi5cIiArIGIucGFyYW1zLnNsaWRlQ2xhc3MpKTtcblx0XHRcdFx0XHR2YXIgYSwgdCA9IGIuYWN0aXZlSW5kZXg7XG5cdFx0XHRcdFx0aWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIGUgJiYgZS5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGZvciAodmFyIHIgPSAwOyByIDwgZS5sZW5ndGg7IHIrKykgYSA9IGVbcl0sIGIuc2xpZGVzW2FdICYmIGIuc2xpZGVzLmVxKGEpLnJlbW92ZSgpLCB0ID4gYSAmJiB0LS07XG5cdFx0XHRcdFx0XHR0ID0gTWF0aC5tYXgodCwgMClcblx0XHRcdFx0XHR9IGVsc2UgYSA9IGUsIGIuc2xpZGVzW2FdICYmIGIuc2xpZGVzLmVxKGEpLnJlbW92ZSgpLCB0ID4gYSAmJiB0LS0sIHQgPSBNYXRoLm1heCh0LCAwKTtcblx0XHRcdFx0XHRiLnBhcmFtcy5sb29wICYmIGIuY3JlYXRlTG9vcCgpLCBiLnBhcmFtcy5vYnNlcnZlciAmJiBiLnN1cHBvcnQub2JzZXJ2ZXIgfHwgYi51cGRhdGUoITApLCBiLnBhcmFtcy5sb29wID8gYi5zbGlkZVRvKHQgKyBiLmxvb3BlZFNsaWRlcywgMCwgITEpIDogYi5zbGlkZVRvKHQsIDAsICExKVxuXHRcdFx0XHR9LCBiLnJlbW92ZUFsbFNsaWRlcyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGZvciAodmFyIGUgPSBbXSwgYSA9IDA7IGEgPCBiLnNsaWRlcy5sZW5ndGg7IGErKykgZS5wdXNoKGEpO1xuXHRcdFx0XHRcdGIucmVtb3ZlU2xpZGUoZSlcblx0XHRcdFx0fSwgYi5lZmZlY3RzID0ge1xuXHRcdFx0XHRcdGZhZGU6IHtcblx0XHRcdFx0XHRcdHNldFRyYW5zbGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIGUgPSAwOyBlIDwgYi5zbGlkZXMubGVuZ3RoOyBlKyspIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgYSA9IGIuc2xpZGVzLmVxKGUpLFxuXHRcdFx0XHRcdFx0XHRcdFx0dCA9IGFbMF0uc3dpcGVyU2xpZGVPZmZzZXQsXG5cdFx0XHRcdFx0XHRcdFx0XHRyID0gLXQ7XG5cdFx0XHRcdFx0XHRcdFx0Yi5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSB8fCAociAtPSBiLnRyYW5zbGF0ZSk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0XHRcdFx0XHRcdGIuaXNIb3Jpem9udGFsKCkgfHwgKGkgPSByLCByID0gMCk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHMgPSBiLnBhcmFtcy5mYWRlLmNyb3NzRmFkZSA/IE1hdGgubWF4KDEgLSBNYXRoLmFicyhhWzBdLnByb2dyZXNzKSwgMCkgOiAxICsgTWF0aC5taW4oTWF0aC5tYXgoYVswXS5wcm9ncmVzcywgLTEpLCAwKTtcblx0XHRcdFx0XHRcdFx0XHRhLmNzcyh7XG5cdFx0XHRcdFx0XHRcdFx0XHRvcGFjaXR5OiBzXG5cdFx0XHRcdFx0XHRcdFx0fSkudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoXCIgKyByICsgXCJweCwgXCIgKyBpICsgXCJweCwgMHB4KVwiKVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0c2V0VHJhbnNpdGlvbjogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoYi5zbGlkZXMudHJhbnNpdGlvbihlKSwgYi5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSAmJiAwICE9PSBlKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGEgPSAhMTtcblx0XHRcdFx0XHRcdFx0XHRiLnNsaWRlcy50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFhICYmIGIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YSA9ICEwLCBiLmFuaW1hdGluZyA9ICExO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRmb3IgKHZhciBlID0gW1wid2Via2l0VHJhbnNpdGlvbkVuZFwiLCBcInRyYW5zaXRpb25lbmRcIiwgXCJvVHJhbnNpdGlvbkVuZFwiLCBcIk1TVHJhbnNpdGlvbkVuZFwiLCBcIm1zVHJhbnNpdGlvbkVuZFwiXSwgdCA9IDA7IHQgPCBlLmxlbmd0aDsgdCsrKSBiLndyYXBwZXIudHJpZ2dlcihlW3RdKVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGZsaXA6IHtcblx0XHRcdFx0XHRcdHNldFRyYW5zbGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIGUgPSAwOyBlIDwgYi5zbGlkZXMubGVuZ3RoOyBlKyspIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgdCA9IGIuc2xpZGVzLmVxKGUpLFxuXHRcdFx0XHRcdFx0XHRcdFx0ciA9IHRbMF0ucHJvZ3Jlc3M7XG5cdFx0XHRcdFx0XHRcdFx0Yi5wYXJhbXMuZmxpcC5saW1pdFJvdGF0aW9uICYmIChyID0gTWF0aC5tYXgoTWF0aC5taW4odFswXS5wcm9ncmVzcywgMSksIC0xKSk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGkgPSB0WzBdLnN3aXBlclNsaWRlT2Zmc2V0LFxuXHRcdFx0XHRcdFx0XHRcdFx0cyA9IC0xODAgKiByLFxuXHRcdFx0XHRcdFx0XHRcdFx0biA9IHMsXG5cdFx0XHRcdFx0XHRcdFx0XHRvID0gMCxcblx0XHRcdFx0XHRcdFx0XHRcdGwgPSAtaSxcblx0XHRcdFx0XHRcdFx0XHRcdHAgPSAwO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChiLmlzSG9yaXpvbnRhbCgpID8gYi5ydGwgJiYgKG4gPSAtbikgOiAocCA9IGwsIGwgPSAwLCBvID0gLW4sIG4gPSAwKSwgdFswXS5zdHlsZS56SW5kZXggPSAtTWF0aC5hYnMoTWF0aC5yb3VuZChyKSkgKyBiLnNsaWRlcy5sZW5ndGgsIGIucGFyYW1zLmZsaXAuc2xpZGVTaGFkb3dzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgZCA9IGIuaXNIb3Jpem9udGFsKCkgPyB0LmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0XCIpIDogdC5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wXCIpLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR1ID0gYi5pc0hvcml6b250YWwoKSA/IHQuZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0XCIpIDogdC5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tXCIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0MCA9PT0gZC5sZW5ndGggJiYgKGQgPSBhKCc8ZGl2IGNsYXNzPVwic3dpcGVyLXNsaWRlLXNoYWRvdy0nICsgKGIuaXNIb3Jpem9udGFsKCkgPyBcImxlZnRcIiA6IFwidG9wXCIpICsgJ1wiPjwvZGl2PicpLCB0LmFwcGVuZChkKSksIDAgPT09IHUubGVuZ3RoICYmICh1ID0gYSgnPGRpdiBjbGFzcz1cInN3aXBlci1zbGlkZS1zaGFkb3ctJyArIChiLmlzSG9yaXpvbnRhbCgpID8gXCJyaWdodFwiIDogXCJib3R0b21cIikgKyAnXCI+PC9kaXY+JyksIHQuYXBwZW5kKHUpKSwgZC5sZW5ndGggJiYgKGRbMF0uc3R5bGUub3BhY2l0eSA9IE1hdGgubWF4KC1yLCAwKSksIHUubGVuZ3RoICYmICh1WzBdLnN0eWxlLm9wYWNpdHkgPSBNYXRoLm1heChyLCAwKSlcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0dC50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZChcIiArIGwgKyBcInB4LCBcIiArIHAgKyBcInB4LCAwcHgpIHJvdGF0ZVgoXCIgKyBvICsgXCJkZWcpIHJvdGF0ZVkoXCIgKyBuICsgXCJkZWcpXCIpXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChiLnNsaWRlcy50cmFuc2l0aW9uKGUpLmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AsIC5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0LCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sIC5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnRcIikudHJhbnNpdGlvbihlKSwgYi5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSAmJiAwICE9PSBlKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHQgPSAhMTtcblx0XHRcdFx0XHRcdFx0XHRiLnNsaWRlcy5lcShiLmFjdGl2ZUluZGV4KS50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCF0ICYmIGIgJiYgYSh0aGlzKS5oYXNDbGFzcyhiLnBhcmFtcy5zbGlkZUFjdGl2ZUNsYXNzKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0ID0gITAsIGIuYW5pbWF0aW5nID0gITE7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZvciAodmFyIGUgPSBbXCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCIsIFwidHJhbnNpdGlvbmVuZFwiLCBcIm9UcmFuc2l0aW9uRW5kXCIsIFwiTVNUcmFuc2l0aW9uRW5kXCIsIFwibXNUcmFuc2l0aW9uRW5kXCJdLCByID0gMDsgciA8IGUubGVuZ3RoOyByKyspIGIud3JhcHBlci50cmlnZ2VyKGVbcl0pXG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0Y3ViZToge1xuXHRcdFx0XHRcdFx0c2V0VHJhbnNsYXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGUsIHQgPSAwO1xuXHRcdFx0XHRcdFx0XHRiLnBhcmFtcy5jdWJlLnNoYWRvdyAmJiAoYi5pc0hvcml6b250YWwoKSA/IChlID0gYi53cmFwcGVyLmZpbmQoXCIuc3dpcGVyLWN1YmUtc2hhZG93XCIpLCAwID09PSBlLmxlbmd0aCAmJiAoZSA9IGEoJzxkaXYgY2xhc3M9XCJzd2lwZXItY3ViZS1zaGFkb3dcIj48L2Rpdj4nKSwgYi53cmFwcGVyLmFwcGVuZChlKSksIGUuY3NzKHtcblx0XHRcdFx0XHRcdFx0XHRoZWlnaHQ6IGIud2lkdGggKyBcInB4XCJcblx0XHRcdFx0XHRcdFx0fSkpIDogKGUgPSBiLmNvbnRhaW5lci5maW5kKFwiLnN3aXBlci1jdWJlLXNoYWRvd1wiKSwgMCA9PT0gZS5sZW5ndGggJiYgKGUgPSBhKCc8ZGl2IGNsYXNzPVwic3dpcGVyLWN1YmUtc2hhZG93XCI+PC9kaXY+JyksIGIuY29udGFpbmVyLmFwcGVuZChlKSkpKTtcblx0XHRcdFx0XHRcdFx0Zm9yICh2YXIgciA9IDA7IHIgPCBiLnNsaWRlcy5sZW5ndGg7IHIrKykge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBpID0gYi5zbGlkZXMuZXEociksXG5cdFx0XHRcdFx0XHRcdFx0XHRzID0gOTAgKiByLFxuXHRcdFx0XHRcdFx0XHRcdFx0biA9IE1hdGguZmxvb3IocyAvIDM2MCk7XG5cdFx0XHRcdFx0XHRcdFx0Yi5ydGwgJiYgKHMgPSAtcywgbiA9IE1hdGguZmxvb3IoLXMgLyAzNjApKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgbyA9IE1hdGgubWF4KE1hdGgubWluKGlbMF0ucHJvZ3Jlc3MsIDEpLCAtMSksXG5cdFx0XHRcdFx0XHRcdFx0XHRsID0gMCxcblx0XHRcdFx0XHRcdFx0XHRcdHAgPSAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0ZCA9IDA7XG5cdFx0XHRcdFx0XHRcdFx0ciAlIDQgPT09IDAgPyAobCA9IDQgKiAtbiAqIGIuc2l6ZSwgZCA9IDApIDogKHIgLSAxKSAlIDQgPT09IDAgPyAobCA9IDAsIGQgPSA0ICogLW4gKiBiLnNpemUpIDogKHIgLSAyKSAlIDQgPT09IDAgPyAobCA9IGIuc2l6ZSArIDQgKiBuICogYi5zaXplLCBkID0gYi5zaXplKSA6IChyIC0gMykgJSA0ID09PSAwICYmIChsID0gLWIuc2l6ZSwgZCA9IDMgKiBiLnNpemUgKyA0ICogYi5zaXplICogbiksIGIucnRsICYmIChsID0gLWwpLCBiLmlzSG9yaXpvbnRhbCgpIHx8IChwID0gbCwgbCA9IDApO1xuXHRcdFx0XHRcdFx0XHRcdHZhciB1ID0gXCJyb3RhdGVYKFwiICsgKGIuaXNIb3Jpem9udGFsKCkgPyAwIDogLXMpICsgXCJkZWcpIHJvdGF0ZVkoXCIgKyAoYi5pc0hvcml6b250YWwoKSA/IHMgOiAwKSArIFwiZGVnKSB0cmFuc2xhdGUzZChcIiArIGwgKyBcInB4LCBcIiArIHAgKyBcInB4LCBcIiArIGQgKyBcInB4KVwiO1xuXHRcdFx0XHRcdFx0XHRcdGlmICgxID49IG8gJiYgbyA+IC0xICYmICh0ID0gOTAgKiByICsgOTAgKiBvLCBiLnJ0bCAmJiAodCA9IDkwICogLXIgLSA5MCAqIG8pKSwgaS50cmFuc2Zvcm0odSksIGIucGFyYW1zLmN1YmUuc2xpZGVTaGFkb3dzKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgYyA9IGIuaXNIb3Jpem9udGFsKCkgPyBpLmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0XCIpIDogaS5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wXCIpLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtID0gYi5pc0hvcml6b250YWwoKSA/IGkuZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0XCIpIDogaS5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tXCIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0MCA9PT0gYy5sZW5ndGggJiYgKGMgPSBhKCc8ZGl2IGNsYXNzPVwic3dpcGVyLXNsaWRlLXNoYWRvdy0nICsgKGIuaXNIb3Jpem9udGFsKCkgPyBcImxlZnRcIiA6IFwidG9wXCIpICsgJ1wiPjwvZGl2PicpLCBpLmFwcGVuZChjKSksIDAgPT09IG0ubGVuZ3RoICYmIChtID0gYSgnPGRpdiBjbGFzcz1cInN3aXBlci1zbGlkZS1zaGFkb3ctJyArIChiLmlzSG9yaXpvbnRhbCgpID8gXCJyaWdodFwiIDogXCJib3R0b21cIikgKyAnXCI+PC9kaXY+JyksIGkuYXBwZW5kKG0pKSwgYy5sZW5ndGggJiYgKGNbMF0uc3R5bGUub3BhY2l0eSA9IE1hdGgubWF4KC1vLCAwKSksIG0ubGVuZ3RoICYmIChtWzBdLnN0eWxlLm9wYWNpdHkgPSBNYXRoLm1heChvLCAwKSlcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKGIud3JhcHBlci5jc3Moe1xuXHRcdFx0XHRcdFx0XHRcdFx0XCItd2Via2l0LXRyYW5zZm9ybS1vcmlnaW5cIjogXCI1MCUgNTAlIC1cIiArIGIuc2l6ZSAvIDIgKyBcInB4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcIi1tb3otdHJhbnNmb3JtLW9yaWdpblwiOiBcIjUwJSA1MCUgLVwiICsgYi5zaXplIC8gMiArIFwicHhcIixcblx0XHRcdFx0XHRcdFx0XHRcdFwiLW1zLXRyYW5zZm9ybS1vcmlnaW5cIjogXCI1MCUgNTAlIC1cIiArIGIuc2l6ZSAvIDIgKyBcInB4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcInRyYW5zZm9ybS1vcmlnaW5cIjogXCI1MCUgNTAlIC1cIiArIGIuc2l6ZSAvIDIgKyBcInB4XCJcblx0XHRcdFx0XHRcdFx0XHR9KSwgYi5wYXJhbXMuY3ViZS5zaGFkb3cpXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGIuaXNIb3Jpem9udGFsKCkpIGUudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoMHB4LCBcIiArIChiLndpZHRoIC8gMiArIGIucGFyYW1zLmN1YmUuc2hhZG93T2Zmc2V0KSArIFwicHgsIFwiICsgLWIud2lkdGggLyAyICsgXCJweCkgcm90YXRlWCg5MGRlZykgcm90YXRlWigwZGVnKSBzY2FsZShcIiArIGIucGFyYW1zLmN1YmUuc2hhZG93U2NhbGUgKyBcIilcIik7XG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgaCA9IE1hdGguYWJzKHQpIC0gOTAgKiBNYXRoLmZsb29yKE1hdGguYWJzKHQpIC8gOTApLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmID0gMS41IC0gKE1hdGguc2luKDIgKiBoICogTWF0aC5QSSAvIDM2MCkgLyAyICsgTWF0aC5jb3MoMiAqIGggKiBNYXRoLlBJIC8gMzYwKSAvIDIpLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRnID0gYi5wYXJhbXMuY3ViZS5zaGFkb3dTY2FsZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0diA9IGIucGFyYW1zLmN1YmUuc2hhZG93U2NhbGUgLyBmLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR3ID0gYi5wYXJhbXMuY3ViZS5zaGFkb3dPZmZzZXQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRlLnRyYW5zZm9ybShcInNjYWxlM2QoXCIgKyBnICsgXCIsIDEsIFwiICsgdiArIFwiKSB0cmFuc2xhdGUzZCgwcHgsIFwiICsgKGIuaGVpZ2h0IC8gMiArIHcpICsgXCJweCwgXCIgKyAtYi5oZWlnaHQgLyAyIC8gdiArIFwicHgpIHJvdGF0ZVgoLTkwZGVnKVwiKVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0dmFyIHkgPSBiLmlzU2FmYXJpIHx8IGIuaXNVaVdlYlZpZXcgPyAtYi5zaXplIC8gMiA6IDA7XG5cdFx0XHRcdFx0XHRcdGIud3JhcHBlci50cmFuc2Zvcm0oXCJ0cmFuc2xhdGUzZCgwcHgsMCxcIiArIHkgKyBcInB4KSByb3RhdGVYKFwiICsgKGIuaXNIb3Jpem9udGFsKCkgPyAwIDogdCkgKyBcImRlZykgcm90YXRlWShcIiArIChiLmlzSG9yaXpvbnRhbCgpID8gLXQgOiAwKSArIFwiZGVnKVwiKVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHNldFRyYW5zaXRpb246IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRcdFx0Yi5zbGlkZXMudHJhbnNpdGlvbihlKS5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0XCIpLnRyYW5zaXRpb24oZSksIGIucGFyYW1zLmN1YmUuc2hhZG93ICYmICFiLmlzSG9yaXpvbnRhbCgpICYmIGIuY29udGFpbmVyLmZpbmQoXCIuc3dpcGVyLWN1YmUtc2hhZG93XCIpLnRyYW5zaXRpb24oZSlcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGNvdmVyZmxvdzoge1xuXHRcdFx0XHRcdFx0c2V0VHJhbnNsYXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0Zm9yICh2YXIgZSA9IGIudHJhbnNsYXRlLCB0ID0gYi5pc0hvcml6b250YWwoKSA/IC1lICsgYi53aWR0aCAvIDIgOiAtZSArIGIuaGVpZ2h0IC8gMiwgciA9IGIuaXNIb3Jpem9udGFsKCkgPyBiLnBhcmFtcy5jb3ZlcmZsb3cucm90YXRlIDogLWIucGFyYW1zLmNvdmVyZmxvdy5yb3RhdGUsIGkgPSBiLnBhcmFtcy5jb3ZlcmZsb3cuZGVwdGgsIHMgPSAwLCBuID0gYi5zbGlkZXMubGVuZ3RoOyBuID4gczsgcysrKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIG8gPSBiLnNsaWRlcy5lcShzKSxcblx0XHRcdFx0XHRcdFx0XHRcdGwgPSBiLnNsaWRlc1NpemVzR3JpZFtzXSxcblx0XHRcdFx0XHRcdFx0XHRcdHAgPSBvWzBdLnN3aXBlclNsaWRlT2Zmc2V0LFxuXHRcdFx0XHRcdFx0XHRcdFx0ZCA9ICh0IC0gcCAtIGwgLyAyKSAvIGwgKiBiLnBhcmFtcy5jb3ZlcmZsb3cubW9kaWZpZXIsXG5cdFx0XHRcdFx0XHRcdFx0XHR1ID0gYi5pc0hvcml6b250YWwoKSA/IHIgKiBkIDogMCxcblx0XHRcdFx0XHRcdFx0XHRcdGMgPSBiLmlzSG9yaXpvbnRhbCgpID8gMCA6IHIgKiBkLFxuXHRcdFx0XHRcdFx0XHRcdFx0bSA9IC1pICogTWF0aC5hYnMoZCksXG5cdFx0XHRcdFx0XHRcdFx0XHRoID0gYi5pc0hvcml6b250YWwoKSA/IDAgOiBiLnBhcmFtcy5jb3ZlcmZsb3cuc3RyZXRjaCAqIGQsXG5cdFx0XHRcdFx0XHRcdFx0XHRmID0gYi5pc0hvcml6b250YWwoKSA/IGIucGFyYW1zLmNvdmVyZmxvdy5zdHJldGNoICogZCA6IDA7XG5cdFx0XHRcdFx0XHRcdFx0TWF0aC5hYnMoZikgPCAuMDAxICYmIChmID0gMCksIE1hdGguYWJzKGgpIDwgLjAwMSAmJiAoaCA9IDApLCBNYXRoLmFicyhtKSA8IC4wMDEgJiYgKG0gPSAwKSwgTWF0aC5hYnModSkgPCAuMDAxICYmICh1ID0gMCksIE1hdGguYWJzKGMpIDwgLjAwMSAmJiAoYyA9IDApO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBnID0gXCJ0cmFuc2xhdGUzZChcIiArIGYgKyBcInB4LFwiICsgaCArIFwicHgsXCIgKyBtICsgXCJweCkgIHJvdGF0ZVgoXCIgKyBjICsgXCJkZWcpIHJvdGF0ZVkoXCIgKyB1ICsgXCJkZWcpXCI7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKG8udHJhbnNmb3JtKGcpLCBvWzBdLnN0eWxlLnpJbmRleCA9IC1NYXRoLmFicyhNYXRoLnJvdW5kKGQpKSArIDEsIGIucGFyYW1zLmNvdmVyZmxvdy5zbGlkZVNoYWRvd3MpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciB2ID0gYi5pc0hvcml6b250YWwoKSA/IG8uZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnRcIikgOiBvLmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3BcIiksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHcgPSBiLmlzSG9yaXpvbnRhbCgpID8gby5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHRcIikgOiBvLmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b21cIik7XG5cdFx0XHRcdFx0XHRcdFx0XHQwID09PSB2Lmxlbmd0aCAmJiAodiA9IGEoJzxkaXYgY2xhc3M9XCJzd2lwZXItc2xpZGUtc2hhZG93LScgKyAoYi5pc0hvcml6b250YWwoKSA/IFwibGVmdFwiIDogXCJ0b3BcIikgKyAnXCI+PC9kaXY+JyksIG8uYXBwZW5kKHYpKSwgMCA9PT0gdy5sZW5ndGggJiYgKHcgPSBhKCc8ZGl2IGNsYXNzPVwic3dpcGVyLXNsaWRlLXNoYWRvdy0nICsgKGIuaXNIb3Jpem9udGFsKCkgPyBcInJpZ2h0XCIgOiBcImJvdHRvbVwiKSArICdcIj48L2Rpdj4nKSwgby5hcHBlbmQodykpLCB2Lmxlbmd0aCAmJiAodlswXS5zdHlsZS5vcGFjaXR5ID0gZCA+IDAgPyBkIDogMCksIHcubGVuZ3RoICYmICh3WzBdLnN0eWxlLm9wYWNpdHkgPSAtZCA+IDAgPyAtZCA6IDApXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGlmIChiLmJyb3dzZXIuaWUpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgeSA9IGIud3JhcHBlclswXS5zdHlsZTtcblx0XHRcdFx0XHRcdFx0XHR5LnBlcnNwZWN0aXZlT3JpZ2luID0gdCArIFwicHggNTAlXCJcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHNldFRyYW5zaXRpb246IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRcdFx0Yi5zbGlkZXMudHJhbnNpdGlvbihlKS5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0XCIpLnRyYW5zaXRpb24oZSlcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIGIubGF6eSA9IHtcblx0XHRcdFx0XHRpbml0aWFsSW1hZ2VMb2FkZWQ6ICExLFxuXHRcdFx0XHRcdGxvYWRJbWFnZUluU2xpZGU6IGZ1bmN0aW9uKGUsIHQpIHtcblx0XHRcdFx0XHRcdGlmIChcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBlICYmIChcInVuZGVmaW5lZFwiID09IHR5cGVvZiB0ICYmICh0ID0gITApLCAwICE9PSBiLnNsaWRlcy5sZW5ndGgpKSB7XG5cdFx0XHRcdFx0XHRcdHZhciByID0gYi5zbGlkZXMuZXEoZSksXG5cdFx0XHRcdFx0XHRcdFx0aSA9IHIuZmluZChcIi5zd2lwZXItbGF6eTpub3QoLnN3aXBlci1sYXp5LWxvYWRlZCk6bm90KC5zd2lwZXItbGF6eS1sb2FkaW5nKVwiKTtcblx0XHRcdFx0XHRcdFx0IXIuaGFzQ2xhc3MoXCJzd2lwZXItbGF6eVwiKSB8fCByLmhhc0NsYXNzKFwic3dpcGVyLWxhenktbG9hZGVkXCIpIHx8IHIuaGFzQ2xhc3MoXCJzd2lwZXItbGF6eS1sb2FkaW5nXCIpIHx8IChpID0gaS5hZGQoclswXSkpLCAwICE9PSBpLmxlbmd0aCAmJiBpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGUgPSBhKHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdGUuYWRkQ2xhc3MoXCJzd2lwZXItbGF6eS1sb2FkaW5nXCIpO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBpID0gZS5hdHRyKFwiZGF0YS1iYWNrZ3JvdW5kXCIpLFxuXHRcdFx0XHRcdFx0XHRcdFx0cyA9IGUuYXR0cihcImRhdGEtc3JjXCIpLFxuXHRcdFx0XHRcdFx0XHRcdFx0biA9IGUuYXR0cihcImRhdGEtc3Jjc2V0XCIpO1xuXHRcdFx0XHRcdFx0XHRcdGIubG9hZEltYWdlKGVbMF0sIHMgfHwgaSwgbiwgITEsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGkgPyAoZS5jc3MoXCJiYWNrZ3JvdW5kLWltYWdlXCIsICd1cmwoXCInICsgaSArICdcIiknKSwgZS5yZW1vdmVBdHRyKFwiZGF0YS1iYWNrZ3JvdW5kXCIpKSA6IChuICYmIChlLmF0dHIoXCJzcmNzZXRcIiwgbiksIGUucmVtb3ZlQXR0cihcImRhdGEtc3Jjc2V0XCIpKSwgcyAmJiAoZS5hdHRyKFwic3JjXCIsIHMpLCBlLnJlbW92ZUF0dHIoXCJkYXRhLXNyY1wiKSkpLCBlLmFkZENsYXNzKFwic3dpcGVyLWxhenktbG9hZGVkXCIpLnJlbW92ZUNsYXNzKFwic3dpcGVyLWxhenktbG9hZGluZ1wiKSwgci5maW5kKFwiLnN3aXBlci1sYXp5LXByZWxvYWRlciwgLnByZWxvYWRlclwiKS5yZW1vdmUoKSwgYi5wYXJhbXMubG9vcCAmJiB0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBhID0gci5hdHRyKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIik7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChyLmhhc0NsYXNzKGIucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG8gPSBiLndyYXBwZXIuY2hpbGRyZW4oJ1tkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIicgKyBhICsgJ1wiXTpub3QoLicgKyBiLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgXCIpXCIpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGIubGF6eS5sb2FkSW1hZ2VJblNsaWRlKG8uaW5kZXgoKSwgITEpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGwgPSBiLndyYXBwZXIuY2hpbGRyZW4oXCIuXCIgKyBiLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgJ1tkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIicgKyBhICsgJ1wiXScpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGIubGF6eS5sb2FkSW1hZ2VJblNsaWRlKGwuaW5kZXgoKSwgITEpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdGIuZW1pdChcIm9uTGF6eUltYWdlUmVhZHlcIiwgYiwgclswXSwgZVswXSlcblx0XHRcdFx0XHRcdFx0XHR9KSwgYi5lbWl0KFwib25MYXp5SW1hZ2VMb2FkXCIsIGIsIHJbMF0sIGVbMF0pXG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRsb2FkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBlO1xuXHRcdFx0XHRcdFx0aWYgKGIucGFyYW1zLndhdGNoU2xpZGVzVmlzaWJpbGl0eSkgYi53cmFwcGVyLmNoaWxkcmVuKFwiLlwiICsgYi5wYXJhbXMuc2xpZGVWaXNpYmxlQ2xhc3MpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdGIubGF6eS5sb2FkSW1hZ2VJblNsaWRlKGEodGhpcykuaW5kZXgoKSlcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0ZWxzZSBpZiAoYi5wYXJhbXMuc2xpZGVzUGVyVmlldyA+IDEpXG5cdFx0XHRcdFx0XHRcdGZvciAoZSA9IGIuYWN0aXZlSW5kZXg7IGUgPCBiLmFjdGl2ZUluZGV4ICsgYi5wYXJhbXMuc2xpZGVzUGVyVmlldzsgZSsrKSBiLnNsaWRlc1tlXSAmJiBiLmxhenkubG9hZEltYWdlSW5TbGlkZShlKTtcblx0XHRcdFx0XHRcdGVsc2UgYi5sYXp5LmxvYWRJbWFnZUluU2xpZGUoYi5hY3RpdmVJbmRleCk7XG5cdFx0XHRcdFx0XHRpZiAoYi5wYXJhbXMubGF6eUxvYWRpbmdJblByZXZOZXh0KVxuXHRcdFx0XHRcdFx0XHRpZiAoYi5wYXJhbXMuc2xpZGVzUGVyVmlldyA+IDEgfHwgYi5wYXJhbXMubGF6eUxvYWRpbmdJblByZXZOZXh0QW1vdW50ICYmIGIucGFyYW1zLmxhenlMb2FkaW5nSW5QcmV2TmV4dEFtb3VudCA+IDEpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgdCA9IGIucGFyYW1zLmxhenlMb2FkaW5nSW5QcmV2TmV4dEFtb3VudCxcblx0XHRcdFx0XHRcdFx0XHRcdHIgPSBiLnBhcmFtcy5zbGlkZXNQZXJWaWV3LFxuXHRcdFx0XHRcdFx0XHRcdFx0aSA9IE1hdGgubWluKGIuYWN0aXZlSW5kZXggKyByICsgTWF0aC5tYXgodCwgciksIGIuc2xpZGVzLmxlbmd0aCksXG5cdFx0XHRcdFx0XHRcdFx0XHRzID0gTWF0aC5tYXgoYi5hY3RpdmVJbmRleCAtIE1hdGgubWF4KHIsIHQpLCAwKTtcblx0XHRcdFx0XHRcdFx0XHRmb3IgKGUgPSBiLmFjdGl2ZUluZGV4ICsgYi5wYXJhbXMuc2xpZGVzUGVyVmlldzsgaSA+IGU7IGUrKykgYi5zbGlkZXNbZV0gJiYgYi5sYXp5LmxvYWRJbWFnZUluU2xpZGUoZSk7XG5cdFx0XHRcdFx0XHRcdFx0Zm9yIChlID0gczsgZSA8IGIuYWN0aXZlSW5kZXg7IGUrKykgYi5zbGlkZXNbZV0gJiYgYi5sYXp5LmxvYWRJbWFnZUluU2xpZGUoZSlcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgbiA9IGIud3JhcHBlci5jaGlsZHJlbihcIi5cIiArIGIucGFyYW1zLnNsaWRlTmV4dENsYXNzKTtcblx0XHRcdFx0XHRcdFx0XHRuLmxlbmd0aCA+IDAgJiYgYi5sYXp5LmxvYWRJbWFnZUluU2xpZGUobi5pbmRleCgpKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgbyA9IGIud3JhcHBlci5jaGlsZHJlbihcIi5cIiArIGIucGFyYW1zLnNsaWRlUHJldkNsYXNzKTtcblx0XHRcdFx0XHRcdFx0XHRvLmxlbmd0aCA+IDAgJiYgYi5sYXp5LmxvYWRJbWFnZUluU2xpZGUoby5pbmRleCgpKVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRvblRyYW5zaXRpb25TdGFydDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRiLnBhcmFtcy5sYXp5TG9hZGluZyAmJiAoYi5wYXJhbXMubGF6eUxvYWRpbmdPblRyYW5zaXRpb25TdGFydCB8fCAhYi5wYXJhbXMubGF6eUxvYWRpbmdPblRyYW5zaXRpb25TdGFydCAmJiAhYi5sYXp5LmluaXRpYWxJbWFnZUxvYWRlZCkgJiYgYi5sYXp5LmxvYWQoKVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0b25UcmFuc2l0aW9uRW5kOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGIucGFyYW1zLmxhenlMb2FkaW5nICYmICFiLnBhcmFtcy5sYXp5TG9hZGluZ09uVHJhbnNpdGlvblN0YXJ0ICYmIGIubGF6eS5sb2FkKClcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIGIuc2Nyb2xsYmFyID0ge1xuXHRcdFx0XHRcdGlzVG91Y2hlZDogITEsXG5cdFx0XHRcdFx0c2V0RHJhZ1Bvc2l0aW9uOiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0XHR2YXIgYSA9IGIuc2Nyb2xsYmFyLFxuXHRcdFx0XHRcdFx0XHR0ID0gYi5pc0hvcml6b250YWwoKSA/IFwidG91Y2hzdGFydFwiID09PSBlLnR5cGUgfHwgXCJ0b3VjaG1vdmVcIiA9PT0gZS50eXBlID8gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWCB8fCBlLmNsaWVudFggOiBcInRvdWNoc3RhcnRcIiA9PT0gZS50eXBlIHx8IFwidG91Y2htb3ZlXCIgPT09IGUudHlwZSA/IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWSA6IGUucGFnZVkgfHwgZS5jbGllbnRZLFxuXHRcdFx0XHRcdFx0XHRyID0gdCAtIGEudHJhY2sub2Zmc2V0KClbYi5pc0hvcml6b250YWwoKSA/IFwibGVmdFwiIDogXCJ0b3BcIl0gLSBhLmRyYWdTaXplIC8gMixcblx0XHRcdFx0XHRcdFx0aSA9IC1iLm1pblRyYW5zbGF0ZSgpICogYS5tb3ZlRGl2aWRlcixcblx0XHRcdFx0XHRcdFx0cyA9IC1iLm1heFRyYW5zbGF0ZSgpICogYS5tb3ZlRGl2aWRlcjtcblx0XHRcdFx0XHRcdGkgPiByID8gciA9IGkgOiByID4gcyAmJiAociA9IHMpLCByID0gLXIgLyBhLm1vdmVEaXZpZGVyLCBiLnVwZGF0ZVByb2dyZXNzKHIpLCBiLnNldFdyYXBwZXJUcmFuc2xhdGUociwgITApXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRkcmFnU3RhcnQ6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRcdHZhciBhID0gYi5zY3JvbGxiYXI7XG5cdFx0XHRcdFx0XHRhLmlzVG91Y2hlZCA9ICEwLCBlLnByZXZlbnREZWZhdWx0KCksIGUuc3RvcFByb3BhZ2F0aW9uKCksIGEuc2V0RHJhZ1Bvc2l0aW9uKGUpLCBjbGVhclRpbWVvdXQoYS5kcmFnVGltZW91dCksIGEudHJhY2sudHJhbnNpdGlvbigwKSwgYi5wYXJhbXMuc2Nyb2xsYmFySGlkZSAmJiBhLnRyYWNrLmNzcyhcIm9wYWNpdHlcIiwgMSksIGIud3JhcHBlci50cmFuc2l0aW9uKDEwMCksIGEuZHJhZy50cmFuc2l0aW9uKDEwMCksIGIuZW1pdChcIm9uU2Nyb2xsYmFyRHJhZ1N0YXJ0XCIsIGIpXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRkcmFnTW92ZTogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdFx0dmFyIGEgPSBiLnNjcm9sbGJhcjtcblx0XHRcdFx0XHRcdGEuaXNUb3VjaGVkICYmIChlLnByZXZlbnREZWZhdWx0ID8gZS5wcmV2ZW50RGVmYXVsdCgpIDogZS5yZXR1cm5WYWx1ZSA9ICExLCBhLnNldERyYWdQb3NpdGlvbihlKSwgYi53cmFwcGVyLnRyYW5zaXRpb24oMCksIGEudHJhY2sudHJhbnNpdGlvbigwKSwgYS5kcmFnLnRyYW5zaXRpb24oMCksIGIuZW1pdChcIm9uU2Nyb2xsYmFyRHJhZ01vdmVcIiwgYikpXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRkcmFnRW5kOiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0XHR2YXIgYSA9IGIuc2Nyb2xsYmFyO1xuXHRcdFx0XHRcdFx0YS5pc1RvdWNoZWQgJiYgKGEuaXNUb3VjaGVkID0gITEsIGIucGFyYW1zLnNjcm9sbGJhckhpZGUgJiYgKGNsZWFyVGltZW91dChhLmRyYWdUaW1lb3V0KSwgYS5kcmFnVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdGEudHJhY2suY3NzKFwib3BhY2l0eVwiLCAwKSwgYS50cmFjay50cmFuc2l0aW9uKDQwMClcblx0XHRcdFx0XHRcdH0sIDFlMykpLCBiLmVtaXQoXCJvblNjcm9sbGJhckRyYWdFbmRcIiwgYiksIGIucGFyYW1zLnNjcm9sbGJhclNuYXBPblJlbGVhc2UgJiYgYi5zbGlkZVJlc2V0KCkpXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRlbmFibGVEcmFnZ2FibGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIGUgPSBiLnNjcm9sbGJhcixcblx0XHRcdFx0XHRcdFx0dCA9IGIuc3VwcG9ydC50b3VjaCA/IGUudHJhY2sgOiBkb2N1bWVudDtcblx0XHRcdFx0XHRcdGEoZS50cmFjaykub24oYi50b3VjaEV2ZW50cy5zdGFydCwgZS5kcmFnU3RhcnQpLCBhKHQpLm9uKGIudG91Y2hFdmVudHMubW92ZSwgZS5kcmFnTW92ZSksIGEodCkub24oYi50b3VjaEV2ZW50cy5lbmQsIGUuZHJhZ0VuZClcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGRpc2FibGVEcmFnZ2FibGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIGUgPSBiLnNjcm9sbGJhcixcblx0XHRcdFx0XHRcdFx0dCA9IGIuc3VwcG9ydC50b3VjaCA/IGUudHJhY2sgOiBkb2N1bWVudDtcblx0XHRcdFx0XHRcdGEoZS50cmFjaykub2ZmKGIudG91Y2hFdmVudHMuc3RhcnQsIGUuZHJhZ1N0YXJ0KSwgYSh0KS5vZmYoYi50b3VjaEV2ZW50cy5tb3ZlLCBlLmRyYWdNb3ZlKSwgYSh0KS5vZmYoYi50b3VjaEV2ZW50cy5lbmQsIGUuZHJhZ0VuZClcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHNldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoYi5wYXJhbXMuc2Nyb2xsYmFyKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBlID0gYi5zY3JvbGxiYXI7XG5cdFx0XHRcdFx0XHRcdGUudHJhY2sgPSBhKGIucGFyYW1zLnNjcm9sbGJhciksIGIucGFyYW1zLnVuaXF1ZU5hdkVsZW1lbnRzICYmIFwic3RyaW5nXCIgPT0gdHlwZW9mIGIucGFyYW1zLnNjcm9sbGJhciAmJiBlLnRyYWNrLmxlbmd0aCA+IDEgJiYgMSA9PT0gYi5jb250YWluZXIuZmluZChiLnBhcmFtcy5zY3JvbGxiYXIpLmxlbmd0aCAmJiAoZS50cmFjayA9IGIuY29udGFpbmVyLmZpbmQoYi5wYXJhbXMuc2Nyb2xsYmFyKSksIGUuZHJhZyA9IGUudHJhY2suZmluZChcIi5zd2lwZXItc2Nyb2xsYmFyLWRyYWdcIiksIDAgPT09IGUuZHJhZy5sZW5ndGggJiYgKGUuZHJhZyA9IGEoJzxkaXYgY2xhc3M9XCJzd2lwZXItc2Nyb2xsYmFyLWRyYWdcIj48L2Rpdj4nKSwgZS50cmFjay5hcHBlbmQoZS5kcmFnKSksIGUuZHJhZ1swXS5zdHlsZS53aWR0aCA9IFwiXCIsIGUuZHJhZ1swXS5zdHlsZS5oZWlnaHQgPSBcIlwiLCBlLnRyYWNrU2l6ZSA9IGIuaXNIb3Jpem9udGFsKCkgPyBlLnRyYWNrWzBdLm9mZnNldFdpZHRoIDogZS50cmFja1swXS5vZmZzZXRIZWlnaHQsIGUuZGl2aWRlciA9IGIuc2l6ZSAvIGIudmlydHVhbFNpemUsIGUubW92ZURpdmlkZXIgPSBlLmRpdmlkZXIgKiAoZS50cmFja1NpemUgLyBiLnNpemUpLCBlLmRyYWdTaXplID0gZS50cmFja1NpemUgKiBlLmRpdmlkZXIsIGIuaXNIb3Jpem9udGFsKCkgPyBlLmRyYWdbMF0uc3R5bGUud2lkdGggPSBlLmRyYWdTaXplICsgXCJweFwiIDogZS5kcmFnWzBdLnN0eWxlLmhlaWdodCA9IGUuZHJhZ1NpemUgKyBcInB4XCIsIGUuZGl2aWRlciA+PSAxID8gZS50cmFja1swXS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCIgOiBlLnRyYWNrWzBdLnN0eWxlLmRpc3BsYXkgPSBcIlwiLCBiLnBhcmFtcy5zY3JvbGxiYXJIaWRlICYmIChlLnRyYWNrWzBdLnN0eWxlLm9wYWNpdHkgPSAwKVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c2V0VHJhbnNsYXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmIChiLnBhcmFtcy5zY3JvbGxiYXIpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGUsIGEgPSBiLnNjcm9sbGJhcixcblx0XHRcdFx0XHRcdFx0XHR0ID0gKGIudHJhbnNsYXRlIHx8IDAsIGEuZHJhZ1NpemUpO1xuXHRcdFx0XHRcdFx0XHRlID0gKGEudHJhY2tTaXplIC0gYS5kcmFnU2l6ZSkgKiBiLnByb2dyZXNzLCBiLnJ0bCAmJiBiLmlzSG9yaXpvbnRhbCgpID8gKGUgPSAtZSwgZSA+IDAgPyAodCA9IGEuZHJhZ1NpemUgLSBlLCBlID0gMCkgOiAtZSArIGEuZHJhZ1NpemUgPiBhLnRyYWNrU2l6ZSAmJiAodCA9IGEudHJhY2tTaXplICsgZSkpIDogMCA+IGUgPyAodCA9IGEuZHJhZ1NpemUgKyBlLCBlID0gMCkgOiBlICsgYS5kcmFnU2l6ZSA+IGEudHJhY2tTaXplICYmICh0ID0gYS50cmFja1NpemUgLSBlKSwgYi5pc0hvcml6b250YWwoKSA/IChiLnN1cHBvcnQudHJhbnNmb3JtczNkID8gYS5kcmFnLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKFwiICsgZSArIFwicHgsIDAsIDApXCIpIDogYS5kcmFnLnRyYW5zZm9ybShcInRyYW5zbGF0ZVgoXCIgKyBlICsgXCJweClcIiksIGEuZHJhZ1swXS5zdHlsZS53aWR0aCA9IHQgKyBcInB4XCIpIDogKGIuc3VwcG9ydC50cmFuc2Zvcm1zM2QgPyBhLmRyYWcudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoMHB4LCBcIiArIGUgKyBcInB4LCAwKVwiKSA6IGEuZHJhZy50cmFuc2Zvcm0oXCJ0cmFuc2xhdGVZKFwiICsgZSArIFwicHgpXCIpLCBhLmRyYWdbMF0uc3R5bGUuaGVpZ2h0ID0gdCArIFwicHhcIiksIGIucGFyYW1zLnNjcm9sbGJhckhpZGUgJiYgKGNsZWFyVGltZW91dChhLnRpbWVvdXQpLCBhLnRyYWNrWzBdLnN0eWxlLm9wYWNpdHkgPSAxLCBhLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdGEudHJhY2tbMF0uc3R5bGUub3BhY2l0eSA9IDAsIGEudHJhY2sudHJhbnNpdGlvbig0MDApXG5cdFx0XHRcdFx0XHRcdH0sIDFlMykpXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0XHRiLnBhcmFtcy5zY3JvbGxiYXIgJiYgYi5zY3JvbGxiYXIuZHJhZy50cmFuc2l0aW9uKGUpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCBiLmNvbnRyb2xsZXIgPSB7XG5cdFx0XHRcdFx0TGluZWFyU3BsaW5lOiBmdW5jdGlvbihlLCBhKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnggPSBlLCB0aGlzLnkgPSBhLCB0aGlzLmxhc3RJbmRleCA9IGUubGVuZ3RoIC0gMTtcblx0XHRcdFx0XHRcdHZhciB0LCByO1xuXHRcdFx0XHRcdFx0dGhpcy54Lmxlbmd0aDtcblx0XHRcdFx0XHRcdHRoaXMuaW50ZXJwb2xhdGUgPSBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBlID8gKHIgPSBpKHRoaXMueCwgZSksIHQgPSByIC0gMSwgKGUgLSB0aGlzLnhbdF0pICogKHRoaXMueVtyXSAtIHRoaXMueVt0XSkgLyAodGhpcy54W3JdIC0gdGhpcy54W3RdKSArIHRoaXMueVt0XSkgOiAwXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0dmFyIGkgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGUsIGEsIHQ7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbihyLCBpKSB7XG5cdFx0XHRcdFx0XHRcdFx0Zm9yIChhID0gLTEsIGUgPSByLmxlbmd0aDsgZSAtIGEgPiAxOykgclt0ID0gZSArIGEgPj4gMV0gPD0gaSA/IGEgPSB0IDogZSA9IHQ7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGVcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSgpXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRnZXRJbnRlcnBvbGF0ZUZ1bmN0aW9uOiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0XHRiLmNvbnRyb2xsZXIuc3BsaW5lIHx8IChiLmNvbnRyb2xsZXIuc3BsaW5lID0gYi5wYXJhbXMubG9vcCA/IG5ldyBiLmNvbnRyb2xsZXIuTGluZWFyU3BsaW5lKGIuc2xpZGVzR3JpZCwgZS5zbGlkZXNHcmlkKSA6IG5ldyBiLmNvbnRyb2xsZXIuTGluZWFyU3BsaW5lKGIuc25hcEdyaWQsIGUuc25hcEdyaWQpKVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c2V0VHJhbnNsYXRlOiBmdW5jdGlvbihlLCBhKSB7XG5cdFx0XHRcdFx0XHRmdW5jdGlvbiByKGEpIHtcblx0XHRcdFx0XHRcdFx0ZSA9IGEucnRsICYmIFwiaG9yaXpvbnRhbFwiID09PSBhLnBhcmFtcy5kaXJlY3Rpb24gPyAtYi50cmFuc2xhdGUgOiBiLnRyYW5zbGF0ZSwgXCJzbGlkZVwiID09PSBiLnBhcmFtcy5jb250cm9sQnkgJiYgKGIuY29udHJvbGxlci5nZXRJbnRlcnBvbGF0ZUZ1bmN0aW9uKGEpLCBzID0gLWIuY29udHJvbGxlci5zcGxpbmUuaW50ZXJwb2xhdGUoLWUpKSwgcyAmJiBcImNvbnRhaW5lclwiICE9PSBiLnBhcmFtcy5jb250cm9sQnkgfHwgKGkgPSAoYS5tYXhUcmFuc2xhdGUoKSAtIGEubWluVHJhbnNsYXRlKCkpIC8gKGIubWF4VHJhbnNsYXRlKCkgLSBiLm1pblRyYW5zbGF0ZSgpKSwgcyA9IChlIC0gYi5taW5UcmFuc2xhdGUoKSkgKiBpICsgYS5taW5UcmFuc2xhdGUoKSksIGIucGFyYW1zLmNvbnRyb2xJbnZlcnNlICYmIChzID0gYS5tYXhUcmFuc2xhdGUoKSAtIHMpLCBhLnVwZGF0ZVByb2dyZXNzKHMpLCBhLnNldFdyYXBwZXJUcmFuc2xhdGUocywgITEsIGIpLCBhLnVwZGF0ZUFjdGl2ZUluZGV4KClcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHZhciBpLCBzLCBuID0gYi5wYXJhbXMuY29udHJvbDtcblx0XHRcdFx0XHRcdGlmIChiLmlzQXJyYXkobikpXG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIG8gPSAwOyBvIDwgbi5sZW5ndGg7IG8rKykgbltvXSAhPT0gYSAmJiBuW29dIGluc3RhbmNlb2YgdCAmJiByKG5bb10pO1xuXHRcdFx0XHRcdFx0ZWxzZSBuIGluc3RhbmNlb2YgdCAmJiBhICE9PSBuICYmIHIobilcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHNldFRyYW5zaXRpb246IGZ1bmN0aW9uKGUsIGEpIHtcblx0XHRcdFx0XHRcdGZ1bmN0aW9uIHIoYSkge1xuXHRcdFx0XHRcdFx0XHRhLnNldFdyYXBwZXJUcmFuc2l0aW9uKGUsIGIpLCAwICE9PSBlICYmIChhLm9uVHJhbnNpdGlvblN0YXJ0KCksIGEud3JhcHBlci50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdHMgJiYgKGEucGFyYW1zLmxvb3AgJiYgXCJzbGlkZVwiID09PSBiLnBhcmFtcy5jb250cm9sQnkgJiYgYS5maXhMb29wKCksIGEub25UcmFuc2l0aW9uRW5kKCkpXG5cdFx0XHRcdFx0XHRcdH0pKVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dmFyIGksIHMgPSBiLnBhcmFtcy5jb250cm9sO1xuXHRcdFx0XHRcdFx0aWYgKGIuaXNBcnJheShzKSlcblx0XHRcdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHNbaV0gIT09IGEgJiYgc1tpXSBpbnN0YW5jZW9mIHQgJiYgcihzW2ldKTtcblx0XHRcdFx0XHRcdGVsc2UgcyBpbnN0YW5jZW9mIHQgJiYgYSAhPT0gcyAmJiByKHMpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCBiLmhhc2huYXYgPSB7XG5cdFx0XHRcdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoYi5wYXJhbXMuaGFzaG5hdikge1xuXHRcdFx0XHRcdFx0XHRiLmhhc2huYXYuaW5pdGlhbGl6ZWQgPSAhMDtcblx0XHRcdFx0XHRcdFx0dmFyIGUgPSBkb2N1bWVudC5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoXCIjXCIsIFwiXCIpO1xuXHRcdFx0XHRcdFx0XHRpZiAoZSlcblx0XHRcdFx0XHRcdFx0XHRmb3IgKHZhciBhID0gMCwgdCA9IDAsIHIgPSBiLnNsaWRlcy5sZW5ndGg7IHIgPiB0OyB0KyspIHtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciBpID0gYi5zbGlkZXMuZXEodCksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHMgPSBpLmF0dHIoXCJkYXRhLWhhc2hcIik7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAocyA9PT0gZSAmJiAhaS5oYXNDbGFzcyhiLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgbiA9IGkuaW5kZXgoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Yi5zbGlkZVRvKG4sIGEsIGIucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCwgITApXG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c2V0SGFzaDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRiLmhhc2huYXYuaW5pdGlhbGl6ZWQgJiYgYi5wYXJhbXMuaGFzaG5hdiAmJiAoZG9jdW1lbnQubG9jYXRpb24uaGFzaCA9IGIuc2xpZGVzLmVxKGIuYWN0aXZlSW5kZXgpLmF0dHIoXCJkYXRhLWhhc2hcIikgfHwgXCJcIilcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIGIuZGlzYWJsZUtleWJvYXJkQ29udHJvbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGIucGFyYW1zLmtleWJvYXJkQ29udHJvbCA9ICExLCBhKGRvY3VtZW50KS5vZmYoXCJrZXlkb3duXCIsIHApXG5cdFx0XHRcdH0sIGIuZW5hYmxlS2V5Ym9hcmRDb250cm9sID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Yi5wYXJhbXMua2V5Ym9hcmRDb250cm9sID0gITAsIGEoZG9jdW1lbnQpLm9uKFwia2V5ZG93blwiLCBwKVxuXHRcdFx0XHR9LCBiLm1vdXNld2hlZWwgPSB7XG5cdFx0XHRcdFx0ZXZlbnQ6ICExLFxuXHRcdFx0XHRcdGxhc3RTY3JvbGxUaW1lOiAobmV3IHdpbmRvdy5EYXRlKS5nZXRUaW1lKClcblx0XHRcdFx0fSwgYi5wYXJhbXMubW91c2V3aGVlbENvbnRyb2wpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRuZXcgd2luZG93LldoZWVsRXZlbnQoXCJ3aGVlbFwiKSwgYi5tb3VzZXdoZWVsLmV2ZW50ID0gXCJ3aGVlbFwiXG5cdFx0XHRcdH0gY2F0Y2ggKE4pIHtcblx0XHRcdFx0XHQod2luZG93LldoZWVsRXZlbnQgfHwgYi5jb250YWluZXJbMF0gJiYgXCJ3aGVlbFwiIGluIGIuY29udGFpbmVyWzBdKSAmJiAoYi5tb3VzZXdoZWVsLmV2ZW50ID0gXCJ3aGVlbFwiKVxuXHRcdFx0XHR9IWIubW91c2V3aGVlbC5ldmVudCAmJiB3aW5kb3cuV2hlZWxFdmVudCwgYi5tb3VzZXdoZWVsLmV2ZW50IHx8IHZvaWQgMCA9PT0gZG9jdW1lbnQub25tb3VzZXdoZWVsIHx8IChiLm1vdXNld2hlZWwuZXZlbnQgPSBcIm1vdXNld2hlZWxcIiksIGIubW91c2V3aGVlbC5ldmVudCB8fCAoYi5tb3VzZXdoZWVsLmV2ZW50ID0gXCJET01Nb3VzZVNjcm9sbFwiKVxuXHRcdFx0fVxuXHRcdFx0Yi5kaXNhYmxlTW91c2V3aGVlbENvbnRyb2wgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIGIubW91c2V3aGVlbC5ldmVudCA/IChiLmNvbnRhaW5lci5vZmYoYi5tb3VzZXdoZWVsLmV2ZW50LCBkKSwgITApIDogITFcblx0XHRcdH0sIGIuZW5hYmxlTW91c2V3aGVlbENvbnRyb2wgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIGIubW91c2V3aGVlbC5ldmVudCA/IChiLmNvbnRhaW5lci5vbihiLm1vdXNld2hlZWwuZXZlbnQsIGQpLCAhMCkgOiAhMVxuXHRcdFx0fSwgYi5wYXJhbGxheCA9IHtcblx0XHRcdFx0c2V0VHJhbnNsYXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRiLmNvbnRhaW5lci5jaGlsZHJlbihcIltkYXRhLXN3aXBlci1wYXJhbGxheF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC14XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXldXCIpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR1KHRoaXMsIGIucHJvZ3Jlc3MpXG5cdFx0XHRcdFx0fSksIGIuc2xpZGVzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR2YXIgZSA9IGEodGhpcyk7XG5cdFx0XHRcdFx0XHRlLmZpbmQoXCJbZGF0YS1zd2lwZXItcGFyYWxsYXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC15XVwiKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgYSA9IE1hdGgubWluKE1hdGgubWF4KGVbMF0ucHJvZ3Jlc3MsIC0xKSwgMSk7XG5cdFx0XHRcdFx0XHRcdHUodGhpcywgYSlcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fSxcblx0XHRcdFx0c2V0VHJhbnNpdGlvbjogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGUgJiYgKGUgPSBiLnBhcmFtcy5zcGVlZCksIGIuY29udGFpbmVyLmZpbmQoXCJbZGF0YS1zd2lwZXItcGFyYWxsYXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC15XVwiKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0dmFyIHQgPSBhKHRoaXMpLFxuXHRcdFx0XHRcdFx0XHRyID0gcGFyc2VJbnQodC5hdHRyKFwiZGF0YS1zd2lwZXItcGFyYWxsYXgtZHVyYXRpb25cIiksIDEwKSB8fCBlO1xuXHRcdFx0XHRcdFx0MCA9PT0gZSAmJiAociA9IDApLCB0LnRyYW5zaXRpb24ocilcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9XG5cdFx0XHR9LCBiLl9wbHVnaW5zID0gW107XG5cdFx0XHRmb3IgKHZhciBSIGluIGIucGx1Z2lucykge1xuXHRcdFx0XHR2YXIgVyA9IGIucGx1Z2luc1tSXShiLCBiLnBhcmFtc1tSXSk7XG5cdFx0XHRcdFcgJiYgYi5fcGx1Z2lucy5wdXNoKFcpXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gYi5jYWxsUGx1Z2lucyA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0Zm9yICh2YXIgYSA9IDA7IGEgPCBiLl9wbHVnaW5zLmxlbmd0aDsgYSsrKSBlIGluIGIuX3BsdWdpbnNbYV0gJiYgYi5fcGx1Z2luc1thXVtlXShhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSwgYXJndW1lbnRzWzNdLCBhcmd1bWVudHNbNF0sIGFyZ3VtZW50c1s1XSlcblx0XHRcdH0sIGIuZW1pdHRlckV2ZW50TGlzdGVuZXJzID0ge30sIGIuZW1pdCA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0Yi5wYXJhbXNbZV0gJiYgYi5wYXJhbXNbZV0oYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0sIGFyZ3VtZW50c1szXSwgYXJndW1lbnRzWzRdLCBhcmd1bWVudHNbNV0pO1xuXHRcdFx0XHR2YXIgYTtcblx0XHRcdFx0aWYgKGIuZW1pdHRlckV2ZW50TGlzdGVuZXJzW2VdKVxuXHRcdFx0XHRcdGZvciAoYSA9IDA7IGEgPCBiLmVtaXR0ZXJFdmVudExpc3RlbmVyc1tlXS5sZW5ndGg7IGErKykgYi5lbWl0dGVyRXZlbnRMaXN0ZW5lcnNbZV1bYV0oYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0sIGFyZ3VtZW50c1szXSwgYXJndW1lbnRzWzRdLCBhcmd1bWVudHNbNV0pO1xuXHRcdFx0XHRiLmNhbGxQbHVnaW5zICYmIGIuY2FsbFBsdWdpbnMoZSwgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0sIGFyZ3VtZW50c1szXSwgYXJndW1lbnRzWzRdLCBhcmd1bWVudHNbNV0pXG5cdFx0XHR9LCBiLm9uID0gZnVuY3Rpb24oZSwgYSkge1xuXHRcdFx0XHRyZXR1cm4gZSA9IGMoZSksIGIuZW1pdHRlckV2ZW50TGlzdGVuZXJzW2VdIHx8IChiLmVtaXR0ZXJFdmVudExpc3RlbmVyc1tlXSA9IFtdKSwgYi5lbWl0dGVyRXZlbnRMaXN0ZW5lcnNbZV0ucHVzaChhKSwgYlxuXHRcdFx0fSwgYi5vZmYgPSBmdW5jdGlvbihlLCBhKSB7XG5cdFx0XHRcdHZhciB0O1xuXHRcdFx0XHRpZiAoZSA9IGMoZSksIFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGEpIHJldHVybiBiLmVtaXR0ZXJFdmVudExpc3RlbmVyc1tlXSA9IFtdLCBiO1xuXHRcdFx0XHRpZiAoYi5lbWl0dGVyRXZlbnRMaXN0ZW5lcnNbZV0gJiYgMCAhPT0gYi5lbWl0dGVyRXZlbnRMaXN0ZW5lcnNbZV0ubGVuZ3RoKSB7XG5cdFx0XHRcdFx0Zm9yICh0ID0gMDsgdCA8IGIuZW1pdHRlckV2ZW50TGlzdGVuZXJzW2VdLmxlbmd0aDsgdCsrKSBiLmVtaXR0ZXJFdmVudExpc3RlbmVyc1tlXVt0XSA9PT0gYSAmJiBiLmVtaXR0ZXJFdmVudExpc3RlbmVyc1tlXS5zcGxpY2UodCwgMSk7XG5cdFx0XHRcdFx0cmV0dXJuIGJcblx0XHRcdFx0fVxuXHRcdFx0fSwgYi5vbmNlID0gZnVuY3Rpb24oZSwgYSkge1xuXHRcdFx0XHRlID0gYyhlKTtcblx0XHRcdFx0dmFyIHQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRhKGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0sIGFyZ3VtZW50c1szXSwgYXJndW1lbnRzWzRdKSwgYi5vZmYoZSwgdClcblx0XHRcdFx0fTtcblx0XHRcdFx0cmV0dXJuIGIub24oZSwgdCksIGJcblx0XHRcdH0sIGIuYTExeSA9IHtcblx0XHRcdFx0bWFrZUZvY3VzYWJsZTogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdHJldHVybiBlLmF0dHIoXCJ0YWJJbmRleFwiLCBcIjBcIiksIGVcblx0XHRcdFx0fSxcblx0XHRcdFx0YWRkUm9sZTogZnVuY3Rpb24oZSwgYSkge1xuXHRcdFx0XHRcdHJldHVybiBlLmF0dHIoXCJyb2xlXCIsIGEpLCBlXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGFkZExhYmVsOiBmdW5jdGlvbihlLCBhKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGUuYXR0cihcImFyaWEtbGFiZWxcIiwgYSksIGVcblx0XHRcdFx0fSxcblx0XHRcdFx0ZGlzYWJsZTogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdHJldHVybiBlLmF0dHIoXCJhcmlhLWRpc2FibGVkXCIsICEwKSwgZVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRlbmFibGU6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRyZXR1cm4gZS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLCAhMSksIGVcblx0XHRcdFx0fSxcblx0XHRcdFx0b25FbnRlcktleTogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdDEzID09PSBlLmtleUNvZGUgJiYgKGEoZS50YXJnZXQpLmlzKGIucGFyYW1zLm5leHRCdXR0b24pID8gKGIub25DbGlja05leHQoZSksIGIuaXNFbmQgPyBiLmExMXkubm90aWZ5KGIucGFyYW1zLmxhc3RTbGlkZU1lc3NhZ2UpIDogYi5hMTF5Lm5vdGlmeShiLnBhcmFtcy5uZXh0U2xpZGVNZXNzYWdlKSkgOiBhKGUudGFyZ2V0KS5pcyhiLnBhcmFtcy5wcmV2QnV0dG9uKSAmJiAoYi5vbkNsaWNrUHJldihlKSwgYi5pc0JlZ2lubmluZyA/IGIuYTExeS5ub3RpZnkoYi5wYXJhbXMuZmlyc3RTbGlkZU1lc3NhZ2UpIDogYi5hMTF5Lm5vdGlmeShiLnBhcmFtcy5wcmV2U2xpZGVNZXNzYWdlKSksIGEoZS50YXJnZXQpLmlzKFwiLlwiICsgYi5wYXJhbXMuYnVsbGV0Q2xhc3MpICYmIGEoZS50YXJnZXQpWzBdLmNsaWNrKCkpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGxpdmVSZWdpb246IGEoJzxzcGFuIGNsYXNzPVwic3dpcGVyLW5vdGlmaWNhdGlvblwiIGFyaWEtbGl2ZT1cImFzc2VydGl2ZVwiIGFyaWEtYXRvbWljPVwidHJ1ZVwiPjwvc3Bhbj4nKSxcblx0XHRcdFx0bm90aWZ5OiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0dmFyIGEgPSBiLmExMXkubGl2ZVJlZ2lvbjtcblx0XHRcdFx0XHQwICE9PSBhLmxlbmd0aCAmJiAoYS5odG1sKFwiXCIpLCBhLmh0bWwoZSkpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGIucGFyYW1zLm5leHRCdXR0b24gJiYgYi5uZXh0QnV0dG9uICYmIGIubmV4dEJ1dHRvbi5sZW5ndGggPiAwICYmIChiLmExMXkubWFrZUZvY3VzYWJsZShiLm5leHRCdXR0b24pLCBiLmExMXkuYWRkUm9sZShiLm5leHRCdXR0b24sIFwiYnV0dG9uXCIpLCBiLmExMXkuYWRkTGFiZWwoYi5uZXh0QnV0dG9uLCBiLnBhcmFtcy5uZXh0U2xpZGVNZXNzYWdlKSksIGIucGFyYW1zLnByZXZCdXR0b24gJiYgYi5wcmV2QnV0dG9uICYmIGIucHJldkJ1dHRvbi5sZW5ndGggPiAwICYmIChiLmExMXkubWFrZUZvY3VzYWJsZShiLnByZXZCdXR0b24pLCBiLmExMXkuYWRkUm9sZShiLnByZXZCdXR0b24sIFwiYnV0dG9uXCIpLCBiLmExMXkuYWRkTGFiZWwoYi5wcmV2QnV0dG9uLCBiLnBhcmFtcy5wcmV2U2xpZGVNZXNzYWdlKSksIGEoYi5jb250YWluZXIpLmFwcGVuZChiLmExMXkubGl2ZVJlZ2lvbilcblx0XHRcdFx0fSxcblx0XHRcdFx0aW5pdFBhZ2luYXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGIucGFyYW1zLnBhZ2luYXRpb24gJiYgYi5wYXJhbXMucGFnaW5hdGlvbkNsaWNrYWJsZSAmJiBiLmJ1bGxldHMgJiYgYi5idWxsZXRzLmxlbmd0aCAmJiBiLmJ1bGxldHMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHZhciBlID0gYSh0aGlzKTtcblx0XHRcdFx0XHRcdGIuYTExeS5tYWtlRm9jdXNhYmxlKGUpLCBiLmExMXkuYWRkUm9sZShlLCBcImJ1dHRvblwiKSwgYi5hMTF5LmFkZExhYmVsKGUsIGIucGFyYW1zLnBhZ2luYXRpb25CdWxsZXRNZXNzYWdlLnJlcGxhY2UoL3t7aW5kZXh9fS8sIGUuaW5kZXgoKSArIDEpKVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGIuYTExeS5saXZlUmVnaW9uICYmIGIuYTExeS5saXZlUmVnaW9uLmxlbmd0aCA+IDAgJiYgYi5hMTF5LmxpdmVSZWdpb24ucmVtb3ZlKClcblx0XHRcdFx0fVxuXHRcdFx0fSwgYi5pbml0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGIucGFyYW1zLmxvb3AgJiYgYi5jcmVhdGVMb29wKCksIGIudXBkYXRlQ29udGFpbmVyU2l6ZSgpLCBiLnVwZGF0ZVNsaWRlc1NpemUoKSwgYi51cGRhdGVQYWdpbmF0aW9uKCksIGIucGFyYW1zLnNjcm9sbGJhciAmJiBiLnNjcm9sbGJhciAmJiAoYi5zY3JvbGxiYXIuc2V0KCksIGIucGFyYW1zLnNjcm9sbGJhckRyYWdnYWJsZSAmJiBiLnNjcm9sbGJhci5lbmFibGVEcmFnZ2FibGUoKSksIFwic2xpZGVcIiAhPT0gYi5wYXJhbXMuZWZmZWN0ICYmIGIuZWZmZWN0c1tiLnBhcmFtcy5lZmZlY3RdICYmIChiLnBhcmFtcy5sb29wIHx8IGIudXBkYXRlUHJvZ3Jlc3MoKSwgYi5lZmZlY3RzW2IucGFyYW1zLmVmZmVjdF0uc2V0VHJhbnNsYXRlKCkpLCBiLnBhcmFtcy5sb29wID8gYi5zbGlkZVRvKGIucGFyYW1zLmluaXRpYWxTbGlkZSArIGIubG9vcGVkU2xpZGVzLCAwLCBiLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQpIDogKGIuc2xpZGVUbyhiLnBhcmFtcy5pbml0aWFsU2xpZGUsIDAsIGIucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCksIDAgPT09IGIucGFyYW1zLmluaXRpYWxTbGlkZSAmJiAoYi5wYXJhbGxheCAmJiBiLnBhcmFtcy5wYXJhbGxheCAmJiBiLnBhcmFsbGF4LnNldFRyYW5zbGF0ZSgpLCBiLmxhenkgJiYgYi5wYXJhbXMubGF6eUxvYWRpbmcgJiYgKGIubGF6eS5sb2FkKCksIGIubGF6eS5pbml0aWFsSW1hZ2VMb2FkZWQgPSAhMCkpKSwgYi5hdHRhY2hFdmVudHMoKSwgYi5wYXJhbXMub2JzZXJ2ZXIgJiYgYi5zdXBwb3J0Lm9ic2VydmVyICYmIGIuaW5pdE9ic2VydmVycygpLCBiLnBhcmFtcy5wcmVsb2FkSW1hZ2VzICYmICFiLnBhcmFtcy5sYXp5TG9hZGluZyAmJiBiLnByZWxvYWRJbWFnZXMoKSwgYi5wYXJhbXMuYXV0b3BsYXkgJiYgYi5zdGFydEF1dG9wbGF5KCksIGIucGFyYW1zLmtleWJvYXJkQ29udHJvbCAmJiBiLmVuYWJsZUtleWJvYXJkQ29udHJvbCAmJiBiLmVuYWJsZUtleWJvYXJkQ29udHJvbCgpLCBiLnBhcmFtcy5tb3VzZXdoZWVsQ29udHJvbCAmJiBiLmVuYWJsZU1vdXNld2hlZWxDb250cm9sICYmIGIuZW5hYmxlTW91c2V3aGVlbENvbnRyb2woKSxcblx0XHRcdFx0XHRiLnBhcmFtcy5oYXNobmF2ICYmIGIuaGFzaG5hdiAmJiBiLmhhc2huYXYuaW5pdCgpLCBiLnBhcmFtcy5hMTF5ICYmIGIuYTExeSAmJiBiLmExMXkuaW5pdCgpLCBiLmVtaXQoXCJvbkluaXRcIiwgYilcblx0XHRcdH0sIGIuY2xlYW51cFN0eWxlcyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRiLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhiLmNsYXNzTmFtZXMuam9pbihcIiBcIikpLnJlbW92ZUF0dHIoXCJzdHlsZVwiKSwgYi53cmFwcGVyLnJlbW92ZUF0dHIoXCJzdHlsZVwiKSwgYi5zbGlkZXMgJiYgYi5zbGlkZXMubGVuZ3RoICYmIGIuc2xpZGVzLnJlbW92ZUNsYXNzKFtiLnBhcmFtcy5zbGlkZVZpc2libGVDbGFzcywgYi5wYXJhbXMuc2xpZGVBY3RpdmVDbGFzcywgYi5wYXJhbXMuc2xpZGVOZXh0Q2xhc3MsIGIucGFyYW1zLnNsaWRlUHJldkNsYXNzXS5qb2luKFwiIFwiKSkucmVtb3ZlQXR0cihcInN0eWxlXCIpLnJlbW92ZUF0dHIoXCJkYXRhLXN3aXBlci1jb2x1bW5cIikucmVtb3ZlQXR0cihcImRhdGEtc3dpcGVyLXJvd1wiKSwgYi5wYWdpbmF0aW9uQ29udGFpbmVyICYmIGIucGFnaW5hdGlvbkNvbnRhaW5lci5sZW5ndGggJiYgYi5wYWdpbmF0aW9uQ29udGFpbmVyLnJlbW92ZUNsYXNzKGIucGFyYW1zLnBhZ2luYXRpb25IaWRkZW5DbGFzcyksIGIuYnVsbGV0cyAmJiBiLmJ1bGxldHMubGVuZ3RoICYmIGIuYnVsbGV0cy5yZW1vdmVDbGFzcyhiLnBhcmFtcy5idWxsZXRBY3RpdmVDbGFzcyksIGIucGFyYW1zLnByZXZCdXR0b24gJiYgYShiLnBhcmFtcy5wcmV2QnV0dG9uKS5yZW1vdmVDbGFzcyhiLnBhcmFtcy5idXR0b25EaXNhYmxlZENsYXNzKSwgYi5wYXJhbXMubmV4dEJ1dHRvbiAmJiBhKGIucGFyYW1zLm5leHRCdXR0b24pLnJlbW92ZUNsYXNzKGIucGFyYW1zLmJ1dHRvbkRpc2FibGVkQ2xhc3MpLCBiLnBhcmFtcy5zY3JvbGxiYXIgJiYgYi5zY3JvbGxiYXIgJiYgKGIuc2Nyb2xsYmFyLnRyYWNrICYmIGIuc2Nyb2xsYmFyLnRyYWNrLmxlbmd0aCAmJiBiLnNjcm9sbGJhci50cmFjay5yZW1vdmVBdHRyKFwic3R5bGVcIiksIGIuc2Nyb2xsYmFyLmRyYWcgJiYgYi5zY3JvbGxiYXIuZHJhZy5sZW5ndGggJiYgYi5zY3JvbGxiYXIuZHJhZy5yZW1vdmVBdHRyKFwic3R5bGVcIikpXG5cdFx0XHR9LCBiLmRlc3Ryb3kgPSBmdW5jdGlvbihlLCBhKSB7XG5cdFx0XHRcdGIuZGV0YWNoRXZlbnRzKCksIGIuc3RvcEF1dG9wbGF5KCksIGIucGFyYW1zLnNjcm9sbGJhciAmJiBiLnNjcm9sbGJhciAmJiBiLnBhcmFtcy5zY3JvbGxiYXJEcmFnZ2FibGUgJiYgYi5zY3JvbGxiYXIuZGlzYWJsZURyYWdnYWJsZSgpLCBiLnBhcmFtcy5sb29wICYmIGIuZGVzdHJveUxvb3AoKSwgYSAmJiBiLmNsZWFudXBTdHlsZXMoKSwgYi5kaXNjb25uZWN0T2JzZXJ2ZXJzKCksIGIucGFyYW1zLmtleWJvYXJkQ29udHJvbCAmJiBiLmRpc2FibGVLZXlib2FyZENvbnRyb2wgJiYgYi5kaXNhYmxlS2V5Ym9hcmRDb250cm9sKCksIGIucGFyYW1zLm1vdXNld2hlZWxDb250cm9sICYmIGIuZGlzYWJsZU1vdXNld2hlZWxDb250cm9sICYmIGIuZGlzYWJsZU1vdXNld2hlZWxDb250cm9sKCksIGIucGFyYW1zLmExMXkgJiYgYi5hMTF5ICYmIGIuYTExeS5kZXN0cm95KCksIGIuZW1pdChcIm9uRGVzdHJveVwiKSwgZSAhPT0gITEgJiYgKGIgPSBudWxsKVxuXHRcdFx0fSwgYi5pbml0KCksIGJcblx0XHR9XG5cdH07XG5cdHQucHJvdG90eXBlID0ge1xuXHRcdGlzU2FmYXJpOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBlID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIGUuaW5kZXhPZihcInNhZmFyaVwiKSA+PSAwICYmIGUuaW5kZXhPZihcImNocm9tZVwiKSA8IDAgJiYgZS5pbmRleE9mKFwiYW5kcm9pZFwiKSA8IDBcblx0XHR9KCksXG5cdFx0aXNVaVdlYlZpZXc6IC8oaVBob25lfGlQb2R8aVBhZCkuKkFwcGxlV2ViS2l0KD8hLipTYWZhcmkpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxcblx0XHRpc0FycmF5OiBmdW5jdGlvbihlKSB7XG5cdFx0XHRyZXR1cm4gXCJbb2JqZWN0IEFycmF5XVwiID09PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KGUpXG5cdFx0fSxcblx0XHRicm93c2VyOiB7XG5cdFx0XHRpZTogd2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCB8fCB3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQsXG5cdFx0XHRpZVRvdWNoOiB3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgJiYgd2luZG93Lm5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzID4gMSB8fCB3aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkICYmIHdpbmRvdy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAxXG5cdFx0fSxcblx0XHRkZXZpY2U6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGUgPSBuYXZpZ2F0b3IudXNlckFnZW50LFxuXHRcdFx0XHRhID0gZS5tYXRjaCgvKEFuZHJvaWQpOz9bXFxzXFwvXSsoW1xcZC5dKyk/LyksXG5cdFx0XHRcdHQgPSBlLm1hdGNoKC8oaVBhZCkuKk9TXFxzKFtcXGRfXSspLyksXG5cdFx0XHRcdHIgPSBlLm1hdGNoKC8oaVBvZCkoLipPU1xccyhbXFxkX10rKSk/LyksXG5cdFx0XHRcdGkgPSAhdCAmJiBlLm1hdGNoKC8oaVBob25lXFxzT1MpXFxzKFtcXGRfXSspLyk7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRpb3M6IHQgfHwgaSB8fCByLFxuXHRcdFx0XHRhbmRyb2lkOiBhXG5cdFx0XHR9XG5cdFx0fSgpLFxuXHRcdHN1cHBvcnQ6IHtcblx0XHRcdHRvdWNoOiB3aW5kb3cuTW9kZXJuaXpyICYmIE1vZGVybml6ci50b3VjaCA9PT0gITAgfHwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhIShcIm9udG91Y2hzdGFydFwiIGluIHdpbmRvdyB8fCB3aW5kb3cuRG9jdW1lbnRUb3VjaCAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2gpXG5cdFx0XHR9KCksXG5cdFx0XHR0cmFuc2Zvcm1zM2Q6IHdpbmRvdy5Nb2Rlcm5penIgJiYgTW9kZXJuaXpyLmNzc3RyYW5zZm9ybXMzZCA9PT0gITAgfHwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZTtcblx0XHRcdFx0cmV0dXJuIFwid2Via2l0UGVyc3BlY3RpdmVcIiBpbiBlIHx8IFwiTW96UGVyc3BlY3RpdmVcIiBpbiBlIHx8IFwiT1BlcnNwZWN0aXZlXCIgaW4gZSB8fCBcIk1zUGVyc3BlY3RpdmVcIiBpbiBlIHx8IFwicGVyc3BlY3RpdmVcIiBpbiBlXG5cdFx0XHR9KCksXG5cdFx0XHRmbGV4Ym94OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0Zm9yICh2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikuc3R5bGUsIGEgPSBcImFsaWduSXRlbXMgd2Via2l0QWxpZ25JdGVtcyB3ZWJraXRCb3hBbGlnbiBtc0ZsZXhBbGlnbiBtb3pCb3hBbGlnbiB3ZWJraXRGbGV4RGlyZWN0aW9uIG1zRmxleERpcmVjdGlvbiBtb3pCb3hEaXJlY3Rpb24gbW96Qm94T3JpZW50IHdlYmtpdEJveERpcmVjdGlvbiB3ZWJraXRCb3hPcmllbnRcIi5zcGxpdChcIiBcIiksIHQgPSAwOyB0IDwgYS5sZW5ndGg7IHQrKylcblx0XHRcdFx0XHRpZiAoYVt0XSBpbiBlKSByZXR1cm4gITBcblx0XHRcdH0oKSxcblx0XHRcdG9ic2VydmVyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIFwiTXV0YXRpb25PYnNlcnZlclwiIGluIHdpbmRvdyB8fCBcIldlYmtpdE11dGF0aW9uT2JzZXJ2ZXJcIiBpbiB3aW5kb3dcblx0XHRcdH0oKVxuXHRcdH0sXG5cdFx0cGx1Z2luczoge31cblx0fTtcblx0Zm9yICh2YXIgciA9IChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBlID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdHZhciBhID0gdGhpcyxcblx0XHRcdFx0XHRcdHQgPSAwO1xuXHRcdFx0XHRcdGZvciAodCA9IDA7IHQgPCBlLmxlbmd0aDsgdCsrKSBhW3RdID0gZVt0XTtcblx0XHRcdFx0XHRyZXR1cm4gYS5sZW5ndGggPSBlLmxlbmd0aCwgdGhpc1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRhID0gZnVuY3Rpb24oYSwgdCkge1xuXHRcdFx0XHRcdHZhciByID0gW10sXG5cdFx0XHRcdFx0XHRpID0gMDtcblx0XHRcdFx0XHRpZiAoYSAmJiAhdCAmJiBhIGluc3RhbmNlb2YgZSkgcmV0dXJuIGE7XG5cdFx0XHRcdFx0aWYgKGEpXG5cdFx0XHRcdFx0XHRpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgYSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgcywgbiwgbyA9IGEudHJpbSgpO1xuXHRcdFx0XHRcdFx0XHRpZiAoby5pbmRleE9mKFwiPFwiKSA+PSAwICYmIG8uaW5kZXhPZihcIj5cIikgPj0gMCkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBsID0gXCJkaXZcIjtcblx0XHRcdFx0XHRcdFx0XHRmb3IgKDAgPT09IG8uaW5kZXhPZihcIjxsaVwiKSAmJiAobCA9IFwidWxcIiksIDAgPT09IG8uaW5kZXhPZihcIjx0clwiKSAmJiAobCA9IFwidGJvZHlcIiksICgwID09PSBvLmluZGV4T2YoXCI8dGRcIikgfHwgMCA9PT0gby5pbmRleE9mKFwiPHRoXCIpKSAmJiAobCA9IFwidHJcIiksIDAgPT09IG8uaW5kZXhPZihcIjx0Ym9keVwiKSAmJiAobCA9IFwidGFibGVcIiksIDAgPT09IG8uaW5kZXhPZihcIjxvcHRpb25cIikgJiYgKGwgPSBcInNlbGVjdFwiKSwgbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobCksIG4uaW5uZXJIVE1MID0gYSwgaSA9IDA7IGkgPCBuLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHIucHVzaChuLmNoaWxkTm9kZXNbaV0pXG5cdFx0XHRcdFx0XHRcdH0gZWxzZVxuXHRcdFx0XHRcdFx0XHRcdGZvciAocyA9IHQgfHwgXCIjXCIgIT09IGFbMF0gfHwgYS5tYXRjaCgvWyAuPD46fl0vKSA/ICh0IHx8IGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKGEpIDogW2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEuc3BsaXQoXCIjXCIpWzFdKV0sIGkgPSAwOyBpIDwgcy5sZW5ndGg7IGkrKykgc1tpXSAmJiByLnB1c2goc1tpXSlcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoYS5ub2RlVHlwZSB8fCBhID09PSB3aW5kb3cgfHwgYSA9PT0gZG9jdW1lbnQpIHIucHVzaChhKTtcblx0XHRcdFx0XHRlbHNlIGlmIChhLmxlbmd0aCA+IDAgJiYgYVswXS5ub2RlVHlwZSlcblx0XHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSByLnB1c2goYVtpXSk7XG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBlKHIpXG5cdFx0XHRcdH07XG5cdFx0XHRyZXR1cm4gZS5wcm90b3R5cGUgPSB7XG5cdFx0XHRcdGFkZENsYXNzOiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0aWYgKFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGUpIHJldHVybiB0aGlzO1xuXHRcdFx0XHRcdGZvciAodmFyIGEgPSBlLnNwbGl0KFwiIFwiKSwgdCA9IDA7IHQgPCBhLmxlbmd0aDsgdCsrKVxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgciA9IDA7IHIgPCB0aGlzLmxlbmd0aDsgcisrKSB0aGlzW3JdLmNsYXNzTGlzdC5hZGQoYVt0XSk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXNcblx0XHRcdFx0fSxcblx0XHRcdFx0cmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBhID0gZS5zcGxpdChcIiBcIiksIHQgPSAwOyB0IDwgYS5sZW5ndGg7IHQrKylcblx0XHRcdFx0XHRcdGZvciAodmFyIHIgPSAwOyByIDwgdGhpcy5sZW5ndGg7IHIrKykgdGhpc1tyXS5jbGFzc0xpc3QucmVtb3ZlKGFbdF0pO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGhhc0NsYXNzOiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXNbMF0gPyB0aGlzWzBdLmNsYXNzTGlzdC5jb250YWlucyhlKSA6ICExXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRvZ2dsZUNsYXNzOiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgYSA9IGUuc3BsaXQoXCIgXCIpLCB0ID0gMDsgdCA8IGEubGVuZ3RoOyB0KyspXG5cdFx0XHRcdFx0XHRmb3IgKHZhciByID0gMDsgciA8IHRoaXMubGVuZ3RoOyByKyspIHRoaXNbcl0uY2xhc3NMaXN0LnRvZ2dsZShhW3RdKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRhdHRyOiBmdW5jdGlvbihlLCBhKSB7XG5cdFx0XHRcdFx0aWYgKDEgPT09IGFyZ3VtZW50cy5sZW5ndGggJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSkgcmV0dXJuIHRoaXNbMF0gPyB0aGlzWzBdLmdldEF0dHJpYnV0ZShlKSA6IHZvaWQgMDtcblx0XHRcdFx0XHRmb3IgKHZhciB0ID0gMDsgdCA8IHRoaXMubGVuZ3RoOyB0KyspXG5cdFx0XHRcdFx0XHRpZiAoMiA9PT0gYXJndW1lbnRzLmxlbmd0aCkgdGhpc1t0XS5zZXRBdHRyaWJ1dGUoZSwgYSk7XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdGZvciAodmFyIHIgaW4gZSkgdGhpc1t0XVtyXSA9IGVbcl0sIHRoaXNbdF0uc2V0QXR0cmlidXRlKHIsIGVbcl0pO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBhID0gMDsgYSA8IHRoaXMubGVuZ3RoOyBhKyspIHRoaXNbYV0ucmVtb3ZlQXR0cmlidXRlKGUpO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGRhdGE6IGZ1bmN0aW9uKGUsIGEpIHtcblx0XHRcdFx0XHRpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgYSkge1xuXHRcdFx0XHRcdFx0Zm9yICh2YXIgdCA9IDA7IHQgPCB0aGlzLmxlbmd0aDsgdCsrKSB7XG5cdFx0XHRcdFx0XHRcdHZhciByID0gdGhpc1t0XTtcblx0XHRcdFx0XHRcdFx0ci5kb203RWxlbWVudERhdGFTdG9yYWdlIHx8IChyLmRvbTdFbGVtZW50RGF0YVN0b3JhZ2UgPSB7fSksIHIuZG9tN0VsZW1lbnREYXRhU3RvcmFnZVtlXSA9IGFcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiB0aGlzXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICh0aGlzWzBdKSB7XG5cdFx0XHRcdFx0XHR2YXIgaSA9IHRoaXNbMF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1cIiArIGUpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGkgPyBpIDogdGhpc1swXS5kb203RWxlbWVudERhdGFTdG9yYWdlICYmIGUgaW4gdGhpc1swXS5kb203RWxlbWVudERhdGFTdG9yYWdlID8gdGhpc1swXS5kb203RWxlbWVudERhdGFTdG9yYWdlW2VdIDogdm9pZCAwXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0cmFuc2Zvcm06IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBhID0gMDsgYSA8IHRoaXMubGVuZ3RoOyBhKyspIHtcblx0XHRcdFx0XHRcdHZhciB0ID0gdGhpc1thXS5zdHlsZTtcblx0XHRcdFx0XHRcdHQud2Via2l0VHJhbnNmb3JtID0gdC5Nc1RyYW5zZm9ybSA9IHQubXNUcmFuc2Zvcm0gPSB0Lk1velRyYW5zZm9ybSA9IHQuT1RyYW5zZm9ybSA9IHQudHJhbnNmb3JtID0gZVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR0cmFuc2l0aW9uOiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0XCJzdHJpbmdcIiAhPSB0eXBlb2YgZSAmJiAoZSArPSBcIm1zXCIpO1xuXHRcdFx0XHRcdGZvciAodmFyIGEgPSAwOyBhIDwgdGhpcy5sZW5ndGg7IGErKykge1xuXHRcdFx0XHRcdFx0dmFyIHQgPSB0aGlzW2FdLnN0eWxlO1xuXHRcdFx0XHRcdFx0dC53ZWJraXRUcmFuc2l0aW9uRHVyYXRpb24gPSB0Lk1zVHJhbnNpdGlvbkR1cmF0aW9uID0gdC5tc1RyYW5zaXRpb25EdXJhdGlvbiA9IHQuTW96VHJhbnNpdGlvbkR1cmF0aW9uID0gdC5PVHJhbnNpdGlvbkR1cmF0aW9uID0gdC50cmFuc2l0aW9uRHVyYXRpb24gPSBlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzXG5cdFx0XHRcdH0sXG5cdFx0XHRcdG9uOiBmdW5jdGlvbihlLCB0LCByLCBpKSB7XG5cdFx0XHRcdFx0ZnVuY3Rpb24gcyhlKSB7XG5cdFx0XHRcdFx0XHR2YXIgaSA9IGUudGFyZ2V0O1xuXHRcdFx0XHRcdFx0aWYgKGEoaSkuaXModCkpIHIuY2FsbChpLCBlKTtcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0Zm9yICh2YXIgcyA9IGEoaSkucGFyZW50cygpLCBuID0gMDsgbiA8IHMubGVuZ3RoOyBuKyspIGEoc1tuXSkuaXModCkgJiYgci5jYWxsKHNbbl0sIGUpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHZhciBuLCBvLCBsID0gZS5zcGxpdChcIiBcIik7XG5cdFx0XHRcdFx0Zm9yIChuID0gMDsgbiA8IHRoaXMubGVuZ3RoOyBuKyspXG5cdFx0XHRcdFx0XHRpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiB0IHx8IHQgPT09ICExKVxuXHRcdFx0XHRcdFx0XHRmb3IgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdCAmJiAociA9IGFyZ3VtZW50c1sxXSwgaSA9IGFyZ3VtZW50c1syXSB8fCAhMSksIG8gPSAwOyBvIDwgbC5sZW5ndGg7IG8rKykgdGhpc1tuXS5hZGRFdmVudExpc3RlbmVyKGxbb10sIHIsIGkpO1xuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRmb3IgKG8gPSAwOyBvIDwgbC5sZW5ndGg7IG8rKykgdGhpc1tuXS5kb203TGl2ZUxpc3RlbmVycyB8fCAodGhpc1tuXS5kb203TGl2ZUxpc3RlbmVycyA9IFtdKSwgdGhpc1tuXS5kb203TGl2ZUxpc3RlbmVycy5wdXNoKHtcblx0XHRcdFx0XHRcdFx0XHRsaXN0ZW5lcjogcixcblx0XHRcdFx0XHRcdFx0XHRsaXZlTGlzdGVuZXI6IHNcblx0XHRcdFx0XHRcdFx0fSksIHRoaXNbbl0uYWRkRXZlbnRMaXN0ZW5lcihsW29dLCBzLCBpKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRvZmY6IGZ1bmN0aW9uKGUsIGEsIHQsIHIpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gZS5zcGxpdChcIiBcIiksIHMgPSAwOyBzIDwgaS5sZW5ndGg7IHMrKylcblx0XHRcdFx0XHRcdGZvciAodmFyIG4gPSAwOyBuIDwgdGhpcy5sZW5ndGg7IG4rKylcblx0XHRcdFx0XHRcdFx0aWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgYSB8fCBhID09PSAhMSkgXCJmdW5jdGlvblwiID09IHR5cGVvZiBhICYmICh0ID0gYXJndW1lbnRzWzFdLCByID0gYXJndW1lbnRzWzJdIHx8ICExKSwgdGhpc1tuXS5yZW1vdmVFdmVudExpc3RlbmVyKGlbc10sIHQsIHIpO1xuXHRcdFx0XHRcdFx0XHRlbHNlIGlmICh0aGlzW25dLmRvbTdMaXZlTGlzdGVuZXJzKVxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgbyA9IDA7IG8gPCB0aGlzW25dLmRvbTdMaXZlTGlzdGVuZXJzLmxlbmd0aDsgbysrKSB0aGlzW25dLmRvbTdMaXZlTGlzdGVuZXJzW29dLmxpc3RlbmVyID09PSB0ICYmIHRoaXNbbl0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihpW3NdLCB0aGlzW25dLmRvbTdMaXZlTGlzdGVuZXJzW29dLmxpdmVMaXN0ZW5lciwgcik7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXNcblx0XHRcdFx0fSxcblx0XHRcdFx0b25jZTogZnVuY3Rpb24oZSwgYSwgdCwgcikge1xuXHRcdFx0XHRcdGZ1bmN0aW9uIGkobikge1xuXHRcdFx0XHRcdFx0dChuKSwgcy5vZmYoZSwgYSwgaSwgcilcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dmFyIHMgPSB0aGlzO1xuXHRcdFx0XHRcdFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgYSAmJiAoYSA9ICExLCB0ID0gYXJndW1lbnRzWzFdLCByID0gYXJndW1lbnRzWzJdKSwgcy5vbihlLCBhLCBpLCByKVxuXHRcdFx0XHR9LFxuXHRcdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbihlLCBhKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgdCA9IDA7IHQgPCB0aGlzLmxlbmd0aDsgdCsrKSB7XG5cdFx0XHRcdFx0XHR2YXIgcjtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdHIgPSBuZXcgd2luZG93LkN1c3RvbUV2ZW50KGUsIHtcblx0XHRcdFx0XHRcdFx0XHRkZXRhaWw6IGEsXG5cdFx0XHRcdFx0XHRcdFx0YnViYmxlczogITAsXG5cdFx0XHRcdFx0XHRcdFx0Y2FuY2VsYWJsZTogITBcblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKGkpIHtcblx0XHRcdFx0XHRcdFx0ciA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIiksIHIuaW5pdEV2ZW50KGUsICEwLCAhMCksIHIuZGV0YWlsID0gYVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dGhpc1t0XS5kaXNwYXRjaEV2ZW50KHIpXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRmdW5jdGlvbiBhKHMpIHtcblx0XHRcdFx0XHRcdGlmIChzLnRhcmdldCA9PT0gdGhpcylcblx0XHRcdFx0XHRcdFx0Zm9yIChlLmNhbGwodGhpcywgcyksIHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgaS5vZmYoclt0XSwgYSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dmFyIHQsIHIgPSBbXCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCIsIFwidHJhbnNpdGlvbmVuZFwiLCBcIm9UcmFuc2l0aW9uRW5kXCIsIFwiTVNUcmFuc2l0aW9uRW5kXCIsIFwibXNUcmFuc2l0aW9uRW5kXCJdLFxuXHRcdFx0XHRcdFx0aSA9IHRoaXM7XG5cdFx0XHRcdFx0aWYgKGUpXG5cdFx0XHRcdFx0XHRmb3IgKHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKykgaS5vbihyW3RdLCBhKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR3aWR0aDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXNbMF0gPT09IHdpbmRvdyA/IHdpbmRvdy5pbm5lcldpZHRoIDogdGhpcy5sZW5ndGggPiAwID8gcGFyc2VGbG9hdCh0aGlzLmNzcyhcIndpZHRoXCIpKSA6IG51bGxcblx0XHRcdFx0fSxcblx0XHRcdFx0b3V0ZXJXaWR0aDogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLmxlbmd0aCA+IDAgPyBlID8gdGhpc1swXS5vZmZzZXRXaWR0aCArIHBhcnNlRmxvYXQodGhpcy5jc3MoXCJtYXJnaW4tcmlnaHRcIikpICsgcGFyc2VGbG9hdCh0aGlzLmNzcyhcIm1hcmdpbi1sZWZ0XCIpKSA6IHRoaXNbMF0ub2Zmc2V0V2lkdGggOiBudWxsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGhlaWdodDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXNbMF0gPT09IHdpbmRvdyA/IHdpbmRvdy5pbm5lckhlaWdodCA6IHRoaXMubGVuZ3RoID4gMCA/IHBhcnNlRmxvYXQodGhpcy5jc3MoXCJoZWlnaHRcIikpIDogbnVsbFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRvdXRlckhlaWdodDogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLmxlbmd0aCA+IDAgPyBlID8gdGhpc1swXS5vZmZzZXRIZWlnaHQgKyBwYXJzZUZsb2F0KHRoaXMuY3NzKFwibWFyZ2luLXRvcFwiKSkgKyBwYXJzZUZsb2F0KHRoaXMuY3NzKFwibWFyZ2luLWJvdHRvbVwiKSkgOiB0aGlzWzBdLm9mZnNldEhlaWdodCA6IG51bGxcblx0XHRcdFx0fSxcblx0XHRcdFx0b2Zmc2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAodGhpcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0XHR2YXIgZSA9IHRoaXNbMF0sXG5cdFx0XHRcdFx0XHRcdGEgPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuXHRcdFx0XHRcdFx0XHR0ID0gZG9jdW1lbnQuYm9keSxcblx0XHRcdFx0XHRcdFx0ciA9IGUuY2xpZW50VG9wIHx8IHQuY2xpZW50VG9wIHx8IDAsXG5cdFx0XHRcdFx0XHRcdGkgPSBlLmNsaWVudExlZnQgfHwgdC5jbGllbnRMZWZ0IHx8IDAsXG5cdFx0XHRcdFx0XHRcdHMgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZS5zY3JvbGxUb3AsXG5cdFx0XHRcdFx0XHRcdG4gPSB3aW5kb3cucGFnZVhPZmZzZXQgfHwgZS5zY3JvbGxMZWZ0O1xuXHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0dG9wOiBhLnRvcCArIHMgLSByLFxuXHRcdFx0XHRcdFx0XHRsZWZ0OiBhLmxlZnQgKyBuIC0gaVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gbnVsbFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRjc3M6IGZ1bmN0aW9uKGUsIGEpIHtcblx0XHRcdFx0XHR2YXIgdDtcblx0XHRcdFx0XHRpZiAoMSA9PT0gYXJndW1lbnRzLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0aWYgKFwic3RyaW5nXCIgIT0gdHlwZW9mIGUpIHtcblx0XHRcdFx0XHRcdFx0Zm9yICh0ID0gMDsgdCA8IHRoaXMubGVuZ3RoOyB0KyspXG5cdFx0XHRcdFx0XHRcdFx0Zm9yICh2YXIgciBpbiBlKSB0aGlzW3RdLnN0eWxlW3JdID0gZVtyXTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRoaXNcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICh0aGlzWzBdKSByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpc1swXSwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShlKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoMiA9PT0gYXJndW1lbnRzLmxlbmd0aCAmJiBcInN0cmluZ1wiID09IHR5cGVvZiBlKSB7XG5cdFx0XHRcdFx0XHRmb3IgKHQgPSAwOyB0IDwgdGhpcy5sZW5ndGg7IHQrKykgdGhpc1t0XS5zdHlsZVtlXSA9IGE7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRlYWNoOiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgYSA9IDA7IGEgPCB0aGlzLmxlbmd0aDsgYSsrKSBlLmNhbGwodGhpc1thXSwgYSwgdGhpc1thXSk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXNcblx0XHRcdFx0fSxcblx0XHRcdFx0aHRtbDogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdGlmIChcInVuZGVmaW5lZFwiID09IHR5cGVvZiBlKSByZXR1cm4gdGhpc1swXSA/IHRoaXNbMF0uaW5uZXJIVE1MIDogdm9pZCAwO1xuXHRcdFx0XHRcdGZvciAodmFyIGEgPSAwOyBhIDwgdGhpcy5sZW5ndGg7IGErKykgdGhpc1thXS5pbm5lckhUTUwgPSBlO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRleHQ6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0XHRpZiAoXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgZSkgcmV0dXJuIHRoaXNbMF0gPyB0aGlzWzBdLnRleHRDb250ZW50LnRyaW0oKSA6IG51bGw7XG5cdFx0XHRcdFx0Zm9yICh2YXIgYSA9IDA7IGEgPCB0aGlzLmxlbmd0aDsgYSsrKSB0aGlzW2FdLnRleHRDb250ZW50ID0gZTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRpczogZnVuY3Rpb24odCkge1xuXHRcdFx0XHRcdGlmICghdGhpc1swXSkgcmV0dXJuICExO1xuXHRcdFx0XHRcdHZhciByLCBpO1xuXHRcdFx0XHRcdGlmIChcInN0cmluZ1wiID09IHR5cGVvZiB0KSB7XG5cdFx0XHRcdFx0XHR2YXIgcyA9IHRoaXNbMF07XG5cdFx0XHRcdFx0XHRpZiAocyA9PT0gZG9jdW1lbnQpIHJldHVybiB0ID09PSBkb2N1bWVudDtcblx0XHRcdFx0XHRcdGlmIChzID09PSB3aW5kb3cpIHJldHVybiB0ID09PSB3aW5kb3c7XG5cdFx0XHRcdFx0XHRpZiAocy5tYXRjaGVzKSByZXR1cm4gcy5tYXRjaGVzKHQpO1xuXHRcdFx0XHRcdFx0aWYgKHMud2Via2l0TWF0Y2hlc1NlbGVjdG9yKSByZXR1cm4gcy53ZWJraXRNYXRjaGVzU2VsZWN0b3IodCk7XG5cdFx0XHRcdFx0XHRpZiAocy5tb3pNYXRjaGVzU2VsZWN0b3IpIHJldHVybiBzLm1vek1hdGNoZXNTZWxlY3Rvcih0KTtcblx0XHRcdFx0XHRcdGlmIChzLm1zTWF0Y2hlc1NlbGVjdG9yKSByZXR1cm4gcy5tc01hdGNoZXNTZWxlY3Rvcih0KTtcblx0XHRcdFx0XHRcdGZvciAociA9IGEodCksIGkgPSAwOyBpIDwgci5sZW5ndGg7IGkrKylcblx0XHRcdFx0XHRcdFx0aWYgKHJbaV0gPT09IHRoaXNbMF0pIHJldHVybiAhMDtcblx0XHRcdFx0XHRcdHJldHVybiAhMVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAodCA9PT0gZG9jdW1lbnQpIHJldHVybiB0aGlzWzBdID09PSBkb2N1bWVudDtcblx0XHRcdFx0XHRpZiAodCA9PT0gd2luZG93KSByZXR1cm4gdGhpc1swXSA9PT0gd2luZG93O1xuXHRcdFx0XHRcdGlmICh0Lm5vZGVUeXBlIHx8IHQgaW5zdGFuY2VvZiBlKSB7XG5cdFx0XHRcdFx0XHRmb3IgKHIgPSB0Lm5vZGVUeXBlID8gW3RdIDogdCwgaSA9IDA7IGkgPCByLmxlbmd0aDsgaSsrKVxuXHRcdFx0XHRcdFx0XHRpZiAocltpXSA9PT0gdGhpc1swXSkgcmV0dXJuICEwO1xuXHRcdFx0XHRcdFx0cmV0dXJuICExXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiAhMVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRpbmRleDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKHRoaXNbMF0pIHtcblx0XHRcdFx0XHRcdGZvciAodmFyIGUgPSB0aGlzWzBdLCBhID0gMDsgbnVsbCAhPT0gKGUgPSBlLnByZXZpb3VzU2libGluZyk7KSAxID09PSBlLm5vZGVUeXBlICYmIGErKztcblx0XHRcdFx0XHRcdHJldHVybiBhXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRlcTogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdGlmIChcInVuZGVmaW5lZFwiID09IHR5cGVvZiBhKSByZXR1cm4gdGhpcztcblx0XHRcdFx0XHR2YXIgdCwgciA9IHRoaXMubGVuZ3RoO1xuXHRcdFx0XHRcdHJldHVybiBhID4gciAtIDEgPyBuZXcgZShbXSkgOiAwID4gYSA/ICh0ID0gciArIGEsIG5ldyBlKDAgPiB0ID8gW10gOiBbdGhpc1t0XV0pKSA6IG5ldyBlKFt0aGlzW2FdXSlcblx0XHRcdFx0fSxcblx0XHRcdFx0YXBwZW5kOiBmdW5jdGlvbihhKSB7XG5cdFx0XHRcdFx0dmFyIHQsIHI7XG5cdFx0XHRcdFx0Zm9yICh0ID0gMDsgdCA8IHRoaXMubGVuZ3RoOyB0KyspXG5cdFx0XHRcdFx0XHRpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgYSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRcdFx0XHRcdGZvciAoaS5pbm5lckhUTUwgPSBhOyBpLmZpcnN0Q2hpbGQ7KSB0aGlzW3RdLmFwcGVuZENoaWxkKGkuZmlyc3RDaGlsZClcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoYSBpbnN0YW5jZW9mIGUpXG5cdFx0XHRcdFx0XHRmb3IgKHIgPSAwOyByIDwgYS5sZW5ndGg7IHIrKykgdGhpc1t0XS5hcHBlbmRDaGlsZChhW3JdKTtcblx0XHRcdFx0XHRlbHNlIHRoaXNbdF0uYXBwZW5kQ2hpbGQoYSk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXNcblx0XHRcdFx0fSxcblx0XHRcdFx0cHJlcGVuZDogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdHZhciB0LCByO1xuXHRcdFx0XHRcdGZvciAodCA9IDA7IHQgPCB0aGlzLmxlbmd0aDsgdCsrKVxuXHRcdFx0XHRcdFx0aWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGEpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0XHRcdFx0XHRmb3IgKGkuaW5uZXJIVE1MID0gYSwgciA9IGkuY2hpbGROb2Rlcy5sZW5ndGggLSAxOyByID49IDA7IHItLSkgdGhpc1t0XS5pbnNlcnRCZWZvcmUoaS5jaGlsZE5vZGVzW3JdLCB0aGlzW3RdLmNoaWxkTm9kZXNbMF0pXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGEgaW5zdGFuY2VvZiBlKVxuXHRcdFx0XHRcdFx0Zm9yIChyID0gMDsgciA8IGEubGVuZ3RoOyByKyspIHRoaXNbdF0uaW5zZXJ0QmVmb3JlKGFbcl0sIHRoaXNbdF0uY2hpbGROb2Rlc1swXSk7XG5cdFx0XHRcdFx0ZWxzZSB0aGlzW3RdLmluc2VydEJlZm9yZShhLCB0aGlzW3RdLmNoaWxkTm9kZXNbMF0pO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGluc2VydEJlZm9yZTogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdGZvciAodmFyIHQgPSBhKGUpLCByID0gMDsgciA8IHRoaXMubGVuZ3RoOyByKyspXG5cdFx0XHRcdFx0XHRpZiAoMSA9PT0gdC5sZW5ndGgpIHRbMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpc1tyXSwgdFswXSk7XG5cdFx0XHRcdFx0XHRlbHNlIGlmICh0Lmxlbmd0aCA+IDEpXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHQubGVuZ3RoOyBpKyspIHRbaV0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpc1tyXS5jbG9uZU5vZGUoITApLCB0W2ldKVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRpbnNlcnRBZnRlcjogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdGZvciAodmFyIHQgPSBhKGUpLCByID0gMDsgciA8IHRoaXMubGVuZ3RoOyByKyspXG5cdFx0XHRcdFx0XHRpZiAoMSA9PT0gdC5sZW5ndGgpIHRbMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpc1tyXSwgdFswXS5uZXh0U2libGluZyk7XG5cdFx0XHRcdFx0XHRlbHNlIGlmICh0Lmxlbmd0aCA+IDEpXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHQubGVuZ3RoOyBpKyspIHRbaV0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpc1tyXS5jbG9uZU5vZGUoITApLCB0W2ldLm5leHRTaWJsaW5nKVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRuZXh0OiBmdW5jdGlvbih0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBlKHRoaXMubGVuZ3RoID4gMCA/IHQgPyB0aGlzWzBdLm5leHRFbGVtZW50U2libGluZyAmJiBhKHRoaXNbMF0ubmV4dEVsZW1lbnRTaWJsaW5nKS5pcyh0KSA/IFt0aGlzWzBdLm5leHRFbGVtZW50U2libGluZ10gOiBbXSA6IHRoaXNbMF0ubmV4dEVsZW1lbnRTaWJsaW5nID8gW3RoaXNbMF0ubmV4dEVsZW1lbnRTaWJsaW5nXSA6IFtdIDogW10pXG5cdFx0XHRcdH0sXG5cdFx0XHRcdG5leHRBbGw6IGZ1bmN0aW9uKHQpIHtcblx0XHRcdFx0XHR2YXIgciA9IFtdLFxuXHRcdFx0XHRcdFx0aSA9IHRoaXNbMF07XG5cdFx0XHRcdFx0aWYgKCFpKSByZXR1cm4gbmV3IGUoW10pO1xuXHRcdFx0XHRcdGZvciAoOyBpLm5leHRFbGVtZW50U2libGluZzspIHtcblx0XHRcdFx0XHRcdHZhciBzID0gaS5uZXh0RWxlbWVudFNpYmxpbmc7XG5cdFx0XHRcdFx0XHR0ID8gYShzKS5pcyh0KSAmJiByLnB1c2gocykgOiByLnB1c2gocyksIGkgPSBzXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBuZXcgZShyKVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRwcmV2OiBmdW5jdGlvbih0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBlKHRoaXMubGVuZ3RoID4gMCA/IHQgPyB0aGlzWzBdLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgJiYgYSh0aGlzWzBdLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpLmlzKHQpID8gW3RoaXNbMF0ucHJldmlvdXNFbGVtZW50U2libGluZ10gOiBbXSA6IHRoaXNbMF0ucHJldmlvdXNFbGVtZW50U2libGluZyA/IFt0aGlzWzBdLnByZXZpb3VzRWxlbWVudFNpYmxpbmddIDogW10gOiBbXSlcblx0XHRcdFx0fSxcblx0XHRcdFx0cHJldkFsbDogZnVuY3Rpb24odCkge1xuXHRcdFx0XHRcdHZhciByID0gW10sXG5cdFx0XHRcdFx0XHRpID0gdGhpc1swXTtcblx0XHRcdFx0XHRpZiAoIWkpIHJldHVybiBuZXcgZShbXSk7XG5cdFx0XHRcdFx0Zm9yICg7IGkucHJldmlvdXNFbGVtZW50U2libGluZzspIHtcblx0XHRcdFx0XHRcdHZhciBzID0gaS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuXHRcdFx0XHRcdFx0dCA/IGEocykuaXModCkgJiYgci5wdXNoKHMpIDogci5wdXNoKHMpLCBpID0gc1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gbmV3IGUocilcblx0XHRcdFx0fSxcblx0XHRcdFx0cGFyZW50OiBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgdCA9IFtdLCByID0gMDsgciA8IHRoaXMubGVuZ3RoOyByKyspIGUgPyBhKHRoaXNbcl0ucGFyZW50Tm9kZSkuaXMoZSkgJiYgdC5wdXNoKHRoaXNbcl0ucGFyZW50Tm9kZSkgOiB0LnB1c2godGhpc1tyXS5wYXJlbnROb2RlKTtcblx0XHRcdFx0XHRyZXR1cm4gYShhLnVuaXF1ZSh0KSlcblx0XHRcdFx0fSxcblx0XHRcdFx0cGFyZW50czogZnVuY3Rpb24oZSkge1xuXHRcdFx0XHRcdGZvciAodmFyIHQgPSBbXSwgciA9IDA7IHIgPCB0aGlzLmxlbmd0aDsgcisrKVxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IHRoaXNbcl0ucGFyZW50Tm9kZTsgaTspIGUgPyBhKGkpLmlzKGUpICYmIHQucHVzaChpKSA6IHQucHVzaChpKSwgaSA9IGkucGFyZW50Tm9kZTtcblx0XHRcdFx0XHRyZXR1cm4gYShhLnVuaXF1ZSh0KSlcblx0XHRcdFx0fSxcblx0XHRcdFx0ZmluZDogZnVuY3Rpb24oYSkge1xuXHRcdFx0XHRcdGZvciAodmFyIHQgPSBbXSwgciA9IDA7IHIgPCB0aGlzLmxlbmd0aDsgcisrKVxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IHRoaXNbcl0ucXVlcnlTZWxlY3RvckFsbChhKSwgcyA9IDA7IHMgPCBpLmxlbmd0aDsgcysrKSB0LnB1c2goaVtzXSk7XG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBlKHQpXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGNoaWxkcmVuOiBmdW5jdGlvbih0KSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgciA9IFtdLCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspXG5cdFx0XHRcdFx0XHRmb3IgKHZhciBzID0gdGhpc1tpXS5jaGlsZE5vZGVzLCBuID0gMDsgbiA8IHMubGVuZ3RoOyBuKyspIHQgPyAxID09PSBzW25dLm5vZGVUeXBlICYmIGEoc1tuXSkuaXModCkgJiYgci5wdXNoKHNbbl0pIDogMSA9PT0gc1tuXS5ub2RlVHlwZSAmJiByLnB1c2goc1tuXSk7XG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBlKGEudW5pcXVlKHIpKVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRyZW1vdmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGZvciAodmFyIGUgPSAwOyBlIDwgdGhpcy5sZW5ndGg7IGUrKykgdGhpc1tlXS5wYXJlbnROb2RlICYmIHRoaXNbZV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzW2VdKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRhZGQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBlLCB0LCByID0gdGhpcztcblx0XHRcdFx0XHRmb3IgKGUgPSAwOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7XG5cdFx0XHRcdFx0XHR2YXIgaSA9IGEoYXJndW1lbnRzW2VdKTtcblx0XHRcdFx0XHRcdGZvciAodCA9IDA7IHQgPCBpLmxlbmd0aDsgdCsrKSByW3IubGVuZ3RoXSA9IGlbdF0sIHIubGVuZ3RoKytcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHJcblx0XHRcdFx0fVxuXHRcdFx0fSwgYS5mbiA9IGUucHJvdG90eXBlLCBhLnVuaXF1ZSA9IGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0Zm9yICh2YXIgYSA9IFtdLCB0ID0gMDsgdCA8IGUubGVuZ3RoOyB0KyspIC0gMSA9PT0gYS5pbmRleE9mKGVbdF0pICYmIGEucHVzaChlW3RdKTtcblx0XHRcdFx0cmV0dXJuIGFcblx0XHRcdH0sIGFcblx0XHR9KCkpLCBpID0gW1wialF1ZXJ5XCIsIFwiWmVwdG9cIiwgXCJEb203XCJdLCBzID0gMDsgcyA8IGkubGVuZ3RoOyBzKyspIHdpbmRvd1tpW3NdXSAmJiBlKHdpbmRvd1tpW3NdXSk7XG5cdHZhciBuO1xuXHRuID0gXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgciA/IHdpbmRvdy5Eb203IHx8IHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5IDogciwgbiAmJiAoXCJ0cmFuc2l0aW9uRW5kXCIgaW4gbi5mbiB8fCAobi5mbi50cmFuc2l0aW9uRW5kID0gZnVuY3Rpb24oZSkge1xuXHRcdGZ1bmN0aW9uIGEocykge1xuXHRcdFx0aWYgKHMudGFyZ2V0ID09PSB0aGlzKVxuXHRcdFx0XHRmb3IgKGUuY2FsbCh0aGlzLCBzKSwgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSBpLm9mZihyW3RdLCBhKVxuXHRcdH1cblx0XHR2YXIgdCwgciA9IFtcIndlYmtpdFRyYW5zaXRpb25FbmRcIiwgXCJ0cmFuc2l0aW9uZW5kXCIsIFwib1RyYW5zaXRpb25FbmRcIiwgXCJNU1RyYW5zaXRpb25FbmRcIiwgXCJtc1RyYW5zaXRpb25FbmRcIl0sXG5cdFx0XHRpID0gdGhpcztcblx0XHRpZiAoZSlcblx0XHRcdGZvciAodCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSBpLm9uKHJbdF0sIGEpO1xuXHRcdHJldHVybiB0aGlzXG5cdH0pLCBcInRyYW5zZm9ybVwiIGluIG4uZm4gfHwgKG4uZm4udHJhbnNmb3JtID0gZnVuY3Rpb24oZSkge1xuXHRcdGZvciAodmFyIGEgPSAwOyBhIDwgdGhpcy5sZW5ndGg7IGErKykge1xuXHRcdFx0dmFyIHQgPSB0aGlzW2FdLnN0eWxlO1xuXHRcdFx0dC53ZWJraXRUcmFuc2Zvcm0gPSB0Lk1zVHJhbnNmb3JtID0gdC5tc1RyYW5zZm9ybSA9IHQuTW96VHJhbnNmb3JtID0gdC5PVHJhbnNmb3JtID0gdC50cmFuc2Zvcm0gPSBlXG5cdFx0fVxuXHRcdHJldHVybiB0aGlzXG5cdH0pLCBcInRyYW5zaXRpb25cIiBpbiBuLmZuIHx8IChuLmZuLnRyYW5zaXRpb24gPSBmdW5jdGlvbihlKSB7XG5cdFx0XCJzdHJpbmdcIiAhPSB0eXBlb2YgZSAmJiAoZSArPSBcIm1zXCIpO1xuXHRcdGZvciAodmFyIGEgPSAwOyBhIDwgdGhpcy5sZW5ndGg7IGErKykge1xuXHRcdFx0dmFyIHQgPSB0aGlzW2FdLnN0eWxlO1xuXHRcdFx0dC53ZWJraXRUcmFuc2l0aW9uRHVyYXRpb24gPSB0Lk1zVHJhbnNpdGlvbkR1cmF0aW9uID0gdC5tc1RyYW5zaXRpb25EdXJhdGlvbiA9IHQuTW96VHJhbnNpdGlvbkR1cmF0aW9uID0gdC5PVHJhbnNpdGlvbkR1cmF0aW9uID0gdC50cmFuc2l0aW9uRHVyYXRpb24gPSBlXG5cdFx0fVxuXHRcdHJldHVybiB0aGlzXG5cdH0pKSwgd2luZG93LlN3aXBlciA9IHRcbn0oKSwgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgbW9kdWxlID8gbW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cuU3dpcGVyIDogXCJmdW5jdGlvblwiID09IHR5cGVvZiBkZWZpbmUgJiYgZGVmaW5lLmFtZCAmJiBkZWZpbmUoW10sIGZ1bmN0aW9uKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblx0cmV0dXJuIHdpbmRvdy5Td2lwZXJcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwcy9zd2lwZXIubWluLmpzLm1hcFxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3Nvbmdzb25nL2pzL3N3aXBlci0zLjMuMS5taW4uanNcbiAqKiBtb2R1bGUgaWQgPSAxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ }
/******/ ]);